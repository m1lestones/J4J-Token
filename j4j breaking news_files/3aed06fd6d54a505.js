(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6154,(e,t,r)=>{"use strict";function n(e,t,r=!1){return t?Object.keys(e).filter(e=>r?!t.includes(e):t.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{}):{}}function i(e,t,r,n){let i=n&&Object.keys(n).length>0?new URL(Object.values(n)[0],e):new URL(e);return t&&r&&t.forEach(e=>{r[e]&&i.searchParams.set(e,r[e])}),i.toString()}function a(e,t,r,n,a){var o;if(!t)return`<${e}></${e}>`;let s=(null==(o=t.src)?void 0:o.url)?Object.assign(Object.assign({},t),{src:i(t.src.url,t.src.params,n,a)}):t,l=Object.keys(Object.assign(Object.assign({},s),r)).reduce((e,t)=>{let n=null==r?void 0:r[t],i=s[t],a=null!=n?n:i,o=!0===a?t:`${t}="${a}"`;return a?e+` ${o}`:e},"");return`<${e}${l}></${e}>`}Object.defineProperty(r,"__esModule",{value:!0}),r.formatData=r.createHtml=r.formatUrl=void 0,r.formatUrl=i,r.createHtml=a,r.formatData=function(e,t){var r,o,s,l,c;let d=n(t,null==(r=e.scripts)?void 0:r.reduce((e,t)=>[...e,...Array.isArray(t.params)?t.params:[]],[])),u=n(t,null==(s=null==(o=e.html)?void 0:o.attributes.src)?void 0:s.params),h=n(t,[null==(c=null==(l=e.html)?void 0:l.attributes.src)?void 0:c.slugParam]),p=n(t,[...Object.keys(d),...Object.keys(u),...Object.keys(h)],!0);return Object.assign(Object.assign({},e),{html:e.html?a(e.html.element,e.html.attributes,p,u,h):null,scripts:e.scripts?e.scripts.map(e=>Object.assign(Object.assign({},e),{url:i(e.url,e.params,d)})):null})}},880092,(e,t,r)=>{"use strict";var n=e.e&&e.e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=void 0;let a=i(e.r(155708)),o=e.r(6154);r.GoogleAnalytics=e=>{var t=n(e,[]);return(0,o.formatData)(a.default,t)}},490057,(e,t,r)=>{"use strict";var n=e.e&&e.e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleMapsEmbed=void 0;let a=i(e.r(681171)),o=e.r(6154);r.GoogleMapsEmbed=e=>{var t=n(e,[]);return(0,o.formatData)(a.default,t)}},761564,(e,t,r)=>{"use strict";var n=e.e&&e.e.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=void 0;let a=i(e.r(861002)),o=e.r(6154);r.YouTubeEmbed=e=>{var t=n(e,[]);return(0,o.formatData)(a.default,t)}},508751,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.YouTubeEmbed=r.GoogleMapsEmbed=r.GoogleAnalytics=void 0;var n=e.r(880092);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return n.GoogleAnalytics}});var i=e.r(490057);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return i.GoogleMapsEmbed}});var a=e.r(761564);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return a.YouTubeEmbed}})},702925,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function({html:e,height:t=null,width:r=null,children:a,dataNtpc:o=""}){return(0,i.useEffect)(()=>{o&&performance.mark("mark_feature_usage",{detail:{feature:`next-third-parties-${o}`}})},[o]),(0,n.jsxs)(n.Fragment,{children:[a,e?(0,n.jsx)("div",{style:{height:null!=t?`${t}px`:"auto",width:null!=r?`${r}px`:"auto"},"data-ntpc":o,dangerouslySetInnerHTML:{__html:e}}):null]})};let n=e.r(942765),i=e.r(281675)},608094,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{apiKey:t,...r}=e,n={...r,key:t},{html:s}=(0,a.GoogleMapsEmbed)(n);return(0,i.jsx)(o.default,{height:n.height||null,width:n.width||null,html:s,dataNtpc:"GoogleMapsEmbed"})};let i=e.r(942765),a=e.r(508751),o=n(e.r(702925))},355524,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={cancelIdleCallback:function(){return o},requestIdleCallback:function(){return a}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},o="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},55196,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return v},handleClientScriptLoad:function(){return g},initScriptLoader:function(){return y}};for(var i in n)Object.defineProperty(r,i,{enumerable:!0,get:n[i]});let a=e.r(481258),o=e.r(744066),s=e.r(942765),l=a._(e.r(834649)),c=o._(e.r(281675)),d=e.r(18347),u=e.r(704341),h=e.r(355524),p=new Map,f=new Set,m=e=>{let{src:t,id:r,onLoad:n=()=>{},onReady:i=null,dangerouslySetInnerHTML:a,children:o="",strategy:s="afterInteractive",onError:c,stylesheets:d}=e,h=r||t;if(h&&f.has(h))return;if(p.has(t)){f.add(h),p.get(t).then(n,c);return}let m=()=>{i&&i(),f.add(h)},g=document.createElement("script"),y=new Promise((e,t)=>{g.addEventListener("load",function(t){e(),n&&n.call(this,t),m()}),g.addEventListener("error",function(e){t(e)})}).catch(function(e){c&&c(e)});a?(g.innerHTML=a.__html||"",m()):o?(g.textContent="string"==typeof o?o:Array.isArray(o)?o.join(""):"",m()):t&&(g.src=t,p.set(t,y)),(0,u.setAttributesFromProps)(g,e),"worker"===s&&g.setAttribute("type","text/partytown"),g.setAttribute("data-nscript",s),d&&(e=>{if(l.default.preinit)return e.forEach(e=>{l.default.preinit(e,{as:"style"})});if("undefined"!=typeof window){let t=document.head;e.forEach(e=>{let r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.href=e,t.appendChild(r)})}})(d),document.body.appendChild(g)};function g(e){let{strategy:t="afterInteractive"}=e;"lazyOnload"===t?window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>m(e))}):m(e)}function y(e){e.forEach(g),[...document.querySelectorAll('[data-nscript="beforeInteractive"]'),...document.querySelectorAll('[data-nscript="beforePageRender"]')].forEach(e=>{let t=e.id||e.getAttribute("src");f.add(t)})}function w(e){let{id:t,src:r="",onLoad:n=()=>{},onReady:i=null,strategy:a="afterInteractive",onError:o,stylesheets:u,...p}=e,{updateScripts:g,scripts:y,getIsSsr:w,appDir:v,nonce:b}=(0,c.useContext)(d.HeadManagerContext);b=p.nonce||b;let x=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let e=t||r;x.current||(i&&e&&f.has(e)&&i(),x.current=!0)},[i,t,r]);let _=(0,c.useRef)(!1);if((0,c.useEffect)(()=>{if(!_.current){if("afterInteractive"===a)m(e);else"lazyOnload"===a&&("complete"===document.readyState?(0,h.requestIdleCallback)(()=>m(e)):window.addEventListener("load",()=>{(0,h.requestIdleCallback)(()=>m(e))}));_.current=!0}},[e,a]),("beforeInteractive"===a||"worker"===a)&&(g?(y[a]=(y[a]||[]).concat([{id:t,src:r,onLoad:n,onReady:i,onError:o,...p,nonce:b}]),g(y)):w&&w()?f.add(t||r):w&&!w()&&m({...e,nonce:b})),v){if(u&&u.forEach(e=>{l.default.preinit(e,{as:"style"})}),"beforeInteractive"===a)if(!r)return p.dangerouslySetInnerHTML&&(p.children=p.dangerouslySetInnerHTML.__html,delete p.dangerouslySetInnerHTML),(0,s.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([0,{...p,id:t}])})`}});else return l.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:b,crossOrigin:p.crossOrigin}:{as:"script",nonce:b,crossOrigin:p.crossOrigin}),(0,s.jsx)("script",{nonce:b,dangerouslySetInnerHTML:{__html:`(self.__next_s=self.__next_s||[]).push(${JSON.stringify([r,{...p,id:t}])})`}});"afterInteractive"===a&&r&&l.default.preload(r,p.integrity?{as:"script",integrity:p.integrity,nonce:b,crossOrigin:p.crossOrigin}:{as:"script",nonce:b,crossOrigin:p.crossOrigin})}return null}Object.defineProperty(w,"__nextScript",{value:!0});let v=w;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},432791,(e,t,r)=>{t.exports=e.r(55196)},222643,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let{html:t,scripts:r,stylesheets:n}=(0,o.YouTubeEmbed)(e);return(0,i.jsx)(s.default,{height:e.height||null,width:e.width||null,html:t,dataNtpc:"YouTubeEmbed",children:null==r?void 0:r.map(e=>(0,i.jsx)(a.default,{src:e.url,strategy:l[e.strategy],stylesheets:n},e.url))})};let i=e.r(942765),a=n(e.r(432791)),o=e.r(508751),s=n(e.r(702925)),l={server:"beforeInteractive",client:"afterInteractive",idle:"lazyOnload",worker:"worker"}},474422,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGTMEvent=void 0,r.GoogleTagManager=function(e){let{gtmId:t,gtmScriptUrl:r,dataLayerName:n="dataLayer",auth:l,preview:c,dataLayer:d,nonce:u}=e;s=n;let h=new URL(r||"https://www.googletagmanager.com/gtm.js");return t&&h.searchParams.set("id",t),"dataLayer"!==n&&h.searchParams.set("l",n),l&&h.searchParams.set("gtm_auth",l),c&&(h.searchParams.set("gtm_preview",c),h.searchParams.set("gtm_cookies_win","x")),(0,a.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:`
      (function(w,l){
        w[l]=w[l]||[];
        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});
        ${d?`w[l].push(${JSON.stringify(d)})`:""}
      })(window,'${n}');`},nonce:u}),(0,i.jsx)(o.default,{id:"_next-gtm","data-ntpc":"GTM",src:h.href,nonce:u})]})};let i=e.r(942765),a=e.r(281675),o=n(e.r(432791)),s="dataLayer";r.sendGTMEvent=(e,t)=>{let r=t||s;window[r]=window[r]||[],window[r].push(e)}},544495,(e,t,r)=>{"use strict";let n;var i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GoogleAnalytics=function(e){let{gaId:t,debugMode:r,dataLayerName:i="dataLayer",nonce:l}=e;return void 0===n&&(n=i),(0,o.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:`
          window['${i}'] = window['${i}'] || [];
          function gtag(){window['${i}'].push(arguments);}
          gtag('js', new Date());

          gtag('config', '${t}' ${r?",{ 'debug_mode': true }":""});`},nonce:l}),(0,a.jsx)(s.default,{id:"_next-ga",src:`https://www.googletagmanager.com/gtag/js?id=${t}`,nonce:l})]})},r.sendGAEvent=function(){void 0===n?console.warn("@next/third-parties: GA has not been initialized"):window[n]?window[n].push(arguments):console.warn(`@next/third-parties: GA dataLayer ${n} does not exist`)};let a=e.r(942765),o=e.r(281675),s=i(e.r(432791))},107186,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.sendGAEvent=r.GoogleAnalytics=r.sendGTMEvent=r.GoogleTagManager=r.YouTubeEmbed=r.GoogleMapsEmbed=void 0;var i=e.r(608094);Object.defineProperty(r,"GoogleMapsEmbed",{enumerable:!0,get:function(){return n(i).default}});var a=e.r(222643);Object.defineProperty(r,"YouTubeEmbed",{enumerable:!0,get:function(){return n(a).default}});var o=e.r(474422);Object.defineProperty(r,"GoogleTagManager",{enumerable:!0,get:function(){return o.GoogleTagManager}}),Object.defineProperty(r,"sendGTMEvent",{enumerable:!0,get:function(){return o.sendGTMEvent}});var s=e.r(544495);Object.defineProperty(r,"GoogleAnalytics",{enumerable:!0,get:function(){return s.GoogleAnalytics}}),Object.defineProperty(r,"sendGAEvent",{enumerable:!0,get:function(){return s.sendGAEvent}})},123382,(e,t,r)=>{!function(n,i){"use strict";var a="function",o="undefined",s="object",l="string",c="major",d="model",u="name",h="type",p="vendor",f="version",m="architecture",g="console",y="mobile",w="tablet",v="smarttv",b="wearable",x="embedded",_="Amazon",k="Apple",E="ASUS",C="BlackBerry",A="Browser",I="Chrome",S="Firefox",T="Google",P="Honor",j="Huawei",N="Microsoft",O="Motorola",$="Nvidia",R="OnePlus",M="Opera",U="OPPO",L="Samsung",F="Sharp",D="Sony",B="Xiaomi",W="Zebra",q="Facebook",z="Chromium OS",V="Mac OS",H=" Browser",G=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},K=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},J=function(e,t){return typeof e===l&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},Q=function(e,t){for(var r,n,i,o,l,c,d=0;d<t.length&&!l;){var u=t[d],h=t[d+1];for(r=n=0;r<u.length&&!l&&u[r];)if(l=u[r++].exec(e))for(i=0;i<h.length;i++)c=l[++n],typeof(o=h[i])===s&&o.length>0?2===o.length?typeof o[1]==a?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:3===o.length?typeof o[1]!==a||o[1].exec&&o[1].test?this[o[0]]=c?c.replace(o[1],o[2]):void 0:this[o[0]]=c?o[1].call(this,c,o[2]):void 0:4===o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):void 0):this[o]=c||void 0;d+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(J(t[r][n],e))return"?"===r?void 0:r}else if(J(t[r],e))return"?"===r?void 0:r;return t.hasOwnProperty("*")?t["*"]:e},ee={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},et={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,M+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[u,M+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[u,M]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[u,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[f,[u,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[u,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[u,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[u,"Smart Lenovo "+A]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+A],f],[/\bfocus\/([\w\.]+)/i],[f,[u,S+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,M+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,M+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI"+H]],[/fxios\/([\w\.-]+)/i],[f,[u,S]],[/\bqihoobrowser\/?([\w\.]*)/i],[f,[u,"360"]],[/\b(qq)\/([\w\.]+)/i],[[u,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1"+H],f],[/samsungbrowser\/([\w\.]+)/i],[f,[u,L+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[f,[u,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[u,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[u,f],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[u],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[f,u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,q],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[u,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,I+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/(wolvic|librewolf)\/([\w\.]+)/i],[u,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,S+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[u,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[m,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[m,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[m,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[m,/ower/,"",Y]],[/ sun4\w[;\)]/i],[[m,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[m,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[p,L],[h,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[d,[p,L],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[p,k],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[p,k],[h,w]],[/(macintosh);/i],[d,[p,k]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[p,F],[h,y]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[d,[p,P],[h,w]],[/honor([-\w ]+)[;\)]/i],[d,[p,P],[h,y]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[d,[p,j],[h,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[p,j],[h,y]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[d,/_/g," "],[p,B],[h,w]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[d,/_/g," "],[p,B],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[p,U],[h,y]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[d,[p,X,{OnePlus:["304","403","203"],"*":U}],[h,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[p,"Vivo"],[h,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[p,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[p,O],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[p,O],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[p,"LG"],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[p,"LG"],[h,y]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[d,[p,"Lenovo"],[h,w]],[/(nokia) (t[12][01])/i],[p,d,[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[d,/_/g," "],[h,y],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[d,[p,T],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[p,T],[h,y]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[p,D],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[p,D],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[p,R],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[p,_],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[p,_],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,p,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[p,C],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[p,E],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[p,E],[h,y]],[/(nexus 9)/i],[d,[p,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[d,/_/g," "],[h,y]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[d,[p,"TCL"],[h,w]],[/(itel) ((\w+))/i],[[p,Y],d,[h,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[p,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[p,"Meizu"],[h,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[p,"Ulefone"],[h,y]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[d,[p,"Energizer"],[h,y]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[d,[p,"Cat"],[h,y]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[d,[p,"Smartfren"],[h,y]],[/droid.+; (a(?:015|06[35]|142p?))/i],[d,[p,"Nothing"],[h,y]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[d,[p,"Archos"],[h,w]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[d,[p,"Archos"],[h,y]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[p,d,[h,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[p,d,[h,y]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,d,[h,w]],[/(surface duo)/i],[d,[p,N],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[p,"Fairphone"],[h,y]],[/(u304aa)/i],[d,[p,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[d,[p,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[d,[p,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[d,[p,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[d,[p,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[p,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[d,[p,"NuVision"],[h,w]],[/\b(k88) b/i],[d,[p,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[d,[p,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[d,[p,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[d,[p,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[d,[p,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],d,[h,w]],[/\b(ns-?\w{0,9}) b/i],[d,[p,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[p,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],d,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],d,[h,y]],[/\b(ph-1) /i],[d,[p,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[p,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[d,[p,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[d,[p,"Rotor"],[h,w]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[d,[p,$],[h,w]],[/(sprint) (\w+)/i],[p,d,[h,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[p,N],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[p,W],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[p,W],[h,y]],[/smart-tv.+(samsung)/i],[p,[h,v]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[p,L],[h,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[h,v]],[/(apple) ?tv/i],[p,[d,k+" TV"],[h,v]],[/crkey/i],[[d,I+"cast"],[p,T],[h,v]],[/droid.+aft(\w+)( bui|\))/i],[d,[p,_],[h,v]],[/(shield \w+ tv)/i],[d,[p,$],[h,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[p,F],[h,v]],[/(bravia[\w ]+)( bui|\))/i],[d,[p,D],[h,v]],[/(mi(tv|box)-?\w+) bui/i],[d,[p,B],[h,v]],[/Hbbtv.*(technisat) (.*);/i],[p,d,[h,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Z],[d,Z],[h,v]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[d,[h,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,d,[h,g]],[/droid.+; (shield)( bui|\))/i],[d,[p,$],[h,g]],[/(playstation \w+)/i],[d,[p,D],[h,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[p,N],[h,g]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[d,[p,L],[h,b]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,d,[h,b]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[d,[p,U],[h,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[p,k],[h,b]],[/(opwwe\d{3})/i],[d,[p,R],[h,b]],[/(moto 360)/i],[d,[p,O],[h,b]],[/(smartwatch 3)/i],[d,[p,D],[h,b]],[/(g watch r)/i],[d,[p,"LG"],[h,b]],[/droid.+; (wt63?0{2,3})\)/i],[d,[p,W],[h,b]],[/droid.+; (glass) \d/i],[d,[p,T],[h,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,d,[h,b]],[/; (quest( \d| pro)?)/i],[d,[p,q],[h,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,x]],[/(aeobc)\b/i],[d,[p,_],[h,x]],[/(homepod).+mac os/i],[d,[p,k],[h,x]],[/windows iot/i],[[h,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[d,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[u,f],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[u,f],[/ladybird\//i],[[u,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[u,[f,X,ee]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,X,ee],[u,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,V],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(ubuntu) ([\w\.]+) like android/i],[[u,/(.+)/,"$1 Touch"],f],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[u,f],[/\(bb(10);/i],[f,[u,C]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,S+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[u,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[u,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[u,z],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[u,f]]},er=function(e,t){if(typeof e===s&&(t=e,e=void 0),!(this instanceof er))return new er(e,t).getResult();var r=typeof n!==o&&n.navigator?n.navigator:void 0,i=e||(r&&r.userAgent?r.userAgent:""),g=r&&r.userAgentData?r.userAgentData:void 0,v=t?G(et,t):et,b=r&&r.userAgent==i;return this.getBrowser=function(){var e,t={};return t[u]=void 0,t[f]=void 0,Q.call(t,i,v.browser),t[c]=typeof(e=t[f])===l?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0,b&&r&&r.brave&&typeof r.brave.isBrave==a&&(t[u]="Brave"),t},this.getCPU=function(){var e={};return e[m]=void 0,Q.call(e,i,v.cpu),e},this.getDevice=function(){var e={};return e[p]=void 0,e[d]=void 0,e[h]=void 0,Q.call(e,i,v.device),b&&!e[h]&&g&&g.mobile&&(e[h]=y),b&&"Macintosh"==e[d]&&r&&typeof r.standalone!==o&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[d]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[u]=void 0,e[f]=void 0,Q.call(e,i,v.engine),e},this.getOS=function(){var e={};return e[u]=void 0,e[f]=void 0,Q.call(e,i,v.os),b&&!e[u]&&g&&g.platform&&"Unknown"!=g.platform&&(e[u]=g.platform.replace(/chrome os/i,z).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=typeof e===l&&e.length>500?Z(e,500):e,this},this.setUA(i),this};if(er.VERSION="1.0.41",er.BROWSER=K([u,f,c]),er.CPU=K([m]),er.DEVICE=K([d,p,h,g,y,v,w,b,x]),er.ENGINE=er.OS=K([u,f]),typeof r!==o)t.exports&&(r=t.exports=er),r.UAParser=er;else if(typeof define===a&&define.amd)e.r,void 0!==er&&e.v(er);else typeof n!==o&&(n.UAParser=er);var en=typeof n!==o&&(n.jQuery||n.Zepto);if(en&&!en.ua){var ei=new er;en.ua=ei.getResult(),en.ua.get=function(){return ei.getUA()},en.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var r in t)en.ua[r]=t[r]}}}("object"==typeof window?window:e.e)},768820,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e.r(281675),i=n&&"object"==typeof n&&"default"in n?n.default:n,a=e.r(123382),o=new a,s=o.getBrowser(),l=o.getCPU(),c=o.getDevice(),d=o.getEngine(),u=o.getOS(),h=o.getUA(),p=function(e){return o.setUA(e)},f=function(e){if(!e)return void console.error("No userAgent string was provided");var t=new a(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}},m=Object.freeze({ClientUAInstance:o,browser:s,cpu:l,device:c,engine:d,os:u,ua:h,setUa:p,parseUserAgent:f});function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E="mobile",C="tablet",A="smarttv",I="console",S="wearable",T="embedded",P=void 0,j={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},N={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},O={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},$=function(e){switch(e){case E:return{isMobile:!0};case C:return{isTablet:!0};case A:return{isSmartTV:!0};case I:return{isConsole:!0};case S:return{isWearable:!0};case P:return{isBrowser:!0};case T:return{isEmbedded:!0};default:return O}},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";return e||t},M=function(){return!!("undefined"!=typeof window&&(window.navigator||navigator))&&(window.navigator||navigator)},U=function(e){var t=M();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},L=function(e){return e.type===E},F=function(e){return e.type===C},D=function(e){var t=e.type;return t===E||t===C},B=function(e){return e.type===A},W=function(e){return e.type===P},q=function(e){return e.type===S},z=function(e){return e.type===I},V=function(e){return e.type===T},H=function(e){return R(e.vendor)},G=function(e){return R(e.model)},K=function(e){return R(e.type,"browser")},J=function(e){return e.name===N.Android},Y=function(e){return e.name===N.Windows},Z=function(e){return e.name===N.MAC_OS},Q=function(e){return e.name===N.WindowsPhone},X=function(e){return e.name===N.IOS},ee=function(e){return R(e.version)},et=function(e){return R(e.name)},er=function(e){return e.name===j.Chrome},en=function(e){return e.name===j.Firefox},ei=function(e){return e.name===j.Chromium},ea=function(e){return e.name===j.Edge},eo=function(e){return e.name===j.Yandex},es=function(e){var t=e.name;return t===j.Safari||t===j.MobileSafari},el=function(e){return e.name===j.MobileSafari},ec=function(e){return e.name===j.Opera},ed=function(e){var t=e.name;return t===j.InternetExplorer||t===j.Ie},eu=function(e){return e.name===j.MIUI},eh=function(e){return e.name===j.SamsungBrowser},ep=function(e){return R(e.version)},ef=function(e){return R(e.major)},em=function(e){return R(e.name)},eg=function(e){return R(e.name)},ey=function(e){return R(e.version)},ew=function(){var e=M(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)},ev=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},eb=function(){var e=M();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},ex=function(){return U("iPad")},e_=function(){return U("iPhone")},ek=function(){return U("iPod")},eE=function(e){return R(e)};function eC(e){var t=e||m,r=t.device,n=t.browser,i=t.os,a=t.engine,o=t.ua;return{isSmartTV:B(r),isConsole:z(r),isWearable:q(r),isEmbedded:V(r),isMobileSafari:el(n)||ex(),isChromium:ei(n),isMobile:D(r)||ex(),isMobileOnly:L(r),isTablet:F(r)||ex(),isBrowser:W(r),isDesktop:W(r),isAndroid:J(i),isWinPhone:Q(i),isIOS:X(i)||ex(),isChrome:er(n),isFirefox:en(n),isSafari:es(n),isOpera:ec(n),isIE:ed(n),osVersion:ee(i),osName:et(i),fullBrowserVersion:ep(n),browserVersion:ef(n),browserName:em(n),mobileVendor:H(r),mobileModel:G(r),engineName:eg(a),engineVersion:ey(a),getUA:eE(o),isEdge:ea(n)||ev(o),isYandex:eo(n),deviceType:K(r),isIOS13:eb(),isIPad13:ex(),isIPhone13:e_(),isIPod13:ek(),isElectron:ew(),isEdgeChromium:ev(o),isLegacyEdge:ea(n)&&!ev(o),isWindows:Y(i),isMacOs:Z(i),isMIUI:eu(n),isSamsungBrowser:eh(n)}}var eA=B(c),eI=z(c),eS=q(c),eT=V(c),eP=el(s)||ex(),ej=ei(s),eN=D(c)||ex(),eO=L(c),e$=F(c)||ex(),eR=W(c),eM=W(c),eU=J(u),eL=Q(u),eF=X(u)||ex(),eD=er(s),eB=en(s),eW=es(s),eq=ec(s),ez=ed(s),eV=ee(u),eH=et(u),eG=ep(s),eK=ef(s),eJ=em(s),eY=H(c),eZ=G(c),eQ=eg(d),eX=ey(d),e0=eE(h),e1=ea(s)||ev(h),e2=eo(s),e3=K(c),e5=eb(),e4=ex(),e6=e_(),e8=ek(),e9=ew(),e7=ev(h),te=ea(s)&&!ev(h),tt=Y(u),tr=Z(u),tn=eu(s),ti=eh(s);function ta(e){return f(e||window.navigator.userAgent)}r.AndroidView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eU?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.BrowserTypes=j,r.BrowserView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eR?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.ConsoleView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eI?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.CustomView=function(e){var t=e.renderWithFragment,r=e.children,a=(e.viewClassName,e.style,e.condition),o=x(e,["renderWithFragment","children","viewClassName","style","condition"]);return a?t?i.createElement(n.Fragment,null,r):i.createElement("div",o,r):null},r.IEView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return ez?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.IOSView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eF?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.MobileOnlyView=function(e){var t=e.renderWithFragment,r=e.children,a=(e.viewClassName,e.style,x(e,["renderWithFragment","children","viewClassName","style"]));return eO?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.MobileView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eN?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.OsTypes=N,r.SmartTVView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eA?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.TabletView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return e$?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.WearableView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eS?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.WinPhoneView=function(e){var t=e.renderWithFragment,r=e.children,a=x(e,["renderWithFragment","children"]);return eL?t?i.createElement(n.Fragment,null,r):i.createElement("div",a,r):null},r.browserName=eJ,r.browserVersion=eK,r.deviceDetect=function(e){var t,r,n,i,a=e?f(e):m,o=a.device,s=a.browser,l=a.engine,c=a.os,d=a.ua,u=$(o.type),h=u.isBrowser,p=u.isMobile,y=u.isTablet,w=u.isSmartTV,v=u.isConsole,b=u.isWearable,x=u.isEmbedded;if(h)return{isBrowser:h,browserMajorVersion:R(s.major),browserFullVersion:R(s.version),browserName:R(s.name),engineName:R(l.name),engineVersion:R(l.version),osName:R(c.name),osVersion:R(c.version),userAgent:R(d)};if(w)return{isSmartTV:w,engineName:R(l.name),engineVersion:R(l.version),osName:R(c.name),osVersion:R(c.version),userAgent:R(d)};if(v)return{isConsole:v,engineName:R(l.name),engineVersion:R(l.version),osName:R(c.name),osVersion:R(c.version),userAgent:R(d)};if(p||y){return t=u,r=o,n=c,i=d,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],i in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{vendor:R(r.vendor),model:R(r.model),os:R(n.name),osVersion:R(n.version),ua:R(i)})}return b?{isWearable:b,engineName:R(l.name),engineVersion:R(l.version),osName:R(c.name),osVersion:R(c.version),userAgent:R(d)}:x?{isEmbedded:x,vendor:R(o.vendor),model:R(o.model),engineName:R(l.name),engineVersion:R(l.version),osName:R(c.name),osVersion:R(c.version),userAgent:R(d)}:void 0},r.deviceType=e3,r.engineName=eQ,r.engineVersion=eX,r.fullBrowserVersion=eG,r.getSelectorsByUserAgent=function(e){if(!e||"string"!=typeof e)return void console.error("No valid user agent string was provided");var t=f(e);return eC({device:t.device,browser:t.browser,os:t.os,engine:t.engine,ua:t.ua})},r.getUA=e0,r.isAndroid=eU,r.isBrowser=eR,r.isChrome=eD,r.isChromium=ej,r.isConsole=eI,r.isDesktop=eM,r.isEdge=e1,r.isEdgeChromium=e7,r.isElectron=e9,r.isEmbedded=eT,r.isFirefox=eB,r.isIE=ez,r.isIOS=eF,r.isIOS13=e5,r.isIPad13=e4,r.isIPhone13=e6,r.isIPod13=e8,r.isLegacyEdge=te,r.isMIUI=tn,r.isMacOs=tr,r.isMobile=eN,r.isMobileOnly=eO,r.isMobileSafari=eP,r.isOpera=eq,r.isSafari=eW,r.isSamsungBrowser=ti,r.isSmartTV=eA,r.isTablet=e$,r.isWearable=eS,r.isWinPhone=eL,r.isWindows=tt,r.isYandex=e2,r.mobileModel=eZ,r.mobileVendor=eY,r.osName=eH,r.osVersion=eV,r.parseUserAgent=f,r.setUserAgent=function(e){return p(e)},r.useDeviceData=ta,r.useDeviceSelectors=function(e){var t=ta(e||window.navigator.userAgent);return[eC(t),t]},r.useMobileOrientation=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=n.useState(function(){var e=90*(window.innerWidth>window.innerHeight);return{isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"}}))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var a=[],o=!0,s=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(a.push(r.value),2!==a.length);o=!0);}catch(e){s=!0,n=e}finally{try{o||null==i.return||i.return()}finally{if(s)throw n}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],i=t[1],a=n.useCallback(function(){var e=90*(window.innerWidth>window.innerHeight),t={isPortrait:0===e,isLandscape:90===e,orientation:0===e?"portrait":"landscape"};r.orientation!==t.orientation&&i(t)},[r.orientation]);return n.useEffect(function(){return("undefined"==typeof window?"undefined":y(window))!==void 0&&eN&&(a(),window.addEventListener("load",a,!1),window.addEventListener("resize",a,!1)),function(){window.removeEventListener("resize",a,!1),window.removeEventListener("load",a,!1)}},[a]),r},r.withOrientationChange=function(e){return function(t){var r;if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");function n(e){var t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return(t=function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,v(n).call(this,e))).isEventListenerAdded=!1,t.handleOrientationChange=t.handleOrientationChange.bind(_(t)),t.onOrientationChange=t.onOrientationChange.bind(_(t)),t.onPageLoad=t.onPageLoad.bind(_(t)),t.state={isLandscape:!1,isPortrait:!1},t}return n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&b(n,t),r=[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var e=90*(window.innerWidth>window.innerHeight);this.setState({isPortrait:0===e,isLandscape:90===e})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){("undefined"==typeof window?"undefined":y(window))!==void 0&&eN&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return i.createElement(e,w({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n.prototype,r),n}(i.Component)}},451697,(e,t,r)=>{var n=e.i(171580);!function(){"use strict";var r="input is invalid type",i="object"==typeof window,a=i?window:{};a.JS_SHA3_NO_WINDOW&&(i=!1);var o=!i&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof n.default&&n.default.versions&&n.default.versions.node?a=e.g:o&&(a=self);var s=!a.JS_SHA3_NO_COMMON_JS&&t.exports,l="function"==typeof define&&define.amd,c=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),u=[4,1024,262144,0x4000000],h=[0,8,16,24],p=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],f=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],y={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),c&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,r){return function(n){return new O(e,t,e).update(n)[r]()}},v=function(e,t,r){return function(n,i){return new O(e,t,i).update(n)[r]()}},b=function(e,t,r){return function(t,n,i,a){return C["cshake"+e].update(t,n,i,a)[r]()}},x=function(e,t,r){return function(t,n,i,a){return C["kmac"+e].update(t,n,i,a)[r]()}},_=function(e,t,r,n){for(var i=0;i<g.length;++i){var a=g[i];e[a]=t(r,n,a)}return e},k=function(e,t){var r=w(e,t,"hex");return r.create=function(){return new O(e,t,e)},r.update=function(e){return r.create().update(e)},_(r,w,e,t)},E=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:f,createMethod:k},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:f,createMethod:k},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:m,createMethod:function(e,t){var r=v(e,t,"hex");return r.create=function(r){return new O(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},_(r,v,e,t)}},{name:"cshake",padding:u,bits:m,createMethod:function(e,t){var r=y[e],n=b(e,t,"hex");return n.create=function(n,i,a){return i||a?new O(e,t,n).bytepad([i,a],r):C["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},_(n,b,e,t)}},{name:"kmac",padding:u,bits:m,createMethod:function(e,t){var r=y[e],n=x(e,t,"hex");return n.create=function(n,i,a){return new $(e,t,i).bytepad(["KMAC",a],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},_(n,x,e,t)}}],C={},A=[],I=0;I<E.length;++I)for(var S=E[I],T=S.bits,P=0;P<T.length;++P){var j=S.name+"_"+T[P];if(A.push(j),C[j]=S.createMethod(T[P],S.padding),"sha3"!==S.name){var N=S.name+T[P];A.push(N),C[N]=C[j]}}function O(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function $(e,t,r){O.call(this,e,t,r)}O.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var i,a,o=this.blocks,s=this.byteCount,l=e.length,d=this.blockCount,u=0,p=this.s;u<l;){if(this.reset)for(i=1,this.reset=!1,o[0]=this.block;i<d+1;++i)o[i]=0;if(t)for(i=this.start;u<l&&i<s;++u)o[i>>2]|=e[u]<<h[3&i++];else for(i=this.start;u<l&&i<s;++u)(a=e.charCodeAt(u))<128?o[i>>2]|=a<<h[3&i++]:(a<2048?o[i>>2]|=(192|a>>6)<<h[3&i++]:(a<55296||a>=57344?o[i>>2]|=(224|a>>12)<<h[3&i++]:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++u)),o[i>>2]|=(240|a>>18)<<h[3&i++],o[i>>2]|=(128|a>>12&63)<<h[3&i++]),o[i>>2]|=(128|a>>6&63)<<h[3&i++]),o[i>>2]|=(128|63&a)<<h[3&i++]);if(this.lastByteIndex=i,i>=s){for(this.start=i-s,this.block=o[d],i=0;i<d;++i)p[i]^=o[i];R(p),this.reset=!0}else this.start=i}return this},O.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(e>>=8,r=255&e;r>0;)i.unshift(r),e>>=8,r=255&e,++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"===n){if(null===e)throw Error(r);else if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var i=0,a=e.length;if(t)i=a;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?i+=1:s<2048?i+=2:s<55296||s>=57344?i+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),i+=4)}return i+=this.encode(8*i),this.update(e),i},O.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)n[t]^=e[t];R(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s="";o<n;){for(a=0;a<t&&o<n;++a,++o)s+=d[(e=r[a])>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];o%t==0&&(R(r),a=0)}return i&&(s+=d[(e=r[a])>>4&15]+d[15&e],i>1&&(s+=d[e>>12&15]+d[e>>8&15]),i>2&&(s+=d[e>>20&15]+d[e>>16&15])),s},O.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,a=0,o=0,s=this.outputBits>>3,l=new Uint32Array(e=new ArrayBuffer(i?n+1<<2:s));o<n;){for(a=0;a<t&&o<n;++a,++o)l[o]=r[a];o%t==0&&R(r)}return i&&(l[a]=r[a],e=e.slice(0,s)),e},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,a=this.extraBytes,o=0,s=0,l=[];s<i;){for(o=0;o<r&&s<i;++o,++s)e=s<<2,t=n[o],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;s%r==0&&R(n)}return a&&(e=s<<2,t=n[o],l[e]=255&t,a>1&&(l[e+1]=t>>8&255),a>2&&(l[e+2]=t>>16&255)),l},$.prototype=new O,$.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var R=function(e){var t,r,n,i,a,o,s,l,c,d,u,h,f,m,g,y,w,v,b,x,_,k,E,C,A,I,S,T,P,j,N,O,$,R,M,U,L,F,D,B,W,q,z,V,H,G,K,J,Y,Z,Q,X,ee,et,er,en,ei,ea,eo,es,el,ec,ed;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],d=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],h=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=h^(o<<1|s>>>31),r=f^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(l<<1|c>>>31),r=a^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(d<<1|u>>>31),r=s^(u<<1|d>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(h<<1|f>>>31),r=c^(f<<1|h>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=d^(i<<1|a>>>31),r=u^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],G=e[11]<<4|e[10]>>>28,K=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,P=e[21]<<3|e[20]>>>29,es=e[31]<<9|e[30]>>>23,el=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,z=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,w=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,j=e[33]<<13|e[32]>>>19,N=e[32]<<13|e[33]>>>19,ec=e[42]<<2|e[43]>>>30,ed=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,b=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,Q=e[35]<<15|e[34]>>>17,O=e[45]<<29|e[44]>>>3,$=e[44]<<29|e[45]>>>3,C=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,en=e[17]<<23|e[16]>>>9,ei=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,D=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,X=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,V=e[8]<<27|e[9]>>>5,H=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,S=e[19]<<20|e[18]>>>12,ea=e[29]<<7|e[28]>>>25,eo=e[28]<<7|e[29]>>>25,B=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,E=e[49]<<14|e[48]>>>18,e[0]=m^~y&v,e[1]=g^~w&b,e[10]=C^~I&T,e[11]=A^~S&P,e[20]=R^~U&F,e[21]=M^~L&D,e[30]=V^~G&J,e[31]=H^~K&Y,e[40]=et^~en&ea,e[41]=er^~ei&eo,e[2]=y^~v&x,e[3]=w^~b&_,e[12]=I^~T&j,e[13]=S^~P&N,e[22]=U^~F&B,e[23]=L^~D&W,e[32]=G^~J&Z,e[33]=K^~Y&Q,e[42]=en^~ea&es,e[43]=ei^~eo&el,e[4]=v^~x&k,e[5]=b^~_&E,e[14]=T^~j&O,e[15]=P^~N&$,e[24]=F^~B&q,e[25]=D^~W&z,e[34]=J^~Z&X,e[35]=Y^~Q&ee,e[44]=ea^~es&ec,e[45]=eo^~el&ed,e[6]=x^~k&m,e[7]=_^~E&g,e[16]=j^~O&C,e[17]=N^~$&A,e[26]=B^~q&R,e[27]=W^~z&M,e[36]=Z^~X&V,e[37]=Q^~ee&H,e[46]=es^~ec&et,e[47]=el^~ed&er,e[8]=k^~m&y,e[9]=E^~g&w,e[18]=O^~C&I,e[19]=$^~A&S,e[28]=q^~R&U,e[29]=z^~M&L,e[38]=X^~V&G,e[39]=ee^~H&K,e[48]=ec^~et&en,e[49]=ed^~er&ei,e[0]^=p[n],e[1]^=p[n+1]};if(s)t.exports=C;else{for(I=0;I<A.length;++I)a[A[I]]=C[A[I]];l&&(e.r,void 0!==C&&e.v(C))}}()},294420,(e,t,r)=>{"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},a=0;a<n.length;a++){var o=n.charAt(a);if(void 0!==i[o])throw TypeError(o+" is ambiguous");i[o]=a}function s(e){var t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-(1&t)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function l(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=s(t)^n>>5}for(r=0,t=s(t);r<e.length;++r){var i=e.charCodeAt(r);t=s(t)^31&i}return t}function c(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var a=(e=r).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var o=e.slice(0,a),c=e.slice(a+1);if(c.length<6)return"Data too short";var d=l(o);if("string"==typeof d)return d;for(var u=[],h=0;h<c.length;++h){var p=c.charAt(h),f=i[p];if(void 0===f)return"Unknown character "+p;d=s(d)^f,h+6>=c.length||u.push(f)}return 1!==d?"Invalid checksum for "+e:{prefix:o,words:u}}function d(e,t,r,n){for(var i=0,a=0,o=(1<<r)-1,s=[],l=0;l<e.length;++l)for(i=i<<t|e[l],a+=t;a>=r;)s.push(i>>(a-=r)&o);if(n)a>0&&s.push(i<<r-a&o);else{if(a>=t)return"Excess padding";if(i<<r-a&o)return"Non-zero padding"}return s}t.exports={decodeUnsafe:function(){var e=c.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=c.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw TypeError("Exceeds length limit");var i=l(e=e.toLowerCase());if("string"==typeof i)throw Error(i);for(var a=e+"1",o=0;o<t.length;++o){var c=t[o];if(c>>5!=0)throw Error("Non 5-bit word");i=s(i)^c,a+=n.charAt(c)}for(o=0;o<6;++o)i=s(i);for(i^=1,o=0;o<6;++o){var d=i>>(5-o)*5&31;a+=n.charAt(d)}return a},toWordsUnsafe:function(e){var t=d(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=d(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=d(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=d(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},507686,(e,t,r)=>{e.e,t.exports=function(){"use strict";function e(e){return Number.isInteger(e)&&e>=0}function t(e){this.name="ArgumentError",this.message=e}return function(r,n){if(n=n||{},"function"!=typeof r)throw new t("fetch must be a function");if("object"!=typeof n)throw new t("defaults must be an object");if(void 0!==n.retries&&!e(n.retries))throw new t("retries must be a positive integer");if(void 0!==n.retryDelay&&!e(n.retryDelay)&&"function"!=typeof n.retryDelay)throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==n.retryOn&&!Array.isArray(n.retryOn)&&"function"!=typeof n.retryOn)throw new t("retryOn property expects an array or function");return n=Object.assign({retries:3,retryDelay:1e3,retryOn:[]},n),function(i,a){var o=n.retries,s=n.retryDelay,l=n.retryOn;if(a&&void 0!==a.retries)if(e(a.retries))o=a.retries;else throw new t("retries must be a positive integer");if(a&&void 0!==a.retryDelay)if(e(a.retryDelay)||"function"==typeof a.retryDelay)s=a.retryDelay;else throw new t("retryDelay must be a positive integer or a function returning a positive integer");if(a&&a.retryOn)if(Array.isArray(a.retryOn)||"function"==typeof a.retryOn)l=a.retryOn;else throw new t("retryOn property expects an array or function");return new Promise(function(e,t){var n=function(n){r("undefined"!=typeof Request&&i instanceof Request?i.clone():i,a).then(function(r){if(Array.isArray(l)&&-1===l.indexOf(r.status))e(r);else if("function"==typeof l)try{return Promise.resolve(l(n,null,r)).then(function(t){t?c(n,null,r):e(r)}).catch(t)}catch(e){t(e)}else n<o?c(n,null,r):e(r)}).catch(function(e){if("function"==typeof l)try{Promise.resolve(l(n,e,null)).then(function(r){r?c(n,e,null):t(e)}).catch(function(e){t(e)})}catch(e){t(e)}else n<o?c(n,e,null):t(e)})};function c(e,t,r){setTimeout(function(){n(++e)},"function"==typeof s?s(e,t,r):s)}n(0)})}}}()},305456,(e,t,r)=>{"use strict";t.exports=function e(t){if("number"==typeof t&&isNaN(t))throw Error("NaN is not allowed");if("number"==typeof t&&!isFinite(t))throw Error("Infinity is not allowed");if(null===t||"object"!=typeof t)return JSON.stringify(t);if(t.toJSON instanceof Function)return e(t.toJSON());if(Array.isArray(t)){let r=t.reduce((t,r,n)=>`${t}${0===n?"":","}${e(void 0===r||"symbol"==typeof r?null:r)}`,"");return`[${r}]`}let r=Object.keys(t).sort().reduce((r,n)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let i=0===r.length?"":",";return`${r}${i}${e(n)}:${e(t[n])}`},"");return`{${r}}`}},612964,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toBig=r.shrSL=r.shrSH=r.rotrSL=r.rotrSH=r.rotrBL=r.rotrBH=r.rotr32L=r.rotr32H=r.rotlSL=r.rotlSH=r.rotlBL=r.rotlBH=r.add5L=r.add5H=r.add4L=r.add4H=r.add3L=r.add3H=void 0,r.add=b,r.fromBig=a,r.split=o;let n=BigInt(0x100000000-1),i=BigInt(32);function a(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){let{h:r,l:s}=a(e[o],t);[n[o],i[o]]=[r,s]}return[n,i]}let s=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);r.toBig=s;let l=(e,t,r)=>e>>>r;r.shrSH=l;let c=(e,t,r)=>e<<32-r|t>>>r;r.shrSL=c;let d=(e,t,r)=>e>>>r|t<<32-r;r.rotrSH=d;let u=(e,t,r)=>e<<32-r|t>>>r;r.rotrSL=u;let h=(e,t,r)=>e<<64-r|t>>>r-32;r.rotrBH=h;let p=(e,t,r)=>e>>>r-32|t<<64-r;r.rotrBL=p;let f=(e,t)=>t;r.rotr32H=f;let m=(e,t)=>e;r.rotr32L=m;let g=(e,t,r)=>e<<r|t>>>32-r;r.rotlSH=g;let y=(e,t,r)=>t<<r|e>>>32-r;r.rotlSL=y;let w=(e,t,r)=>t<<r-32|e>>>64-r;r.rotlBH=w;let v=(e,t,r)=>e<<r-32|t>>>64-r;function b(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}r.rotlBL=v;let x=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);r.add3L=x;let _=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0;r.add3H=_;let k=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);r.add4L=k;let E=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0;r.add4H=E;let C=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);r.add5L=C;let A=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0;r.add5H=A,r.default={fromBig:a,split:o,toBig:s,shrSH:l,shrSL:c,rotrSH:d,rotrSL:u,rotrBH:h,rotrBL:p,rotr32H:f,rotr32L:m,rotlSH:g,rotlSL:y,rotlBH:w,rotlBL:v,add:b,add3L:x,add3H:_,add4L:k,add4H:E,add5H:A,add5L:C}},94870,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},135872,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.Hash=r.nextTick=r.swap32IfBE=r.byteSwapIfBE=r.swap8IfBE=r.isLE=void 0,r.isBytes=i,r.anumber=a,r.abytes=o,r.ahash=function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");a(e.outputLen),a(e.blockLen)},r.aexists=function(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")},r.aoutput=function(e,t){o(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)},r.u8=function(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)},r.u32=function(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))},r.clean=function(...e){for(let t=0;t<e.length;t++)e[t].fill(0)},r.createView=function(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)},r.rotr=function(e,t){return e<<32-t|e>>>t},r.rotl=function(e,t){return e<<t|e>>>32-t>>>0},r.byteSwap=s,r.byteSwap32=l,r.bytesToHex=function(e){if(o(e),c)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=d[e[r]];return t},r.hexToBytes=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(c)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=u(e.charCodeAt(i)),a=u(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n},r.asyncLoop=h,r.utf8ToBytes=p,r.bytesToUtf8=function(e){return new TextDecoder().decode(e)},r.toBytes=f,r.kdfInputToBytes=function(e){return"string"==typeof e&&(e=p(e)),o(e),e},r.concatBytes=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r},r.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options should be object or undefined");return Object.assign(e,t)},r.createHasher=m,r.createOptHasher=g,r.createXOFer=y,r.randomBytes=function(e=32){if(n.crypto&&"function"==typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"==typeof n.crypto.randomBytes)return Uint8Array.from(n.crypto.randomBytes(e));throw Error("crypto.getRandomValues must be defined")};let n=e.r(94870);function i(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function o(e,...t){if(!i(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function s(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}function l(e){for(let t=0;t<e.length;t++)e[t]=s(e[t]);return e}r.isLE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],r.swap8IfBE=r.isLE?e=>e:e=>s(e),r.byteSwapIfBE=r.swap8IfBE,r.swap32IfBE=r.isLE?e=>e:l;let c="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,d=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}async function h(e,t,n){let i=Date.now();for(let a=0;a<e;a++){n(a);let e=Date.now()-i;e>=0&&e<t||(await (0,r.nextTick)(),i+=e)}}function p(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function f(e){return"string"==typeof e&&(e=p(e)),o(e),e}function m(e){let t=t=>e().update(f(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function g(e){let t=(t,r)=>e(r).update(f(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function y(e){let t=(t,r)=>e(r).update(f(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}r.nextTick=async()=>{},r.Hash=class{},r.wrapConstructor=m,r.wrapConstructorWithOpts=g,r.wrapXOFConstructorWithOpts=y},206492,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shake256=r.shake128=r.keccak_512=r.keccak_384=r.keccak_256=r.keccak_224=r.sha3_512=r.sha3_384=r.sha3_256=r.sha3_224=r.Keccak=void 0,r.keccakP=v;let n=e.r(612964),i=e.r(135872),a=BigInt(0),o=BigInt(1),s=BigInt(2),l=BigInt(7),c=BigInt(256),d=BigInt(113),u=[],h=[],p=[];for(let e=0,t=o,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],u.push(2*(5*n+r)),h.push((e+1)*(e+2)/2%64);let i=a;for(let e=0;e<7;e++)(t=(t<<o^(t>>l)*d)%c)&s&&(i^=o<<(o<<BigInt(e))-o);p.push(i)}let f=(0,n.split)(p,!0),m=f[0],g=f[1],y=(e,t,r)=>r>32?(0,n.rotlBH)(e,t,r):(0,n.rotlSH)(e,t,r),w=(e,t,r)=>r>32?(0,n.rotlBL)(e,t,r):(0,n.rotlSL)(e,t,r);function v(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],o=r[i+1],s=y(a,o,1)^r[n],l=w(a,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=h[r],a=y(t,i,n),o=w(t,i,n),s=u[r];t=e[s],i=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=m[n],e[1]^=g[n]}(0,i.clean)(r)}class b extends i.Hash{constructor(e,t,r,n=!1,a=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=a,(0,i.anumber)(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,i.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,i.swap32IfBE)(this.state32),v(this.state32,this.rounds),(0,i.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(e){(0,i.aexists)(this),e=(0,i.toBytes)(e),(0,i.abytes)(e);let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){(0,i.aexists)(this,!1),(0,i.abytes)(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,i.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,i.aoutput)(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,i.clean)(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new b(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}r.Keccak=b;let x=(e,t,r)=>(0,i.createHasher)(()=>new b(t,e,r));r.sha3_224=x(6,144,28),r.sha3_256=x(6,136,32),r.sha3_384=x(6,104,48),r.sha3_512=x(6,72,64),r.keccak_224=x(1,144,28),r.keccak_256=x(1,136,32),r.keccak_384=x(1,104,48),r.keccak_512=x(1,72,64);let _=(e,t,r)=>(0,i.createXOFer)((n={})=>new b(t,e,void 0===n.dkLen?r:n.dkLen,!0));r.shake128=_(31,168,16),r.shake256=_(31,136,32)},172130,(e,t,r)=>{var n=e.i(579759);let{keccak_256:i}=e.r(206492);function a(e){return n.Buffer.allocUnsafe(e).fill(0)}function o(e,t){let r=e.toString(16);r.length%2!=0&&(r="0"+r);let i=r.match(/.{1,2}/g).map(e=>parseInt(e,16));for(;i.length<t;)i.unshift(0);return n.Buffer.from(i)}function s(e,t,r){let n=a(t);return(e=l(e),r)?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function l(e){if(!n.Buffer.isBuffer(e))if(Array.isArray(e))e=n.Buffer.from(e);else if("string"==typeof e){var t;e=c(e)?n.Buffer.from((t=d(e)).length%2?"0"+t:t,"hex"):n.Buffer.from(e)}else if("number"==typeof e)e=intToBuffer(e);else if(null==e)e=n.Buffer.allocUnsafe(0);else if("bigint"==typeof e)e=o(e);else if(e.toArray)e=n.Buffer.from(e.toArray());else throw Error("invalid type");return e}function c(e){return"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/)}function d(e){return"string"==typeof e&&e.startsWith("0x")?e.slice(2):e}t.exports={zeros:a,setLength:s,setLengthRight:function(e,t){return s(e,t,!0)},isHexString:c,stripHexPrefix:d,toBuffer:l,bufferToHex:function(e){return"0x"+(e=l(e)).toString("hex")},keccak:function(e,t){if(e=l(e),t||(t=256),256!==t)throw Error("unsupported");return n.Buffer.from(i(new Uint8Array(e)))},bitLengthFromBigInt:function(e){return e.toString(2).length},bufferBEFromBigInt:o,twosFromBigInt:function(e,t){return(e<0n?(~e&(1n<<BigInt(t))-1n)+1n:e)&(1n<<BigInt(t))-1n}}},637950,(e,t,r)=>{var n=e.i(579759);let i=e.r(172130);function a(e){if(e.startsWith("int["))return"int256"+e.slice(3);if("int"===e)return"int256";if(e.startsWith("uint["))return"uint256"+e.slice(4);if("uint"===e)return"uint256";if(e.startsWith("fixed["))return"fixed128x128"+e.slice(5);else if("fixed"===e)return"fixed128x128";else if(e.startsWith("ufixed["))return"ufixed128x128"+e.slice(6);else if("ufixed"===e)return"ufixed128x128";return e}function o(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function s(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function l(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":Number.parseInt(t[2],10):null}function c(e){var t=typeof e;if("string"===t||"number"===t)return BigInt(e);if("bigint"===t)return e;throw Error("Argument is not a number")}function d(e,t){if("address"===e)return d("uint160",c(t));if("bool"===e)return d("uint8",+!!t);if("string"===e)return d("bytes",new n.Buffer(t,"utf8"));if((p=e).lastIndexOf("]")===p.length-1){if(void 0===t.length)throw Error("Not an array?");if("dynamic"!==(r=l(e))&&0!==r&&t.length>r)throw Error("Elements exceed array size: "+r);for(h in u=[],e=e.slice(0,e.lastIndexOf("[")),"string"==typeof t&&(t=JSON.parse(t)),t)u.push(d(e,t[h]));if("dynamic"===r){var r,a,u,h,p,f=d("uint256",t.length);u.unshift(f)}return n.Buffer.concat(u)}else if("bytes"===e)return t=new n.Buffer(t),u=n.Buffer.concat([d("uint256",t.length),t]),t.length%32!=0&&(u=n.Buffer.concat([u,i.zeros(32-t.length%32)])),u;else if(e.startsWith("bytes")){if((r=o(e))<1||r>32)throw Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}else if(e.startsWith("uint")){if((r=o(e))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);a=c(t);let n=i.bitLengthFromBigInt(a);if(n>r)throw Error("Supplied uint exceeds width: "+r+" vs "+n);if(a<0)throw Error("Supplied uint is negative");return i.bufferBEFromBigInt(a,32)}else if(e.startsWith("int")){if((r=o(e))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);a=c(t);let n=i.bitLengthFromBigInt(a);if(n>r)throw Error("Supplied int exceeds width: "+r+" vs "+n);let s=i.twosFromBigInt(a,256);return i.bufferBEFromBigInt(s,32)}else if(e.startsWith("ufixed")){if(r=s(e),(a=c(t))<0)throw Error("Supplied ufixed is negative");return d("uint256",a*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=s(e),d("int256",c(t)*BigInt(2)**BigInt(r[1]));throw Error("Unsupported or invalid type: "+e)}function u(e,t){if(e.length!==t.length)throw Error("Number of types are not matching the values");for(var r,s,l=[],d=0;d<e.length;d++){var u=a(e[d]),h=t[d];if("bytes"===u)l.push(h);else if("string"===u)l.push(new n.Buffer(h,"utf8"));else if("bool"===u)l.push(new n.Buffer(h?"01":"00","hex"));else if("address"===u)l.push(i.setLength(h,20));else if(u.startsWith("bytes")){if((r=o(u))<1||r>32)throw Error("Invalid bytes<N> width: "+r);l.push(i.setLengthRight(h,r))}else if(u.startsWith("uint")){if((r=o(u))%8||r<8||r>256)throw Error("Invalid uint<N> width: "+r);s=c(h);let e=i.bitLengthFromBigInt(s);if(e>r)throw Error("Supplied uint exceeds width: "+r+" vs "+e);l.push(i.bufferBEFromBigInt(s,r/8))}else if(u.startsWith("int")){if((r=o(u))%8||r<8||r>256)throw Error("Invalid int<N> width: "+r);s=c(h);let e=i.bitLengthFromBigInt(s);if(e>r)throw Error("Supplied int exceeds width: "+r+" vs "+e);let t=i.twosFromBigInt(s,r);l.push(i.bufferBEFromBigInt(t,r/8))}else throw Error("Unsupported or invalid type: "+u)}return n.Buffer.concat(l)}t.exports={rawEncode:function(e,t){var r=[],i=[],o=32*e.length;for(var s in e){var c=a(e[s]),u=d(c,t[s]);"string"===c||"bytes"===c||"dynamic"===l(c)?(r.push(d("uint256",o)),i.push(u),o+=u.length):r.push(u)}return n.Buffer.concat(r.concat(i))},solidityPack:u,soliditySHA3:function(e,t){return i.keccak(u(e,t))}}},620446,(e,t,r)=>{var n=e.i(579759);let i=e.r(172130),a=e.r(637950),o={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},s={encodeData(e,t,r,o=!0){let s=["bytes32"],l=[this.hashType(e,r)];if(o){let c=(e,t,s)=>{if(void 0!==r[t])return["bytes32",null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(this.encodeData(t,s,r,o))];if(void 0===s)throw Error(`missing value for field ${e} of type ${t}`);if("bytes"===t)return["bytes32",i.keccak(s)];if("string"===t)return"string"==typeof s&&(s=n.Buffer.from(s,"utf8")),["bytes32",i.keccak(s)];if(t.lastIndexOf("]")===t.length-1){let r=t.slice(0,t.lastIndexOf("[")),n=s.map(t=>c(e,r,t));return["bytes32",i.keccak(a.rawEncode(n.map(([e])=>e),n.map(([,e])=>e)))]}return[t,s]};for(let n of r[e]){let[e,r]=c(n.name,n.type,t[n.name]);s.push(e),l.push(r)}}else for(let a of r[e]){let e=t[a.name];if(void 0!==e)if("bytes"===a.type)s.push("bytes32"),e=i.keccak(e),l.push(e);else if("string"===a.type)s.push("bytes32"),"string"==typeof e&&(e=n.Buffer.from(e,"utf8")),e=i.keccak(e),l.push(e);else if(void 0!==r[a.type])s.push("bytes32"),e=i.keccak(this.encodeData(a.type,e,r,o)),l.push(e);else if(a.type.lastIndexOf("]")===a.type.length-1)throw Error("Arrays currently unimplemented in encodeData");else s.push(a.type),l.push(e)}return a.rawEncode(s,l)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(t=>t!==e);for(let i of n=[e].concat(n.sort())){if(!t[i])throw Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:e,type:t})=>t+" "+e).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||void 0===t[e])return r;for(let n of(r.push(e),t[e]))for(let e of this.findTypeDependencies(n.type,t,r))r.includes(e)||r.push(e);return r},hashStruct(e,t,r,n=!0){return i.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return i.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in o.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),a=[n.Buffer.from("1901","hex")];return a.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&a.push(this.hashStruct(r.primaryType,r.message,r.types,t)),i.keccak(n.Buffer.concat(a))}};t.exports={TYPED_MESSAGE_SCHEMA:o,TypedDataUtils:s,hashForSignTypedDataLegacy:function(e){return function(e){let t=Error("Expect argument to be non-empty array");if("object"!=typeof e||!e.length)throw t;let r=e.map(function(e){return"bytes"===e.type?i.toBuffer(e.value):e.value}),n=e.map(function(e){return e.type}),o=e.map(function(e){if(!e.name)throw t;return e.type+" "+e.name});return a.soliditySHA3(["bytes32","bytes32"],[a.soliditySHA3(Array(e.length).fill("string"),o),a.soliditySHA3(n,r)])}(e.data)},hashForSignTypedData_v3:function(e){return s.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return s.hash(e.data)}}},924330,(e,t,r)=>{t.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var c=a[l];if(!s(c))return!1;var d=e[c],u=t[c];if(!1===(i=r?r.call(n,d,u,c):void 0)||void 0===i&&d!==u)return!1}return!0}},78436,e=>{"use strict";var t=e.i(281675);let r=e=>{let t,r=new Set,n=(e,n)=>{let i="function"==typeof e?e(t):e;if(!Object.is(i,t)){let e=t;t=(null!=n?n:"object"!=typeof i||null===i)?i:Object.assign({},t,i),r.forEach(r=>r(t,e))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>o,subscribe:e=>(r.add(e),()=>r.delete(e))},o=t=e(n,i,a);return a},n=e=>{let n=e?r(e):r,i=e=>(function(e,r=e=>e){let n=t.default.useSyncExternalStore(e.subscribe,()=>r(e.getState()),()=>r(e.getInitialState()));return t.default.useDebugValue(n),n})(n,e);return Object.assign(i,n),i},i=e=>e?n(e):n;e.s(["create",()=>i],78436)},212483,(e,t,r)=>{"use strict";var n=e.r(281675),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,o=n.useRef,s=n.useEffect,l=n.useMemo,c=n.useDebugValue;r.useSyncExternalStoreWithSelector=function(e,t,r,n,d){var u=o(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;var p=a(e,(u=l(function(){function e(e){if(!s){if(s=!0,a=e,e=n(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return o=t}return o=e}if(t=o,i(a,e))return t;var r=n(e);return void 0!==d&&d(t,r)?(a=e,t):(a=e,o=r)}var a,o,s=!1,l=void 0===r?null:r;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,r,n,d]))[0],u[1]);return s(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},129852,(e,t,r)=>{"use strict";t.exports=e.r(212483)},627869,(e,t,r)=>{function n(e){return(0x100000000+e).toString(16).substring(1)}t.exports={normalizeInput:function(e){let t;if(e instanceof Uint8Array)t=e;else if("string"==typeof e)t=new TextEncoder().encode(e);else throw Error("Input must be an string, Buffer or Uint8Array");return t},toHex:function(e){return Array.prototype.map.call(e,function(e){return(e<16?"0":"")+e.toString(16)}).join("")},debugPrint:function(e,t,r){let i="\n"+e+" = ";for(let a=0;a<t.length;a+=2){if(32===r)i+=n(t[a]).toUpperCase(),i+=" ",i+=n(t[a+1]).toUpperCase();else if(64===r)i+=n(t[a+1]).toUpperCase(),i+=n(t[a]).toUpperCase();else throw Error("Invalid size "+r);a%6==4?i+="\n"+Array(e.length+4).join(" "):a<t.length-2&&(i+=" ")}console.log(i)},testSpeed:function(e,t,r){let n=new Date().getTime(),i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=e%256;let a=new Date().getTime();console.log("Generated random input in "+(a-n)+"ms"),n=a;for(let a=0;a<r;a++){let r=e(i),a=new Date().getTime(),o=a-n;n=a,console.log("Hashed in "+o+"ms: "+r.substring(0,20)+"..."),console.log(Math.round(t/1048576/(o/1e3)*100)/100+" MB PER SECOND")}}}},709583,(e,t,r)=>{let n=e.r(627869);function i(e,t,r){let n=e[t]+e[r],i=e[t+1]+e[r+1];n>=0x100000000&&i++,e[t]=n,e[t+1]=i}function a(e,t,r,n){let i=e[t]+r;r<0&&(i+=0x100000000);let a=e[t+1]+n;i>=0x100000000&&a++,e[t]=i,e[t+1]=a}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function s(e,t,r,n,o,s){let l=u[o],c=u[o+1],h=u[s],p=u[s+1];i(d,e,t),a(d,e,l,c);let f=d[n]^d[e],m=d[n+1]^d[e+1];d[n]=m,d[n+1]=f,i(d,r,n),f=d[t]^d[r],m=d[t+1]^d[r+1],d[t]=f>>>24^m<<8,d[t+1]=m>>>24^f<<8,i(d,e,t),a(d,e,h,p),f=d[n]^d[e],m=d[n+1]^d[e+1],d[n]=f>>>16^m<<16,d[n+1]=m>>>16^f<<16,i(d,r,n),f=d[t]^d[r],m=d[t+1]^d[r+1],d[t]=m>>>31^f<<1,d[t+1]=f>>>31^m<<1}let l=new Uint32Array([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),d=new Uint32Array(32),u=new Uint32Array(32);function h(e,t){let r=0;for(r=0;r<16;r++)d[r]=e.h[r],d[r+16]=l[r];for(d[24]=d[24]^e.t,d[25]=d[25]^e.t/0x100000000,t&&(d[28]=~d[28],d[29]=~d[29]),r=0;r<32;r++)u[r]=o(e.b,4*r);for(r=0;r<12;r++)s(0,8,16,24,c[16*r+0],c[16*r+1]),s(2,10,18,26,c[16*r+2],c[16*r+3]),s(4,12,20,28,c[16*r+4],c[16*r+5]),s(6,14,22,30,c[16*r+6],c[16*r+7]),s(0,10,20,30,c[16*r+8],c[16*r+9]),s(2,12,22,24,c[16*r+10],c[16*r+11]),s(4,14,16,26,c[16*r+12],c[16*r+13]),s(6,8,18,28,c[16*r+14],c[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^d[r]^d[r+16]}let p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function f(e,t,r,n){if(0===e||e>64)throw Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&16!==r.length)throw Error("Illegal salt, expected Uint8Array with length is 16");if(n&&16!==n.length)throw Error("Illegal personal, expected Uint8Array with length is 16");let i={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};p.fill(0),p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(let e=0;e<16;e++)i.h[e]=l[e]^o(p,4*e);return t&&(m(i,t),i.c=128),i}function m(e,t){for(let r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,h(e,!1),e.c=0),e.b[e.c++]=t[r]}function g(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;h(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r);return t}function y(e,t,r,i,a){r=r||64,e=n.normalizeInput(e),i&&(i=n.normalizeInput(i)),a&&(a=n.normalizeInput(a));let o=f(r,t,i,a);return m(o,e),g(o)}t.exports={blake2b:y,blake2bHex:function(e,t,r,i,a){let o=y(e,t,r,i,a);return n.toHex(o)},blake2bInit:f,blake2bUpdate:m,blake2bFinal:g}},292837,(e,t,r)=>{let n=e.r(627869);function i(e,t,r,n,i,o){l[e]=l[e]+l[t]+i,l[n]=a(l[n]^l[e],16),l[r]=l[r]+l[n],l[t]=a(l[t]^l[r],12),l[e]=l[e]+l[t]+o,l[n]=a(l[n]^l[e],8),l[r]=l[r]+l[n],l[t]=a(l[t]^l[r],7)}function a(e,t){return e>>>t^e<<32-t}let o=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),l=new Uint32Array(16),c=new Uint32Array(16);function d(e,t){let r=0;for(r=0;r<8;r++)l[r]=e.h[r],l[r+8]=o[r];for(l[12]^=e.t,l[13]^=e.t/0x100000000,t&&(l[14]=~l[14]),r=0;r<16;r++){var n,a;c[r]=(n=e.b)[a=4*r]^n[a+1]<<8^n[a+2]<<16^n[a+3]<<24}for(r=0;r<10;r++)i(0,4,8,12,c[s[16*r+0]],c[s[16*r+1]]),i(1,5,9,13,c[s[16*r+2]],c[s[16*r+3]]),i(2,6,10,14,c[s[16*r+4]],c[s[16*r+5]]),i(3,7,11,15,c[s[16*r+6]],c[s[16*r+7]]),i(0,5,10,15,c[s[16*r+8]],c[s[16*r+9]]),i(1,6,11,12,c[s[16*r+10]],c[s[16*r+11]]),i(2,7,8,13,c[s[16*r+12]],c[s[16*r+13]]),i(3,4,9,14,c[s[16*r+14]],c[s[16*r+15]]);for(r=0;r<8;r++)e.h[r]^=l[r]^l[r+8]}function u(e,t){if(!(e>0&&e<=32))throw Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(o),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=0x1010000^r<<8^e,r>0&&(h(n,t),n.c=64),n}function h(e,t){for(let r=0;r<t.length;r++)64===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}function p(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;d(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(3&r)&255;return t}function f(e,t,r){r=r||32,e=n.normalizeInput(e);let i=u(r,t);return h(i,e),p(i)}t.exports={blake2s:f,blake2sHex:function(e,t,r){let i=f(e,t,r);return n.toHex(i)},blake2sInit:u,blake2sUpdate:h,blake2sFinal:p}},774789,(e,t,r)=>{let n=e.r(709583),i=e.r(292837);t.exports={blake2b:n.blake2b,blake2bHex:n.blake2bHex,blake2bInit:n.blake2bInit,blake2bUpdate:n.blake2bUpdate,blake2bFinal:n.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},950542,(e,t,r)=>{"use strict";var n,i=(n=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],function(e){return n.reduce(function(t,r){return t+(r.re.test(e)?r.length:0)},0)});t.exports=function(e){var t;return e?(t=i(e),Math.round(e.length*Math.log(t)/Math.LN2)):0}},530689,(e,t,r)=>{t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},628151,(e,t,r)=>{let n,i=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(e){if(!e)throw Error('"version" cannot be null or undefined');if(e<1||e>40)throw Error('"version" should be in range from 1 to 40');return 4*e+17},r.getSymbolTotalCodewords=function(e){return i[e]},r.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},r.setToSJISFunction=function(e){if("function"!=typeof e)throw Error('"toSJISFunc" is not a valid function.');n=e},r.isKanjiModeEnabled=function(){return void 0!==n},r.toSJIS=function(e){return n(e)}},731351,(e,t,r)=>{r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw Error("Unknown EC Level: "+e)}}catch(e){return t}}},299931,(e,t,r)=>{function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},762091,(e,t,r)=>{function n(e){if(!e||e<1)throw Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,r,n){let i=e*this.size+t;this.data[i]=r,n&&(this.reservedBit[i]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=n},271112,(e,t,r)=>{let n=e.r(628151).getSymbolSize;r.getRowColCoords=function(e){if(1===e)return[];let t=Math.floor(e/7)+2,r=n(e),i=145===r?26:2*Math.ceil((r-13)/(2*t-2)),a=[r-7];for(let e=1;e<t-1;e++)a[e]=a[e-1]-i;return a.push(6),a.reverse()},r.getPositions=function(e){let t=[],n=r.getRowColCoords(e),i=n.length;for(let e=0;e<i;e++)for(let r=0;r<i;r++)(0!==e||0!==r)&&(0!==e||r!==i-1)&&(e!==i-1||0!==r)&&t.push([n[e],n[r]]);return t}},853658,(e,t,r)=>{let n=e.r(628151).getSymbolSize;r.getPositions=function(e){let t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},546711,(e,t,r)=>{r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};r.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},r.from=function(e){return r.isValid(e)?parseInt(e,10):void 0},r.getPenaltyN1=function(e){let t=e.size,r=0,n=0,i=0,a=null,o=null;for(let s=0;s<t;s++){n=i=0,a=o=null;for(let l=0;l<t;l++){let t=e.get(s,l);t===a?n++:(n>=5&&(r+=3+(n-5)),a=t,n=1),(t=e.get(l,s))===o?i++:(i>=5&&(r+=3+(i-5)),o=t,i=1)}n>=5&&(r+=3+(n-5)),i>=5&&(r+=3+(i-5))}return r},r.getPenaltyN2=function(e){let t=e.size,r=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){let t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);(4===t||0===t)&&r++}return 3*r},r.getPenaltyN3=function(e){let t=e.size,r=0,n=0,i=0;for(let a=0;a<t;a++){n=i=0;for(let o=0;o<t;o++)n=n<<1&2047|e.get(a,o),o>=10&&(1488===n||93===n)&&r++,i=i<<1&2047|e.get(o,a),o>=10&&(1488===i||93===i)&&r++}return 40*r},r.getPenaltyN4=function(e){let t=0,r=e.data.length;for(let n=0;n<r;n++)t+=e.data[n];return 10*Math.abs(Math.ceil(100*t/r/5)-10)},r.applyMask=function(e,t){let n=t.size;for(let i=0;i<n;i++)for(let a=0;a<n;a++)t.isReserved(a,i)||t.xor(a,i,function(e,t,n){switch(e){case r.Patterns.PATTERN000:return(t+n)%2==0;case r.Patterns.PATTERN001:return t%2==0;case r.Patterns.PATTERN010:return n%3==0;case r.Patterns.PATTERN011:return(t+n)%3==0;case r.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case r.Patterns.PATTERN101:return t*n%2+t*n%3==0;case r.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case r.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw Error("bad maskPattern:"+e)}}(e,a,i))},r.getBestMask=function(e,t){let n=Object.keys(r.Patterns).length,i=0,a=1/0;for(let o=0;o<n;o++){t(o),r.applyMask(o,e);let n=r.getPenaltyN1(e)+r.getPenaltyN2(e)+r.getPenaltyN3(e)+r.getPenaltyN4(e);r.applyMask(o,e),n<a&&(a=n,i=o)}return i}},105693,(e,t,r)=>{let n=e.r(731351),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r.getBlocksCount=function(e,t){switch(t){case n.L:return i[(e-1)*4+0];case n.M:return i[(e-1)*4+1];case n.Q:return i[(e-1)*4+2];case n.H:return i[(e-1)*4+3];default:return}},r.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return a[(e-1)*4+0];case n.M:return a[(e-1)*4+1];case n.Q:return a[(e-1)*4+2];case n.H:return a[(e-1)*4+3];default:return}}},473398,(e,t,r)=>{let n=new Uint8Array(512),i=new Uint8Array(256),a=1;for(let e=0;e<255;e++)n[e]=a,i[a]=e,256&(a<<=1)&&(a^=285);for(let e=255;e<512;e++)n[e]=n[e-255];r.log=function(e){if(e<1)throw Error("log("+e+")");return i[e]},r.exp=function(e){return n[e]},r.mul=function(e,t){return 0===e||0===t?0:n[i[e]+i[t]]}},476093,(e,t,r)=>{let n=e.r(473398);r.mul=function(e,t){let r=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let a=0;a<t.length;a++)r[i+a]^=n.mul(e[i],t[a]);return r},r.mod=function(e,t){let r=new Uint8Array(e);for(;r.length-t.length>=0;){let e=r[0];for(let i=0;i<t.length;i++)r[i]^=n.mul(t[i],e);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},r.generateECPolynomial=function(e){let t=new Uint8Array([1]);for(let i=0;i<e;i++)t=r.mul(t,new Uint8Array([1,n.exp(i)]));return t}},701763,(e,t,r)=>{let n=e.r(476093);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=n.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw Error("Encoder not initialized");let t=new Uint8Array(e.length+this.degree);t.set(e);let r=n.mod(t,this.genPoly),i=this.degree-r.length;if(i>0){let e=new Uint8Array(this.degree);return e.set(r,i),e}return r},t.exports=i},111735,(e,t,r)=>{r.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},214477,(e,t,r)=>{let n="[0-9]+",i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",a="(?:(?![A-Z0-9 $%*+\\-./:]|"+(i=i.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";r.KANJI=RegExp(i,"g"),r.BYTE_KANJI=RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=RegExp(a,"g"),r.NUMERIC=RegExp(n,"g"),r.ALPHANUMERIC=RegExp("[A-Z $%*+\\-./:]+","g");let o=RegExp("^"+i+"$"),s=RegExp("^"+n+"$"),l=RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(e){return o.test(e)},r.testNumeric=function(e){return s.test(e)},r.testAlphanumeric=function(e){return l.test(e)}},310413,(e,t,r)=>{let n=e.r(111735),i=e.r(214477);r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw Error("Invalid mode: "+e);if(!n.isValid(t))throw Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return i.testNumeric(e)?r.NUMERIC:i.testAlphanumeric(e)?r.ALPHANUMERIC:i.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{if("string"!=typeof e)throw Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw Error("Unknown mode: "+e)}}catch(e){return t}}},725510,(e,t,r)=>{let n=e.r(628151),i=e.r(105693),a=e.r(731351),o=e.r(310413),s=e.r(111735),l=n.getBCHDigit(7973);function c(e,t){return o.getCharCountIndicator(e,t)+4}r.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},r.getCapacity=function(e,t,r){if(!s.isValid(e))throw Error("Invalid QR Code version");void 0===r&&(r=o.BYTE);let a=(n.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t))*8;if(r===o.MIXED)return a;let l=a-c(r,e);switch(r){case o.NUMERIC:return Math.floor(l/10*3);case o.ALPHANUMERIC:return Math.floor(l/11*2);case o.KANJI:return Math.floor(l/13);case o.BYTE:default:return Math.floor(l/8)}},r.getBestVersionForData=function(e,t){let n,i=a.from(t,a.M);if(Array.isArray(e)){if(e.length>1){for(let t=1;t<=40;t++)if(function(e,t){let r=0;return e.forEach(function(e){let n=c(e.mode,t);r+=n+e.getBitsLength()}),r}(e,t)<=r.getCapacity(t,i,o.MIXED))return t;return}if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(let i=1;i<=40;i++)if(t<=r.getCapacity(i,n,e))return i}(n.mode,n.getLength(),i)},r.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw Error("Invalid QR Code version");let t=e<<12;for(;n.getBCHDigit(t)-l>=0;)t^=7973<<n.getBCHDigit(t)-l;return e<<12|t}},546103,(e,t,r)=>{let n=e.r(628151),i=n.getBCHDigit(1335);r.getEncodedBits=function(e,t){let r=e.bit<<3|t,a=r<<10;for(;n.getBCHDigit(a)-i>=0;)a^=1335<<n.getBCHDigit(a)-i;return(r<<10|a)^21522}},938983,(e,t,r)=>{let n=e.r(310413);function i(e){this.mode=n.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,r;for(t=0;t+3<=this.data.length;t+=3)r=parseInt(this.data.substr(t,3),10),e.put(r,10);let n=this.data.length-t;n>0&&(r=parseInt(this.data.substr(t),10),e.put(r,3*n+1))},t.exports=i},488440,(e,t,r)=>{let n=e.r(310413),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function a(e){this.mode=n.ALPHANUMERIC,this.data=e}a.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},t.exports=a},120648,(e,t,r)=>{let n=e.r(310413);function i(e){this.mode=n.BYTE,"string"==typeof e?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},t.exports=i},416133,(e,t,r)=>{let n=e.r(310413),i=e.r(628151);function a(e){this.mode=n.KANJI,this.data=e}a.getBitsLength=function(e){return 13*e},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r=(r>>>8&255)*192+(255&r),e.put(r,13)}},t.exports=a},658931,(e,t,r)=>{let n=e.r(310413),i=e.r(938983),a=e.r(488440),o=e.r(120648),s=e.r(416133),l=e.r(214477),c=e.r(628151),d=e.r(745759);function u(e){return unescape(encodeURIComponent(e)).length}function h(e,t,r){let n,i=[];for(;null!==(n=e.exec(r));)i.push({data:n[0],index:n.index,mode:t,length:n[0].length});return i}function p(e){let t,r,i=h(l.NUMERIC,n.NUMERIC,e),a=h(l.ALPHANUMERIC,n.ALPHANUMERIC,e);return c.isKanjiModeEnabled()?(t=h(l.BYTE,n.BYTE,e),r=h(l.KANJI,n.KANJI,e)):(t=h(l.BYTE_KANJI,n.BYTE,e),r=[]),i.concat(a,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function f(e,t){switch(t){case n.NUMERIC:return i.getBitsLength(e);case n.ALPHANUMERIC:return a.getBitsLength(e);case n.KANJI:return s.getBitsLength(e);case n.BYTE:return o.getBitsLength(e)}}function m(e,t){let r,l=n.getBestModeForData(e);if((r=n.from(t,l))!==n.BYTE&&r.bit<l.bit)throw Error('"'+e+'" cannot be encoded with mode '+n.toString(r)+".\n Suggested mode is: "+n.toString(l));switch(r===n.KANJI&&!c.isKanjiModeEnabled()&&(r=n.BYTE),r){case n.NUMERIC:return new i(e);case n.ALPHANUMERIC:return new a(e);case n.KANJI:return new s(e);case n.BYTE:return new o(e)}}r.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(m(t,null)):t.data&&e.push(m(t.data,t.mode)),e},[])},r.fromString=function(e,t){let i=function(e,t){let r={},i={start:{}},a=["start"];for(let o=0;o<e.length;o++){let s=e[o],l=[];for(let e=0;e<s.length;e++){let c=s[e],d=""+o+e;l.push(d),r[d]={node:c,lastCount:0},i[d]={};for(let e=0;e<a.length;e++){let o=a[e];r[o]&&r[o].node.mode===c.mode?(i[o][d]=f(r[o].lastCount+c.length,c.mode)-f(r[o].lastCount,c.mode),r[o].lastCount+=c.length):(r[o]&&(r[o].lastCount=c.length),i[o][d]=f(c.length,c.mode)+4+n.getCharCountIndicator(c.mode,t))}}a=l}for(let e=0;e<a.length;e++)i[a[e]].end=0;return{map:i,table:r}}(function(e){let t=[];for(let r=0;r<e.length;r++){let i=e[r];switch(i.mode){case n.NUMERIC:t.push([i,{data:i.data,mode:n.ALPHANUMERIC,length:i.length},{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.ALPHANUMERIC:t.push([i,{data:i.data,mode:n.BYTE,length:i.length}]);break;case n.KANJI:t.push([i,{data:i.data,mode:n.BYTE,length:u(i.data)}]);break;case n.BYTE:t.push([{data:i.data,mode:n.BYTE,length:u(i.data)}])}}return t}(p(e,c.isKanjiModeEnabled())),t),a=d.find_path(i.map,"start","end"),o=[];for(let e=1;e<a.length-1;e++)o.push(i.table[a[e]].node);return r.fromArray(o.reduce(function(e,t){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},r.rawSplit=function(e){return r.fromArray(p(e,c.isKanjiModeEnabled()))}},364367,(e,t,r)=>{let n=e.r(628151),i=e.r(731351),a=e.r(299931),o=e.r(762091),s=e.r(271112),l=e.r(853658),c=e.r(546711),d=e.r(105693),u=e.r(701763),h=e.r(725510),p=e.r(546103),f=e.r(310413),m=e.r(658931);function g(e,t,r){let n,i,a=e.size,o=p.getEncodedBits(t,r);for(n=0;n<15;n++)i=(o>>n&1)==1,n<6?e.set(n,8,i,!0):n<8?e.set(n+1,8,i,!0):e.set(a-15+n,8,i,!0),n<8?e.set(8,a-n-1,i,!0):n<9?e.set(8,15-n-1+1,i,!0):e.set(8,15-n-1,i,!0);e.set(a-8,8,1,!0)}r.create=function(e,t){let r,p;if(void 0===e||""===e)throw Error("No input text");let y=i.M;return void 0!==t&&(y=i.from(t.errorCorrectionLevel,i.M),r=h.from(t.version),p=c.from(t.maskPattern),t.toSJISFunc&&n.setToSJISFunction(t.toSJISFunc)),function(e,t,r,i){let p;if(Array.isArray(e))p=m.fromArray(e);else if("string"==typeof e){let n=t;if(!n){let t=m.rawSplit(e);n=h.getBestVersionForData(t,r)}p=m.fromString(e,n||40)}else throw Error("Invalid data");let y=h.getBestVersionForData(p,r);if(!y)throw Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<y)throw Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+y+".\n")}else t=y;let w=function(e,t,r){let i=new a;r.forEach(function(t){i.put(t.mode.bit,4),i.put(t.getLength(),f.getCharCountIndicator(t.mode,e)),t.write(i)});let o=(n.getSymbolTotalCodewords(e)-d.getTotalCodewordsCount(e,t))*8;for(i.getLengthInBits()+4<=o&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);let s=(o-i.getLengthInBits())/8;for(let e=0;e<s;e++)i.put(e%2?17:236,8);return function(e,t,r){let i,a,o=n.getSymbolTotalCodewords(t),s=o-d.getTotalCodewordsCount(t,r),l=d.getBlocksCount(t,r),c=o%l,h=l-c,p=Math.floor(o/l),f=Math.floor(s/l),m=f+1,g=p-f,y=new u(g),w=0,v=Array(l),b=Array(l),x=0,_=new Uint8Array(e.buffer);for(let e=0;e<l;e++){let t=e<h?f:m;v[e]=_.slice(w,w+t),b[e]=y.encode(v[e]),w+=t,x=Math.max(x,t)}let k=new Uint8Array(o),E=0;for(i=0;i<x;i++)for(a=0;a<l;a++)i<v[a].length&&(k[E++]=v[a][i]);for(i=0;i<g;i++)for(a=0;a<l;a++)k[E++]=b[a][i];return k}(i,e,t)}(t,r,p),v=new o(n.getSymbolSize(t));!function(e,t){let r=e.size,n=l.getPositions(t);for(let t=0;t<n.length;t++){let i=n[t][0],a=n[t][1];for(let t=-1;t<=7;t++)if(!(i+t<=-1)&&!(r<=i+t))for(let n=-1;n<=7;n++)a+n<=-1||r<=a+n||(t>=0&&t<=6&&(0===n||6===n)||n>=0&&n<=6&&(0===t||6===t)||t>=2&&t<=4&&n>=2&&n<=4?e.set(i+t,a+n,!0,!0):e.set(i+t,a+n,!1,!0))}}(v,t);let b=v.size;for(let e=8;e<b-8;e++){let t=e%2==0;v.set(e,6,t,!0),v.set(6,e,t,!0)}return!function(e,t){let r=s.getPositions(t);for(let t=0;t<r.length;t++){let n=r[t][0],i=r[t][1];for(let t=-2;t<=2;t++)for(let r=-2;r<=2;r++)-2===t||2===t||-2===r||2===r||0===t&&0===r?e.set(n+t,i+r,!0,!0):e.set(n+t,i+r,!1,!0)}}(v,t),g(v,r,0),t>=7&&function(e,t){let r,n,i,a=e.size,o=h.getEncodedBits(t);for(let t=0;t<18;t++)r=Math.floor(t/3),n=t%3+a-8-3,i=(o>>t&1)==1,e.set(r,n,i,!0),e.set(n,r,i,!0)}(v,t),!function(e,t){let r=e.size,n=-1,i=r-1,a=7,o=0;for(let s=r-1;s>0;s-=2)for(6===s&&s--;;){for(let r=0;r<2;r++)if(!e.isReserved(i,s-r)){let n=!1;o<t.length&&(n=(t[o]>>>a&1)==1),e.set(i,s-r,n),-1==--a&&(o++,a=7)}if((i+=n)<0||r<=i){i-=n,n=-n;break}}}(v,w),isNaN(i)&&(i=c.getBestMask(v,g.bind(null,v,r))),c.applyMask(i,v),g(v,r,i),{modules:v,version:t,errorCorrectionLevel:r,maskPattern:i,segments:p}}(e,r,y,p)}},283195,(e,t,r)=>{function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw Error("Invalid hex color: "+e);(3===t.length||4===t.length)&&(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}r.getOptions=function(e){e||(e={}),e.color||(e.color={});let t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},r.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},r.getImageWidth=function(e,t){let n=r.getScale(e,t);return Math.floor((e+2*t.margin)*n)},r.qrToImageData=function(e,t,n){let i=t.modules.size,a=t.modules.data,o=r.getScale(i,n),s=Math.floor((i+2*n.margin)*o),l=n.margin*o,c=[n.color.light,n.color.dark];for(let t=0;t<s;t++)for(let r=0;r<s;r++){let d=(t*s+r)*4,u=n.color.light;t>=l&&r>=l&&t<s-l&&r<s-l&&(u=c[+!!a[Math.floor((t-l)/o)*i+Math.floor((r-l)/o)]]),e[d++]=u.r,e[d++]=u.g,e[d++]=u.b,e[d]=u.a}}},61494,(e,t,r)=>{let n=e.r(283195);r.render=function(e,t,r){var i;let a=r,o=t;void 0!==a||t&&t.getContext||(a=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw Error("You need to specify a canvas element")}}()),a=n.getOptions(a);let s=n.getImageWidth(e.modules.size,a),l=o.getContext("2d"),c=l.createImageData(s,s);return n.qrToImageData(c.data,e,a),i=o,l.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=s,i.width=s,i.style.height=s+"px",i.style.width=s+"px",l.putImageData(c,0,0),o},r.renderToDataURL=function(e,t,n){let i=n;void 0!==i||t&&t.getContext||(i=t,t=void 0),i||(i={});let a=r.render(e,t,i),o=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(o,s.quality)}},3442,(e,t,r)=>{let n=e.r(283195);function i(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function a(e,t,r){let n=e+t;return void 0!==r&&(n+=" "+r),n}r.render=function(e,t,r){let o=n.getOptions(t),s=e.modules.size,l=e.modules.data,c=s+2*o.margin,d=o.color.light.a?"<path "+i(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",u="<path "+i(o.color.dark,"stroke")+' d="'+function(e,t,r){let n="",i=0,o=!1,s=0;for(let l=0;l<e.length;l++){let c=Math.floor(l%t),d=Math.floor(l/t);c||o||(o=!0),e[l]?(s++,l>0&&c>0&&e[l-1]||(n+=o?a("M",c+r,.5+d+r):a("m",i,0),i=0,o=!1),c+1<t&&e[l+1]||(n+=a("h",s),s=0)):i++}return n}(l,s,o.margin)+'"/>',h='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+('viewBox="0 0 '+c+" ")+c+'" shape-rendering="crispEdges">'+d+u+"</svg>\n";return"function"==typeof r&&r(null,h),h}},698870,(e,t,r)=>{let n=e.r(530689),i=e.r(364367),a=e.r(61494),o=e.r(3442);function s(e,t,r,a,o){let s=[].slice.call(arguments,1),l=s.length,c="function"==typeof s[l-1];if(!c&&!n())throw Error("Callback required as last argument");if(c){if(l<2)throw Error("Too few arguments provided");2===l?(o=r,r=t,t=a=void 0):3===l&&(t.getContext&&void 0===o?(o=a,a=void 0):(o=a,a=r,r=t,t=void 0))}else{if(l<1)throw Error("Too few arguments provided");return 1===l?(r=t,t=a=void 0):2!==l||t.getContext||(a=r,r=t,t=void 0),new Promise(function(n,o){try{let o=i.create(r,a);n(e(o,t,a))}catch(e){o(e)}})}try{let n=i.create(r,a);o(null,e(n,t,a))}catch(e){o(e)}}r.create=i.create,r.toCanvas=s.bind(null,a.render),r.toDataURL=s.bind(null,a.renderToDataURL),r.toString=s.bind(null,function(e,t,r){return o.render(e,r)})},752246,130125,153752,689391,751095,108291,924568,181392,e=>{"use strict";let t,r,n,i,a,o,s,l,c,d,u,h,p,f,m,g,y,w,v,b,x,_,k,E,C,A,I,S,T,P,j,N,O,$,R,M,U,L,F,D,B,W,q,z;var V=e.i(579759),H=e.i(942765),G=e.i(281675),K=e.i(768820),J=e.i(59025),Y=e.i(924956),Z=e.i(43523),Q=e.i(114982);let X={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"};class ee{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(X,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}}let et={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},er=new TextEncoder,en=new TextDecoder,ei=e=>{let t=e;t instanceof Uint8Array&&(t=en.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch(e){throw TypeError("The input to be decoded is not correctly encoded.")}};e.s(["decode",0,ei,"encode",0,e=>(e=>{let t=e;"string"==typeof t&&(t=er.encode(t));let r=[];for(let e=0;e<t.length;e+=32768)r.push(String.fromCharCode.apply(null,t.subarray(e,e+32768)));return btoa(r.join(""))})(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")],39793);class ea extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var t;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,null==(t=Error.captureStackTrace)||t.call(Error,this,this.constructor)}}class eo extends ea{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function es(e){let t,r;if("string"!=typeof e)throw new eo("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new eo("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new eo("Invalid JWT");if(!n)throw new eo("JWTs must contain a payload");try{t=ei(n)}catch(e){throw new eo("Failed to base64url decode the payload")}try{r=JSON.parse(en.decode(t))}catch(e){throw new eo("Failed to parse the decoded payload as JSON")}if(!function(e){if("object"!=typeof e||null===e||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r))throw new eo("Invalid JWT Claims Set");return r}class el{static parse(e){try{return new el(e)}catch(e){return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=es(e)}}class ec{async updateOnCrossAppAuthentication(e,t){let r=t.access_token,n=ec.providerAccessTokenStorageKey(e);await this._storage.put(n,r)}async getProviderAccessToken(e){let t=ec.providerAccessTokenStorageKey(e),r=await this._storage.get(t);if("string"!=typeof r)return null;try{if(new el(r).isExpired())throw Error("JWT is expired");return r}catch{return await this._storage.del(t),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(et,{params:{app_id:this._privyInternal.appId}})}constructor(e,t){this._privyInternal=e,this._storage=t}}ec.providerAccessTokenStorageKey=e=>`privy:cross-app:${e}`;let ed={path:"/api/v1/wallets",method:"POST"},eu={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},eh={path:"/api/v1/wallets/revoke",method:"POST"};class ep{async revoke(){await this._privyInternal.fetch(eh,{})}constructor(e){this._privyInternal=e}}let ef={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},em={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},eg={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},ey={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},ew={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},ev={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},eb={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},ex={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},e_={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},ek={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},eE={id:0xaa37dc,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},eC={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},eA={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},eI={id:0xaa36a7,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},eS={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},eT={id:0x3b9ac9ff,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},eP={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},ej=[e_,eI,{id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},ef,em,ek,eE,eC,eA,eb,{id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},{id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},{id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},ew,ev,{id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},{id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},ex,{id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},eg,ey,eS,eP,eT,{id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},{id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}}],eN=new Set(ej.map(e=>e.id)),eO=e=>e.map(e=>{if(e.rpcUrls.privyWalletOverride)return e;let t=ej.find(t=>t.id===e.id),r=t?.rpcUrls.privy?.http[0];return r?{...e,rpcUrls:{...e.rpcUrls,privy:{http:[r]}}}:e});class e$ extends Error{constructor({error:e,code:t}){super(e),this.error=e,this.code=t}}class eR extends Error{constructor({error:e,code:t}){super(e),this.code=t,this.error=e}}class eM extends Error{constructor({error:e,code:t,response:r}){super(e),this.code=t,this.error=e,this.response=r}}let eU=e=>!!e.id&&"privy-v2"===e.recovery_method;class eL{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(eU(this._account))throw new eR({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new eR({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new eR({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i}}let eF=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];(aY={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",aY.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",aY.INVALID_DATA="invalid_data",aY.LINKED_TO_ANOTHER_USER="linked_to_another_user",aY.ALLOWLIST_REJECTED="allowlist_rejected",aY.OAUTH_USER_DENIED="oauth_user_denied",aY.UNKNOWN_AUTH_ERROR="unknown_auth_error",aY.USER_EXITED_AUTH_FLOW="exited_auth_flow",aY.MUST_BE_AUTHENTICATED="must_be_authenticated",aY.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",aY.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",aY.CLIENT_REQUEST_TIMEOUT="client_request_timeout",aY.INVALID_CREDENTIALS="invalid_credentials";class eD extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class eB extends Error{constructor(e,t){super(t),this.type=e}}class eW extends eD{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}class eq extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}let ez={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function eV(e){let t;return"string"==typeof(t=e.type)&&eF.includes(t)&&"wallet_not_on_device"===e.type}async function eH(e,{request:t}){return await e.fetchPrivyRoute(ed,{body:t})}async function eG({context:e,chainType:t}){return{wallet:await eH(e,{request:{chain_type:t,owner_id:void 0}})}}let eK=!1,eJ=!1,eY={debug:1,default:2,info:2,warning:3,error:4,off:5},eZ=eY.default,eQ=null,eX=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(aZ=a2||(a2={})).DEBUG="DEBUG",aZ.INFO="INFO",aZ.WARNING="WARNING",aZ.ERROR="ERROR",aZ.OFF="OFF",(aQ=a3||(a3={})).UNKNOWN_ERROR="UNKNOWN_ERROR",aQ.NOT_IMPLEMENTED="NOT_IMPLEMENTED",aQ.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",aQ.NETWORK_ERROR="NETWORK_ERROR",aQ.SERVER_ERROR="SERVER_ERROR",aQ.TIMEOUT="TIMEOUT",aQ.BUFFER_OVERRUN="BUFFER_OVERRUN",aQ.NUMERIC_FAULT="NUMERIC_FAULT",aQ.MISSING_NEW="MISSING_NEW",aQ.INVALID_ARGUMENT="INVALID_ARGUMENT",aQ.MISSING_ARGUMENT="MISSING_ARGUMENT",aQ.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",aQ.CALL_EXCEPTION="CALL_EXCEPTION",aQ.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",aQ.NONCE_EXPIRED="NONCE_EXPIRED",aQ.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",aQ.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",aQ.TRANSACTION_REPLACED="TRANSACTION_REPLACED",aQ.ACTION_REJECTED="ACTION_REJECTED";let e0="0123456789abcdef";class e1{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==eY[r]&&this.throwArgumentError("invalid log level name","logLevel",e),eZ>eY[r]||console.log.apply(console,t)}debug(...e){this._log(e1.levels.DEBUG,e)}info(...e){this._log(e1.levels.INFO,e)}warn(...e){this._log(e1.levels.WARNING,e)}makeError(e,t,r){if(eJ)return this.makeError("censored error",t,{});t||(t=e1.errors.UNKNOWN_ERROR),r||(r={});let n=[];Object.keys(r).forEach(e=>{let t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=e0[t[e]>>4],r+=e0[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let i=e,a="";switch(t){case a3.NUMERIC_FAULT:{a="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":a+="-"+t;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result"}break}case a3.CALL_EXCEPTION:case a3.INSUFFICIENT_FUNDS:case a3.MISSING_NEW:case a3.NONCE_EXPIRED:case a3.REPLACEMENT_UNDERPRICED:case a3.TRANSACTION_REPLACED:case a3.UNPREDICTABLE_GAS_LIMIT:a=t}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let o=Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach(function(e){o[e]=r[e]}),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,e1.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),eX&&this.throwError("platform missing String.prototype.normalize",e1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eX})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,e1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,e1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,e1.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,e1.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",e1.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",e1.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",e1.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return eQ||(eQ=new e1("logger/5.8.0")),eQ}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",e1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eK){if(!e)return;this.globalLogger().throwError("error censorship permanent",e1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}eJ=!!e,eK=!!t}static setLogLevel(e){let t=eY[e.toLowerCase()];null==t?e1.globalLogger().warn("invalid log level - "+e):eZ=t}static from(e){return new e1(e)}}e1.errors=a3,e1.levels=a2;let e2=new e1("properties/5.8.0");function e3(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function e5(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function e4(e){var t,r,n,i;return t=this,r=void 0,n=void 0,i=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(n||(n=Promise))(function(e,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,s)}l((i=i.apply(t,r||[])).next())})}function e6(e){let t={};for(let r in e)t[r]=e[r];return t}let e8={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function e9(e){if(function e(t){if(null==t||e8[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;let r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return e2.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>e9(e)));if("object"==typeof e){let t={};for(let r in e){let n=e[r];void 0!==n&&e3(t,r,e9(n))}return t}return e2.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}class e7{constructor(e){for(const t in e)this[t]=e9(e[t])}}var te=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};let tt=new e1("abstract-signer/5.8.0"),tr=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],tn=[e1.errors.INSUFFICIENT_FUNDS,e1.errors.NONCE_EXPIRED,e1.errors.REPLACEMENT_UNDERPRICED];class ti{constructor(){tt.checkAbstract(new.target,ti),e3(this,"_isSigner",!0)}getBalance(e){return te(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return te(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return te(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield e4(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return te(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield e4(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return te(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return te(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return te(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return te(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return te(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===tr.indexOf(t)&&tt.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=e6(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&tt.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return te(this,void 0,void 0,function*(){let t=yield e4(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>te(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&tt.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?tt.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&tt.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&tt.throwError("network does not support EIP-1559",e1.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):tt.throwError("failed to get consistent fee data",e1.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(tn.indexOf(e.code)>=0)throw e;return tt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",e1.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&tt.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield e4(t)})}_checkProvider(e){this.provider||tt.throwError("missing provider",e1.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class ta extends ti{constructor(e,t){super(),e3(this,"address",e),e3(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{tt.throwError(e,e1.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new ta(this.address,e)}}let to="providers/5.8.0";var ts=e.i(492711);let tl=new e1("bytes/5.8.0");function tc(e){return!!e.toHexString}function td(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return td(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function tu(e){return ty(e)&&!(e.length%2)||tp(e)}function th(e){return"number"==typeof e&&e==e&&e%1==0}function tp(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!th(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!th(r)||r<0||r>=256)return!1}return!0}function tf(e,t){if(t||(t={}),"number"==typeof e){tl.checkSafeUint53(e,"invalid arrayify value");let t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),td(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tc(e)&&(e=e.toHexString()),ty(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":tl.throwArgumentError("hex data is odd-length","value",e));let n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return td(new Uint8Array(n))}return tp(e)?td(new Uint8Array(e)):tl.throwArgumentError("invalid arrayify value","value",e)}function tm(e){let t=e.map(e=>tf(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),td(r)}function tg(e){let t=tf(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function ty(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let tw="0123456789abcdef";function tv(e,t){if(t||(t={}),"number"==typeof e){tl.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=tw[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),tc(e))return e.toHexString();if(ty(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":tl.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(tp(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=tw[(240&n)>>4]+tw[15&n]}return t}return tl.throwArgumentError("invalid hexlify value","value",e)}function tb(e){if("string"!=typeof e)e=tv(e);else if(!ty(e)||e.length%2)return null;return(e.length-2)/2}function tx(e,t,r){return("string"!=typeof e?e=tv(e):(!ty(e)||e.length%2)&&tl.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r)?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function t_(e){let t="0x";return e.forEach(e=>{t+=tv(e).substring(2)}),t}function tk(e){let t=function(e){"string"!=typeof e&&(e=tv(e)),ty(e)||tl.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(tv(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function tE(e,t){for("string"!=typeof e?e=tv(e):ty(e)||tl.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&tl.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function tC(e){let t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(tu(e)){let r=tf(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=tv(r.slice(0,32)),t.s=tv(r.slice(32,64))):65===r.length?(t.r=tv(r.slice(0,32)),t.s=tv(r.slice(32,64)),t.v=r[64]):tl.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:tl.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=tv(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){let r=function(e,t){(e=tf(e)).length>t&&tl.throwArgumentError("value out of range","value",arguments[0]);let r=new Uint8Array(t);return r.set(e,t-e.length),td(r)}(tf(t._vs),32);t._vs=tv(r);let n=+(r[0]>=128);null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&tl.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;let i=tv(r);null==t.s?t.s=i:t.s!==i&&tl.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?tl.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{let r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&tl.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&ty(t.r)?t.r=tE(t.r,32):tl.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&ty(t.s)?t.s=tE(t.s,32):tl.throwArgumentError("signature missing or invalid s","signature",e);let r=tf(t.s);r[0]>=128&&tl.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);let n=tv(r);t._vs&&(ty(t._vs)||tl.throwArgumentError("signature invalid _vs","signature",e),t._vs=tE(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&tl.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}let tA="bignumber/5.8.0";var tI=ts.default.BN;let tS=new e1(tA),tT={},tP=!1;class tj{constructor(e,t){e!==tT&&tS.throwError("cannot call constructor directly; use BigNumber.from",e1.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return tO(t$(this).fromTwos(e))}toTwos(e){return tO(t$(this).toTwos(e))}abs(){return"-"===this._hex[0]?tj.from(this._hex.substring(1)):this}add(e){return tO(t$(this).add(t$(e)))}sub(e){return tO(t$(this).sub(t$(e)))}div(e){return tj.from(e).isZero()&&tR("division-by-zero","div"),tO(t$(this).div(t$(e)))}mul(e){return tO(t$(this).mul(t$(e)))}mod(e){let t=t$(e);return t.isNeg()&&tR("division-by-zero","mod"),tO(t$(this).umod(t))}pow(e){let t=t$(e);return t.isNeg()&&tR("negative-power","pow"),tO(t$(this).pow(t))}and(e){let t=t$(e);return(this.isNegative()||t.isNeg())&&tR("unbound-bitwise-result","and"),tO(t$(this).and(t))}or(e){let t=t$(e);return(this.isNegative()||t.isNeg())&&tR("unbound-bitwise-result","or"),tO(t$(this).or(t))}xor(e){let t=t$(e);return(this.isNegative()||t.isNeg())&&tR("unbound-bitwise-result","xor"),tO(t$(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&tR("negative-width","mask"),tO(t$(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&tR("negative-width","shl"),tO(t$(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&tR("negative-width","shr"),tO(t$(this).shrn(e))}eq(e){return t$(this).eq(t$(e))}lt(e){return t$(this).lt(t$(e))}lte(e){return t$(this).lte(t$(e))}gt(e){return t$(this).gt(t$(e))}gte(e){return t$(this).gte(t$(e))}isNegative(){return"-"===this._hex[0]}isZero(){return t$(this).isZero()}toNumber(){try{return t$(this).toNumber()}catch(e){tR("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return tS.throwError("this platform does not support BigInt",e1.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?tP||(tP=!0,tS.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?tS.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",e1.errors.UNEXPECTED_ARGUMENT,{}):tS.throwError("BigNumber.toString does not accept parameters",e1.errors.UNEXPECTED_ARGUMENT,{})),t$(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof tj)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new tj(tT,tN(e)):e.match(/^-?[0-9]+$/)?new tj(tT,tN(new tI(e))):tS.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&tR("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&tR("overflow","BigNumber.from",e),tj.from(String(e));if("bigint"==typeof e)return tj.from(e.toString());if(tp(e))return tj.from(tv(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return tj.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ty(t)||"-"===t[0]&&ty(t.substring(1))))return tj.from(t)}return tS.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tN(e){if("string"!=typeof e)return tN(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&tS.throwArgumentError("invalid hex","value",e),"0x00"===(e=tN(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function tO(e){return tj.from(tN(e))}function t$(e){let t=tj.from(e).toHexString();return"-"===t[0]?new tI("-"+t.substring(3),16):new tI(t.substring(2),16)}function tR(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),tS.throwError(e,e1.errors.NUMERIC_FAULT,n)}var tM=e.i(451697);function tU(e){return"0x"+tM.default.keccak_256(tf(e))}let tL=new e1("rlp/5.8.0");function tF(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function tD(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function tB(e){return tv(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=tF(r.length);return n.unshift(247+n.length),n.concat(r)}tu(t)||tL.throwArgumentError("RLP object must be BytesLike","object",t);let r=Array.prototype.slice.call(tf(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=tF(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function tW(e,t,r,n){let i=[];for(;r<t+1+n;){let a=tq(e,r);i.push(a.result),(r+=a.consumed)>t+1+n&&tL.throwError("child data too short",e1.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function tq(e,t){if(0===e.length&&tL.throwError("data too short",e1.errors.BUFFER_OVERRUN,{}),e[t]>=248){let r=e[t]-247;t+1+r>e.length&&tL.throwError("data short segment too short",e1.errors.BUFFER_OVERRUN,{});let n=tD(e,t+1,r);return t+1+r+n>e.length&&tL.throwError("data long segment too short",e1.errors.BUFFER_OVERRUN,{}),tW(e,t,t+1+r,r+n)}if(e[t]>=192){let r=e[t]-192;return t+1+r>e.length&&tL.throwError("data array too short",e1.errors.BUFFER_OVERRUN,{}),tW(e,t,t+1,r)}if(e[t]>=184){let r=e[t]-183;t+1+r>e.length&&tL.throwError("data array too short",e1.errors.BUFFER_OVERRUN,{});let n=tD(e,t+1,r);t+1+r+n>e.length&&tL.throwError("data array too short",e1.errors.BUFFER_OVERRUN,{});let i=tv(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:i}}if(e[t]>=128){let r=e[t]-128;t+1+r>e.length&&tL.throwError("data too short",e1.errors.BUFFER_OVERRUN,{});let n=tv(e.slice(t+1,t+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:tv(e[t])}}function tz(e){let t=tf(e),r=tq(t,0);return r.consumed!==t.length&&tL.throwArgumentError("invalid rlp data","data",e),r.result}let tV=new e1("address/5.8.0");function tH(e){ty(e,20)||tV.throwArgumentError("invalid address","address",e);let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=tf(tU(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let tG={};for(let e=0;e<10;e++)tG[String(e)]=String(e);for(let e=0;e<26;e++)tG[String.fromCharCode(65+e)]=String(10+e);let tK=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function tJ(e){let t=null;if("string"!=typeof e&&tV.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=tH(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&tV.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>tG[e]).join("");for(;t.length>=tK;){let e=t.substring(0,tK);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e)&&tV.throwArgumentError("bad icap checksum","address",e),t=new tI(e.substring(4),36).toString(16);t.length<40;)t="0"+t;t=tH("0x"+t)}else tV.throwArgumentError("invalid address","address",e);return t}let tY="hash/5.8.0",tZ=new e1("strings/5.8.0");function tQ(e,t,r,n,i){if(e===a4.BAD_PREFIX||e===a4.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===a4.OVERRUN?r.length-t-1:0}(aX=a5||(a5={})).current="",aX.NFC="NFC",aX.NFD="NFD",aX.NFKC="NFKC",aX.NFKD="NFKD",(a0=a4||(a4={})).UNEXPECTED_CONTINUE="unexpected continuation byte",a0.BAD_PREFIX="bad codepoint prefix",a0.OVERRUN="string overrun",a0.MISSING_CONTINUE="missing continuation byte",a0.OUT_OF_RANGE="out of UTF-8 range",a0.UTF16_SURROGATE="UTF-16 surrogate",a0.OVERLONG="overlong representation";let tX=Object.freeze({error:function(e,t,r,n,i){return tZ.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:tQ,replace:function(e,t,r,n,i){return e===a4.OVERLONG?(n.push(i),0):(n.push(65533),tQ(e,t,r,n,i))}});function t0(e,t){null==t&&(t=tX.error),e=tf(e);let r=[],n=0;for(;n<e.length;){let i=e[n++];if(i>>7==0){r.push(i);continue}let a=null,o=null;if((224&i)==192)a=1,o=127;else if((240&i)==224)a=2,o=2047;else if((248&i)==240)a=3,o=65535;else{(192&i)==128?n+=t(a4.UNEXPECTED_CONTINUE,n-1,e,r):n+=t(a4.BAD_PREFIX,n-1,e,r);continue}if(n-1+a>=e.length){n+=t(a4.OVERRUN,n-1,e,r);continue}let s=i&(1<<8-a-1)-1;for(let i=0;i<a;i++){let i=e[n];if((192&i)!=128){n+=t(a4.MISSING_CONTINUE,n,e,r),s=null;break}s=s<<6|63&i,n++}if(null!==s){if(s>1114111){n+=t(a4.OUT_OF_RANGE,n-1-a,e,r,s);continue}if(s>=55296&&s<=57343){n+=t(a4.UTF16_SURROGATE,n-1-a,e,r,s);continue}if(s<=o){n+=t(a4.OVERLONG,n-1-a,e,r,s);continue}r.push(s)}}return r}function t1(e,t=a5.current){t!=a5.current&&(tZ.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);if(t>=e.length||(64512&i)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return tf(r)}function t2(e,t){return t0(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}let t3=new e1(tY),t5=new Uint8Array(32);t5.fill(0);let t4=tj.from(-1),t6=tj.from(0),t8=tj.from(1),t9=tj.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t7=tE(t8.toHexString(),32),re=tE(t6.toHexString(),32),rt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rr=["name","version","chainId","verifyingContract","salt"];function rn(e){return function(t){return"string"!=typeof t&&t3.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let ri={name:rn("name"),version:rn("version"),chainId:function(e){try{return tj.from(e).toString()}catch(e){}return t3.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return tJ(e).toLowerCase()}catch(e){}return t3.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let t=tf(e);if(32!==t.length)throw Error("bad length");return tv(t)}catch(e){}return t3.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function ra(e){{let t=e.match(/^(u?)int(\d*)$/);if(t){let r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&t3.throwArgumentError("invalid numeric width","type",e);let i=t9.mask(r?n-1:n),a=r?i.add(t8).mul(t4):t6;return function(t){let r=tj.from(t);return(r.lt(a)||r.gt(i))&&t3.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),tE(r.toTwos(256).toHexString(),32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&t3.throwArgumentError("invalid bytes width","type",e),function(t){let n,i;return tf(t).length!==r&&t3.throwArgumentError(`invalid length for ${e}`,"value",t),(i=(n=tf(t)).length%32)?t_([n,t5.slice(i)]):tv(n)}}}switch(e){case"address":return function(e){return tE(tJ(e),32)};case"bool":return function(e){return e?t7:re};case"bytes":return function(e){return tU(e)};case"string":return function(e){return tU(t1(e))}}return null}function ro(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class rs{constructor(e){e3(this,"types",Object.freeze(e9(e))),e3(this,"_encoderCache",{}),e3(this,"_types",{});const t={},r={},n={};for(const i in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}}),e){const n={};e[i].forEach(a=>{n[a.name]&&t3.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(i)}`,"types",e),n[a.name]=!0;let o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===i&&t3.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),ra(o)||(r[o]||t3.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(i),t[i][o]=!0)})}const i=Object.keys(r).filter(e=>0===r[e].length);for(const a in 0===i.length?t3.throwArgumentError("missing primary type","types",e):i.length>1&&t3.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),e3(this,"primaryType",i[0]),!function i(a,o){o[a]&&t3.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),o[a]=!0,Object.keys(t[a]).forEach(e=>{r[e]&&(i(e,o),Object.keys(o).forEach(t=>{n[t][e]=!0}))}),delete o[a]}(this.primaryType,{}),n){const t=Object.keys(n[a]);t.sort(),this._types[a]=ro(a,e[a])+t.map(t=>ro(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=ra(e);if(t)return t}let t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){let e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&t3.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(tU)),tU(t_(i))}}let r=this.types[e];if(r){let t=tU(t1(this._types[e]));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this._types[r]?tU(n):n});return n.unshift(t),t_(n)}}return t3.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||t3.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return tU(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ra(e))return r(e,t);let n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){let e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&t3.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):t3.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new rs(e)}static getPrimaryType(e){return rs.from(e).primaryType}static hashStruct(e,t,r){return rs.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let n=rt[r];n||t3.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>rr.indexOf(e.name)-rr.indexOf(t.name)),rs.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return t_(["0x1901",rs.hashDomain(e),rs.from(t).hash(r)])}static hash(e,t,r){return tU(rs.encode(e,t,r))}static resolveNames(e,t,r,n){var i,a,o,s;return i=this,a=void 0,o=void 0,s=function*(){e=e6(e);let i={};e.verifyingContract&&!ty(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let a=rs.from(t);for(let e in a.visit(r,(e,t)=>("address"!==e||ty(t,20)||(i[t]="0x"),t)),i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}},new(o||(o=Promise))(function(e,t){function r(e){try{l(s.next(e))}catch(e){t(e)}}function n(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(r,n)}l((s=s.apply(i,a||[])).next())})}static getPayload(e,t,r){rs.hashDomain(e);let n={},i=[];rr.forEach(t=>{let r=e[t];null!=r&&(n[t]=ri[t](r),i.push({name:t,type:rt[t]}))});let a=rs.from(t),o=e6(t);return o.EIP712Domain?t3.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=i,a.encode(r),{types:o,domain:n,primaryType:a.primaryType,message:a.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return tv(tf(t));if(e.match(/^u?int/))return tj.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&t3.throwArgumentError("invalid string","value",t),t}return t3.throwArgumentError("unsupported type","type",e)})}}}let rl=tj.from(-1),rc=tj.from(0),rd=tj.from(1),ru=tj.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var rh=e.i(223336);function rp(e,t,r){return e(r={path:t,exports:{},require:function(e,t){throw null==t&&r.path,Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:e.g);var rf=rm;function rm(e,t){if(!e)throw Error(t||"Assertion failed")}rm.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var rg=rp(function(e,t){function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,o=255&i;a?r.push(a,o):r.push(o)}return r},t.zero2=r,t.toHex=n,t.encode=function(e,t){return"hex"===t?n(e):e}}),ry=rp(function(e,t){t.assert=rf,t.toArray=rg.toArray,t.zero2=rg.zero2,t.toHex=rg.toHex,t.encode=rg.encode,t.getNAF=function(e,t,r){var n=Array(Math.max(e.bitLength(),r)+1);for(o=0;o<n.length;o+=1)n[o]=0;var i=1<<t+1,a=e.clone();for(o=0;o<n.length;o++){var o,s,l=a.andln(i-1);a.isOdd()?(s=l>(i>>1)-1?(i>>1)-l:l,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n},t.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,o,s,l=e.andln(3)+n&3,c=t.andln(3)+i&3;3===l&&(l=-1),3===c&&(c=-1),o=(1&l)==0?0:(3==(a=e.andln(7)+n&7)||5===a)&&2===c?-l:l,r[0].push(o),s=(1&c)==0?0:(3==(a=t.andln(7)+i&7)||5===a)&&2===l?-c:c,r[1].push(s),2*n===o+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},t.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},t.parseBytes=function(e){return"string"==typeof e?t.toArray(e,"hex"):e},t.intFromLE=function(e){return new ts.default(e,"hex","le")}}),rw=ry.getNAF,rv=ry.getJSF,rb=ry.assert;function rx(e,t){this.type=e,this.p=new ts.default(t.p,16),this.red=t.prime?ts.default.red(t.prime):ts.default.mont(this.p),this.zero=new ts.default(0).toRed(this.red),this.one=new ts.default(1).toRed(this.red),this.two=new ts.default(2).toRed(this.red),this.n=t.n&&new ts.default(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function r_(e,t){this.curve=e,this.type=t,this.precomputed=null}rx.prototype.point=function(){throw Error("Not implemented")},rx.prototype.validate=function(){throw Error("Not implemented")},rx.prototype._fixedNafMul=function(e,t){rb(e.precomputed);var r,n,i=e._getDoubles(),a=rw(t,1,this._bitLength),o=(1<<i.step+1)-(i.step%2==0?2:1);o/=3;var s=[];for(r=0;r<a.length;r+=i.step){n=0;for(var l=r+i.step-1;l>=r;l--)n=(n<<1)+a[l];s.push(n)}for(var c=this.jpoint(null,null,null),d=this.jpoint(null,null,null),u=o;u>0;u--){for(r=0;r<s.length;r++)(n=s[r])===u?d=d.mixedAdd(i.points[r]):n===-u&&(d=d.mixedAdd(i.points[r].neg()));c=c.add(d)}return c.toP()},rx.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=rw(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var l=0;s>=0&&0===a[s];s--)l++;if(s>=0&&l++,o=o.dblp(l),s<0)break;var c=a[s];rb(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},rx.prototype._wnafMulAdd=function(e,t,r,n,i){var a,o,s,l=this._wnafT1,c=this._wnafT2,d=this._wnafT3,u=0;for(a=0;a<n;a++){var h=(s=t[a])._getNAFPoints(e);l[a]=h.wnd,c[a]=h.points}for(a=n-1;a>=1;a-=2){var p=a-1,f=a;if(1!==l[p]||1!==l[f]){d[p]=rw(r[p],l[p],this._bitLength),d[f]=rw(r[f],l[f],this._bitLength),u=Math.max(d[p].length,u),u=Math.max(d[f].length,u);continue}var m=[t[p],null,null,t[f]];0===t[p].y.cmp(t[f].y)?(m[1]=t[p].add(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg())):0===t[p].y.cmp(t[f].y.redNeg())?(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].add(t[f].neg())):(m[1]=t[p].toJ().mixedAdd(t[f]),m[2]=t[p].toJ().mixedAdd(t[f].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=rv(r[p],r[f]);for(o=0,u=Math.max(y[0].length,u),d[p]=Array(u),d[f]=Array(u);o<u;o++){var w=0|y[0][o],v=0|y[1][o];d[p][o]=g[(w+1)*3+(v+1)],d[f][o]=0,c[p]=m}}var b=this.jpoint(null,null,null),x=this._wnafT4;for(a=u;a>=0;a--){for(var _=0;a>=0;){var k=!0;for(o=0;o<n;o++)x[o]=0|d[o][a],0!==x[o]&&(k=!1);if(!k)break;_++,a--}if(a>=0&&_++,b=b.dblp(_),a<0)break;for(o=0;o<n;o++){var E=x[o];0!==E&&(E>0?s=c[o][E-1>>1]:E<0&&(s=c[o][-E-1>>1].neg()),b="affine"===s.type?b.mixedAdd(s):b.add(s))}}for(a=0;a<n;a++)c[a]=null;return i?b:b.toP()},rx.BasePoint=r_,r_.prototype.eq=function(){throw Error("Not implemented")},r_.prototype.validate=function(){return this.curve.validate(this)},rx.prototype.decodePoint=function(e,t){e=ry.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?rb(e[e.length-1]%2==0):7===e[0]&&rb(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},r_.prototype.encodeCompressed=function(e){return this.encode(e,!0)},r_.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},r_.prototype.encode=function(e,t){return ry.encode(this._encode(t),e)},r_.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},r_.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},r_.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},r_.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},r_.prototype._getBeta=function(){return null},r_.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var rk=rp(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),rE=ry.assert;function rC(e){rx.call(this,"short",e),this.a=new ts.default(e.a,16).toRed(this.red),this.b=new ts.default(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function rA(e,t,r,n){rx.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new ts.default(t,16),this.y=new ts.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function rI(e,t,r,n){rx.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ts.default(0)):(this.x=new ts.default(t,16),this.y=new ts.default(r,16),this.z=new ts.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}rk(rC,rx),rC.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)t=new ts.default(e.beta,16).toRed(this.red);else{var t,r,n,i=this._getEndoRoots(this.p);t=(t=0>i[0].cmp(i[1])?i[0]:i[1]).toRed(this.red)}if(e.lambda)r=new ts.default(e.lambda,16);else{var a=this._getEndoRoots(this.n);0===this.g.mul(a[0]).x.cmp(this.g.x.redMul(t))?r=a[0]:(r=a[1],rE(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return n=e.basis?e.basis.map(function(e){return{a:new ts.default(e.a,16),b:new ts.default(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:n}}},rC.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ts.default.mont(e),r=new ts.default(2).toRed(t).redInvm(),n=r.redNeg(),i=new ts.default(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},rC.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,o,s,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,h=this.n.clone(),p=new ts.default(1),f=new ts.default(0),m=new ts.default(0),g=new ts.default(1),y=0;0!==u.cmpn(0);){var w=h.div(u);l=h.sub(w.mul(u)),c=m.sub(w.mul(p));var v=g.sub(w.mul(f));if(!n&&0>l.cmp(d))t=s.neg(),r=p,n=l.neg(),i=c;else if(n&&2==++y)break;s=l,h=u,u=l,m=p,p=c,g=f,f=v}a=l.neg(),o=c;var b=n.sqr().add(i.sqr());return a.sqr().add(o.sqr()).cmp(b)>=0&&(a=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),o=o.neg()),[{a:n,b:i},{a:a,b:o}]},rC.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),s=a.mul(n.a),l=i.mul(r.b),c=a.mul(n.b);return{k1:e.sub(o).sub(s),k2:l.add(c).neg()}},rC.prototype.pointFromX=function(e,t){(e=new ts.default(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},rC.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},rC.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],l=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),n[2*a]=s,n[2*a+1]=l,i[2*a]=o.k1,i[2*a+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*a,r),d=0;d<2*a;d++)n[d]=null,i[d]=null;return c},rk(rA,rx.BasePoint),rC.prototype.point=function(e,t,r){return new rA(this,e,t,r)},rC.prototype.pointFromJSON=function(e,t){return rA.fromJSON(this,e,t)},rA.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},rA.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},rA.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},rA.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},rA.prototype.isInfinity=function(){return this.inf},rA.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},rA.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},rA.prototype.getX=function(){return this.x.fromRed()},rA.prototype.getY=function(){return this.y.fromRed()},rA.prototype.mul=function(e){return(e=new ts.default(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},rA.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},rA.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},rA.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},rA.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},rA.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},rk(rI,rx.BasePoint),rC.prototype.jpoint=function(e,t,r){return new rI(this,e,t,r)},rI.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},rI.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},rI.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),l=a.redSub(o);if(0===s.cmpn(0))if(0!==l.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var c=s.redSqr(),d=c.redMul(s),u=n.redMul(c),h=l.redSqr().redIAdd(d).redISub(u).redISub(u),p=l.redMul(u.redISub(h)).redISub(a.redMul(d)),f=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(h,p,f)},rI.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(n),s=i.redSub(a);if(0===o.cmpn(0))if(0!==s.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var l=o.redSqr(),c=l.redMul(o),d=r.redMul(l),u=s.redSqr().redIAdd(c).redISub(d).redISub(d),h=s.redMul(d.redISub(u)).redISub(i.redMul(c)),p=this.z.redMul(o);return this.curve.jpoint(u,h,p)},rI.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,a=this.x,o=this.y,s=this.z,l=s.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var d=a.redSqr(),u=c.redSqr(),h=u.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(l)),f=a.redMul(u),m=p.redSqr().redISub(f.redAdd(f)),g=f.redISub(m),y=p.redMul(g);y=y.redIAdd(y).redISub(h);var w=c.redMul(s);t+1<e&&(l=l.redMul(h)),a=m,s=w,c=y}return this.curve.jpoint(a,c.redMul(i),s)},rI.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},rI.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n),l=s.redSqr().redISub(o).redISub(o),c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=s.redMul(o.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),u=this.y.redSqr(),h=u.redSqr(),p=this.x.redAdd(u).redSqr().redISub(d).redISub(h);p=p.redIAdd(p);var f=d.redAdd(d).redIAdd(d),m=f.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=f.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},rI.prototype._threeDbl=function(){if(this.zOne){var e,t,r,n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(a);o=o.redIAdd(o);var s=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=s.redSqr().redISub(o).redISub(o);e=l;var c=a.redIAdd(a);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(o.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),u=this.y.redSqr(),h=this.x.redMul(u),p=this.x.redSub(d).redMul(this.x.redAdd(d));p=p.redAdd(p).redIAdd(p);var f=h.redIAdd(h),m=(f=f.redIAdd(f)).redAdd(f);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(d);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(f.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},rI.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(o),d=s.redSqr().redISub(c.redAdd(c)),u=c.redISub(d),h=o.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=s.redMul(u).redISub(h),f=r.redAdd(r).redMul(n);return this.curve.jpoint(d,p,f)},rI.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=i.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(l),d=t.redMul(c);d=(d=d.redIAdd(d)).redIAdd(d);var u=this.x.redMul(s).redISub(d);u=(u=u.redIAdd(u)).redIAdd(u);var h=this.y.redMul(c.redMul(l.redISub(c)).redISub(o.redMul(s)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var p=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(u,h,p)},rI.prototype.mul=function(e,t){return e=new ts.default(e,t),this.curve._wnafMul(this,e)},rI.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},rI.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},rI.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},rI.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var rS=rp(function(e,t){t.base=rx,t.short=rC,t.mont=null,t.edwards=null}),rT=rp(function(e,t){var r,n=ry.assert;function i(e){"short"===e.type?this.curve=new rS.short(e):"edwards"===e.type?this.curve=new rS.edwards(e):this.curve=new rS.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var n=new i(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}),n}})}t.PresetCurve=i,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:rh.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:rh.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:rh.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:rh.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:rh.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rh.default.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:rh.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:rh.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function rP(e){if(!(this instanceof rP))return new rP(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=rg.toArray(e.entropy,e.entropyEnc||"hex"),r=rg.toArray(e.nonce,e.nonceEnc||"hex"),n=rg.toArray(e.pers,e.persEnc||"hex");rf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}rP.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=0x1000000000000},rP.prototype._hmac=function(){return new rh.default.hmac(this.hash,this.K)},rP.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},rP.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=rg.toArray(e,t),r=rg.toArray(r,n),rf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},rP.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=rg.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,rg.encode(a,t)};var rj=ry.assert;function rN(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}rN.fromPublic=function(e,t,r){return t instanceof rN?t:new rN(e,{pub:t,pubEnc:r})},rN.fromPrivate=function(e,t,r){return t instanceof rN?t:new rN(e,{priv:t,privEnc:r})},rN.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},rN.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},rN.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},rN.prototype._importPrivate=function(e,t){this.priv=new ts.default(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},rN.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?rj(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&rj(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},rN.prototype.derive=function(e){return e.validate()||rj(e.validate(),"public point not validated"),e.mul(this.priv).getX()},rN.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},rN.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},rN.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var rO=ry.assert;function r$(e,t){if(e instanceof r$)return e;this._importDER(e,t)||(rO(e.r&&e.s,"Signature without r or s"),this.r=new ts.default(e.r,16),this.s=new ts.default(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function rR(){this.place=0}function rM(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4||0===e[t.place])return!1;for(var i=0,a=0,o=t.place;a<n;a++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function rU(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function rL(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}r$.prototype._importDER=function(e,t){e=ry.toArray(e,t);var r=new rR;if(48!==e[r.place++])return!1;var n=rM(e,r);if(!1===n||n+r.place!==e.length||2!==e[r.place++])return!1;var i=rM(e,r);if(!1===i||(128&e[r.place])!=0)return!1;var a=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=rM(e,r);if(!1===o||e.length!==o+r.place||(128&e[r.place])!=0)return!1;var s=e.slice(r.place,o+r.place);if(0===a[0])if(!(128&a[1]))return!1;else a=a.slice(1);if(0===s[0])if(!(128&s[1]))return!1;else s=s.slice(1);return this.r=new ts.default(a),this.s=new ts.default(s),this.recoveryParam=null,!0},r$.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=rU(t),r=rU(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];rL(n,t.length),(n=n.concat(t)).push(2),rL(n,r.length);var i=n.concat(r),a=[48];return rL(a,i.length),a=a.concat(i),ry.encode(a,e)};var rF=function(){throw Error("unsupported")},rD=ry.assert;function rB(e){if(!(this instanceof rB))return new rB(e);"string"==typeof e&&(rD(Object.prototype.hasOwnProperty.call(rT,e),"Unknown curve "+e),e=rT[e]),e instanceof rT.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}rB.prototype.keyPair=function(e){return new rN(this,e)},rB.prototype.keyFromPrivate=function(e,t){return rN.fromPrivate(this,e,t)},rB.prototype.keyFromPublic=function(e,t){return rN.fromPublic(this,e,t)},rB.prototype.genKeyPair=function(e){e||(e={});for(var t=new rP({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||rF(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new ts.default(2));;){var i=new ts.default(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},rB.prototype._truncateToN=function(e,t,r){if(ts.default.isBN(e)||"number"==typeof e)n=(e=new ts.default(e,16)).byteLength();else if("object"==typeof e)n=e.length,e=new ts.default(e,16);else{var n,i=e.toString();n=i.length+1>>>1,e=new ts.default(i,16)}"number"!=typeof r&&(r=8*n);var a=r-this.n.bitLength();return(a>0&&(e=e.ushrn(a)),!t&&e.cmp(this.n)>=0)?e.sub(this.n):e},rB.prototype.sign=function(e,t,r,n){if("object"==typeof r&&(n=r,r=null),n||(n={}),"string"!=typeof e&&"number"!=typeof e&&!ts.default.isBN(e)){rD("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),rD(e.length>>>0===e.length);for(var i=0;i<e.length;i++)rD((255&e[i])===e[i])}t=this.keyFromPrivate(t,r),rD(!(e=this._truncateToN(e,!1,n.msgBitLength)).isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=t.getPrivate().toArray("be",a),s=e.toArray("be",a);rD(new ts.default(s).eq(e),"Can not sign message");for(var l=new rP({hash:this.hash,entropy:o,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new ts.default(1)),d=0;;d++){var u=n.k?n.k(d):new ts.default(l.generate(this.n.byteLength()));if(0>=(u=this._truncateToN(u,!0)).cmpn(1)||u.cmp(c)>=0)continue;var h=this.g.mul(u);if(!h.isInfinity()){var p=h.getX(),f=p.umod(this.n);if(0!==f.cmpn(0)){var m=u.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(m=m.umod(this.n)).cmpn(0)){var g=!!h.getY().isOdd()|2*(0!==p.cmp(f));return n.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),g^=1),new r$({r:f,s:m,recoveryParam:g})}}}}},rB.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var a,o=(t=new r$(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var l=s.invm(this.n),c=l.mul(e).umod(this.n),d=l.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),d)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),d)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},rB.prototype.recoverPubKey=function(e,t,r,n){rD((3&r)===r,"The recovery param is more than two bits"),t=new r$(t,n);var i=this.n,a=new ts.default(e),o=t.r,s=t.s,l=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),l):this.curve.pointFromX(o,l);var d=t.r.invm(i),u=i.sub(a).mul(d).umod(i),h=s.mul(d).umod(i);return this.g.mulAdd(u,o,h)},rB.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new r$(t,n)).recoveryParam)return t.recoveryParam;for(var i,a=0;a<4;a++){try{i=this.recoverPubKey(e,t,a)}catch(e){continue}if(i.eq(r))return a}throw Error("Unable to find valid recovery factor")};var rW=rp(function(e,t){t.version="6.6.1",t.utils=ry,t.rand=function(){throw Error("unsupported")},t.curve=rS,t.curves=rT,t.ec=rB,t.eddsa=null}).ec;let rq=new e1("signing-key/5.8.0"),rz=null;function rV(){return rz||(rz=new rW("secp256k1")),rz}class rH{constructor(e){e3(this,"curve","secp256k1"),e3(this,"privateKey",tv(e)),32!==tb(this.privateKey)&&rq.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=rV().keyFromPrivate(tf(this.privateKey));e3(this,"publicKey","0x"+t.getPublic(!1,"hex")),e3(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),e3(this,"_isSigningKey",!0)}_addPoint(e){let t=rV().keyFromPublic(tf(this.publicKey)),r=rV().keyFromPublic(tf(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=rV().keyFromPrivate(tf(this.privateKey)),r=tf(e);32!==r.length&&rq.throwArgumentError("bad digest length","digest",e);let n=t.sign(r,{canonical:!0});return tC({recoveryParam:n.recoveryParam,r:tE("0x"+n.r.toString(16),32),s:tE("0x"+n.s.toString(16),32)})}computeSharedSecret(e){let t=rV().keyFromPrivate(tf(this.privateKey)),r=rV().keyFromPublic(tf(rG(e)));return tE("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function rG(e,t){let r=tf(e);if(32===r.length){let e=new rH(r);return t?"0x"+rV().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?tv(r):"0x"+rV().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+rV().keyFromPublic(r).getPublic(!0,"hex"):tv(r):rq.throwArgumentError("invalid public or private key","key","[REDACTED]")}let rK=new e1("transactions/5.8.0");function rJ(e){return"0x"===e?null:tJ(e)}function rY(e){return"0x"===e?rc:tj.from(e)}function rZ(e,t){var r;let n,i;return tJ(tx(tU(tx(rG((r=tf(e),i={r:tf((n=tC(t)).r),s:tf(n.s)},"0x"+rV().recoverPubKey(tf(r),i,n.recoveryParam).encode("hex",!1))),1)),12))}function rQ(e,t){let r=tg(tj.from(e).toHexString());return r.length>32&&rK.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function rX(e,t){return{address:tJ(e),storageKeys:(t||[]).map((t,r)=>(32!==tb(t)&&rK.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function r0(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&rK.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),rX(e[0],e[1])):rX(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rX(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function r1(e){return r0(e).map(e=>[e.address,e.storageKeys])}function r2(e,t){if(null!=e.gasPrice){let t=tj.from(e.gasPrice),r=tj.from(e.maxFeePerGas||0);t.eq(r)||rK.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[rQ(e.chainId||0,"chainId"),rQ(e.nonce||0,"nonce"),rQ(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),rQ(e.maxFeePerGas||0,"maxFeePerGas"),rQ(e.gasLimit||0,"gasLimit"),null!=e.to?tJ(e.to):"0x",rQ(e.value||0,"value"),e.data||"0x",r1(e.accessList||[])];if(t){let e=tC(t);r.push(rQ(e.recoveryParam,"recoveryParam")),r.push(tg(e.r)),r.push(tg(e.s))}return t_(["0x02",tB(r)])}function r3(e,t){let r=[rQ(e.chainId||0,"chainId"),rQ(e.nonce||0,"nonce"),rQ(e.gasPrice||0,"gasPrice"),rQ(e.gasLimit||0,"gasLimit"),null!=e.to?tJ(e.to):"0x",rQ(e.value||0,"value"),e.data||"0x",r1(e.accessList||[])];if(t){let e=tC(t);r.push(rQ(e.recoveryParam,"recoveryParam")),r.push(tg(e.r)),r.push(tg(e.s))}return t_(["0x01",tB(r)])}function r5(e,t,r){try{let r=rY(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){rK.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=tE(t[1],32),e.s=tE(t[2],32);try{let t=tU(r(e));e.from=rZ(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function r4(e){e=atob(e);let t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return tf(t)}function r6(e){e=tf(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}(a1=a6||(a6={}))[a1.legacy=0]="legacy",a1[a1.eip2930=1]="eip2930",a1[a1.eip1559=2]="eip1559";let r8=new e1("web/5.8.0");function r9(e){return new Promise(t=>{setTimeout(t,e)})}function r7(e,t){if(null==e)return null;if("string"==typeof e)return e;if(tu(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return t2(e)}catch(e){}return tv(e)}return e}function ne(e,t,r){let n=null;if(null!=t){n=t1(t);let r="string"==typeof e?{url:e}:e6(e);r.headers?0===Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length&&(r.headers=e6(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return function(e,t,r){let n,i="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;r8.assertArgument(i>0&&i%1==0,"invalid connection throttle limit","connection.throttleLimit",i);let a="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;r8.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);let s="object"==typeof e&&!!e.errorPassThrough,l={},c=null,d={method:"GET"},u=!1,h=12e4;if("string"==typeof e)c=e;else if("object"==typeof e){if((null==e||null==e.url)&&r8.throwArgumentError("missing URL","connection.url",e),c=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(let t in e.headers)l[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(u=!0);d.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password&&("https:"!==c.substring(0,6)&&!0!==e.allowInsecureAuthentication&&r8.throwError("basic authentication requires a secure https url",e1.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:e.user,password:"[REDACTED]"}),l.authorization={key:"Authorization",value:"Basic "+r6(t1(e.user+":"+e.password))}),null!=e.skipFetchSetup&&(d.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(d.fetchOptions=e6(e.fetchOptions))}let p=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=c?c.match(p):null;if(f)try{var m;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?r4(f[3]):(m=f[3],t1(m.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){r8.throwError("processing response error",e1.errors.SERVER_ERROR,{body:r7(f[1],f[2]),error:e,requestBody:null,requestMethod:"GET",url:c})}t&&(d.method="POST",d.body=t,null==l["content-type"]&&(l["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==l["content-length"]&&(l["content-length"]={key:"Content-Length",value:String(t.length)}));let g={};Object.keys(l).forEach(e=>{let t=l[e];g[t.key]=t.value}),d.headers=g;let y=(n=null,{promise:new Promise(function(e,t){h&&(n=setTimeout(()=>{null!=n&&(n=null,t(r8.makeError("timeout",e1.errors.TIMEOUT,{requestBody:r7(d.body,g["content-type"]),requestMethod:d.method,timeout:h,url:c})))},h))}),cancel:function(){null!=n&&(clearTimeout(n),n=null)}}),w=function(){var e,t,n,l;return e=this,t=void 0,n=void 0,l=function*(){for(let e=0;e<i;e++){let t=null;try{if(t=yield function(e,t){var r,n,i,a;return r=this,n=void 0,i=void 0,a=function*(){null==t&&(t={});let r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}let n=yield fetch(e,r),i=yield n.arrayBuffer(),a={};return n.headers.forEach?n.headers.forEach((e,t)=>{a[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{a[e.toLowerCase()]=n.headers.get(e)}),{headers:a,statusCode:n.status,statusMessage:n.statusText,body:tf(new Uint8Array(i))}},new(i||(i=Promise))(function(e,t){function o(e){try{l(a.next(e))}catch(e){t(e)}}function s(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,s)}l((a=a.apply(r,n||[])).next())})}(c,d),e<i){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===d.method&&e.match(/^https:/)){c=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(a&&(r=yield a(e,c)),r){let r=0,n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield r9(r);continue}}}}catch(e){null==(t=e.response)&&(y.cancel(),r8.throwError("missing response",e1.errors.SERVER_ERROR,{requestBody:r7(d.body,g["content-type"]),requestMethod:d.method,serverError:e,url:c}))}let n=t.body;if(u&&304===t.statusCode?n=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(y.cancel(),r8.throwError("bad response",e1.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:r7(n,t.headers?t.headers["content-type"]:null),requestBody:r7(d.body,g["content-type"]),requestMethod:d.method,url:c})),r)try{let e=yield r(n,t);return y.cancel(),e}catch(r){if(r.throttleRetry&&e<i){let t=!0;if(a&&(t=yield a(e,c)),t){let t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield r9(t);continue}}y.cancel(),r8.throwError("processing response error",e1.errors.SERVER_ERROR,{body:r7(n,t.headers?t.headers["content-type"]:null),error:r,requestBody:r7(d.body,g["content-type"]),requestMethod:d.method,url:c})}return y.cancel(),n}return r8.throwError("failed response",e1.errors.SERVER_ERROR,{requestBody:r7(d.body,g["content-type"]),requestMethod:d.method,url:c})},new(n||(n=Promise))(function(r,i){function a(e){try{s(l.next(e))}catch(e){i(e)}}function o(e){try{s(l.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,o)}s((l=l.apply(e,t||[])).next())})}();return Promise.race([y.promise,w])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(t2(e))}catch(t){r8.throwError("invalid JSON",e1.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function nt(e,t){return t||(t={}),null==(t=e6(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,a=!1,o=()=>!a&&(a=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{o()&&n(Error("timeout"))},t.timeout));let s=t.retryLimit,l=0;!function i(){return e().then(function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!a){if(++l>s){o()&&n(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){o()&&n(e)})}()})}let nr=new e1("abstract-provider/5.8.0");class nn extends e7{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class ni{constructor(){nr.checkAbstract(new.target,ni),e3(this,"_isProvider",!0)}getFeeData(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function*(){let{block:e,gasPrice:t}=yield e4({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=tj.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}},new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}class na{constructor(e){e3(this,"alphabet",e),e3(this,"base",e.length),e3(this,"_alphabetMap",{}),e3(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=tf(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return tf(new Uint8Array(t.reverse()))}}new na("abcdefghijklmnopqrstuvwxyz234567");let no=new na("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function ns(e,t){null==t&&(t=1);let r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function nl(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function nc(e,t){let r=nl(e(),e),n=e(),i=nl(n,e),a=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let e=0;e<n;e++)for(let t=0;t<a[e];t++)r.push(i[e]+t);return t?r.map(e=>t[e]):r}function nd(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,a=0;i<e;i++){var n;r[i]=a+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}let nu=(aJ=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let o=r(),s=t;t+=o;let l=0,c=0;function d(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}let u=0;for(let e=0;e<31;e++)u=u<<1|d();let h=[],p=0,f=0x80000000;for(;;){let e=Math.floor(((u-p+1)*i-1)/f),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;h.push(t);let o=p+Math.floor(f*a[t]/i),s=p+Math.floor(f*a[t+1]/i)-1;for(;((o^s)&0x40000000)==0;)u=u<<1&0x7fffffff|d(),o=o<<1&0x7fffffff,s=s<<1&0x7fffffff|1;for(;o&~s&0x20000000;)u=0x40000000&u|u<<1&0x3fffffff|d(),o=o<<1^0x40000000,s=(0x40000000^s)<<1|0x40000001;p=o,f=1+s-o}let m=n-4;return h.map(t=>{switch(t-m){case 3:return m+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return m+256+(e[s++]<<8|e[s++]);case 1:return m+e[s++];default:return t-1}})}(r4("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),z=0,()=>aJ[z++]),nh=new Set(nc(nu)),np=new Set(nc(nu)),nf=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return ns(nd(i.length,1+e,t).map((e,t)=>{let a=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[a+t*r,o.map(e=>e+i)]})}))}(r,e))}for(;;){var r,n;let i=e()-1;if(i<0)break;t.push((r=i,nd(1+(n=e)(),1+r,n).map(e=>[e[0],e.slice(1)])))}return function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[n[0]]=n[1]}return t}(ns(t))}(nu),nm=(u=nc(nu).sort((e,t)=>e-t),function e(){let t=[];for(;;){let r=nc(nu,u);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort((e,t)=>t.set.size-e.set.size);let r=nu(),n=r%3;return{branches:t,valid:n,fe0f:!!(1&(r=r/3|0)),save:1==(r>>=1),check:2==r}}());function ng(e){return function(e,t=a5.current){return t0(t1(e,t))}(e)}function ny(e){return e.filter(e=>65039!=e)}function nw(e){for(let t of e.split(".")){let e=ng(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let nv=new e1(tY),nb=new Uint8Array(32);function nx(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function n_(e){let t=t1(nw(function(e,t){let r=ng(e).reverse(),n=[];for(;r.length;){let e=function(e,t){var r;let n,i,a=nm,o=[],s=e.length;for(;s;){let t=e[--s];if(!(a=null==(r=a.branches.find(e=>e.set.has(t)))?void 0:r.node))break;if(a.save)i=t;else if(a.check&&t===i)break;o.push(t),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(n=o.slice(),2==a.valid&&n.splice(1,1),e.length=s)}return n}(r);if(e){n.push(...t(e));continue}let i=r.pop();if(nh.has(i)){n.push(i);continue}if(np.has(i))continue;let a=nf[i];if(a){n.push(...a);continue}throw Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`)}return nw(String.fromCodePoint(...n).normalize("NFC"))}(e,ny))),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(nx(t.slice(n,e))),n=e+1);if(n>=t.length)throw Error("invalid ENS name; empty component");return r.push(nx(t.slice(n))),r}function nk(e){"string"!=typeof e&&nv.throwArgumentError("invalid ENS name; not a string","name",e);let t=nb,r=n_(e);for(;r.length;)t=tU(tm([t,tU(r.pop())]));return tv(t)}nb.fill(0);let nE=new e1("networks/5.8.0");function nC(e){let t=function(t,r){null==r&&(r={});let n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let i=new t.PocketProvider(e,r.pocket);i.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let i=new t.AnkrProvider(e,r.ankr);i.network&&-1===["ropsten"].indexOf(i.network.name)&&n.push(i)}catch(e){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{n.push(new t.QuickNodeProvider(e,r.quicknode))}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return nC(e)},t}function nA(e,t){let r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return nA(e,t)},r}let nI={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:nC("homestead")},nS={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:nC("ropsten")},nT={chainId:63,name:"classicMordor",_defaultProvider:nA("https://www.ethercluster.com/mordor","classicMordor")},nP={unspecified:{chainId:0,name:"unspecified"},homestead:nI,mainnet:nI,morden:{chainId:2,name:"morden"},ropsten:nS,testnet:nS,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:nC("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:nC("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:nC("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:0xaa36a7,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:nC("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:nC("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:nA("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:nT,classicTestnet:nT,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:nA("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:nC("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:nC("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:nC("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:0xaa37dc,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function nj(e){return"0x"+rh.default.sha256().update(tf(e)).digest("hex")}new e1("sha2/5.8.0");var nN=e.i(294420);let nO=new e1(to);class n${constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),s=this.number.bind(this),l=this.type.bind(this),c=e=>this.data(e,!0);return e.transaction={hash:a,type:l,accessList:n$.allowNull(this.accessList.bind(this),null),blockHash:n$.allowNull(a,null),blockNumber:n$.allowNull(s,null),transactionIndex:n$.allowNull(s,null),confirmations:n$.allowNull(s,null),from:t,gasPrice:n$.allowNull(r),maxPriorityFeePerGas:n$.allowNull(r),maxFeePerGas:n$.allowNull(r),gasLimit:r,to:n$.allowNull(t,null),value:r,nonce:s,data:i,r:n$.allowNull(this.uint256),s:n$.allowNull(this.uint256),v:n$.allowNull(s),creates:n$.allowNull(t,null),raw:n$.allowNull(i)},e.transactionRequest={from:n$.allowNull(t),nonce:n$.allowNull(s),gasLimit:n$.allowNull(r),gasPrice:n$.allowNull(r),maxPriorityFeePerGas:n$.allowNull(r),maxFeePerGas:n$.allowNull(r),to:n$.allowNull(t),value:n$.allowNull(r),data:n$.allowNull(c),type:n$.allowNull(s),accessList:n$.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:s,blockNumber:s,transactionHash:a,address:t,topics:n$.arrayOf(a),data:i,logIndex:s,blockHash:a},e.receipt={to:n$.allowNull(this.address,null),from:n$.allowNull(this.address,null),contractAddress:n$.allowNull(t,null),transactionIndex:s,root:n$.allowNull(o),gasUsed:r,logsBloom:n$.allowNull(i),blockHash:a,transactionHash:a,logs:n$.arrayOf(this.receiptLog.bind(this)),blockNumber:s,confirmations:n$.allowNull(s,null),cumulativeGasUsed:r,effectiveGasPrice:n$.allowNull(r),status:n$.allowNull(s),type:l},e.block={hash:n$.allowNull(a),parentHash:a,number:s,timestamp:s,nonce:n$.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:n$.allowNull(t),extraData:i,transactions:n$.allowNull(n$.arrayOf(a)),baseFeePerGas:n$.allowNull(r)},e.blockWithTransactions=e6(e.block),e.blockWithTransactions.transactions=n$.allowNull(n$.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:n$.allowNull(n,void 0),toBlock:n$.allowNull(n,void 0),blockHash:n$.allowNull(a,void 0),address:n$.allowNull(t,void 0),topics:n$.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:n$.allowNull(s),blockHash:n$.allowNull(a),transactionIndex:s,removed:n$.allowNull(this.boolean.bind(this)),address:t,data:n$.allowFalsish(i,"0x"),topics:n$.arrayOf(a),transactionHash:a,logIndex:s},e}accessList(e){return r0(e||[])}number(e){return"0x"===e?0:tj.from(e).toNumber()}type(e){return"0x"===e||null==e?0:tj.from(e).toNumber()}bigNumber(e){return tj.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),ty(e))?e.toLowerCase():nO.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return tJ(e)}callAddress(e){if(!ty(e,32))return null;let t=tJ(tx(e,12));return"0x0000000000000000000000000000000000000000"===t?null:t}contractAddress(e){let t=null;try{t=tJ(e.from)}catch(t){tV.throwArgumentError("missing from address","transaction",e)}return tJ(tx(tU(tB([t,tg(tf(tj.from(e.nonce).toHexString()))])),12))}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||ty(e))return tk(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==tb(r)?nO.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=tj.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!ty(e))throw Error("invalid uint256");return tE(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,n=n$.check(t,e);return n._difficulty=null==r?null:tj.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return n$.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&tj.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=n$.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;ty(r)&&(r=tj.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),ty(r)&&(r=tj.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return function(e){let t=tf(e);if(t[0]>127)return function(e){let t=tz(e);9!==t.length&&6!==t.length&&rK.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:rY(t[0]).toNumber(),gasPrice:rY(t[1]),gasLimit:rY(t[2]),to:rJ(t[3]),value:rY(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=tj.from(t[6]).toNumber()}catch(e){return r}if(r.r=tE(t[7],32),r.s=tE(t[8],32),tj.from(r.r).isZero()&&tj.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,i=t.slice(0,6);0!==r.chainId&&(i.push(tv(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);let a=tU(tB(i));try{r.from=rZ(a,{r:tv(r.r),s:tv(r.s),recoveryParam:n})}catch(e){}r.hash=tU(e)}return r.type=null,r}(t);switch(t[0]){case 1:let r,n;return 8!==(r=tz(t.slice(1))).length&&11!==r.length&&rK.throwArgumentError("invalid component count for transaction type: 1","payload",tv(t)),n={type:1,chainId:rY(r[0]).toNumber(),nonce:rY(r[1]).toNumber(),gasPrice:rY(r[2]),gasLimit:rY(r[3]),to:rJ(r[4]),value:rY(r[5]),data:r[6],accessList:r0(r[7])},8===r.length||(n.hash=tU(t),r5(n,r.slice(8),r3)),n;case 2:let i,a,o,s;return 9!==(i=tz(t.slice(1))).length&&12!==i.length&&rK.throwArgumentError("invalid component count for transaction type: 2","payload",tv(t)),a=rY(i[2]),o=rY(i[3]),s={type:2,chainId:rY(i[0]).toNumber(),nonce:rY(i[1]).toNumber(),maxPriorityFeePerGas:a,maxFeePerGas:o,gasPrice:null,gasLimit:rY(i[4]),to:rJ(i[5]),value:rY(i[6]),data:i[7],accessList:r0(i[8])},9===i.length||(s.hash=tU(t),r5(s,i.slice(9),r2)),s}return rK.throwError(`unsupported transaction type: ${t[0]}`,e1.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}(e)}receiptLog(e){return n$.check(this.formats.receiptLog,e)}receipt(e){let t=n$.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){let e=tj.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&nO.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):nO.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&nO.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return n$.check(this.formats.filter,e)}filterLog(e){return n$.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let n in e)try{let i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var nR=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};let nM=new e1(to);function nU(e){return null==e?"null":(32!==tb(e)&&nM.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function nL(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return nU(e);{let t={};e.forEach(e=>{t[nU(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function nF(e){if("string"==typeof e){if(32===tb(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+nL(e);else if(nn.isForkEvent(e))throw nM.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+nL(e.topics||[]);throw Error("invalid event - "+e)}function nD(){return new Date().getTime()}function nB(e){return new Promise(t=>{setTimeout(t,e)})}let nW=["block","network","pending","poll"];class nq{constructor(e,t,r){e3(this,"tag",e),e3(this,"listener",t),e3(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],n=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),i={};return n.length>0&&(i.topics=n),r&&"*"!==r&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||nW.indexOf(this.tag)>=0}}let nz={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function nV(e){return tE(tj.from(e).toHexString(),32)}function nH(e){return no.encode(tm([e,tx(nj(nj(e)),0,4)]))}let nG=RegExp("^(ipfs)://(.*)$","i"),nK=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),nG,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function nJ(e,t){try{return t2(nY(e,t))}catch(e){}return null}function nY(e,t){if("0x"===e)return null;let r=tj.from(tx(e,t,t+32)).toNumber(),n=tj.from(tx(e,r,r+32)).toNumber();return tx(e,r+32,r+32+n)}function nZ(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):nM.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function nQ(e){let t=tf(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function nX(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){let i=tf(e[n]);t[n]=nQ(r),t.push(nQ(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return t_(t)}class n0{constructor(e,t,r,n){e3(this,"provider",e),e3(this,"name",r),e3(this,"address",e.formatter.address(t)),e3(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>tj.from(e).eq(1)).catch(e=>{if(e.code===e1.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return nR(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:t_([e,nk(this.name),t||"0x"])},n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=t_(["0x9061b923",nX([tv(tm(n_(this.name).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00",r.data])]));try{let e=yield this.provider.call(r);return tf(e).length%32==4&&nM.throwError("resolver threw error",e1.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=nY(e,0)),e}catch(e){if(e.code===e1.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return nR(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?nY(r,0):null})}_getAddress(e,t){let r=nz[String(e)];if(null==r&&nM.throwError(`unsupported coin type: ${e}`,e1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let n=tf(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return nH(tm([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return nH(tm([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=n[1],t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){let e=nN.default.toWords(n.slice(2));return e.unshift(t),nN.default.encode(r.prefix,e)}}return null}getAddress(e){return nR(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===e1.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",nV(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&nM.throwError("invalid or unsupported coin data",e1.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return nR(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<nK.length;r++){let n=t.match(nK[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:nZ(t)};case"erc721":case"erc1155":{let r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});let a=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;let s=yield this.provider.formatter.address(o[0]),l=tE(tj.from(o[1]).toHexString(),32);if("erc721"===i){let t=this.provider.formatter.callAddress((yield this.provider.call({to:s,data:t_(["0x6352211e",l])})));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){let t=tj.from((yield this.provider.call({to:s,data:t_(["0x00fdd58e",tE(a,32),l])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let c={to:this.provider.formatter.address(o[0]),data:t_([r,l])},d=nJ((yield this.provider.call(c)),0);if(null==d)return null;e.push({type:"metadata-url-base",content:d}),"erc1155"===i&&(d=d.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:d})),d.match(/^ipfs:/i)&&(d=nZ(d)),e.push({type:"metadata-url",content:d});let u=yield ne(d);if(!u)return null;e.push({type:"metadata",content:JSON.stringify(u)});let h=u.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(nG);if(null==t)return null;e.push({type:"url-ipfs",content:h}),h=nZ(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null})}getContentHash(){return nR(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+no.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+no.encode("0x"+r[1])}let n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];let i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+r6("0x"+i[1]).replace(/[=+\/]/g,t=>e[t])}return nM.throwError("invalid or unsupported content hash data",e1.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return nR(this,void 0,void 0,function*(){let t=t1(e);(t=tm([nV(64),nV(t.length),t])).length%32!=0&&(t=tm([t,tE("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",tv(t));return null==r||"0x"===r?null:t2(r)})}}let n1=null,n2=1;class n3 extends ni{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),e3(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=e5(new.target,"getNetwork")(e);t?(e3(this,"_network",t),this.emit("network",t,null)):nM.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return nR(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||nM.throwError("no network detected",e1.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:e3(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return nt(()=>this._ready().then(e=>e,e=>{if(e.code!==e1.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==n1&&(n1=new n$),n1}static getNetwork(e){return function(e){if(null==e)return null;if("number"==typeof e){for(let t in nP){let r=nP[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=nP[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=nP[e.name];if(!t)return"number"!=typeof e.chainId&&nE.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&nE.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var n;r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return nR(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let e=0;e<r.length;e++){let t=r[e],o=t.replace("{sender}",n).replace("{data}",i),s=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield ne({url:o,errorPassThrough:!0},s,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;let c=l.message||"unknown error";if(l.status>=400&&l.status<500)return nM.throwError(`response not found during CCIP fetch: ${c}`,e1.errors.SERVER_ERROR,{url:t,errorMessage:c});a.push(c)}return nM.throwError(`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,e1.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return nR(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(nD()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=nD(),r=e4({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;let i=nD();return(e=tj.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return nR(this,void 0,void 0,function*(){let e=n2++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return void this.emit("didPoll",e);if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)nM.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",nM.makeError("network block skew detected",e1.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,n=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;let i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);let a=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return nR(this,void 0,void 0,function*(){return nM.throwError("provider does not support network detection",e1.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return nR(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield nB(0),this._network;let r=nM.makeError("underlying network changed",e1.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=nD();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=nD(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return nR(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return nR(this,void 0,void 0,function*(){let i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,a)=>{let o=[],s=!1,l=function(){return!!s||(s=!0,o.forEach(e=>{e()}),!1)},c=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,c),o.push(()=>{this.removeListener(e,c)}),n){let r=n.startBlock,i=null,c=o=>nR(this,void 0,void 0,function*(){s||(yield nB(1e3),this.getTransactionCount(n.from).then(d=>nR(this,void 0,void 0,function*(){if(!s){if(d<=n.nonce)r=o;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3)<n.startBlock&&(i=n.startBlock);i<=o;){if(s)return;let r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){let o=r.transactions[i];if(o.hash===e)return;if(o.from===n.from&&o.nonce===n.nonce){if(s)return;let r=yield this.waitForTransaction(o.hash,t);if(l())return;let i="replaced";o.data===n.data&&o.to===n.to&&o.value.eq(n.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),a(nM.makeError("transaction was replaced",e1.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:e,receipt:r}));return}}i++}}s||this.once("block",c)}}),e=>{s||this.once("block",c)}))});if(s)return;this.once("block",c),o.push(()=>{this.removeListener("block",c)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{l()||a(nM.makeError("timeout exceeded",e1.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),o.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return nR(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return tj.from(e)}catch(t){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield e4({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return tj.from(n)}catch(e){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}})}getTransactionCount(e,t){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield e4({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return tj.from(n).toNumber()}catch(e){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}})}getCode(e,t){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield e4({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return tv(n)}catch(e){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}})}getStorageAt(e,t,r){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let n=yield e4({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>tk(e))}),i=yield this.perform("getStorageAt",n);try{return tv(i)}catch(e){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==tb(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&nM.throwError("Transaction hash mismatch from Provider.sendTransaction.",e1.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,n)=>nR(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let a=yield this._waitForTransaction(e.hash,t,n,i);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&nM.throwError("transaction failed",e1.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),e}sendTransaction(e){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>tv(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return nR(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?tj.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?tv(e):null))}),this.formatter.transactionRequest((yield e4(r)))})}_getFilter(e){return nR(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield e4(t)))})}_call(e,t,r){return nR(this,void 0,void 0,function*(){r>=10&&nM.throwError("CCIP read exceeded maximum redirections",e1.errors.SERVER_ERROR,{redirects:r,transaction:e});let n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&tb(i)%32==4)try{let a=tx(i,4),o=tx(a,0,32);tj.from(o).eq(n)||nM.throwError("CCIP Read sender did not match",e1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let s=[],l=tj.from(tx(a,32,64)).toNumber(),c=tj.from(tx(a,l,l+32)).toNumber(),d=tx(a,l+32);for(let t=0;t<c;t++){let r=nJ(d,32*t);null==r&&nM.throwError("CCIP Read contained corrupt URL string",e1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),s.push(r)}let u=nY(a,64);tj.from(tx(a,100,128)).isZero()||nM.throwError("CCIP Read callback selector included junk",e1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let h=tx(a,96,100),p=nY(a,128),f=yield this.ccipReadFetch(e,u,s);null==f&&nM.throwError("CCIP Read disabled or provided no URLs",e1.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});let m={to:n,data:t_([h,nX([f,p])])};return this._call(m,t,r+1)}catch(e){if(e.code===e1.errors.SERVER_ERROR)throw e}try{return tv(i)}catch(r){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}})}call(e,t){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield e4({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield e4({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return tj.from(r)}catch(e){return nM.throwError("bad result from backend",e1.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return nR(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&nM.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&nM.throwError("ENS name not configured",e1.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let r=-128,n={includeTransactions:!!t};if(ty(e=yield e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),ty(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){nM.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return nt(()=>nR(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return nR(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return nt(()=>nR(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return nR(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return nt(()=>nR(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}),{oncePoll:this})})}getLogs(e){return nR(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield e4({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),n$.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return nR(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return nR(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&nM.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return nR(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let n=new n0(this,r,e);if(t!==e&&!(yield n.supportsWildcard()))return null;return n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return nR(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||nM.throwError("network does not support ENS",e1.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+nk(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return nR(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(ty(e))throw t}"string"!=typeof e&&nM.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return nR(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let n=nJ((yield this.call({to:r,data:"0x691f3431"+nk(t).substring(2)})),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return nR(this,void 0,void 0,function*(){let t=null;if(ty(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new n0(this,n,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==e1.errors.CALL_EXCEPTION)throw e}try{let e=nJ((yield this.call({to:n,data:"0x691f3431"+nk(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==e1.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return nM.throwError(e+" not implemented",e1.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let n=new nq(nF(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=nF(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=nF(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=nF(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],n=!1,i=nF(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||!!n||(n=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=nF(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var n5=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})};let n4=new e1(to),n6=["call","estimateGas"];function n8(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=ty(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let n=n8(e[r],t);if(n)return n}return null}if("string"==typeof e)try{return n8(JSON.parse(e),t)}catch(e){}return null}function n9(e,t,r){let n=r.transaction||r.signedTransaction;if("call"===e){let e=n8(t,!0);if(e)return e.data;n4.throwError("missing revert data in call exception; Transaction reverted without a reason string",e1.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=n8(t.body,!1);null==r&&(r=n8(t,!1)),r&&n4.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",e1.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===e1.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText),(i=(i||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&n4.throwError("insufficient funds for intrinsic transaction cost",e1.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&n4.throwError("nonce has already been used",e1.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&n4.throwError("replacement fee too low",e1.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&n4.throwError("legacy pre-eip-155 transactions not supported",e1.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),n6.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&n4.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",e1.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function n7(e){return new Promise(function(t){setTimeout(t,e)})}function ie(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function it(e){return e?e.toLowerCase():e}let ir={};class ii extends ti{constructor(e,t,r){if(super(),e!==ir)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");e3(this,"provider",t),null==r&&(r=0),"string"==typeof r?(e3(this,"_address",this.provider.formatter.address(r)),e3(this,"_index",null)):"number"==typeof r?(e3(this,"_index",r),e3(this,"_address",null)):n4.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return n4.throwError("cannot alter JSON-RPC Signer connection",e1.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new ia(ir,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&n4.throwError("unknown account #"+this._index,e1.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=e6(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=e6(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>n5(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&n4.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),e4({tx:e4(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&n4.throwArgumentError("from address mismatch","transaction",e):t.from=r;let n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&n4.throwError("user rejected transaction",e1.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),n9("sendTransaction",e,n)))})}signTransaction(e){return n4.throwError("signing transactions is unsupported",e1.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return n5(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield nt(()=>n5(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return n5(this,void 0,void 0,function*(){let t="string"==typeof e?t1(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[tv(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&n4.throwError("user rejected signing",e1.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return n5(this,void 0,void 0,function*(){let t="string"==typeof e?t1(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),tv(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&n4.throwError("user rejected signing",e1.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return n5(this,void 0,void 0,function*(){let n=yield rs.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(rs.getPayload(n.domain,t,n.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&n4.throwError("user rejected signing",e1.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),e}})}unlock(e){return n5(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class ia extends ii{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let io={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class is extends n3{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=e5(this.constructor,"defaultUrl")()),"string"==typeof e?e3(this,"connection",Object.freeze({url:e})):e3(this,"connection",Object.freeze(e6(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return n5(this,void 0,void 0,function*(){yield n7(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=e5(this.constructor,"getNetwork");try{return t(tj.from(e).toNumber())}catch(t){return n4.throwError("could not detect network",e1.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return n4.throwError("could not detect network",e1.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new ii(ir,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:e9(r),provider:this});let n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];let i=ne(this.connection,JSON.stringify(r),ie).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[it(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[it(t.address),t.blockTag]];case"getCode":return["eth_getCode",[it(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[it(t.address),tE(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[e5(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[e5(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=it(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return n5(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&tj.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=e6(t)).transaction=e6(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&n4.throwError(e+" not implemented",e1.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return n9(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return!function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return n7(1e3)})}).then(function(){return e._pendingFilter!=t?void e.send("eth_uninstallFilter",[r]):(setTimeout(function(){n()},0),null)}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=e6(io);if(t)for(let e in t)t[e]&&(r[e]=!0);e&&"object"==typeof e||e2.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(t=>{r[t]||e2.throwArgumentError("invalid object key - "+t,"transaction:"+t,e)});let n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=tk(tj.from(e[t]));"gasLimit"===t&&(t="gas"),n[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(n[t]=tv(e[t]))}),e.accessList&&(n.accessList=r0(e.accessList)),n}}let il=new e1(to);class ic extends is{detectNetwork(){var e,t,r,n;let i=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,t=void 0,r=void 0,n=function*(){let e=this.network;return null==e&&((e=yield i.detectNetwork.call(this))||il.throwError("no network detected",e1.errors.UNKNOWN_ERROR,{}),null==this._network&&(e3(this,"_network",e),this.emit("network",e,null))),e},new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(e){a(e)}}function s(e){try{l(n.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})}}function id(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)return e;if("function"==typeof e.toHexString)return e.toHexString();throw Error(`Expected numeric value but received ${e}`)}let iu=e=>[ef.id,em.id].includes(e),ih=async(e,t)=>{if(!iu(e.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(void 0===e.type&&(e.type=2),e.maxFeePerGas)return e;try{let{lastBaseFeePerGas:r}=await t.getFeeData();if(r){let t=r.mul(tj.from(120)).div(tj.from(100));e.maxFeePerGas=id(t),e.maxPriorityFeePerGas=id(tj.from(0))}}catch(e){throw Error(`Failed to set gas price for Arbitrum transaction: ${e}.`)}return e},ip=e=>[56,97].includes(e),im=async(e,t)=>{if(!ip(e.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(void 0===e.type?e.type=0:(1==e.type||2==e.type)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!e.gasPrice){let r=await t.getFeeData();e.gasPrice=r.gasPrice?.toHexString()}return e},ig="abi/5.8.0",iy=new e1(ig);class iw{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){iy.throwArgumentError(e,this.localName,t)}}class iv{constructor(e){e3(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return t_(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(tm(e._data))}writeBytes(e){let t=tf(e),r=t.length%this.wordSize;return r&&(t=tm([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=tf(tj.from(e));return t.length>this.wordSize&&iy.throwError("value out-of-bounds",e1.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=tm([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ib{constructor(e,t,r,n){e3(this,"_data",tf(e)),e3(this,"wordSize",t||32),e3(this,"_coerceFunc",r),e3(this,"allowLoose",n),this._offset=0}get data(){return tv(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ib.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:iy.throwError("data out-of-bounds",e1.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new ib(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return tj.from(this.readBytes(this.wordSize))}}class ix extends iw{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=tJ(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return tJ(tE(e.readValue().toHexString(),20))}}class i_ extends iw{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let ik=new e1(ig);function iE(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return n||ik.throwError("cannot encode object for signature with missing names",e1.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&ik.throwError("cannot encode object for signature with duplicate names",e1.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else ik.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&ik.throwArgumentError("types/value length mismatch","tuple",r);let i=new iv(e.wordSize),a=new iv(e.wordSize),o=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=i.writeUpdatableValue();o.push(e=>{n(e+t)})}else e.encode(i,r)}),o.forEach(e=>{e(i.length)});let s=e.appendWriter(i);return s+e.appendWriter(a)}function iC(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),a=n.subReader(r.toNumber());try{i=t.decode(a)}catch(e){if(e.code===e1.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===e1.errors.BUFFER_OVERRUN)throw e;(i=e).baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});let i=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n]||("length"===n&&(n="_length"),null!=r[n]))return;let a=r[t];a instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw a}}):r[n]=a});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class iA extends iw{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),ik.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return iE(e,n,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&ik.throwError("insufficient data length",e1.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new i_(this.coder));return e.coerce(this.name,iC(e,r))}}class iI extends iw{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class iS extends iw{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=tf(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class iT extends iS{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,tv(super.decode(e)))}}class iP extends iw{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=tf(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,tv(e.readBytes(this.size)))}}class ij extends iw{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class iN extends iw{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=tj.from(t),n=ru.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(rd).mul(rl)))&&this._throwError("value out-of-bounds",t)}else(r.lt(rc)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class iO extends iS{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,t1(t))}decode(e){return t2(super.decode(e))}}class i$ extends iw{constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return iE(e,this.coders,t)}decode(e){return e.coerce(this.name,iC(e,this.coders))}}let iR=new e1(ig),iM={},iU={calldata:!0,memory:!0,storage:!0},iL={calldata:!0,memory:!0};function iF(e,t){if("bytes"===e||"string"===e){if(iU[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&iL[t])return!0;return(iU[t]||"payable"===t)&&iR.throwArgumentError("invalid modifier","name",t),!1}function iD(e,t){for(let r in t)e3(e,r,t[r])}let iB=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),iW=new RegExp(/^(.*)\[([0-9]*)\]$/);class iq{constructor(e,t){e!==iM&&iR.throwError("use fromString",e1.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),iD(this,t);let r=this.type.match(iW);r?iD(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:iq.fromObject({type:r[1],components:this.components}),baseType:"array"}):iD(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=iB.sighash),iB[e]||iR.throwArgumentError("invalid format type","format",e),e===iB.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==iB.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===iB.full?", ":",")+")"):t+=this.type,e!==iB.sighash&&(!0===this.indexed&&(t+=" indexed"),e===iB.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?iq.fromString(e,t):iq.fromObject(e)}static fromObject(e){return iq.isParamType(e)?e:new iq(iM,{name:e.name||null,type:i0(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(iq.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function n(t){iR.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let a={type:"",name:"",state:{allowType:!0}},o=a;for(let r=0;r<e.length;r++){let a=e[r];switch(a){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(r),o.state.allowType=!1,o.type=i0(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),iF(o.type,o.name)&&(o.name=""),o.type=i0(o.type);let s=o;(o=o.parent)||n(r),delete s.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(r),o.indexed=!0,o.name=""),iF(o.type,o.name)&&(o.name=""),o.type=i0(o.type);let l=i(o.parent);o.parent.components.push(l),delete o.parent,o=l;break;case" ":o.state.allowType&&""!==o.type&&(o.type=i0(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(r),o.indexed&&n(r),o.indexed=!0,o.name=""):iF(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(r),o.type+=a,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(r),o.type+=a,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=a,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=a,delete o.state.allowArray):o.state.readArray?o.type+=a:n(r)}}return o.parent&&iR.throwArgumentError("unexpected eof","param",e),delete a.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):iF(o.type,o.name)&&(o.name=""),a.type=i0(a.type),a}(e,!!t),iq.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function iz(e,t){return(function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let a=e[i];","===a&&0===n?(t.push(r),r=""):(r+=a,"("===a?n++:")"===a&&-1==--n&&iR.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>iq.fromString(e,t))}class iV{constructor(e,t){e!==iM&&iR.throwError("use a static from method",e1.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),iD(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return iV.isFragment(e)?e:"string"==typeof e?iV.fromString(e):iV.fromObject(e)}static fromObject(e){if(iV.isFragment(e))return e;switch(e.type){case"function":return iZ.fromObject(e);case"event":return iH.fromObject(e);case"constructor":return iY.fromObject(e);case"error":return iX.fromObject(e);case"fallback":case"receive":return null}return iR.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?iH.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?iZ.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?iY.fromString(e.trim()):"error"===e.split(" ")[0]?iX.fromString(e.substring(5).trim()):iR.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class iH extends iV{format(e){if(e||(e=iB.sighash),iB[e]||iR.throwArgumentError("invalid format type","format",e),e===iB.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==iB.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===iB.full?", ":",")+") ",e!==iB.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?iH.fromString(e):iH.fromObject(e)}static fromObject(e){return iH.isEventFragment(e)?e:("event"!==e.type&&iR.throwArgumentError("invalid event object","value",e),new iH(iM,{name:i2(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(iq.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(i3);t||iR.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:iR.warn("unknown modifier: "+e)}}),iH.fromObject({name:t[1].trim(),anonymous:r,inputs:iz(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function iG(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&iR.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||iR.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=tj.from(r[1]),r[0]):e}function iK(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function iJ(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&iR.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&iR.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||iR.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&iR.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&iR.throwArgumentError("unable to determine stateMutability","value",e),t}class iY extends iV{format(e){if(e||(e=iB.sighash),iB[e]||iR.throwArgumentError("invalid format type","format",e),e===iB.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===iB.sighash&&iR.throwError("cannot format a constructor for sighash",e1.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===iB.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?iY.fromString(e):iY.fromObject(e)}static fromObject(e){if(iY.isConstructorFragment(e))return e;"constructor"!==e.type&&iR.throwArgumentError("invalid constructor object","value",e);let t=iJ(e);return t.constant&&iR.throwArgumentError("constructor cannot be constant","value",e),new iY(iM,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(iq.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?tj.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=iG(e,t)).match(i3);return r&&"constructor"===r[1].trim()||iR.throwArgumentError("invalid constructor string","value",e),t.inputs=iz(r[2].trim(),!1),iK(r[3].trim(),t),iY.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class iZ extends iY{format(e){if(e||(e=iB.sighash),iB[e]||iR.throwArgumentError("invalid format type","format",e),e===iB.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==iB.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===iB.full?", ":",")+") ",e!==iB.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?iZ.fromString(e):iZ.fromObject(e)}static fromObject(e){if(iZ.isFunctionFragment(e))return e;"function"!==e.type&&iR.throwArgumentError("invalid function object","value",e);let t=iJ(e);return new iZ(iM,{type:e.type,name:i2(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(iq.fromObject):[],outputs:e.outputs?e.outputs.map(iq.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?tj.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=iG(e,t)).split(" returns ");r.length>2&&iR.throwArgumentError("invalid function string","value",e);let n=r[0].match(i3);if(n||iR.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&i2(t.name),t.inputs=iz(n[2],!1),iK(n[3].trim(),t),r.length>1){let n=r[1].match(i3);(""!=n[1].trim()||""!=n[3].trim())&&iR.throwArgumentError("unexpected tokens","value",e),t.outputs=iz(n[2],!1)}else t.outputs=[];return iZ.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function iQ(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&iR.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class iX extends iV{format(e){if(e||(e=iB.sighash),iB[e]||iR.throwArgumentError("invalid format type","format",e),e===iB.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==iB.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===iB.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?iX.fromString(e):iX.fromObject(e)}static fromObject(e){return iX.isErrorFragment(e)?e:("error"!==e.type&&iR.throwArgumentError("invalid error object","value",e),iQ(new iX(iM,{type:e.type,name:i2(e.name),inputs:e.inputs?e.inputs.map(iq.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(i3);return r||iR.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&i2(t.name),t.inputs=iz(r[2],!1),iQ(iX.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function i0(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let i1=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function i2(e){return e&&e.match(i1)||iR.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let i3=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$"),i5=new e1(ig),i4=new RegExp(/^bytes([0-9]*)$/),i6=new RegExp(/^(u?int)([0-9]*)$/);new class{constructor(e){e3(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new ix(e.name);case"bool":return new iI(e.name);case"string":return new iO(e.name);case"bytes":return new iT(e.name);case"array":return new iA(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new i$((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new ij(e.name)}let t=e.type.match(i6);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&i5.throwArgumentError("invalid "+t[1]+" bit length","param",e),new iN(r/8,"int"===t[1],e.name)}if(t=e.type.match(i4)){let r=parseInt(t[1]);return(0===r||r>32)&&i5.throwArgumentError("invalid bytes length","param",e),new iP(r,e.name)}return i5.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ib(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new iv(this._getWordSize())}getDefaultValue(e){return new i$(e.map(e=>this._getCoder(iq.from(e))),"_").defaultValue()}encode(e,t){e.length!==t.length&&i5.throwError("types/values length mismatch",e1.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=new i$(e.map(e=>this._getCoder(iq.from(e))),"_"),n=this._getWriter();return r.encode(n,t),n.data}decode(e,t,r){return new i$(e.map(e=>this._getCoder(iq.from(e))),"_").decode(this._getReader(tf(t),r))}},new e1(ig),new e1("contracts/5.8.0");let i8=e=>[ew.id,ev.id,ek.id,eE.id,eS.id,eP.id,eT.id,81457,0xa0c71fd].includes(e),i9=async(e,t)=>{if(!i8(e.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(void 0===e.type&&(e.type=2),e.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete e.gasPrice),e.maxPriorityFeePerGas&&e.maxFeePerGas)return e;try{if(e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=await t.send("eth_maxPriorityFeePerGas",[])),e.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),e.maxPriorityFeePerGas>=e.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!e.maxFeePerGas){let{lastBaseFeePerGas:r}=await t.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=tj.from(r).mul(tj.from(126)).div(tj.from(100)).add(tj.from(e.maxPriorityFeePerGas));e.maxFeePerGas=id(n)}}catch(e){throw Error(`Failed to set gas price for OP stack transaction: ${e}.`)}return e},i7=new e1(tA),ae={},at=tj.from(0),ar=tj.from(-1);function an(e,t,r,n){let i={fault:t,operation:r};return void 0!==n&&(i.value=n),i7.throwError(e,e1.errors.NUMERIC_FAULT,i)}let ai="0";for(;ai.length<256;)ai+=ai;function aa(e){if("number"!=typeof e)try{e=tj.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+ai.substring(0,e):i7.throwArgumentError("invalid decimal size","decimals",e)}function ao(e,t){null==t&&(t=0);let r=aa(t),n=(e=tj.from(e)).lt(at);n&&(e=e.mul(ar));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];let a=e.div(r).toString();return e=1===r.length?a:a+"."+i,n&&(e="-"+e),e}function as(e,t){null==t&&(t=0);let r=aa(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||i7.throwArgumentError("invalid decimal value","value",e);let n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&i7.throwArgumentError("missing value","value",e);let i=e.split(".");i.length>2&&i7.throwArgumentError("too many decimal points","value",e);let a=i[0],o=i[1];for(a||(a="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&an("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";let s=tj.from(a),l=tj.from(o),c=s.mul(r).add(l);return n&&(c=c.mul(ar)),c}class al{constructor(e,t,r,n){e!==ae&&i7.throwError("cannot use FixedFormat constructor; use FixedFormat.from",e1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=aa(n),Object.freeze(this)}static from(e){if(e instanceof al)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||i7.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){let i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&i7.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&i7.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&i7.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new al(ae,t,r,n)}}class ac{constructor(e,t,r,n){e!==ae&&i7.throwError("cannot use FixedNumber constructor; use FixedNumber.from",e1.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&i7.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=as(this._value,this.format.decimals),r=as(e._value,e.format.decimals);return ac.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=as(this._value,this.format.decimals),r=as(e._value,e.format.decimals);return ac.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=as(this._value,this.format.decimals),r=as(e._value,e.format.decimals);return ac.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=as(this._value,this.format.decimals),r=as(e._value,e.format.decimals);return ac.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=ac.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(ad.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=ac.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(ad.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&i7.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=ac.from("1"+ai.substring(0,e),this.format),n=au.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){return null==e?this._hex:(e%8&&i7.throwArgumentError("invalid byte width","width",e),tE(tj.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8))}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return ac.fromString(this._value,e)}static fromValue(e,t,r){var n;return null!=r||null==t||null!=(n=t)&&(tj.isBigNumber(n)||"number"==typeof n&&n%1==0||"string"==typeof n&&n.match(/^-?[0-9]+$/)||ty(n)||"bigint"==typeof n||tp(n))||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),ac.fromString(ao(e,t),al.from(r))}static fromString(e,t){null==t&&(t="fixed");let r=al.from(t),n=as(e,r.decimals);!r.signed&&n.lt(at)&&an("unsigned value cannot be negative","overflow","value",e);let i=null;return new ac(ae,i=r.signed?n.toTwos(r.width).toHexString():tE(i=n.toHexString(),r.width/8),ao(n,r.decimals),r)}static fromBytes(e,t){null==t&&(t="fixed");let r=al.from(t);if(tf(e).length>r.width/8)throw Error("overflow");let n=tj.from(e);return r.signed&&(n=n.fromTwos(r.width)),new ac(ae,n.toTwos(+!r.signed+r.width).toHexString(),ao(n,r.decimals),r)}static from(e,t){if("string"==typeof e)return ac.fromString(e,t);if(tp(e))return ac.fromBytes(e,t);try{return ac.fromValue(e,0,t)}catch(e){if(e.code!==e1.errors.INVALID_ARGUMENT)throw e}return i7.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let ad=ac.from(1),au=ac.from("0.5"),ah=new e1("units/5.8.0"),ap=["wei","kwei","mwei","gwei","szabo","finney","ether"];function af(e,t){if("string"!=typeof e&&ah.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=ap.indexOf(t);-1!==e&&(t=3*e)}return as(e,null!=t?t:18)}var am=e.i(507686);let ag=(0,am.default)(fetch,{retries:3,retryDelay:500}),ay=e=>[eC.id,eA.id].includes(e),aw=e=>({maxPriorityFee:af(e.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:af(e.maxFee.toFixed(9),"gwei").toHexString()}),av=async e=>{let t="";switch(e){case eC.id:t="https://gasstation.polygon.technology/v2";break;case eA.id:t="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${e} does not support polygon gas stations`)}let r=await ag(t),n=await r.json();if(r.status>399)throw n;return{safeLow:aw(n.safeLow),standard:aw(n.standard),fast:aw(n.fast)}};async function ab(e){if(!ay(e.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(void 0===e.type&&(e.type=2),e.maxPriorityFeePerGas&&e.maxFeePerGas)return e;try{let{standard:t}=await av(e.chainId);e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=t.maxPriorityFee),e.maxFeePerGas||(e.maxFeePerGas=t.maxFee),e.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete e.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return e}let ax=async(e,t)=>{if(void 0===e.type&&(e.type=2),2===e.type){if(!e.maxFeePerGas||!e.maxPriorityFeePerGas){let r=await t.getFeeData();e.maxFeePerGas||(e.maxFeePerGas=r.maxFeePerGas?.toHexString()),e.maxPriorityFeePerGas||(e.maxPriorityFeePerGas=r.maxPriorityFeePerGas?.toHexString())}}else if(!e.gasPrice){let r=await t.getFeeData();e.gasPrice=r.gasPrice?.toHexString()}return e};async function a_(e,t){try{return(await t.estimateGas(e)).toHexString()}catch(n){let r;if("message"in n&&n.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'value'`),r=await async function({txRequest:e,provider:t}){try{let r={...e,value:void 0};return(await t.estimateGas(r)).toHexString()}catch(e){return console.warn(`Gas estimation failed with error: ${e} when omitting the 'value'`),null}}({txRequest:e,provider:t})),r||(console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from'`),r=await async function({txRequest:e,provider:t}){try{let r={...e,from:void 0};return(await t.estimateGas(r)).toHexString()}catch(e){return console.warn(`Gas estimation failed with error: ${e} when omitting the 'from' address`),null}}({txRequest:e,provider:t})),!r)throw n;return r}}let ak=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new eW(`Unsupported chainId ${e}`,4901);return new ic(a.rpcUrls.privyWalletOverride&&a.rpcUrls.privyWalletOverride.http[0]?a.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:a.rpcUrls.privy?.http[0]?{url:a.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:a.rpcUrls.public?.http[0]?a.rpcUrls.public?.http[0]:a.rpcUrls.default?.http[0])};function aE(e){return/^-?0x[a-f0-9]+$/i.test(e)}async function aC(e,t,r){if(t.chainId=Number(t.chainId),function(e){for(let t of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=e[t];if(void 0!==r&&!function(e){let t="number"==typeof e,r="bigint"==typeof e,n="string"==typeof e&&aE(e);return t||r||n}(r))throw Error(`Transaction request property '${t}' must be a valid number, bigint, or hex string representing a quantity`)}if("number"!=typeof e.chainId)throw Error("Transaction request property 'chainId' must be a number")}(t),t.from||(t.from=e),!t.nonce){let n=new ta(e,r);t.nonce=await n.getTransactionCount("pending")}return t.gasLimit||(t.gas?(t.gasLimit=t.gas,delete t.gas):t.gasLimit=await a_(t,r)),"string"==typeof t.type&&aE(t.type)&&(t.type=Number(t.type)),[23294,23295].includes(t.chainId)&&(t.type=0),0===(t=ay(t.chainId)?await ab(t):iu(t.chainId)?await ih(t,r):i8(t.chainId)?await i9(t,r):ip(t.chainId)?await im(t,r):await ax(t,r)).type&&delete t.accessList,2!==t.type&&(delete t.maxPriorityFeePerGas,delete t.maxFeePerGas),t}function aA(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function aI(e,t,r,n,i=!1,a,o){let s=i,l=async a=>{if(s){a===+!i?n():r.current?.reject(new eB("missing_or_invalid_mfa","MFA verification failed, retry."));let s=await new Promise((e,n)=>{t.current={resolve:e,reject:n},setTimeout(()=>{let e=new eB("mfa_timeout","Timed out waiting for MFA code");r.current?.reject(e),n(e)},o)});return await e(s)}return await e()},c=null;for(let e=0;e<a;e++)try{c=await l(e),r.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw r.current?.resolve(void 0),e;s=!0}if(null===c){let e=new eB("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw r.current?.reject(e),e}return c}let aS=(a8=0,()=>"id-"+a8++),aT=(e,t)=>"bigint"==typeof t?t.toString():t,aP=(e,{ms:t,msg:r})=>Promise.race([e,aA(t??15e3).then(()=>Promise.reject(Error(r)))]),aj=new class{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};class aN{invokeWithMfa(e,t){return aP(aI(r=>aP(this.waitForReady().then(()=>e(r)),{msg:t.timeoutMsg,ms:t.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),t.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return aP(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return aP(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(t=>this.invoke("privy:wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return aP(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(t=>this.invoke("privy:solana-wallet:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(t=>this.invoke("privy:delegated-actions:consent",{...t,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:verify",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:init-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:submit-enrollment",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(t=>this.invoke("privy:mfa:unenroll",{...t,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return aP(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:create",{...t,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(t=>this.invoke("privy:user-signer:sign",{...t,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return aP(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:set-recovery",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return aP(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:recover",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(t=>this.invoke("privy:wallets:rpc",{...t,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:t,resolve:r}=aj.dequeue(e.event,e.id);return void 0!==e.error?t(new eB(e.error.type,e.error.message)):r(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,t)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(t),await aA(150)})}invoke(e,t){let r=`${e}${JSON.stringify(t,aT)}`;if("privy:wallet:create"===e||"privy:solana-wallet:create"===e){let e=this.cache.get(r);if(e)return e}let n=new Promise((r,n)=>{let i=aS();aj.enqueue(i,{resolve:r,reject:n}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:i,event:e,data:t}),"*")}).finally(()=>{this.cache.delete(r)});return this.cache.set(r,n),n}constructor(e,t){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=t}}var aO=e.i(785373);let a$=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"],aR=e=>V.Buffer.from(e,"utf8"),aM=e=>`0x${e.toString("hex")}`;var aU=e.i(305456);async function aL(e,t){let r=(0,aU.default)(t);if(void 0===r)throw new eR({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=V.Buffer.from(r).toString("base64"),{signature:i}=await e({message:n});return{signature:i}}async function aF(e,t,{wallet_id:r,...n}){let i={version:1,url:e.getCompiledPath(eu,{params:{wallet_id:r}}),method:eu.method,headers:{"privy-app-id":e.app.appId},body:{...n}},{signature:a}=await aL(t,i);return await e.fetchPrivyRoute(eu,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":a}})}function aD(e){if("number"==typeof e||"bigint"==typeof e)return`0x${BigInt(e).toString(16)}`;if("string"==typeof e)return/^0x[0-9a-fA-F]*$/.test(e)?e:aM(aR(e))}async function aB({context:e,account:t,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:e,account:t,rpcRequest:r}){var n;switch(r.method){case"personal_sign":{let[n]=r.params,i=await aF(e,e.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:t.id,params:n.startsWith("0x")?{message:n.slice(2),encoding:"hex"}:{message:n,encoding:"utf-8"}});if("personal_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"eth_signTransaction":{let[n]=r.params,i=await aF(e,e.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:t.id,params:{transaction:{from:n.from,to:n.to,nonce:aD(n.nonce),chain_id:aD(n.chainId),data:function(e){if(void 0!==e)return"string"==typeof e?/^0x[0-9a-fA-F]*$/.test(e)?e:aM(aR(e)):aM(V.Buffer.from(Uint8Array.from(e)))}(n.data),value:aD(n.value),type:n.type,gas_limit:aD(n.gasLimit),gas_price:aD(n.gasPrice),max_fee_per_gas:aD(n.maxFeePerGas),max_priority_fee_per_gas:aD(n.maxPriorityFeePerGas)}}});if("eth_signTransaction"!==i.method)throw Error("Unable to sign transaction");return{data:i.data.signed_transaction}}case"eth_signTypedData_v4":{let[,i]=r.params,a=await aF(e,e.signRequest,{chain_type:"ethereum",method:r.method,wallet_id:t.id,params:{typed_data:("string"==typeof(n=i)&&(n=JSON.parse(n)),{types:n.types,primary_type:String(n.primaryType),domain:n.domain,message:n.message})}});if("eth_signTypedData_v4"!==a.method)throw Error("Unable to sign typed data");return{data:a.data.signature}}case"eth_sign":{let[,n]=r.params,i=await aF(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:/^0x[0-9a-fA-F]*$/.test(n)?n:aM(aR(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"secp256k1_sign":{let[n]=r.params,i=await aF(e,e.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:/^0x[0-9a-fA-F]*$/.test(n)?n:aM(aR(n))}});if("secp256k1_sign"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${r.method}`)}}({context:e,account:t,rpcRequest:r.request});case"solana":return async function({context:e,account:t,rpcRequest:r}){if("signMessage"===r.method){let{message:n}=r.params,i=await aF(e,e.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:t.id,params:{message:n,encoding:"base64"}});if("signMessage"!==i.method)throw Error("Unable to sign message");return{data:i.data.signature}}}({context:e,account:t,rpcRequest:r.request})}}class aW extends aO.default{async request(e){let t;if(t=e.method,a$.includes(t))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let t=e.params?.[0];return this.handleSendTransaction(t)}case"eth_populateTransactionRequest":{let t=e.params?.[0];return this.handlePopulateTransaction(t)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let t={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(t.chainId),t}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=ak(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let t=this.ensureChainId(e);return aC(this._account.address,t,this._jsonRpcProvider)}async handleSendTransaction(e){let t=this.ensureChainId(e),r=await aC(this._account.address,t,this._jsonRpcProvider),n=await this.handleIFrameRpc({method:"eth_signTransaction",params:[r]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[n]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let t={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(t.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[t])}catch(e){console.warn(`Gas estimation failed with error: ${e}. Retrying gas estimation by omitting the 'from' address`);try{return delete t.from,await this._jsonRpcProvider.send("eth_estimateGas",[t])}catch(t){throw console.warn(`Gas estimation failed with error: ${t} when omitting the 'from' address`),e}}}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new eq(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new eq(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.internalSwitchEthereumChain(t)}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let r=this._account;if(eU(r)){let{data:n}=await aB({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._walletProxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"ethereum",request:e}});return n}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t})}catch(r){let e=eV(r);if(e&&"privy"===this._account.recovery_method)await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:t});else{if(!e||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new eR({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}return(await this._walletProxy.rpcWallet({accessToken:t,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new eR({code:"embedded_wallet_request_error",error:t})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,chains:a,onNeedsRecovery:o,chainId:s=a[0].id,appApi:l}){super(),this._walletProxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._chainId=s,this._chains=a,this._onNeedsRecovery=o,this._jsonRpcProvider=ak(s,a,{rpcUrls:[]},{appId:l.appId}),this._appApi=l}}function aq(e){return"version"in e}function az(e,t){let r=(aq(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}class aV{async request(e){if(!await this._privyInternal.getAccessToken())throw new eR({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if("privy-v2"!==this._account.recovery_method)try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let t=eV(r);if(t&&"privy"===this._account.recovery_method)await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!t||!this._onNeedsRecovery)throw r;{let e;await new Promise(async(t,r)=>{e=setTimeout(()=>r(new eR({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await this._onNeedsRecovery?.({recoveryMethod:this._account.recovery_method,onRecovered:()=>t(!0)})}).finally(()=>clearTimeout(e))}}}}async signMessageRpc(e,t){let r=this._account;if(!eU(r))return(await this._proxy.rpcWallet({accessToken:t,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:n}=await aB({context:{app:this._app,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e),signRequest:({message:e})=>this._proxy.signWithUserSigner({accessToken:t,message:e})},account:r,rpcRequest:{chainType:"solana",request:e}});return{signature:n}}}async handleIFrameRpc(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t),await this.signMessageRpc(e,t)}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new eR({code:"embedded_wallet_request_error",error:t})}}async handleSignAndSendTransaction(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r,connection:n,options:i}=e.params,a=az(r,this._account.address),o=aq(r)?V.Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:s}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},t);return r.addSignature(a,V.Buffer.from(s,"base64")),{signature:await n.sendRawTransaction(r.serialize(),i)}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:t}),new eR({code:"embedded_wallet_request_error",error:t})}}async handleSignTransaction(e){try{let t=await this._privyInternal.getAccessToken();if(!t)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(t);let{transaction:r}=e.params,n=az(r,this._account.address),i=aq(r)?V.Buffer.from(r.message.serialize()):r.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:i.toString("base64")}},t);return r.addSignature(n,V.Buffer.from(a,"base64")),{signedTransaction:r}}catch(r){console.error(r);let t=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:t}),new eR({code:"embedded_wallet_request_error",error:t})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:t,account:r,entropyId:n,entropyIdVerifier:i,onNeedsRecovery:a,app:o}){this._proxy=e,this._privyInternal=t,this._account=r,this._entropyId=n,this._entropyIdVerifier=i,this._onNeedsRecovery=a,this._app=o}}class aH{setMessagePoster(e){this._proxy=new aN(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let t=await this._privyInternal.getAccessToken();if(!t)throw new eR({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:r}=await this._proxy.signWithUserSigner({accessToken:t,message:e.message});return{signature:r}}async add(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await eG({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:e.chainType});else{let t=await this._privyInternal.getAccessToken();if(!t)throw new eR({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:t,...e})}let{user:t}=await this._privyInternal.refreshSession();return{user:t}}async getBitcoinProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return eU(e)||await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}),new eL({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r})}async create({password:e,recoveryMethod:t,recoveryToken:r,recoveryKey:n,recoverySecretOverride:i,iCloudRecordNameOverride:a,solanaAccount:o,skipCallbacks:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode){if(t&&!t.startsWith("privy"))throw new eR({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await eG({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"ethereum"})}else{let s;if(s=t||(e?"user-passcode":"privy"),e&&"string"!=typeof e)throw Error("Invalid recovery password, must be a string");if("privy"===s&&this._privyInternal.config?.embedded_wallet_config.require_user_password_on_create)throw Error("Password not provided yet is required by App configuration");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to create an embedded wallet");let{address:c}=await this._proxy.create({accessToken:l,recoveryMethod:s,recoveryKey:n,recoveryPassword:e,recoveryAccessToken:r,recoverySecretOverride:i,iCloudRecordNameOverride:a,solanaAddress:o?.address});if(!c)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(s)}async createSolana(e){if(!this._proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if("user-controlled-server-wallets-only"===this._privyInternal.config?.embedded_wallet_config.mode)await eG({context:{app:this._appApi,fetchPrivyRoute:(...e)=>this._privyInternal.fetch(...e),getCompiledPath:(...e)=>this._privyInternal.getPath(...e)},chainType:"solana"});else{let t=await this._privyInternal.getAccessToken();if(!t)throw new eR({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e?.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:r}=await this._proxy.createSolana({accessToken:t,ethereumAddress:e?.ethereumAccount?.address});if(!r)throw new eR({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:t}){if(!this._proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let r=await this._privyInternal.getAccessToken();if(!r)throw new eR({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:r,delegatedWallets:e,rootWallet:t})}async getProvider(e,t,r,n,i){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return eU(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:t,recoveryKey:i,recoveryAccessToken:r,recoverySecretOverride:n}),new aW({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a,recoveryKey:o,onNeedsRecovery:s}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return eU(e)||(!s||n||i||a||o)&&await this._load({entropyId:t,entropyIdVerifier:r,wallet:e,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a,recoveryKey:o}),new aW({account:e,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:s,appApi:this._appApi})}async getSolanaProvider(e,t,r,n,i,a,o){if(!this._proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return eU(e)||(!o||n||i||a)&&await this._load({wallet:e,entropyId:t,entropyIdVerifier:r,recoveryPassword:n,recoveryAccessToken:i,recoverySecretOverride:a}),new aV({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:t,entropyIdVerifier:r,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:t,...r}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(eU(t))throw new eR({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});(function({currentRecoveryMethod:e,upgradeToRecoveryMethod:t}){switch(e){case"privy":case"user-passcode":case"recovery-encryption-key":return;case"icloud":case"google-drive":if(e===t)throw Error("Cannot upgrade to the existing cloud platform");return;default:throw Error("Unknown recovery method")}})({currentRecoveryMethod:t.recovery_method,upgradeToRecoveryMethod:"icloud-native"===r.recoveryMethod?"icloud":r.recoveryMethod}),await this._load("solana"===t.chain_type?{wallet:t,entropyId:t.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"});let n=await this._privyInternal.getAccessToken();if(!n)throw Error("User must be logged in to interact with embedded wallets");let i=t.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});try{let e;if("user-passcode"===r.recoveryMethod)e={recoveryMethod:"user-passcode",recoveryPassword:r.password};else if("google-drive"===r.recoveryMethod)e={recoveryMethod:"google-drive",recoveryAccessToken:r.recoveryAccessToken};else if("icloud"===r.recoveryMethod)e={recoveryMethod:"icloud",recoveryAccessToken:r.recoveryAccessToken};else if("icloud-native"===r.recoveryMethod)e={recoveryMethod:"icloud-native",iCloudRecordNameOverride:r.iCloudRecordNameOverride,recoverySecretOverride:r.recoverySecretOverride};else if("recovery-encryption-key"===r.recoveryMethod)e={recoveryMethod:"recovery-encryption-key",recoveryKey:r.recoveryKey};else{if("privy"!==r.recoveryMethod)throw Error(`Unknown recovery method: ${r.recoveryMethod}`);e={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:n,entropyId:t.address,entropyIdVerifier:"solana"===t.chain_type?"solana-address-verifier":"ethereum-address-verifier",...e}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:t.address,target_recovery_method:r.recoveryMethod,existing_recovery_method:i});let{user:a}=await this._privyInternal.refreshSession();return{user:a,provider:"ethereum"!==t.chain_type?null:new aW({account:t,entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(e){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:t.address,recovery_method:t.recovery_method,error:e instanceof Error?e.message:"Unable to recover wallet"}),e}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(e){return console.error(e),!1}}async _load({entropyId:e,entropyIdVerifier:t,wallet:r,recoveryPassword:n,recoveryKey:i,recoveryAccessToken:a,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let s=await this._privyInternal.getAccessToken();if(!s)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:s,entropyId:e,entropyIdVerifier:t}),e}catch(l){if(eV(l))try{if("privy"===r.recovery_method){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:s,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("user-passcode"===r.recovery_method&&n){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let i=await this._proxy.recover({accessToken:s,recoveryPassword:n,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),i.entropyId}if(["google-drive","icloud"].includes(r.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:s,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}if("icloud"===r.recovery_method&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:"icloud-native"});let n=await this._proxy.recover({accessToken:s,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:"icloud-native"}),n.entropyId}if("recovery-encryption-key"===r.recovery_method&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:r.address,recovery_method:r.recovery_method});let n=await this._proxy.recover({accessToken:s,recoveryKey:i,entropyId:e,entropyIdVerifier:t});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:r.address,recovery_method:r.recovery_method}),n.entropyId}}catch(t){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:t instanceof Error?t.message:`Unable to recover wallet: ${e}`}),t}throw l}}constructor(e,t,r,n,i,a){if(this._chains=Array.from(ej),this._privyInternal=e,t&&(this._proxy=new aN(t,i),n.setProxy(this._proxy)),r){let e=eO(r);this._chains=e}this._mfa=n,this._mfaPromises=i,this._appApi=a}}var aG=aO;class aK extends aG.default{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}}var aJ,aY,aZ,aQ,aX,a0,a1,a2,a3,a5,a4,a6,a8,a9,a7=e.i(261940),oe=((a9={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",a9.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",a9.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",a9.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",a9.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",a9.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",a9.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",a9.INVALID_DATA="invalid_data",a9.INVALID_CREDENTIALS="invalid_credentials",a9.INVALID_CAPTCHA="invalid_captcha",a9.LINKED_TO_ANOTHER_USER="linked_to_another_user",a9.ALLOWLIST_REJECTED="allowlist_rejected",a9.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",a9.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",a9.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",a9.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",a9.TOO_MANY_REQUESTS="too_many_requests",a9.INVALID_ORIGIN="invalid_origin",a9.MISSING_ORIGIN="missing_origin",a9.INVALID_NATIVE_APP_ID="invalid_native_app_id",a9.TOKEN_ALREADY_USED="token_already_used",a9.ALREADY_LOGGED_OUT="already_logged_out",a9.NOT_SUPPORTED="not_supported",a9.USER_UNSUBSCRIBED="user_unsubscribed",a9.MAX_APPS_REACHED="max_apps_reached",a9.USER_LIMIT_REACHED="max_accounts_reached",a9.DEVICE_REVOKED="device_revoked",a9.WALLET_PASSWORD_EXISTS="wallet_password_exists",a9.OAUTH_STATE_MISMATCH="oauth_state_mismatch",a9.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",a9.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",a9.DISALLOWED_LOGIN_METHOD="disallowed_login_method",a9.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",a9.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",a9.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",a9.CANNOT_SET_PASSWORD="cannot_set_password",a9.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",a9.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",a9.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",a9.USER_DOES_NOT_EXIST="user_does_not_exist",a9.ALREADY_EXISTS="resource_already_exists",a9.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",a9.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",a9.FEATURE_NOT_ENABLED="feature_not_enabled",a9.INSUFFICIENT_FUNDS="insufficient_funds",a9.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",a9.INVALID_POLICY_FORMAT="invalid_policy_format",a9.POLICY_VIOLATION="policy_violation",a9.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",a9.INVALID_REQUEST="invalid_request",a9);let ot={path:"/api/v1/apps/:app_id",method:"GET"},or={path:"/api/v1/analytics_events",method:"POST"},on={path:"/api/v1/sessions",method:"POST"},oi={path:"/api/v1/sessions/logout",method:"POST"};var oa=aO,oo=e.i(39793),oo=oo;function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}var ol=function e(t,r){function n(e,n,i){if("undefined"!=typeof document){"number"==typeof(i=os({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var o in i)i[o]&&(a+="; "+o,!0!==i[o]&&(a+="="+i[o].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+a}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},i=0;i<r.length;i++){var a=r[i].split("="),o=a.slice(1).join("=");try{var s=decodeURIComponent(a[0]);if(n[s]=t.read(o,s),e===s)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",os({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,os({},this.attributes,t))},withConverter:function(t){return e(os({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let oc=Promise.allSettled.bind(Promise)??(e=>Promise.all(e.map(e=>e.then(e=>({status:"fulfilled",value:e})).catch(e=>({status:"rejected",reason:e}))))),od="privy:token",ou="privy-token",oh="privy:refresh_token",op="privy-refresh-token",of="privy:id-token",om="privy-id-token",og="privy-session";class oy extends oa.default{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(od);try{return"string"==typeof e?new el(e).value:null}catch(e){return console.error(e),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(oh);return"string"==typeof e?e:null}async getIdentityToken(){let e=await this._storage.get(of);return"string"==typeof e?e:null}get mightHaveServerCookies(){try{let e=ol.get(og);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,t){return this.mightHaveServerCookies||"string"==typeof e&&"string"==typeof t}tokenIsActive(e){if(!e)return!1;let t=el.parse(e);return null!==t&&!t.isExpired(30)}async destroyLocalState(e){await oc([this._storage.del(od),this._storage.del(oh),this._storage.del(of),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),ol.remove(ou),ol.remove(op),ol.remove(om),ol.remove(og),e?.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){if("string"==typeof e){let t=await this._storage.get(od);if(await this._storage.put(od,e),!this._isUsingServerCookies){let t=el.parse(e)?.expiration;ol.set(ou,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(od);await this._storage.del(od),ol.remove(ou),null!==e&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){"string"==typeof e?(await this._storage.put(oh,e),this._isUsingServerCookies||(ol.set(og,"t",{sameSite:"Strict",secure:!0,expires:30}),ol.set(op,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(oh),ol.remove(op),ol.remove(og),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let t=(await oc([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(e=>"rejected"===e.status);t.length>0&&this.emit("error_storing_tokens",t.map(e=>String(e.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){if("string"==typeof e){let t=await this._storage.get(of);if(await this._storage.put(of,e),!this._isUsingServerCookies){let t=el.parse(e)?.expiration;ol.set(om,e,{sameSite:"Strict",secure:!0,expires:t?new Date(1e3*t):void 0})}t!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let e=await this._storage.get(of);await this._storage.del(of),ol.remove(om),null!==e&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&"string"==typeof e)return e;let t=oo.encode(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,t),t}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}}oy.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];let ow=()=>{},ov={NONE:-1/0,ERROR:1,WARN:2,INFO:3,DEBUG:1/0},ob="privy:caid";class ox{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){if(this.isReady)this.callbacks?.setIsReady?.(!0);else{if(!await this.isStorageAccessible())throw new eR({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),this._config?.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),this.callbacks?.setIsReady?.(!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:t,query:r}){let n;return`${this.baseUrl}${n=e.path,t?Object.entries(t).reduce((e,[t,r])=>e.replace(`:${t}`,`${r}`),n):n}${function(e){let t=new URLSearchParams;for(let r in e)null!=e[r]&&t.append(r,String(e[r]));return Array.from(t).length?"?"+t.toString():""}(r)}`}async fetch(e,{body:t,params:r,query:n,headers:i,onRequest:a=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:r,query:n}),{method:e.method,body:JSON.stringify(t),headers:i}),s=await a(o),l=await this._fetch(o,s),c=await l.json();if(l.status>299)throw new e$(c);return c}async _beforeRequestWithoutInitialize(e){let t,r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:(t=new AbortController,setTimeout(()=>t.abort(),2e4),t.signal),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(ot,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(ob);if("string"==typeof e&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=(0,a7.v4)()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(ob,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(ob)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,t){try{await this.fetch(or,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:t},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch(e){}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new eR({code:"storage_error",error:"Unable to access storage"});let t=await this.session.getRefreshToken()??void 0,r=t??"key",n=this._cache.get(r);if(n)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await n;let i=this._refreshSession(t,e);this._cache.set(r,i);try{return await i}finally{this._cache.delete(r)}}async _refreshSession(e,t){let r=await this.session.getToken();if(!this.session.hasRefreshCredentials(r,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new e$({code:oe.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${on.path}`);let r=await this.fetch(on,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),n=r.session_update_action;return this.logger.debug(`[privy:refresh] response: ${n}`),t||this.callbacks?.setUser?.(r.user),"set"===n&&(await this.session.updateWithTokensResponse(r),this.logger.debug("[privy:refresh] tokens stored")),"clear"===n&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),t||this.callbacks?.setUser?.(null)),"ignore"===n&&r.token&&(await this.session.storeToken(r.token),this.logger.debug("[privy:refresh] access token stored"),r.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(r.identity_token))),this.logger.debug("[privy:refresh] returning response"),r}catch(e){throw this.logger.debug(`[privy:refresh] error: ${e.message??"unknown error"}`),e instanceof e$&&e.code===oe.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),t||this.callbacks?.setUser?.(null)),e}}async getAccessToken(){let[e,t]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,t)){let t=await this.refreshSession(),r=await this.session.getToken();return t.token||this.logger.debug("[privy:getAccessToken] expected token received null"),t.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),r===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),t.token??r}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${(0,a7.v4)()}`,t="blobby";await this._storage.put(e,t);let r=await this._storage.get(e);return await this._storage.del(e),r===t}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.53.4",this._cache=new Map,this.logger=(({level:e}={level:"ERROR"})=>({get level(){return e},error:ov[e]>=ov.ERROR?console.error:ow,warn:ov[e]>=ov.WARN?console.warn:ow,info:ov[e]>=ov.INFO?console.info:ow,debug:ov[e]>=ov.DEBUG?console.debug:ow}))({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new oy({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=(0,am.default)(globalThis.fetch,{retries:3,retryDelay:e=>3**e*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",e=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:e})})}}let o_={path:"/api/v1/users/me/accept_terms",method:"POST"};class ok{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(o_,{})}}constructor(e){this._privyInternal=e}}let oE={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},oC=e=>"wallet"===e.type&&"privy"===e.wallet_client_type&&"embedded"===e.connector_type,oA=e=>e?e.linked_accounts.filter(oC).filter(e=>"ethereum"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],oI=e=>oA(e).find(e=>0===e.wallet_index)??null,oS=e=>e?e.linked_accounts.filter(oC).filter(e=>"solana"===e.chain_type).sort((e,t)=>e.wallet_index-t.wallet_index):[],oT=async(e,t,r)=>{let n,i,a,o,s=(n=t.user,!("off"===(i=r?.ethereum?.createOnLogin??"off")||oA(n).length>0||n.linked_accounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chain_type).length>0&&"all-users"!==i)),l=(a=t.user,!("off"===(o=r?.solana?.createOnLogin??"off")||oS(a).length>0||a.linked_accounts.filter(e=>"wallet"===e.type&&"solana"===e.chain_type).length>0&&"all-users"!==o));if(s&&l){let r=await e.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await e.createSolana({ethereumAccount:oI(r.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}}return s?{...await e.create({recoveryMethod:"privy",solanaAccount:oS(t.user).find(e=>0===e.wallet_index)??null??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:l?{...await e.createSolana({ethereumAccount:oI(t.user)??void 0}),is_new_user:t.is_new_user,oauth_tokens:t.oauth_tokens}:t};class oP{async syncWithToken(e,t,r){let n=await this._privyInternal.fetch(oE,{body:{token:e,mode:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await oT(this._embedded,n,t?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oj={path:"/api/v1/passwordless/authenticate",method:"POST"},oN={path:"/api/v1/passwordless/init",method:"POST"},oO={path:"/api/v1/passwordless/link",method:"POST"},o$={path:"/api/v1/passwordless/unlink",method:"POST"},oR={path:"/api/v1/passwordless/update",method:"POST"};class oM{async sendCode(e,t){return this._privyInternal.fetch(oN,{body:{email:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(oj,{body:{email:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oT(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,t){await this._privyInternal.fetch(oO,{body:{email:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:t,code:r}){await this._privyInternal.fetch(oR,{body:{oldAddress:e,newAddress:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(o$,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oU={path:"/api/v1/farcaster/init",method:"POST"},oL={path:"/api/v1/farcaster/authenticate",method:"POST"},oF={path:"/api/v1/farcaster/link",method:"POST"},oD={path:"/api/v1/farcaster/unlink",method:"POST"},oB={path:"/api/v1/farcaster/status",method:"GET"},oW={path:"/api/v2/farcaster/init",method:"POST"},oq={path:"/api/v2/farcaster/authenticate",method:"POST"};class oz{async initializeAuth({relyingParty:e,redirectUrl:t,token:r}){return await this._privyInternal.fetch(oU,{body:{relying_party:e,redirect_url:t,token:r}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(oB,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:t,signature:r,fid:n,mode:i},a){let o=await this._privyInternal.fetch(oL,{body:{channel_token:e,message:t,signature:r,fid:n,mode:i}});await this._privyInternal.session.updateWithTokensResponse(o);let s=await oT(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async link({channel_token:e,message:t,signature:r,fid:n}){await this._privyInternal.fetch(oF,{body:{channel_token:e,message:t,signature:r,fid:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(oD,{body:{fid:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class oV{async initializeAuth(){return await this._privyInternal.fetch(oW,{body:{}})}async authenticate({message:e,signature:t,fid:r},n){let i=await this._privyInternal.fetch(oq,{body:{message:e,signature:t,fid:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oT(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oH={path:"/api/v1/guest/authenticate",method:"POST"};class oG{async create(e){let t=await this._privyInternal.session.getOrCreateGuestCredential(),r=await this._privyInternal.fetch(oH,{body:{guest_credential:t}});await this._privyInternal.session.updateWithTokensResponse(r);let n=await oT(this._embedded,r,e?.embedded);return this._privyInternal.callbacks?.setUser?.(n.user),n}constructor(e,t){this._privyInternal=e,this._embedded=t}}let oK={path:"/api/v1/oauth/authenticate",method:"POST"},oJ={path:"/api/v1/oauth/init",method:"POST"},oY={path:"/api/v1/oauth/link",method:"POST"},oZ={path:"/api/v1/oauth/unlink",method:"POST"};var oo=oo;let oQ="privy:state_code",oX="privy:code_verifier";async function o0(e,t){let r=(new TextEncoder).encode(e);return new Uint8Array(await t("SHA-256",r))}function o1(){return oo.encode(crypto.getRandomValues(new Uint8Array(36)))}async function o2({codeVerifier:e,method:t="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if("S256"!=t)return e;{let t=await o0(e,r);return oo.encode(t)}}class o3{async generateURL(e,t){let r=o1(),n=o1(),i=await o2({codeVerifier:r,digest:this._crypto?.digest});return await Promise.all([this._storage.put(oX,r),this._storage.put(oQ,n)]),this._privyInternal.fetch(oJ,{body:{redirect_to:t,provider:e,code_challenge:i,state_code:n}})}async loginWithCode(e,t,r,n,i,a){let[o,s]=await Promise.all([this._storage.get(oX),this._storage.get(oQ)]);if(s!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:s??"",returnedStateCode:t??""}),new eR({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let l=await this._privyInternal.fetch(oK,{body:{authorization_code:e,code_type:n,state_code:s,code_verifier:o,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let c=await oT(this._embedded,l,a?.embedded);return await Promise.all([this._storage.del(oX),this._storage.del(oQ)]),this._privyInternal.callbacks?.setUser?.(c.user),c}async linkWithCode(e,t,r,n){let[i,a]=await Promise.all([this._storage.get(oX),this._storage.get(oQ)]);if(a!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:r,storedStateCode:a??"",returnedStateCode:t??""}),new eR({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(oY,{body:{authorization_code:e,code_type:n,state_code:a,code_verifier:i}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let s=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(oX),this._storage.del(oQ)]),{user:s.user,identity_token:s.identity_token}}async unlink(e,t){await this._privyInternal.fetch(oZ,{body:{provider:e,subject:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,t,r,n){this._privyInternal=e,this._embedded=t,this._storage=r,this._crypto=n}}let o5={path:"/api/v1/passkeys/link",method:"POST"},o4={path:"/api/v1/passkeys/authenticate",method:"POST"},o6={path:"/api/v1/passkeys/register",method:"POST"},o8={path:"/api/v1/passkeys/authenticate/init",method:"POST"},o9={path:"/api/v1/passkeys/register/init",method:"POST"},o7={path:"/api/v1/passkeys/link/init",method:"POST"};class se{async generateRegistrationOptions(e){return await this._privyInternal.fetch(o7,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(o8,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(o9,{body:{relying_party:e}})}async loginWithPasskey(e,t,r,n){let i=await this._privyInternal.fetch(o4,{body:{relying_party:r,challenge:t,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oT(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async signupWithPasskey(e,t,r){let n=await this._privyInternal.fetch(o6,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await oT(this._embedded,n,r?.embedded);return this._privyInternal.callbacks?.setUser?.(i.user),i}async linkWithPasskey(e,t){await this._privyInternal.fetch(o5,{body:{relying_party:t,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let st={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},sr={path:"/api/v1/passwordless_sms/init",method:"POST"},sn={path:"/api/v1/passwordless_sms/link",method:"POST"},si={path:"/api/v1/passwordless_sms/unlink",method:"POST"},sa={path:"/api/v1/passwordless_sms/update",method:"POST"};class so{async sendCode(e,t){return this._privyInternal.fetch(sr,{body:{phoneNumber:e,token:t}})}async loginWithCode(e,t,r,n){let i=await this._privyInternal.fetch(st,{body:{phoneNumber:e,code:t,mode:r}});await this._privyInternal.session.updateWithTokensResponse(i);let a=await oT(this._embedded,i,n?.embedded);return this._privyInternal.callbacks?.setUser?.(a.user),a}async linkWithCode(e,t){await this._privyInternal.fetch(sn,{body:{phoneNumber:e,code:t}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:t,code:r}){await this._privyInternal.fetch(sa,{body:{old_phone_number:e,new_phone_number:t,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async unlink(e){await this._privyInternal.fetch(si,{body:{phoneNumber:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}constructor(e,t){this._privyInternal=e,this._embedded=t}}let ss={path:"/api/v1/siwe/init",method:"POST"},sl={path:"/api/v1/siwe/authenticate",method:"POST"},sc={path:"/api/v1/siwe/link",method:"POST"},sd={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},su={path:"/api/v1/siwe/unlink",method:"POST"};class sh{async unlinkWallet(e){await this._privyInternal.fetch(su,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async linkWithSiwe(e,t,r){let n=t||this._wallet,i=r||this._preparedMessage;if(!n)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!i)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(sc,{body:{message:i,signature:e,chainId:n.chainId,walletClientType:n.walletClientType,connectorType:n.connectorType}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,t,r,n,i){let a=t||this._wallet,o=r||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let s=await this._privyInternal.fetch(sl,{body:{signature:e,message:o,chainId:a.chainId,walletClientType:a.walletClientType,connectorType:a.connectorType,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let l=await oT(this._embedded,s,i?.embedded);return this._privyInternal.callbacks?.setUser?.(l.user),l}async init(e,t,r){var n;this._wallet=e;let{nonce:i}=await this._privyInternal.fetch(ss,{body:{address:e.address}}),a=`${(n={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:t,nonce:i,uri:r}).domain} wants you to sign in with your Ethereum account:
${n.address}

${n.statement}

URI: ${n.uri}
Version: 1
Chain ID: ${n.chainId}
Nonce: ${n.nonce}
Issued At: ${n.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:i,message:a}}constructor(e,t){this._wallet=void 0,this._privyInternal=e,this._embedded=t}}let sp={path:"/api/v1/siws/init",method:"POST"},sf={path:"/api/v1/siws/authenticate",method:"POST"},sm={path:"/api/v1/siws/link",method:"POST"},sg={path:"/api/v1/siws/unlink",method:"POST"};class sy{async unlink({address:e}){await this._privyInternal.fetch(sg,{body:{address:e}});let t=await this._privyInternal.refreshSession();return{user:t.user,identity_token:t.identity_token}}async link({message:e,signature:t,walletClientType:r,connectorType:n}){await this._privyInternal.fetch(sm,{body:{message:e,signature:t,walletClientType:r,connectorType:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async login({mode:e,message:t,signature:r,walletClientType:n,connectorType:i,opts:a}){let o=await this._privyInternal.fetch(sf,{body:{signature:r,message:t,walletClientType:n,connectorType:i,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let s=await oT(this._embedded,o,a?.embedded);return this._privyInternal.callbacks?.setUser?.(s.user),s}async fetchNonce({address:e}){let{nonce:t}=await this._privyInternal.fetch(sp,{body:{address:e}});return{nonce:t}}constructor(e,t){this._privyInternal=e,this._embedded=t}}class sw{async link(e,t,r){await this._privyInternal.fetch(sd,{body:{message:e,signature:t,smart_wallet_type:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async init(e){var t;let{nonce:r}=await this._privyInternal.fetch(ss,{body:{address:e.address}});return{nonce:r,message:`${(t={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:(new Date).toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:r}).domain} wants you to sign in with your Ethereum account:
${t.address}

${t.statement}

URI: ${t.uri}
Version: 1
Chain ID: ${t.chainId}
Nonce: ${t.nonce}
Issued At: ${t.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}}class sv{async logout(){try{let e=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(oi,{body:{refresh_token:e}})}catch(e){console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),this._privyInternal.callbacks?.setUser?.(null)}constructor(e,t,r,n){this._privyInternal=e,this.customProvider=new oP(this._privyInternal,t),this.phone=new so(this._privyInternal,t),this.email=new oM(this._privyInternal,t),this.oauth=new o3(this._privyInternal,t,r,n),this.guest=new oG(this._privyInternal,t),this.siwe=new sh(this._privyInternal,t),this.siws=new sy(this._privyInternal,t),this.smartWallet=new sw(this._privyInternal),this.passkey=new se(this._privyInternal,t),this.farcaster=new oz(this._privyInternal,t),this.farcasterV2=new oV(this._privyInternal,t)}}let sb={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},sx={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"};class s_{async initOnRampSession(e){return await this._privyInternal.fetch(sb,{body:e})}async getStatus(e){return await this._privyInternal.fetch(sx,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}}let sk={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},sE={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}},sC=new Set([e_.id,ef.id,ew.id,eC.id,eg.id,eb.id]),sA=new Set([e_.id,ef.id,ek.id,ew.id,eC.id]),sI=class{async sign(e){return await this._privyInternal.fetch(sk,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:t}){let{url:r,key:n}=sE[t?"sandbox":"prod"],i=await (0,am.default)(fetch,{retries:3,retryDelay:500})(`${r}/transactions/ext/${e}?apiKey=${n}`);if(!i.ok)throw new eM({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:i});let a=await i.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}};class sS{constructor(e){this.moonpay=new sI(e),this.coinbase=new s_(e)}}let sT={path:"/api/v1/mfa/passkeys/init",method:"POST"},sP=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(sT,{body:e})}constructor(e){this._privyInternal=e}},sj={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"};class sN{async sendCode(e){return await this._privyInternal.fetch(sj,{body:e})}constructor(e){this._privyInternal=e}}class sO{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new eR({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),t}async unenrollMfa(e){if(!this.proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let t=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),t}async clearMfa(e){if(!this.proxy)throw new eR({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,t){this.proxy=t,this.privyInternal=e,this.sms=new sN(e),this.passkey=new sP(e)}}let s$={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},sR={path:"/api/v1/recovery/oauth/init",method:"POST"},sM={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},sU={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},sL={path:"/api/v1/recovery/configuration_icloud",method:"POST"};class sF{async init(e){return this._privyInternal.fetch(sU,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(sL,{body:{client_type:e}})}constructor(e){this._privyInternal=e}}class sD{async generateURL(e){let t=o1(),r=o1(),n=await o2({codeVerifier:t,digest:this._crypto?.digest});return await Promise.all([this._storage.put(oX,t),this._storage.put(oQ,r)]),this._privyInternal.fetch(sR,{body:{redirect_to:e,code_challenge:n,state_code:r}})}async authorize(e,t){let[r,n]=await Promise.all([this._storage.get(oX),this._storage.get(oQ)]);if(n!==t)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:n??"",returnedStateCode:t??""}),new eR({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let i=await this._privyInternal.fetch(sM,{body:{authorization_code:e,state_code:n,code_verifier:r}});return await Promise.all([this._storage.del(oX),this._storage.del(oQ)]),i}constructor(e,t,r){this._privyInternal=e,this._storage=t,this._crypto=r}}class sB{async getRecoveryKeyMaterial(e,t){return this._privyInternal.fetch(s$,{body:{chain_type:t},params:{address:e}})}constructor(e,t,r){this._privyInternal=e,this.auth=new sD(this._privyInternal,t,r),this.icloudAuth=new sF(this._privyInternal)}}class sW{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,t){return this._privyInternal.getPath(e,t)}async fetchPrivyRoute(e,t){return this._privyInternal.fetch(e,t)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...t}){this._privyInternal=new ox({...t,appClientId:e}),this.mfa=new sO(this._privyInternal),this.mfaPromises=new aK,this.app=new ee(this._privyInternal),this.embeddedWallet=new aH(this._privyInternal,t.embeddedWalletMessagePoster,t.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new ok(this._privyInternal),this.auth=new sv(this._privyInternal,this.embeddedWallet,t.storage,t.crypto),this.recovery=new sB(this._privyInternal,t.storage,t.crypto),this.funding=new sS(this._privyInternal),this.delegated=new ep(this._privyInternal),this.crossApp=new ec(this._privyInternal,t.storage)}}function sq(e){let t=e.filter(e=>!eN.has(e.id));return ej.concat(t)}let sz={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},sV={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["16|[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["18[06]","18[06]0"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-3]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function sH(e,t){var r=Array.prototype.slice.call(t);return r.push(sV),e.apply(this,r)}function sG(e,t){e=e.split("-"),t=t.split("-");for(var r=e[0].split("."),n=t[0].split("."),i=0;i<3;i++){var a=Number(r[i]),o=Number(n[i]);if(a>o)return 1;if(o>a)return -1;if(!isNaN(a)&&isNaN(o))return 1;if(isNaN(a)&&!isNaN(o))return -1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var sK={}.constructor;function sJ(e){return null!=e&&e.constructor===sK}function sY(e){return(sY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sZ(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function sQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=sY(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=sY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sY(t)?t:t+""}(n.key),n)}}function sX(e,t,r){return t&&sQ(e.prototype,t),r&&sQ(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var s0=" ext. ",s1=/^\d+$/,s2=sX(function e(t){sZ(this,e),s9(t),this.metadata=t,lt.call(this,t)},[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!this.v1&&!this.v2&&!this.v3)return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&s1.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw Error("Unknown country: ".concat(e));this.numberingPlan=new s3(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw Error("Unknown calling code: ".concat(t));this.numberingPlan=new s3(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var r=this.nonGeographic()[e];if(r)return r}else{var n=this.countryCallingCodes()[e];if(n&&1===n.length&&"001"===n[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),s3=sX(function e(t,r){sZ(this,e),this.globalMetadataObject=r,this.metadata=t,lt.call(this,r.metadata)},[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(t){return new s5(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&s8(this.types(),e))return new s6(s8(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?s0:this.metadata[13]||s0}}]),s5=sX(function e(t,r){sZ(this,e),this._format=t,this.metadata=r},[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!(!this.nationalPrefixFormattingRule()||s4.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),s4=/^\(?\$1\)?$/,s6=sX(function e(t,r){sZ(this,e),this.type=t,this.metadata=r},[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]);function s8(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function s9(e){if(!e)throw Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!sJ(e)||!sJ(e.countries))throw Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(sJ(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+s7(e)+": "+e,"."))}var s7=function(e){return sY(e)};function le(e,t){if((t=new s2(t)).hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw Error("Unknown country: ".concat(e))}function lt(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===sG(t,"1.2.0")?this.v2=!0:-1===sG(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}function lr(e){return new s2(e).getCountries()}function ln(){return sH(le,arguments)}function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ls="0-9---",ll="".concat("--").concat("/").concat(".").concat(" ").concat("()\\[\\]").concat("~"),lc="+";function ld(e){return(ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lu(e){var t="function"==typeof Map?new Map:void 0;return(lu=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(lh())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,t);var i=new(e.bind.apply(e,n));return r&&lp(i,r.prototype),i}(e,arguments,lf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),lp(r,e)})(e)}function lh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lh=function(){return!!e})()}function lp(e,t){return(lp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lf(e){return(lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lm=function(e){function t(e){var r,n,i;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return n=t,i=[e],n=lf(n),Object.setPrototypeOf(r=function(e,t){if(t&&("object"==ld(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,lh()?Reflect.construct(n,i||[],lf(this).constructor):n.apply(this,i)),t.prototype),r.name=r.constructor.name,r}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lp(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(lu(Error)),lg=function(e){return"([".concat(ls,"]{1,").concat(e,"})")};function ly(e){var t="[ \\t,]*",r="[:\\.]?[ \\t,-]*",n="[ \\t]*";return";ext="+lg("20")+"|"+(t+"(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)"+r+lg("20"))+"#?|"+(t+"(?:[x#~]|int|)"+r+lg("9"))+"#?|"+("[- ]+"+lg("6"))+"#|"+(n+"(?:,{2}|;)"+r+lg("15"))+"#?|"+(n+"(?:,)+"+r+lg("9"))+"#?"}var lw="["+lc+"]{0,1}(?:["+ll+"]*["+ls+"]){3,}["+ll+ls+"]*",lv=RegExp("^["+lc+"]{0,1}(?:["+ll+"]*["+ls+"]){1,2}$","i"),lb=RegExp("^["+ls+"]{2}$|^"+(lw+"(?:"+ly())+")?$","i"),lx=RegExp("(?:"+ly()+")$","i");function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lk={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function lE(e){for(var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return l_(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l_(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=n()).done;){var i=lk[t.value];i&&(r+=i)}return r}function lC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lA(e){for(var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return lC(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lC(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=n()).done;){var i=t.value;r+=function(e,t,r){if("+"===e){if(t)return;return"+"}return lk[e]}(i,r)||""}return r}function lI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lS(e,t,r){return function e(t,r,n,i){r&&(i=new s2(i.metadata)).selectNumberingPlan(r);var a=i.type(n),o=a&&a.possibleLengths()||i.possibleLengths();if(!o)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===n){if(!i.type("FIXED_LINE"))return e(t,r,"MOBILE",i);var s=i.type("MOBILE");s&&(o=function(e,t){for(var r,n=e.slice(),i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return lI(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lI(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(r=i()).done;){var a=r.value;0>e.indexOf(a)&&n.push(a)}return n.sort(function(e,t){return e-t})}(o,s.possibleLengths()))}else if(n&&!a)return"INVALID_LENGTH";var l=t.length,c=o[0];return c===l?"IS_POSSIBLE":c>l?"TOO_SHORT":o[o.length-1]<l?"TOO_LONG":o.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}(e,t,void 0,r)}function lT(e,t,r){return"IS_POSSIBLE"===lS(e,t,r)}function lP(e,t){return e=e||"",RegExp("^(?:"+t+")$").test(e)}function lj(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lN=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function lO(e,t,r){if(t=t||{},e.country||e.countryCallingCode){(r=new s2(r)).selectNumberingPlan(e.country,e.countryCallingCode);var n=t.v2?e.nationalNumber:e.phone;if(lP(n,r.nationalNumberPattern())){if(l$(n,"FIXED_LINE",r))return r.type("MOBILE")&&""===r.type("MOBILE").pattern()||!r.type("MOBILE")||l$(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return lj(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lj(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(lN);!(i=a()).done;){var o=i.value;if(l$(n,o,r))return o}}}}function l$(e,t,r){return!(!(t=r.type(t))||!t.pattern()||t.possibleLengths()&&0>t.possibleLengths().indexOf(e.length))&&lP(e,t.pattern())}var lR=RegExp("(["+ls+"])");function lM(e,t,r,n){if(t){var i=new s2(n);i.selectNumberingPlan(t,r);var a=new RegExp(i.IDDPrefix());if(0===e.search(a)){var o=(e=e.slice(e.match(a)[0].length)).match(lR);if(!o||null==o[1]||!(o[1].length>0)||"0"!==o[1])return e}}}function lU(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(e);if(n){var i,a,o,s=n.length-1,l=s>0&&n[s];if(t.nationalPrefixTransformRule()&&l)i=e.replace(r,t.nationalPrefixTransformRule()),s>1&&(a=n[1]);else{var c=n[0];i=e.slice(c.length),l&&(a=n[1])}if(l){var d=e.indexOf(n[1]);e.slice(0,d)===t.numberingPlan.nationalPrefix()&&(o=t.numberingPlan.nationalPrefix())}else o=n[0];return{nationalNumber:i,nationalPrefix:o,carrierCode:a}}}return{nationalNumber:e}}function lL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lF(e,t){var r=t.countries,n=t.metadata;n=new s2(n);for(var i,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return lL(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lL(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(i=a()).done;){var o=i.value;if(n.selectNumberingPlan(o),n.leadingDigits()){if(e&&0===e.search(n.leadingDigits()))return o}else if(lO({phone:e,country:o},void 0,n.metadata))return o}}function lD(e,t){var r=t.nationalNumber,n=t.metadata,i=n.getCountryCodesForCallingCode(e);if(i)return 1===i.length?i[0]:lF(r,{countries:i,metadata:n.metadata})}function lB(e,t,r){var n,i,a,o=lU(e,r),s=o.carrierCode,l=o.nationalNumber;if(l!==e){if(n=e,i=l,!(!lP(n,(a=r).nationalNumberPattern())||lP(i,a.nationalNumberPattern()))||r.numberingPlan.possibleLengths()&&(t||(t=lD(r.numberingPlan.callingCode(),{nationalNumber:l,metadata:r})),!function(e,t,r){switch(lS(e,t,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(l,t,r)))return{nationalNumber:e}}return{nationalNumber:l,carrierCode:s}}function lW(e,t,r,n,i){var a=t||r?le(t||r,i):n;if(0===e.indexOf(a)){(i=new s2(i)).selectNumberingPlan(t||r,a);var o=e.slice(a.length),s=lB(o,t,i).nationalNumber,l=lB(e,t,i).nationalNumber;if(!lP(l,i.nationalNumberPattern())&&lP(s,i.nationalNumberPattern())||"TOO_LONG"===lS(l,t,i))return{countryCallingCode:a,number:o}}return{number:e}}function lq(e,t,r,n,i){if(!e)return{};if("+"!==e[0]){var a,o=lM(e,t||r,n,i);if(o&&o!==e)a=!0,e="+"+o;else{if(t||r||n){var s=lW(e,t,r,n,i),l=s.countryCallingCode,c=s.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:c}}return{number:e}}}if("0"===e[1])return{};i=new s2(i);for(var d=2;d-1<=3&&d<=e.length;){var u=e.slice(1,d);if(i.hasCallingCode(u))return i.selectNumberingPlan(u),{countryCallingCodeSource:a?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:u,number:e.slice(d)};d++}return{}}function lz(e){return e.replace(RegExp("[".concat(ll,"]+"),"g")," ").trim()}var lV=/(\$\d)/;function lH(e,t,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var a=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():i&&t.nationalPrefixFormattingRule()?t.format().replace(lV,t.nationalPrefixFormattingRule()):t.format());return n?lz(a):a}var lG=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/,lK={formatExtension:function(e,t,r){return"".concat(e).concat(r.ext()).concat(t)}};function lJ(e,t,r,n,i){var a=function(e,t){for(var r=e,n=function(e){if(e.leadingDigitsPatterns().length>0){var r=e.leadingDigitsPatterns()[e.leadingDigitsPatterns().length-1];if(0!==t.search(r))return!1}return lP(t,e.pattern())},i=0;i<r.length;){if(n(r[i]))return r[i];i++}}(n.formats(),e);return a?lH(e,a,{useInternationalFormat:"INTERNATIONAL"===r,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:n}):e}function lY(e){return(lY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lZ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lZ(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=lX(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lZ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lX(e){var t=function(e,t){if("object"!=lY(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=lY(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lY(t)?t:t+""}var l0=(pf=function e(t,r,n){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");if(!t)throw TypeError("First argument is required");if("string"!=typeof t)throw TypeError("First argument must be a string");if("+"===t[0]&&!r)throw TypeError("`metadata` argument not passed");if(sJ(r)&&sJ(r.countries)){n=r;var i=t;if(!l1.test(i))throw Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var a=lq(i,void 0,void 0,void 0,n),o=a.countryCallingCode;if(r=a.number,t=o,!r)throw Error("Invalid `number` argument passed: too short")}if(!r)throw TypeError("`nationalNumber` argument is required");if("string"!=typeof r)throw TypeError("`nationalNumber` argument must be a string");s9(n);var s=function(e,t){var r,n,i=new s2(t);return/^[A-Z]{2}$/.test(e)?(r=e,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=e,{country:r,countryCallingCode:n}}(t,n),l=s.country,c=s.countryCallingCode;this.country=l,this.countryCallingCode=c,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}},pm=[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){var e,t,r,n;return this.country?[this.country]:(e=this.countryCallingCode,t=this.nationalNumber,(n=new s2(r=this.getMetadata()).getCountryCodesForCallingCode(e))?n.filter(function(e){var n,i,a;return n=t,i=e,(a=new s2(r)).selectNumberingPlan(i),a.numberingPlan.possibleLengths().indexOf(n.length)>=0}):[])}},{key:"isPossible",value:function(){return function(e,t,r){if(void 0===t&&(t={}),r=new s2(r),t.v2){if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!r.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));r.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}}if(r.possibleLengths())return lT(e.phone||e.nationalNumber,e.country,r);if(e.countryCallingCode&&r.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){var e,t;return(e=e={v2:!0},(t=new s2(t=this.getMetadata())).selectNumberingPlan(this.country,this.countryCallingCode),t.hasTypes())?void 0!==lO(this,e,t.metadata):lP(e.v2?this.nationalNumber:this.phone,t.nationalNumberPattern())}},{key:"isNonGeographic",value:function(){return new s2(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return lO(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return function(e,t,r,n){if(r=r?function(){for(var e=1,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];for(;e<r.length;){if(r[e])for(var i in r[e])r[0][i]=r[e][i];e++}return r[0]}({},lK,r):lK,n=new s2(n),e.country&&"001"!==e.country){if(!n.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)return e.phone||"";n.selectNumberingPlan(e.countryCallingCode)}var i,a,o,s,l,c,d,u,h,p,f,m,g,y=n.countryCallingCode(),w=r.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":if(!w)return"";return i=g=lJ(w,e.carrierCode,"NATIONAL",n,r),a=e.ext,o=n,s=r.formatExtension,a?s(i,a,o):i;case"INTERNATIONAL":if(!w)return"+".concat(y);return g=lJ(w,null,"INTERNATIONAL",n,r),l=g="+".concat(y," ").concat(g),c=e.ext,d=n,u=r.formatExtension,c?u(l,c,d):l;case"E.164":return"+".concat(y).concat(w);case"RFC3966":var v={number:"+".concat(y).concat(w),ext:e.ext},b=v.number,x=v.ext;if(!b)return"";if("+"!==b[0])throw Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(b).concat(x?";ext="+x:"");case"IDD":if(!r.fromCountry)return;return h=function(e,t,r,n,i){if(le(n,i.metadata)===r){var a,o,s=lJ(e,t,"NATIONAL",i);return"1"===r?r+" "+s:s}var l=(a=void 0,((o=new s2(i.metadata)).selectNumberingPlan(n,a),o.defaultIDDPrefix())?o.defaultIDDPrefix():lG.test(o.IDDPrefix())?o.IDDPrefix():void 0);if(l)return"".concat(l," ").concat(r," ").concat(lJ(e,null,"INTERNATIONAL",i))}(w,e.carrierCode,y,r.fromCountry,n),p=e.ext,f=n,m=r.formatExtension,p?m(h,p,f):h;default:throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}(this,e,t?lQ(lQ({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lX(n.key),n)}}(pf.prototype,pm),Object.defineProperty(pf,"prototype",{writable:!1}),pf),l1=/^\+\d+$/,l2="(["+ls+"]|[\\-\\.\\(\\)]?)",l3=RegExp("^\\+"+l2+"*["+ls+"]"+l2+"*$","g"),l5=RegExp("^("+("["+ls+"]+((\\-)*[")+ls+"])*\\.)*[a-zA-Z]+((\\-)*["+ls+"])*\\.?$","g"),l4="tel:",l6=";phone-context=",l8=RegExp("["+lc+ls+"]"),l9=RegExp("[^"+ls+"#]+$");function l7(e){return(l7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=l7(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l7(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l7(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cr(e){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=cr(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cr(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cr(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?co(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=ca(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ca(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ca(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):co(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cl(){var e=function(e){var t,r,n,i,a=function(e){if(Array.isArray(e))return e}(t=Array.prototype.slice.call(e))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{a=(r=r.call(e)).next,!1;for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),4!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(t,4)||function(e,t){if(e){if("string"==typeof e)return lo(e,4);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lo(e,4):void 0}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=a[0],s=a[1],l=a[2],c=a[3];if("string"==typeof o)r=o;else throw TypeError("A text for parsing must be a string.");if(s&&"string"!=typeof s)if(sJ(s))l?(n=s,i=l):i=s;else throw Error("Invalid second argument: ".concat(s));else c?(n=l,i=c):(n=void 0,i=l),s&&(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach(function(t){var n,i,a;n=e,i=t,a=r[t],(i=function(e){var t=function(e,t){if("object"!=li(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=li(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==li(t)?t:t+""}(i))in n?Object.defineProperty(n,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({defaultCountry:s},n));return{text:r,options:n,metadata:i}}(arguments),t=e.text,r=e.options,n=e.metadata,i=function(e,t,r){var n,i;t&&t.defaultCountry&&(n=t.defaultCountry,!r.countries.hasOwnProperty(n))&&(t=ci(ci({},t),{},{defaultCountry:void 0}));try{return i=t,function(e,t,r){if(t=t||{},r=new s2(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry)){if(t.v2)throw new lm("INVALID_COUNTRY");throw Error("Unknown country: ".concat(t.defaultCountry))}var n,i,a,o,s=function(e,t,r){var n=function(e,t){var r=t.extractFormattedPhoneNumber,n=function(e){var t=e.indexOf(l6);if(t<0)return null;var r=t+l6.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)}(e);if(!(null===n||0!==n.length&&(l3.test(n)||l5.test(n))))throw new lm("NOT_A_NUMBER");if(null===n)i=r(e)||"";else{i="","+"===n.charAt(0)&&(i+=n);var i,a,o=e.indexOf(l4);a=o>=0?o+l4.length:0;var s=e.indexOf(l6);i+=e.substring(a,s)}var l=i.indexOf(";isub=");if(l>0&&(i=i.substring(0,l)),""!==i)return i}(e,{extractFormattedPhoneNumber:function(e){if(e){if(e.length>250){if(t)throw new lm("TOO_LONG");return}if(!1===r)return e;var n=e.search(l8);return n<0?void 0:e.slice(n).replace(l9,"")}}});if(!n)return{};if(!(n.length>=2&&lb.test(n)))return lv.test(n)?{error:"TOO_SHORT"}:{};var i=function(e){var t=e.search(lx);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(lx),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}(n);return i.ext?i:{number:n}}(e,t.v2,t.extract),l=s.number,c=s.ext,d=s.error;if(!l){if(t.v2){if("TOO_SHORT"===d)throw new lm("TOO_SHORT");throw new lm("NOT_A_NUMBER")}return{}}var u=function(e,t,r,n){var i,a=lq(lA(e),void 0,t,r,n.metadata),o=a.countryCallingCodeSource,s=a.countryCallingCode,l=a.number;if(s)n.selectNumberingPlan(s);else{if(!l||!t&&!r)return{};n.selectNumberingPlan(t,r),t&&(i=t),s=r||le(t,n.metadata)}if(!l)return{countryCallingCodeSource:o,countryCallingCode:s};var c=lB(lA(l),i,n),d=c.nationalNumber,u=c.carrierCode,h=lD(s,{nationalNumber:d,metadata:n});return h&&(i=h,"001"===h||n.selectNumberingPlan(i)),{country:i,countryCallingCode:s,countryCallingCodeSource:o,nationalNumber:d,carrierCode:u}}(l,t.defaultCountry,t.defaultCallingCode,r),h=u.country,p=u.nationalNumber,f=u.countryCallingCode,m=u.countryCallingCodeSource,g=u.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new lm("INVALID_COUNTRY");return{}}if(!p||p.length<2){if(t.v2)throw new lm("TOO_SHORT");return{}}if(p.length>17){if(t.v2)throw new lm("TOO_LONG");return{}}if(t.v2){var y=new l0(f,p,r.metadata);return h&&(y.country=h),g&&(y.carrierCode=g),c&&(y.ext=c),y.__countryCallingCodeSource=m,y}var w=(t.extended?!!r.hasSelectedNumberingPlan():!!h)&&lP(p,r.nationalNumberPattern());return t.extended?{country:h,countryCallingCode:f,carrierCode:g,valid:w,possible:!!w||!!(!0===t.extended&&r.possibleLengths()&&lT(p,h,r)),phone:p,ext:c}:w?(n=h,i=p,a=c,o={country:n,phone:i},a&&(o.ext=a),o):{}}(e,ct(ct({},i),{},{v2:!0}),r)}catch(e){if(e instanceof lm);else throw e}}(t,r=cs(cs({},r),{},{extract:!1}),n);return i&&i.isPossible()||!1}function cc(e){return(cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cd=(pg=function e(t){var r=t.onCountryChange,n=t.onCallingCodeChange;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.onCountryChange=r,this.onCallingCodeChange=n},py=[{key:"reset",value:function(e){var t=e.country,r=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this[n]=e[n]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=cc(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cc(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cc(t)?t:t+""}(n.key),n)}}(pg.prototype,py),Object.defineProperty(pg,"prototype",{writable:!1}),pg);function cu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ch=/x/;function cp(e,t){if(t<1)return"";for(var r="";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e}function cf(e,t){return")"===e[t]&&t++,function(e){for(var t=[],r=0;r<e.length;)"("===e[r]?t.push(r):")"===e[r]&&t.pop(),r++;var n=0,i="";t.push(e.length);for(var a=0;a<t.length;a++){var o=t[a];i+=e.slice(n,o),n=o+1}return i}(e.slice(0,t))}function cm(e,t,r){var n,i,a=r.metadata,o=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,l=lH(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:o,metadata:a});if(!o&&(e.nationalPrefix?l=e.nationalPrefix+s(t)+l:e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(l=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+l)),n=l,i=e,lE(n)===i.getNationalDigits())return l}function cg(e){return(cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cy=(pw=function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function")},pv=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],r=t.branches,n=t.instructions;if(r)return{op:"|",args:r.concat([cb(n)])};if(0===n.length)throw Error("Pattern is required");return 1===n.length?n[0]:n}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw Error("Pattern is required");var t=e.match(cv);if(!t){if(cw.test(e))throw Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""));return}var r=t[1],n=e.slice(0,t.index),i=e.slice(t.index+r.length);switch(r){case"(?:":n&&this.parsePattern(n),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw Error('")" operator must be preceded by "(?:" operator');if(n&&this.parsePattern(n),0===this.getContext().instructions.length)throw Error('No instructions found after "|" operator in an "or" group');var a=this.getContext().branches;a.push(cb(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:a});break;case"|":if(!this.getContext().or)throw Error('"|" operator can only be used inside "or" groups');if(n&&this.parsePattern(n),!this.getContext().branches)if(1===this.context.length)this.getContext().branches=[];else throw Error('"branches" not found in an "or" group context');this.getContext().branches.push(cb(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":n&&this.parsePattern(n),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:function(e){for(var t=[],r=0;r<e.length;){if("-"===e[r]){if(0===r||r===e.length-1)throw Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[r-1].charCodeAt(0)+1,i=e[r+1].charCodeAt(0)-1,a=n;a<=i;)t.push(String.fromCharCode(a)),a++}else t.push(e[r]);r++}return t}(n)});break;default:throw Error("Unknown operator: ".concat(r))}i&&this.parsePattern(i)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=cg(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cg(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cg(t)?t:t+""}(n.key),n)}}(pw.prototype,pv),Object.defineProperty(pw,"prototype",{writable:!1}),pw),cw=/[\(\)\[\]\?\:\|]/,cv=RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function cb(e){return 1===e.length?e[0]:e}function cx(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c_(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c_(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ck(e){return(ck="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var cE=(pb=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.matchTree=new cy().parse(t)},px=[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.allowOverflow;if(!e)throw Error("String is required");var n=function e(t,r,n){if("string"==typeof r){var i=t.join("");return 0===r.indexOf(i)?t.length===r.length?{match:!0,matchedChars:t}:{partialMatch:!0}:0===i.indexOf(r)?n&&t.length>r.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var a=t.slice(),o=0;o<r.length;){var s=e(a,r[o],n&&o===r.length-1);if(!s)return;if(s.overflow)return s;if(s.match){if(0===(a=a.slice(s.matchedChars.length)).length)if(o===r.length-1)return{match:!0,matchedChars:t};else return{partialMatch:!0}}else if(s.partialMatch)return{partialMatch:!0};else throw Error("Unsupported match result:\n".concat(JSON.stringify(s,null,2)));o++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-a.length)}}switch(r.op){case"|":for(var l,c,d=cx(r.args);!(c=d()).done;){var u=e(t,c.value,n);if(u)if(u.overflow)return u;else if(u.match)return{match:!0,matchedChars:u.matchedChars};else if(u.partialMatch)l=!0;else throw Error("Unsupported match result:\n".concat(JSON.stringify(u,null,2)))}if(l)return{partialMatch:!0};return;case"[]":for(var h,p=cx(r.args);!(h=p()).done;){var f=h.value;if(t[0]===f){if(1===t.length)return{match:!0,matchedChars:t};if(n)return{overflow:!0};return{match:!0,matchedChars:[f]}}}return;default:throw Error("Unsupported instruction tree: ".concat(r))}}(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||r)return n}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=ck(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ck(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ck(t)?t:t+""}(n.key),n)}}(pb.prototype,px),Object.defineProperty(pb,"prototype",{writable:!1}),pb);function cC(e){return(cC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return cI(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cI(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var cS=cp("9",15),cT=/[- ]/,cP=RegExp("["+ll+"]*\\$1["+ll+"]*(\\$\\d["+ll+"]*)*$"),cj=(p_=function e(t){t.state;var r=t.metadata;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.metadata=r,this.resetFormat()},pk=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var r=this;if(n=t.nationalSignificantNumber,"IS_POSSIBLE"===lS(n,t.country,this.metadata))for(var n,i,a=cA(this.matchingFormats);!(i=a()).done;){var o=i.value,s=function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,a=r.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,a=r.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var o=cm(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:a,metadata:n});if(o)return o}return cm(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:a,metadata:n})}(e,t,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:a})}(t,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return r.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return r.getSeparatorAfterNationalPrefix(e)}});if(s)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(s.replace(/\d/g,"x"),t),this.populatedNationalNumberTemplate=s,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf("x"),s}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var r=this.chosenFormat,n=this.chooseFormat(t);if(n)if(n===r)return this.formatNextNationalNumberDigits(e);else return this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,r=e.nationalSignificantNumber,n=e.nationalPrefix,i=e.international,a=r.length-3;a<0&&(a=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,n)&&t.formatMatches(e,r,a)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,r){return!(r&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!r&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,r){var n=e.leadingDigitsPatterns().length;if(0===n)return!0;r=Math.min(r,n-1);var i=e.leadingDigitsPatterns()[r];if(t.length<3)try{return void 0!==new cE(i).match(t,{allowOverflow:!0})}catch(e){return console.error(e),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,r,n,i=this,a=cA(this.matchingFormats.slice());!(n=a()).done&&0!==(t=n.value,r=i.chosenFormat===t?0:cP.test(i.getFormatFormat(t,e.international))?i.createTemplateForFormat(t,e)?(i.chosenFormat=t,0):(i.matchingFormats=i.matchingFormats.filter(function(e){return e!==t}),1):1);)if(1===r)continue;return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(e,t);if(r)return this.setNationalNumberTemplate(r,t),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&cT.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var r=e.IDDPrefix,n=e.missingPlus;return r?t&&!1===t.spacing?r:r+" ":n?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,r=0,n=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";r<n.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf("x",t+1),r++;return cf(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,"x")+cp("x",t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var r,n=t.nationalSignificantNumber,i=t.international,a=t.nationalPrefix,o=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=e.pattern();s=s.replace(/\[([^\[\]])*\]/g,"\\d").replace(/\d(?=[^,}][^,}])/g,"\\d");var l=cS.match(s)[0];if(!(n.length>l.length)){var c=RegExp("^"+s+"$"),d=n.replace(/\d/g,"9");c.test(d)&&(l=d);var u=this.getFormatFormat(e,i);if(this.shouldTryNationalPrefixFormattingRule(e,{international:i,nationalPrefix:a})){var h=u.replace(lV,e.nationalPrefixFormattingRule());if(lE(e.nationalPrefixFormattingRule())===(a||"")+lE("$1")&&(u=h,r=!0,a))for(var p=a.length;p>0;)u=u.replace(/\d/,"x"),p--}var f=l.replace(new RegExp(s),u).replace(/9/g,"x");return!r&&(o?f=cp("x",o.length)+" "+f:a&&(f=cp("x",a.length)+this.getSeparatorAfterNationalPrefix(e)+f)),i&&(f=lz(f)),f}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=function(e,t,r){for(var n,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return cu(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cu(e,void 0):void 0}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.split(""));!(n=i()).done;){var a=n.value;if(0>e.slice(t+1).search(ch))return;t=e.search(ch),e=e.replace(ch,a)}return[e,t]}(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);return t?(this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],cf(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)):void this.resetFormat()}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var r=t.international,n=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&n||!i&&!r)return!0}}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=cC(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cC(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cC(t)?t:t+""}(n.key),n)}}(p_.prototype,pk),Object.defineProperty(p_,"prototype",{writable:!1}),p_);function cN(e){return(cN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cO(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c$(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c$(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var cR=RegExp("^["+ll+ls+"]+$","i"),cM="(?:["+lc+"]["+ll+ls+"]*|["+ll+ls+"]+)",cU=RegExp("[^"+ll+ls+"]+.*$"),cL=/[^\d\[\]]/,cF=(pE=function e(t){var r=t.defaultCountry,n=t.defaultCallingCode,i=t.metadata,a=t.onNationalSignificantNumberChange;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=a},pC=[{key:"input",value:function(e,t){var r,n,i,a,o,s=cO((i=(n=cO("+"===(r=function(e){var t,r=e.search(cM);if(!(r<0))return"+"===(e=e.slice(r))[0]&&(t=!0,e=e.slice(1)),e=e.replace(cU,""),t&&(e="+"+e),e}(e)||"")[0]?[r.slice(1),!0]:[r],2))[0],a=n[1],cR.test(i)||(i=""),[i,a]),2),l=s[0],c=s[1],d=lE(l);return c&&!t.digits&&(t.startInternationalNumber(void 0,void 0),d||(o=!0)),d&&this.inputDigits(d,t),{digits:d,justLeadingPlus:o}}},{key:"inputDigits",value:function(e,t){var r=t.digits,n=r.length<3&&r.length+e.length>=3;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,r=e.callingCode;return t&&!r}},{key:"extractCountryCallingCode",value:function(e){var t=lq("+"+e.getDigitsWithoutInternationalPrefix(),e.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode,n=t.number;if(r)return e.setCallingCode(r),e.update({nationalSignificantNumber:n}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&cL.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var r=lU(e,this.metadata),n=r.nationalPrefix,i=r.nationalNumber,a=r.carrierCode;if(i!==e)return this.onExtractedNationalNumber(n,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var n=lU(e,this.metadata),i=n.nationalPrefix,a=n.nationalNumber,o=n.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,o,a,e,r),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,r,n,i){var a,o=!1,s=n.lastIndexOf(r);if(s<0||s!==n.length-r.length)o=!0;else{var l=n.slice(0,s);l&&l!==e&&(a=l)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:r,nationalSignificantNumberIsModified:o,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:a}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,r=e.IDDPrefix,n=e.digits;if(e.nationalSignificantNumber,!t&&!r){var i=lM(n,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(void 0!==i&&i!==n)return e.update({IDDPrefix:n.slice(0,n.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=lW(e.digits,e.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata).countryCallingCode;if(t)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:t}),!0}}},{key:"startInternationalNumber",value:function(e,t){var r=t.country,n=t.callingCode;e.startInternationalNumber(r,n),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=cN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cN(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cN(t)?t:t+""}(n.key),n)}}(pE.prototype,pC),Object.defineProperty(pE,"prototype",{writable:!1}),pE);function cD(e){return(cD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var cW=(pA=function e(t,r){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");this.metadata=new s2(r);var n,i=function(e){if(Array.isArray(e))return e}(n=this.getCountryAndCallingCode(t))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,c=!1;try{a=(r=r.call(e)).next,!1;for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),2!==s.length);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(n,2)||function(e,t){if(e){if("string"==typeof e)return cB(e,2);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cB(e,2):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=i[0],o=i[1];this.defaultCountry=a,this.defaultCallingCode=o,this.reset()},pI=[{key:"getCountryAndCallingCode",value:function(e){var t,r;return e&&(sJ(e)?(t=e.defaultCountry,r=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,r]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),r=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(r){if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(n=this.formatter.format(r,this.state)),void 0===n&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var n,i=this.state.getNationalDigits();i&&(n=this.formatter.format(i,this.state))}this.formattedOutput=n?this.getFullNumber(n):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new cd({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,r){e.metadata.selectNumberingPlan(r,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new cj({state:this.state,metadata:this.metadata}),this.parser=new cF({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){return this.state.country}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var r=function(e){return t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!e})+e},n=this.state.callingCode;return r(n?e?"".concat(n," ").concat(e):n:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,n=e.nationalPrefix,i=t,a=r||n;return a&&(i=a+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(e?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,"x")}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(lD(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,r=e.callingCode,n=e.country,i=e.nationalSignificantNumber;if(t){if(this.isInternational())if(r)return"+"+r+i;else return"+"+t;else if(n||r)return"+"+(n?this.metadata.countryCallingCode():r)+i}}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.carrierCode,n=e.callingCode,i=this._getCountry();if(t&&(i||n)){if(i&&i===this.defaultCountry){var a=new s2(this.metadata.metadata);a.selectNumberingPlan(i);var o=a.numberingPlan.callingCode(),s=this.metadata.getCountryCodesForCallingCode(o);if(s.length>1){var l=lF(t,{countries:s,metadata:this.metadata.metadata});l&&(i=l)}}var c=new l0(i||n,t,this.metadata.metadata);return r&&(c.carrierCode=r),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=cD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=cD(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==cD(t)?t:t+""}(n.key),n)}}(pA.prototype,pI),Object.defineProperty(pA,"prototype",{writable:!1}),pA);function cq(e){return cW.call(this,e,sV)}function cz(e,t,r){if(t[e])return new l0(e,t[e],r)}cq.prototype=Object.create(cW.prototype,{}),cq.prototype.constructor=cq;let cV=(e,t)=>(function(){return sH(cl,arguments)})(String(e),t),cH=(e,t)=>`+${ln(t)} ${e}`,cG=(function(){return sH(lr,arguments)})().map(e=>({code:e,callCode:ln(e)})),cK={[e_.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[eI.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ek.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[eE.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[eC.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[eA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ew.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[ev.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[eg.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[ey.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ef.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[em.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},cJ={"mainnet-beta":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",devnet:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",testnet:""};var cY=e.i(806776),cZ=e.i(712650);function cQ(e){return e?`${e.slice(0,5)}${e.slice(-4)}`:""}function cX({amount:e,decimals:t}){return(0,cZ.formatUnits)(BigInt(e),t)}let c0=new Set([e_.id,ew.id,ek.id,eC.id,ef.id]),c1=new Set([e_.id,ew.id,eC.id,ek.id]),c2={buy:"CARD",send:"CRYPTO_ACCOUNT"},c3={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};e_.id,ew.id,ek.id,eC.id,ef.id;class c5{async invokeRpc({method:e,params:t}){let r=await fetch(this.cluster.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:(0,a7.v4)(),method:e,params:t})});return await r.json()}async getBalance(e){try{let t=await this.invokeRpc({method:"getBalance",params:[e]});return t.error?null:BigInt(t.result.value)}catch(e){return null}}async getTokenAccountsByOwner(e,t){try{let r=await this.invokeRpc({method:"getTokenAccountsByOwner",params:[e,{mint:t},{encoding:"jsonParsed"}]});if(r.error)return null;let n=r.result.value.at(0)?.account?.data?.parsed?.info?.tokenAmount;return n?{amount:BigInt(n.amount),decimals:n.decimals}:null}catch(e){return null}}async getAccountInfo(e){try{let t=await this.invokeRpc({method:"getAccountInfo",params:[e,{encoding:"jsonParsed"}]});if(t.error)return null;let r=t.result.value?.data?.parsed?.info;return r?{decimals:r.decimals}:null}catch(e){return null}}constructor(e){this.cluster=e}}var c4=e.i(632220);let c6=/#/g,c8=/&/g,c9=/\//g,c7=/=/g,de=/\+/g,dt=/%5e/gi,dr=/%60/gi,dn=/%7c/gi,di=/%20/gi;function da(e){return encodeURI(""+("string"==typeof e?e:JSON.stringify(e))).replace(dn,"|").replace(de,"%2B").replace(di,"+").replace(c6,"%23").replace(c8,"%26").replace(dr,"`").replace(dt,"^").replace(c9,"%2F")}function ds(e){return da(e).replace(c7,"%3D")}function dl(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}let dc=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,dd=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,du=/^([/\\]\s*){2,}[^/\\]/,dh=/\/$|\/\?|\/#/,dp=/^\.?\//;function df(e,t={}){return("boolean"==typeof t&&(t={acceptRelative:t}),t.strict)?dc.test(e):dd.test(e)||!!t.acceptRelative&&du.test(e)}let dm=Symbol.for("ufo:protocolRelative");function dg(e=""){let[t="",r="",n=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:n}}class dy extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}let dw=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function dv(e="GET"){return dw.has(e.toUpperCase())}let db=new Set(["image/svg","application/xml","application/xhtml","application/html"]),dx=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;async function d_(e,t){if(t)if(Array.isArray(t))for(let r of t)await r(e);else await t(e)}let dk=new Set([408,409,425,429,500,502,503,504]),dE=new Set([101,204,205,304]);class dC extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,t,r){super(e),t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}class dA extends dC{constructor(e,t,r,n,i,a){super(r,n,i),this.type=e,this.status=t,this.data=a}}class dI extends dC{constructor(e,t,r){super(e,t,r),this.type="client_error"}}class dS extends dI{constructor(){super("Request timed out",void 0,"client_request_timeout")}}class dT extends dC{constructor(e,t,r){super(e,t,r),this.type="connector_error"}}let dP=e=>{if(e instanceof dC)return e;if(!(e instanceof dy))return dj(e);if(!e.response)return new dA("api_error",null,e.message,e);let{type:t,message:r,error:n,code:i}=e.data;return new dA(t||"ApiError",e.response.status,r||n,e,i,e.data)},dj=e=>e instanceof dC?e:e instanceof Error?new dI(e.message,e):new dI(`Internal error: ${e}`);var dN=((pT={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",pT.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",pT.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",pT.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",pT.INVALID_DATA="invalid_data",pT.INVALID_CAPTCHA="invalid_captcha",pT.LINKED_TO_ANOTHER_USER="linked_to_another_user",pT.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",pT.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",pT.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",pT.USER_EXITED_UPDATE_FLOW="exited_update_flow",pT.ALLOWLIST_REJECTED="allowlist_rejected",pT.OAUTH_USER_DENIED="oauth_user_denied",pT.OAUTH_UNEXPECTED="oauth_unexpected",pT.UNKNOWN_AUTH_ERROR="unknown_auth_error",pT.USER_EXITED_AUTH_FLOW="exited_auth_flow",pT.USER_EXITED_LINK_FLOW="exited_link_flow",pT.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",pT.MUST_BE_AUTHENTICATED="must_be_authenticated",pT.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",pT.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",pT.CLIENT_REQUEST_TIMEOUT="client_request_timeout",pT.INVALID_CREDENTIALS="invalid_credentials",pT.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",pT.UNKNOWN_MFA_ERROR="unknown_mfa_error",pT.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",pT.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",pT.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",pT.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",pT.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",pT.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",pT.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",pT.TRANSACTION_FAILURE="transaction_failure",pT.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",pT.NOT_SUPPORTED="not_supported",pT.CAPTCHA_TIMEOUT="captcha_timeout",pT.INVALID_MESSAGE="invalid_message",pT.UNABLE_TO_SIGN="unable_to_sign",pT.CAPTCHA_FAILURE="captcha_failure",pT.CAPTCHA_DISABLED="captcha_disabled",pT.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",pT.TOO_MANY_REQUESTS="too_many_requests",pT.USER_LIMIT_REACHED="max_accounts_reached",pT.DISALLOWED_LOGIN_METHOD="disallowed_login_method",pT.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",pT.PASSKEY_NOT_ALLOWED="passkey_not_allowed",pT.USER_DOES_NOT_EXIST="user_does_not_exist",pT.INSUFFICIENT_BALANCE="insufficient_balance",pT.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",pT.BUFFER_NOT_DEFINED="buffer_not_defined",pT.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",pT);class dO extends dI{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}}class d$ extends dI{constructor(e="Embedded wallet error",t){super(e,t,"unknown_embedded_wallet_error")}}class dR extends dI{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}}class dM extends dI{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}}let dU="/api/v1/sessions",dL="/api/v1/sessions/logout",dF="/api/v1/oauth/init",dD="/api/v1/oauth/authenticate",dB="/api/v1/oauth/link",dW="/api/v1/analytics_events",dq=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},dz=e=>()=>{throw Error(e.trim())},dV=(0,G.createContext)({setAuthenticated:dq,setUser:dq,setIsNewUser:dq,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:dq,connectors:[],solanaWallets:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:dq,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:dq,initializeWalletProxy:dq,getAuthMeta:dq,getAuthFlow:dq,closePrivyModal:dq,openPrivyModal:dq,connectWallet:dq,initLoginWithWallet:dq,loginWithWallet:dq,initLoginWithFarcaster:dq,loginWithFarcaster:dq,loginWithCode:dq,initLoginWithEmail:dq,initLoginWithSms:dq,initUpdateEmail:dq,initUpdatePhone:dq,resendEmailCode:dq,resendSmsCode:dq,initLoginWithHeadlessOAuth:dq,loginWithHeadlessOAuth:dq,crossAppAuthFlow:dq,initLoginWithOAuth:dq,loginWithOAuth:dq,passkeyAuthState:{status:"initial"},setPasskeyAuthState:dq,initSignupWithPasskey:dq,signupWithPasskey:dq,initLoginWithPasskey:dq,loginWithPasskey:dq,initLinkWithPasskey:dq,linkWithPasskey:dq,refreshSessionAndUser:dq,walletProxy:null,createAnalyticsEvent:dq,acceptTerms:dq,getUsdTokenPrice:dq,getUsdPriceForSol:dq,getSplTokenMetadata:dq,recoverEmbeddedWallet:dq,updateWallets:dq,fundWallet:dq,openModal:dq,setReadyToTrue:dq,requestFarcasterSignerStatus:dq,initLoginWithTelegram:dq,loginWithTelegram:dq,generateSiweMessage:dq,generateSiweMessageForSmartWallet:dq,loginWithSiwe:dq,linkWithSiwe:dq,linkSmartWallet:dq,delegateWallet:dq,revokeDelegatedWallets:dq,exportSolanaWallet:dq,connectCoinbaseSmartWallet:dq,connectBaseAccount:dq,initiateAccountTransfer:dq,emailOtpState:{status:"initial"},setEmailOtpState:dq,smsOtpState:{status:"initial"},setSmsOtpState:dq,siweState:{status:"initial"},setSiweState:dq,oAuthState:{status:"initial"},setOAuthState:dq,telegramAuthState:{status:"initial"},setTelegramAuthState:dq,isHeadlessOAuthLoading:!1,isHeadlessSigning:dq,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:dq}),dH=()=>(0,G.useContext)(dV);e.s(["I",()=>dV,"a",()=>dq,"n",()=>dz,"u",()=>dH],130125);var dG=e.i(17270),dK=e.i(320256),dJ=e.i(951738),dY=e.i(248210);function dZ(e,t="wei"){return(0,dY.parseUnits)(e,dJ.etherUnits[t])}var dQ=e.i(988210),dX=e.i(336165),d0=e.i(327965);async function d1(e,{chain:t}){let{id:r,name:n,nativeCurrency:i,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:(0,Y.numberToHex)(r),chainName:n,nativeCurrency:i,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:e})=>e):void 0}]},{dedupe:!0,retryCount:0})}var d2=e.i(450103),d3=e.i(165893);async function d5(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(e=>(0,J.checksumAddress)(e))}var d4=e.i(764125),d6=e.i(725713);async function d8(e,t={}){let{account:r=e.account,chainId:n}=t,i=r?(0,d6.parseAccount)(r):void 0,a=n?[i?.address,[(0,Y.numberToHex)(n)]]:[i?.address],o=await e.request({method:"wallet_getCapabilities",params:a}),s={};for(let[e,t]of Object.entries(o))for(let[r,n]of(s[Number(e)]={},Object.entries(t)))"addSubAccount"===r&&(r="unstable_addSubAccount"),s[Number(e)][r]=n;return"number"==typeof n?s[n]:s}async function d9(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var d7=e.i(464008),ue=e.i(983593);async function ut(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(e=>(0,J.getAddress)(e))}async function ur(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var un=e.i(908231),ui=e.i(461135);async function ua(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),i=await (0,un.sendCalls)(e,t);return await (0,ui.waitForCallsStatus)(e,{...t,id:i.id,timeout:n})}var uo=e.i(10536),us=e.i(124399),ul=e.i(438455),uc=e.i(875317),ud=e.i(39721),uu=e.i(165986),uh=e.i(924670),up=e.i(269820),uf=e.i(853479),um=e.i(601278),ug=e.i(815412),uy=e.i(390575),uw=e.i(187464),uv=e.i(272573);let ub=new uy.LruMap(128);async function ux(e,t){let{account:r=e.account,chain:n=e.chain,accessList:i,authorizationList:a,blobs:o,data:s,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,pollingInterval:f,throwOnReceiptRevert:m,type:g,value:y,...w}=t,v=t.timeout??Math.max((n?.blockTime??0)*3,5e3);if(void 0===r)throw new ul.AccountNotFoundError({docsPath:"/docs/actions/wallet/sendTransactionSync"});let b=r?(0,d6.parseAccount)(r):null;try{(0,uw.assertRequest)(t);let r=await (async()=>t.to?t.to:null!==t.to&&a&&a.length>0?await (0,uu.recoverAuthorizationAddress)({authorization:a[0]}).catch(()=>{throw new uc.BaseError("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if(b?.type==="json-rpc"||null===b){let t;null!==n&&(t=await (0,ug.getAction)(e,d0.getChainId,"getChainId")({}),(0,uh.assertCurrentChain)({currentChainId:t,chain:n}));let x=e.chain?.formatters?.transactionRequest?.format,_=(x||um.formatTransactionRequest)({...(0,uf.extract)(w,{format:x}),accessList:i,account:b,authorizationList:a,blobs:o,chainId:t,data:s,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,to:r,type:g,value:y},"sendTransaction"),k=ub.get(e.uid),E=k?"wallet_sendTransaction":"eth_sendTransaction",C=await (async()=>{try{return await e.request({method:E,params:[_]},{retryCount:0})}catch(t){if(!1===k)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[_]},{retryCount:0}).then(t=>(ub.set(e.uid,!0),t)).catch(r=>{if("MethodNotFoundRpcError"===r.name||"MethodNotSupportedRpcError"===r.name)throw ub.set(e.uid,!1),t;throw r});throw t}})(),A=await (0,ug.getAction)(e,uv.waitForTransactionReceipt,"waitForTransactionReceipt")({checkReplacement:!1,hash:C,pollingInterval:f,timeout:v});if(m&&"reverted"===A.status)throw new ud.TransactionReceiptRevertedError({receipt:A});return A}if(b?.type==="local"){let t=await (0,ug.getAction)(e,ue.prepareTransactionRequest,"prepareTransactionRequest")({account:b,accessList:i,authorizationList:a,blobs:o,chain:n,data:s,gas:l,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:u,maxPriorityFeePerGas:h,nonce:p,nonceManager:b.nonceManager,parameters:[...ue.defaultParameters,"sidecars"],type:g,value:y,...w,to:r}),f=n?.serializers?.transaction,v=await b.signTransaction(t,{serializer:f});return await (0,ug.getAction)(e,us.sendRawTransactionSync,"sendRawTransactionSync")({serializedTransaction:v,throwOnReceiptRevert:m})}if(b?.type==="smart")throw new ul.AccountTypeNotSupportedError({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new ul.AccountTypeNotSupportedError({docsPath:"/docs/actions/wallet/sendTransactionSync",type:b?.type})}catch(e){if(e instanceof ul.AccountTypeNotSupportedError)throw e;throw(0,up.getTransactionError)(e,{...t,account:b,chain:t.chain||void 0})}}async function u_(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}async function uk(e,t){let{account:r=e.account}=t;if(!r)throw new ul.AccountNotFoundError({docsPath:"/docs/eip7702/signAuthorization"});let n=(0,d6.parseAccount)(r);if(!n.signAuthorization)throw new ul.AccountTypeNotSupportedError({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let i=await (0,d7.prepareAuthorization)(e,t);return n.signAuthorization(i)}async function uE(e,{account:t=e.account,message:r}){if(!t)throw new ul.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});let n=(0,d6.parseAccount)(t);if(n.signMessage)return n.signMessage({message:r});let i="string"==typeof r?(0,Y.stringToHex)(r):r.raw instanceof Uint8Array?(0,Y.toHex)(r.raw):r.raw;return e.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function uC(e,t){let{account:r=e.account,chain:n=e.chain,...i}=t;if(!r)throw new ul.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTransaction"});let a=(0,d6.parseAccount)(r);(0,uw.assertRequest)({account:a,...t});let o=await (0,ug.getAction)(e,d0.getChainId,"getChainId")({});null!==n&&(0,uh.assertCurrentChain)({currentChainId:o,chain:n});let s=n?.formatters||e.chain?.formatters,l=s?.transactionRequest?.format||um.formatTransactionRequest;return a.signTransaction?a.signTransaction({...i,chainId:o},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...l({...i,account:a},"signTransaction"),chainId:(0,Y.numberToHex)(o),from:a.address}]},{retryCount:0})}var uA=e.i(385759);async function uI(e,t){let{account:r=e.account,domain:n,message:i,primaryType:a}=t;if(!r)throw new ul.AccountNotFoundError({docsPath:"/docs/actions/wallet/signTypedData"});let o=(0,d6.parseAccount)(r),s={EIP712Domain:(0,uA.getTypesForEIP712Domain)({domain:n}),...t.types};if((0,uA.validateTypedData)({domain:n,message:i,primaryType:a,types:s}),o.signTypedData)return o.signTypedData({domain:n,message:i,primaryType:a,types:s});let l=(0,uA.serializeTypedData)({domain:n,message:i,primaryType:a,types:s});return e.request({method:"eth_signTypedData_v4",params:[o.address,l]},{retryCount:0})}async function uS(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,Y.numberToHex)(t)}]},{retryCount:0})}async function uT(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var uP=e.i(766362),uj=e.i(726786);async function uN(e,t){return uN.internal(e,d3.sendTransaction,"sendTransaction",t)}async function uO(e,t){return uN.internal(e,ux,"sendTransactionSync",t)}function u$(e){return{addChain:t=>d1(e,t),deployContract:t=>(function(e,t){let{abi:r,args:n,bytecode:i,...a}=t,o=(0,d2.encodeDeployData)({abi:r,args:n,bytecode:i});return(0,d3.sendTransaction)(e,{...a,...a.authorizationList?{to:null}:{},data:o})})(e,t),fillTransaction:t=>(0,dX.fillTransaction)(e,t),getAddresses:()=>d5(e),getCallsStatus:t=>(0,d4.getCallsStatus)(e,t),getCapabilities:t=>d8(e,t),getChainId:()=>(0,d0.getChainId)(e),getPermissions:()=>d9(e),prepareAuthorization:t=>(0,d7.prepareAuthorization)(e,t),prepareTransactionRequest:t=>(0,ue.prepareTransactionRequest)(e,t),requestAddresses:()=>ut(e),requestPermissions:t=>ur(e,t),sendCalls:t=>(0,un.sendCalls)(e,t),sendCallsSync:t=>ua(e,t),sendRawTransaction:t=>(0,uo.sendRawTransaction)(e,t),sendRawTransactionSync:t=>(0,us.sendRawTransactionSync)(e,t),sendTransaction:t=>(0,d3.sendTransaction)(e,t),sendTransactionSync:t=>ux(e,t),showCallsStatus:t=>u_(e,t),signAuthorization:t=>uk(e,t),signMessage:t=>uE(e,t),signTransaction:t=>uC(e,t),signTypedData:t=>uI(e,t),switchChain:t=>uS(e,t),waitForCallsStatus:t=>(0,ui.waitForCallsStatus)(e,t),watchAsset:t=>uT(e,t),writeContract:t=>uN(e,t),writeContractSync:t=>uO(e,t)}}function uR(e){let{key:t="wallet",name:r="Wallet Client",transport:n}=e;return(0,dQ.createClient)({...e,key:t,name:r,transport:n,type:"walletClient"}).extend(u$)}(uN||(uN={})).internal=async function(e,t,r,n){let{abi:i,account:a=e.account,address:o,args:s,dataSuffix:l,functionName:c,...d}=n;if(void 0===a)throw new ul.AccountNotFoundError({docsPath:"/docs/contract/writeContract"});let u=a?(0,d6.parseAccount)(a):null,h=(0,uP.encodeFunctionData)({abi:i,args:s,functionName:c});try{return await (0,ug.getAction)(e,t,r)({data:`${h}${l?l.replace("0x",""):""}`,to:o,account:u,...d})}catch(e){throw(0,uj.getContractError)(e,{abi:i,address:o,args:s,docsPath:"/docs/contract/writeContract",functionName:c,sender:u?.address})}};var uM=e.i(336112);function uU(e,t={}){let{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:a}=t;return({retryCount:o})=>(0,uM.createTransport)({key:r,methods:n,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:a,type:"custom"})}var uL=e.i(198852),uF=e.i(5313),uD=e.i(682643),uB=e.i(771646),oo=oo;function uW(e){return e?new Date(1e3*e):null}function uq(e,t){return e.slice().sort((e,t)=>(e.firstVerifiedAt??e.verifiedAt).getTime()-(t.firstVerifiedAt??t.verifiedAt).getTime()).find(e=>e.type===t)}let uz=e=>e?uV(e).find(e=>0===e.walletIndex)??null:null,uV=e=>e?uH(e,"ethereum"):[],uH=(e,t)=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported&&e.chainType===t),uG=e=>e?uH(e,"solana"):[],uK=e=>e?uG(e).find(e=>0===e.walletIndex)??null:null,uJ=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.imported&&"ethereum"===e.chainType)||null,uY=e=>e?.linkedAccounts.find(e=>"wallet"===e.type&&e.imported&&"privy"===e.walletClientType&&"solana"===e.chainType)||null,uZ=(e,t)=>e===t||!(!e.startsWith("0x")||!t.startsWith("0x"))&&(0,J.getAddress)(e)===(0,J.getAddress)(t),uQ=(e,t)=>e?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&uZ(e.address,t))||null,uX=(e,t)=>e.find(e=>uZ(e.address,t))||null,u0=e=>uz(e)??uK(e);function u1(e){if(!e)return null;let t=function(e){let t=[];for(let r of e){let e=r.type;switch(r.type){case"wallet":let n={id:r.id,address:r.address,type:r.type,imported:r.imported,delegated:r.delegated,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at),chainType:r.chain_type,walletClientType:r.wallet_client_type,connectorType:r.connector_type,recoveryMethod:r.recovery_method,walletIndex:r.wallet_index};t.push(n);break;case"smart_wallet":let i={address:r.address,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at),smartWalletType:r.smart_wallet_type,smartWalletVersion:r.smart_wallet_version};t.push(i);break;case"cross_app":let a={type:r.type,subject:r.subject,embeddedWallets:r.embedded_wallets,smartWallets:r.smart_wallets,providerApp:{id:r.provider_app_id},verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(a);break;case"email":let o={address:r.address,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(o);break;case"phone":let s={number:r.phoneNumber,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(s);break;case"google_oauth":let l={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(l);break;case"spotify_oauth":let c={subject:r.subject,email:r.email,name:r.name,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(c);break;case"instagram_oauth":let d={subject:r.subject,username:r.username,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(d);break;case"twitter_oauth":let u={subject:r.subject,username:r.username,name:r.name,type:r.type,profilePictureUrl:r.profile_picture_url,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(u);break;case"discord_oauth":let h={subject:r.subject,username:r.username,email:r.email,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(h);break;case"github_oauth":let p={subject:r.subject,username:r.username,name:r.name,email:r.email,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(p);break;case"tiktok_oauth":let f={subject:r.subject,username:r.username,name:r.name,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(f);break;case"line_oauth":let m={subject:r.subject,name:r.name,email:r.email,profilePictureUrl:r.profile_picture_url,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(m);break;case"linkedin_oauth":let g={subject:r.subject,name:r.name,email:r.email,vanityName:r.vanity_name,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(g);break;case"apple_oauth":let y={subject:r.subject,email:r.email,type:r.type,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(y);break;case"custom_auth":t.push({type:r.type,customUserId:r.custom_user_id,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)});break;case"farcaster":let w={type:r.type,fid:r.fid,ownerAddress:r.owner_address,displayName:r.display_name,username:r.username,bio:r.bio,pfp:r.profile_picture_url,url:r.homepage_url,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at),signerPublicKey:r.signer_public_key};t.push(w);break;case"passkey":let v={type:r.type,enrolledInMfa:r.enrolled_in_mfa,credentialId:r.credential_id,publicKey:r.public_key,authenticatorName:r.authenticator_name,createdWithDevice:r.created_with_device,createdWithOs:r.created_with_os,createdWithBrowser:r.created_with_browser,verifiedAt:uW(r.verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(v);break;case"telegram":let b={type:r.type,telegramUserId:r.telegram_user_id,firstName:r.first_name,lastName:r.last_name,username:r.username,photoUrl:r.photo_url,verifiedAt:uW(r.first_verified_at),firstVerifiedAt:uW(r.first_verified_at),latestVerifiedAt:uW(r.latest_verified_at)};t.push(b);break;default:console.warn(`Unrecognized account type: ${e}. Please consider upgrading the Privy SDK.`)}}return t}(e.linked_accounts),r=uq(t,"wallet"),n=uq(t,"smart_wallet"),i=uq(t,"email"),a=uq(t,"phone"),o=uq(t,"google_oauth"),s=uq(t,"twitter_oauth"),l=uq(t,"discord_oauth"),c=uq(t,"github_oauth"),d=uq(t,"spotify_oauth"),u=uq(t,"instagram_oauth"),h=uq(t,"tiktok_oauth"),p=uq(t,"line_oauth"),f=uq(t,"linkedin_oauth"),m=uq(t,"apple_oauth"),g=uq(t,"farcaster"),y=uq(t,"telegram"),w=e.mfa_methods.map(({type:e,verified_at:t})=>({type:e,verifiedAt:uW(t)}));return{id:e.id,createdAt:uW(e.created_at),linkedAccounts:t,email:i&&{address:i?.address},phone:a&&{number:a?.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:o&&{subject:o.subject,email:o.email,name:o.name},twitter:s&&{subject:s.subject,username:s.username,name:s.name,profilePictureUrl:s.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:c&&{subject:c.subject,username:c.username,name:c.name,email:c.email},spotify:d&&{subject:d.subject,email:d.email,name:d.name},instagram:u&&{subject:u.subject,username:u.username},tiktok:h&&{subject:h.subject,username:h.username,name:h.name},line:p&&{subject:p.subject,name:p.name,email:p.email,profilePictureUrl:p.profilePictureUrl},linkedin:f&&{subject:f.subject,name:f.name,email:f.email,vanityName:f.vanityName},apple:m&&{subject:m.subject,email:m.email},farcaster:g&&{fid:g.fid,ownerAddress:g.ownerAddress,displayName:g.displayName,username:g.username,bio:g.bio,pfp:g.pfp,url:g.url,signerPublicKey:g.signerPublicKey},telegram:y&&{telegramUserId:y.telegramUserId,firstName:y.firstName,lastName:y.lastName,username:y.username,photoUrl:y.photoUrl},delegatedWallets:[],mfaMethods:w.map(e=>e.type),hasAcceptedTerms:e.has_accepted_terms??!1,isGuest:e.is_guest,customMetadata:e.custom_metadata}}let u2=e=>!!e.id&&"privy-v2"===e.recoveryMethod,u3=(0,G.createContext)({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:dq,login:dq,connectOrCreateWallet:dq,linkEmail:dq,linkPhone:dq,linkFarcaster:dq,linkWallet:dq,startCrossAppAuthFlow:dq,linkGoogle:dq,linkTwitter:dq,linkDiscord:dq,linkGithub:dq,linkSpotify:dq,linkInstagram:dq,linkTelegram:dq,linkTiktok:dq,linkLine:dq,linkLinkedIn:dq,linkApple:dq,linkPasskey:dq,updateEmail:dq,updatePhone:dq,logout:dq,getAccessToken:dq,unlinkEmail:dq,unlinkPhone:dq,unlinkWallet:dq,unlinkGoogle:dq,unlinkTwitter:dq,unlinkDiscord:dq,unlinkGithub:dq,unlinkSpotify:dq,unlinkInstagram:dq,unlinkTiktok:dq,unlinkLine:dq,unlinkLinkedIn:dq,unlinkApple:dq,unlinkCrossAppAccount:dq,unlinkFarcaster:dq,unlinkTelegram:dq,unlinkPasskey:dq,signMessage:dq,signTypedData:dq,enrollInMfa:dq,initEnrollmentWithSms:dq,initEnrollmentWithTotp:dq,initEnrollmentWithPasskey:dq,promptMfa:dq,init:dq,submitEnrollmentWithSms:dq,submitEnrollmentWithTotp:dq,submitEnrollmentWithPasskey:dq,unenroll:dq,submit:dq,cancel:dq,sendTransaction:dq,signTransaction:dq,exportWallet:dq,setWalletPassword:dq,setWalletRecovery:dq,requestFarcasterSignerFromWarpcast:dq,getFarcasterSignerPublicKey:dq,signFarcasterMessage:dq,signMessageWithCrossAppWallet:dq,signTypedDataWithCrossAppWallet:dq,sendTransactionWithCrossAppWallet:dq,isModalOpen:!1,mfaMethods:[]}),u5=()=>(0,G.useContext)(u3),u4=()=>{let{walletProxy:e,client:t}=dH();return(0,G.useMemo)(()=>({signWithUserSigner:async({message:r})=>{if(!e)throw Error("Wallet proxy not initialized");let n=await t.getAccessToken();if(!n)throw Error("User must be authenticated");let{signature:i}=await e.signWithUserSigner({accessToken:n,message:r});return{signature:i}}}),[e,t])};e.s(["P",()=>u3,"a",()=>u4,"b",()=>uQ,"c",()=>u2,"d",()=>uG,"e",()=>uY,"g",()=>uz,"h",()=>u0,"i",()=>u1,"j",()=>uK,"k",()=>uJ,"l",()=>uV,"m",()=>uX,"u",()=>u5],153752);var u6=aO;class u8{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){let t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){let e=this.scopedKey(""),t=[];for(let r=0;r<localStorage.length;r++){let n=localStorage.key(r);"string"==typeof n&&n.startsWith(e)&&t.push(n)}t.forEach(e=>localStorage.removeItem(e))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new u8("CBWSDK").clear(),new u8("walletlink").clear()}}let u9=-32602,u7=-32603,he=4001,ht=4100,hr=4200,hn=4900,hi={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},ha="Unspecified error message.";function ho(e,t=ha){if(e&&Number.isInteger(e)){var r;let t=e.toString();if(hl(hi,t))return hi[t].message;if((r=e)>=-32099&&r<=-32e3)return"Unspecified server error."}return t}function hs(e){return e&&"object"==typeof e&&!Array.isArray(e)?Object.assign({},e):e}function hl(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function hc(e,t){return"object"==typeof e&&null!==e&&t in e&&"string"==typeof e[t]}let hd=e=>hy(u9,e),hu=e=>hy(u7,e),hh=e=>hw(he,e),hp=e=>hw(ht,e),hf=e=>hw(hr,e),hm=e=>hw(hn,e),hg=e=>{if(!e||"object"!=typeof e||Array.isArray(e))throw Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||"string"!=typeof r)throw Error('"message" must be a nonempty string');return new hx(t,r,n)};function hy(e,t){let[r,n]=hv(t);return new hb(e,r||ho(e),n)}function hw(e,t){let[r,n]=hv(t);return new hx(e,r||ho(e),n)}function hv(e){if(e){if("string"==typeof e)return[e];else if("object"==typeof e&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&"string"!=typeof t)throw Error("Must specify string message.");return[t||void 0,r]}}return[]}class hb extends Error{constructor(e,t,r){if(!Number.isInteger(e))throw Error('"code" must be an integer.');if(!t||"string"!=typeof t)throw Error('"message" must be a nonempty string.');super(t),this.code=e,void 0!==r&&(this.data=r)}}class hx extends hb{constructor(e,t,r){if(!function(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}(e))throw Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,r)}}function h_(e){return Math.floor(e)}let hk=/^[0-9]*$/,hE=/^[a-f0-9]*$/;function hC(e){return hA(crypto.getRandomValues(new Uint8Array(e)))}function hA(e){return[...e].map(e=>e.toString(16).padStart(2,"0")).join("")}function hI(e){return new Uint8Array(e.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function hS(e,t=!1){let r=e.toString("hex");return t?`0x${r}`:r}function hT(e){return hS(hL(e),!0)}function hP(e){return e.toString(10)}function hj(e){return`0x${BigInt(e).toString(16)}`}function hN(e){return e.startsWith("0x")||e.startsWith("0X")}function hO(e){return hN(e)?e.slice(2):e}function h$(e){return hN(e)?`0x${e.slice(2)}`:`0x${e}`}function hR(e){if("string"!=typeof e)return!1;let t=hO(e).toLowerCase();return hE.test(t)}function hM(e,t=!1){let r=function(e,t=!1){if("string"==typeof e){let r=hO(e).toLowerCase();if(hE.test(r))return t?`0x${r}`:r}throw hd(`"${String(e)}" is not a hexadecimal string`)}(e,!1);return r.length%2==1&&(r=`0${r}`),t?`0x${r}`:r}function hU(e){if("string"==typeof e){let t=hO(e).toLowerCase();if(hR(t)&&40===t.length)return h$(t)}throw hd(`Invalid Ethereum address: ${String(e)}`)}function hL(e){if(V.Buffer.isBuffer(e))return e;if("string"==typeof e){if(hR(e)){let t=hM(e,!1);return V.Buffer.from(t,"hex")}return V.Buffer.from(e,"utf8")}throw hd(`Not binary data: ${String(e)}`)}function hF(e){if("number"==typeof e&&Number.isInteger(e))return h_(e);if("string"==typeof e){if(hk.test(e))return h_(Number(e));if(hR(e))return h_(Number(BigInt(hM(e,!0))))}throw hd(`Not an integer: ${String(e)}`)}function hD(e){if(null!==e&&("bigint"==typeof e||function(e){if(null==e||"function"!=typeof e.constructor)return!1;let{constructor:t}=e;return"function"==typeof t.config&&"number"==typeof t.EUCLID}(e)))return BigInt(e.toString(10));if("number"==typeof e)return BigInt(hF(e));if("string"==typeof e){if(hk.test(e))return BigInt(e);if(hR(e))return BigInt(hM(e,!0))}throw hd(`Not an integer: ${String(e)}`)}async function hB(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function hW(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function hq(e,t){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}async function hz(e,{iv:t,cipherText:r}){let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}function hV(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function hH(e,t){let r=hV(e);return hA(new Uint8Array(await crypto.subtle.exportKey(r,t)))}async function hG(e,t){let r=hV(e),n=hI(t).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,"private"===e?["deriveKey"]:[])}async function hK(e,t){return hq(t,JSON.stringify(e,(e,t)=>t instanceof Error?Object.assign(Object.assign({},t.code?{code:t.code}:{}),{message:t.message}):t))}async function hJ(e,t){return JSON.parse(await hz(t,e))}let hY={storageKey:"ownPrivateKey",keyType:"private"},hZ={storageKey:"ownPublicKey",keyType:"public"},hQ={storageKey:"peerPublicKey",keyType:"public"};class hX{constructor(){this.storage=new u8("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(hQ,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(hZ.storageKey),this.storage.removeItem(hY.storageKey),this.storage.removeItem(hQ.storageKey)}async generateKeyPair(){let e=await hB();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(hY,e.privateKey),await this.storeKey(hZ,e.publicKey)}async loadKeysIfNeeded(){null===this.ownPrivateKey&&(this.ownPrivateKey=await this.loadKey(hY)),null===this.ownPublicKey&&(this.ownPublicKey=await this.loadKey(hZ)),(null===this.ownPrivateKey||null===this.ownPublicKey)&&await this.generateKeyPair(),null===this.peerPublicKey&&(this.peerPublicKey=await this.loadKey(hQ)),null===this.sharedSecret&&null!==this.ownPrivateKey&&null!==this.peerPublicKey&&(this.sharedSecret=await hW(this.ownPrivateKey,this.peerPublicKey))}async loadKey(e){let t=this.storage.getItem(e.storageKey);return t?hG(e.keyType,t):null}async storeKey(e,t){let r=await hH(e.keyType,t);this.storage.setItem(e.storageKey,r)}}let h0="4.3.2",h1="@coinbase/wallet-sdk";async function h2(e,t){let r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(t,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":h0,"X-Cbw-Sdk-Platform":h1}}),{result:i,error:a}=await n.json();if(a)throw a;return i}let h3="accounts",h5="activeChain",h4="availableChains",h6="walletCapabilities";class h8{constructor(e){var t,r,n;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new hX,this.storage=new u8("CBWSDK","SCWStateManager"),this.accounts=null!=(t=this.storage.loadObject(h3))?t:[],this.chain=this.storage.loadObject(h5)||{id:null!=(n=null==(r=e.metadata.appChainIds)?void 0:r[0])?n:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,r,n,i;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,null!=(n=e.params)?n:{})}}),o=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in o.content)throw o.content.failure;let s=await hG("public",o.sender);await this.keyManager.setPeerPublicKey(s);let l=(await this.decryptResponseMessage(o)).result;if("error"in l)throw l.error;if("eth_requestAccounts"===e.method){let e=l.value;this.accounts=e,this.storage.storeObject(h3,e),null==(i=this.callback)||i.call(this,"accountsChanged",e)}}async request(e){var t;if(0===this.accounts.length)if("wallet_sendCalls"===e.method)return this.sendRequestToPopup(e);else throw hp();switch(e.method){case"eth_requestAccounts":return null==(t=this.callback)||t.call(this,"connect",{chainId:hj(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return hj(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(h6);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw hu("No RPC URL set for chain");return h2(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,r;await (null==(r=(t=this.communicator).waitForPopupLoaded)?void 0:r.call(t));let n=await this.sendEncryptedRequest(e),i=(await this.decryptResponseMessage(n)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:null!=(t=null==(e=this.metadata.appChainIds)?void 0:e[0])?t:1}}async handleSwitchChainRequest(e){var t;let r=e.params;if(!r||!(null==(t=r[0])?void 0:t.chainId))throw hd();let n=hF(r[0].chainId);if(this.updateChain(n))return null;let i=await this.sendRequestToPopup(e);return null===i&&this.updateChain(n),i}async sendEncryptedRequest(e){let t=await this.keyManager.getSharedSecret();if(!t)throw hp("No valid session found, try requestAccounts before other methods");let r=await hK({action:e,chainId:this.chain.id},t),n=await this.createRequestMessage({encrypted:r});return this.communicator.postRequestAndWaitForResponse(n)}async createRequestMessage(e){let t=await hH("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,r;let n=e.content;if("failure"in n)throw n.failure;let i=await this.keyManager.getSharedSecret();if(!i)throw hp("Invalid session");let a=await hJ(n.encrypted,i),o=null==(t=a.data)?void 0:t.chains;if(o){let e=Object.entries(o).map(([e,t])=>({id:Number(e),rpcUrl:t}));this.storage.storeObject(h4,e),this.updateChain(this.chain.id,e)}let s=null==(r=a.data)?void 0:r.capabilities;return s&&this.storage.storeObject(h6,s),a}updateChain(e,t){var r;let n=null!=t?t:this.storage.loadObject(h4),i=null==n?void 0:n.find(t=>t.id===e);return!!i&&(i!==this.chain&&(this.chain=i,this.storage.storeObject(h5,i),null==(r=this.callback)||r.call(this,"chainChanged",hj(i.id))),!0)}}var h9=e.i(620446);let h7="Addresses";function pe(e){return void 0!==e.errorMessage}class pt{constructor(e){this.secret=e}async encrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",hI(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(e)),o=a.slice(a.byteLength-16),s=a.slice(0,a.byteLength-16),l=new Uint8Array(o),c=new Uint8Array(s);return hA(new Uint8Array([...r,...l,...c]))}async decrypt(e){let t=this.secret;if(64!==t.length)throw Error("secret must be 256 bits");return new Promise((r,n)=>{!async function(){let i=await crypto.subtle.importKey("raw",hI(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=hI(e),o=a.slice(0,12),s=a.slice(12,28),l=new Uint8Array([...a.slice(28),...s]),c={name:"AES-GCM",iv:new Uint8Array(o)};try{let e=await window.crypto.subtle.decrypt(c,i,l),t=new TextDecoder;r(t.decode(e))}catch(e){n(e)}}()})}}class pr{constructor(e,t,r){this.linkAPIUrl=e,this.sessionId=t;const n=`${t}:${r}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(e=>fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(e=>console.error("Unabled to mark event as failed:",e))}async fetchUnseenEvents(){var e;let t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){let{events:r,error:n}=await t.json();if(n)throw Error(`Check unseen events failed: ${n}`);let i=null!=(e=null==r?void 0:r.filter(e=>"Web3Response"===e.event).map(e=>({type:"Event",sessionId:this.sessionId,eventId:e.id,event:e.event,data:e.data})))?e:[];return this.markUnseenEventsAsSeen(i),i}throw Error(`Check unseen events failed: ${t.status}`)}}(pS=pP||(pP={}))[pS.DISCONNECTED=0]="DISCONNECTED",pS[pS.CONNECTING=1]="CONNECTING",pS[pS.CONNECTED=2]="CONNECTED";class pn{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw Error("webSocket object is not null");return new Promise((e,t)=>{var r;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(e){t(e);return}null==(r=this.connectionStateListener)||r.call(this,pP.CONNECTING),n.onclose=e=>{var r;this.clearWebSocket(),t(Error(`websocket error ${e.code}: ${e.reason}`)),null==(r=this.connectionStateListener)||r.call(this,pP.DISCONNECTED)},n.onopen=t=>{var r;e(),null==(r=this.connectionStateListener)||r.call(this,pP.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(e=>this.sendData(e)),this.pendingData=[])},n.onmessage=e=>{var t,r;if("h"===e.data)null==(t=this.incomingDataListener)||t.call(this,{type:"Heartbeat"});else try{let t=JSON.parse(e.data);null==(r=this.incomingDataListener)||r.call(this,t)}catch(e){}}})}disconnect(){var e;let{webSocket:t}=this;if(t){this.clearWebSocket(),null==(e=this.connectionStateListener)||e.call(this,pP.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch(e){}}}sendData(e){let{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){let{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}class pi{constructor({session:e,linkAPIUrl:t,listener:r}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=h_(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=e=>{e&&new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",t=>e.JsonRpcUrl&&this.handleChainUpdated(t,e.JsonRpcUrl)]]).forEach((t,r)=>{let n=e[r];void 0!==n&&t(n)})},this.handleDestroyed=e=>{var t;"1"===e&&(null==(t=this.listener)||t.resetAndReload())},this.handleAccountUpdated=async e=>{var t;let r=await this.cipher.decrypt(e);null==(t=this.listener)||t.accountUpdated(r)},this.handleMetadataUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(t);null==(r=this.listener)||r.metadataUpdated(e,n)},this.handleWalletUsernameUpdated=async e=>{this.handleMetadataUpdated("walletUsername",e)},this.handleAppVersionUpdated=async e=>{this.handleMetadataUpdated("AppVersion",e)},this.handleChainUpdated=async(e,t)=>{var r;let n=await this.cipher.decrypt(e),i=await this.cipher.decrypt(t);null==(r=this.listener)||r.chainUpdated(n,i)},this.session=e,this.cipher=new pt(e.secret),this.listener=r;const n=new pn(`${t}/rpc`,WebSocket);n.setConnectionStateListener(async e=>{let t=!1;switch(e){case pP.DISCONNECTED:if(!this.destroyed){let e=async()=>{await new Promise(e=>setTimeout(e,5e3)),this.destroyed||n.connect().catch(()=>{e()})};e()}break;case pP.CONNECTED:t=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},1e4),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();case pP.CONNECTING:}this.connected!==t&&(this.connected=t)}),n.setIncomingDataListener(e=>{var t;switch(e.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let t="IsLinkedOK"===e.type?e.linked:void 0;this.linked=t||e.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":this.handleSessionMetadataUpdated(e.metadata);break;case"Event":this.handleIncomingEvent(e)}void 0!==e.id&&(null==(t=this.requestResolutions.get(e.id))||t(e))}),this.ws=n,this.http=new pr(t,e.id,e.key)}connect(){if(this.destroyed)throw Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:h_(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,r;this._linked=e,e&&(null==(t=this.onceLinked)||t.call(this)),null==(r=this.listener)||r.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if("Event"!==e.type||"Web3Response"!==e.event)return;let r=JSON.parse(await this.cipher.decrypt(e.data));if("WEB3_RESPONSE"!==r.type)return;let{id:n,response:i}=r;null==(t=this.listener)||t.handleWeb3ResponseMessage(n,i)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(e=>this.handleIncomingEvent(e))}async publishEvent(e,t,r=!1){let n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),i={type:"PublishEvent",id:h_(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:r};return this.setOnceLinked(async()=>{let e=await this.makeRequest(i);if("Fail"===e.type)throw Error(e.error||"failed to publish event");return e.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>2e4)return void this.ws.disconnect();try{this.ws.sendData("h")}catch(e){}}async makeRequest(e,t={timeout:6e4}){let r,n=e.id;return this.sendData(e),Promise.race([new Promise((e,i)=>{r=window.setTimeout(()=>{i(Error(`request ${n} timed out`))},t.timeout)}),new Promise(e=>{this.requestResolutions.set(n,t=>{clearTimeout(r),e(t),this.requestResolutions.delete(n)})})])}async handleConnected(){return"Fail"!==(await this.makeRequest({type:"HostSession",id:h_(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type&&(this.sendData({type:"IsLinked",id:h_(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:h_(this.nextReqId++),sessionId:this.session.id}),!0)}}class pa{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%0x7fffffff;let e=this._nextRequestId,t=h$(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}var po=e.i(403893),ps=e.i(944445);let pl="session:id",pc="session:secret",pd="session:linked";class pu{constructor(e,t,r,n=!1){this.storage=e,this.id=t,this.secret=r,this.key=(0,ps.bytesToHex)((0,po.sha256)(`${t}, ${r} WalletLink`)),this._linked=!!n}static create(e){return new pu(e,hC(16),hC(32)).save()}static load(e){let t=e.getItem(pl),r=e.getItem(pd),n=e.getItem(pc);return t&&n?new pu(e,t,n,"1"===r):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(pl,this.id),this.storage.setItem(pc,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(pd,this._linked?"1":"0")}}function ph(){var e,t;return null!=(t=null==(e=null==window?void 0:window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)&&t}function pp(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode('@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')),document.documentElement.appendChild(e)}var pf,pm,pg,py,pw,pv,pb,px,p_,pk,pE,pC,pA,pI,pS,pT,pP,pj,pN,pO,p$,pR,pM,pU,pL,pF,pD,pB,pW=e.i(722978),pq={},pz=[],pV=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pH=Array.isArray;function pG(e,t){for(var r in t)e[r]=t[r];return e}function pK(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function pJ(e,t,r){var n,i,a,o={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:o[a]=t[a];if(arguments.length>2&&(o.children=arguments.length>3?pj.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===o[a]&&(o[a]=e.defaultProps[a]);return pY(e,o,n,i,null)}function pY(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==i?++pO:i,__i:-1,__u:0};return null==i&&null!=pN.vnode&&pN.vnode(a),a}function pZ(e){return e.children}function pQ(e,t){this.props=e,this.context=t}function pX(e,t){if(null==t)return e.__?pX(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?pX(e):null}function p0(e){(!e.__d&&(e.__d=!0)&&p$.push(e)&&!p1.__r++||pR!=pN.debounceRendering)&&((pR=pN.debounceRendering)||pM)(p1)}function p1(){for(var e,t,r,n,i,a,o=1;p$.length;)p$.length>o&&p$.sort(pU),e=p$.shift(),o=p$.length,e.__d&&(t=void 0,r=void 0,n=(r=e.__v).__e,i=[],a=[],e.__P&&((t=pG({},r)).__v=r.__v+1,pN.vnode&&pN.vnode(t),p6(e.__P,t,r,e.__n,e.__P.namespaceURI,32&r.__u?[n]:null,i,null==n?pX(r):n,!!(32&r.__u),a),t.__v=r.__v,t.__.__k[t.__i]=t,p9(i,t,a),r.__e=r.__=null,t.__e!=n&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(t)));p1.__r=0}function p2(e,t,r,n,i,a,o,s,l,c,d){var u,h,p,f,m,g,y,w=n&&n.__k||pz,v=t.length;for(l=function(e,t,r,n,i){var a,o,s,l,c,d=r.length,u=d,h=0;for(e.__k=Array(i),a=0;a<i;a++)null!=(o=t[a])&&"boolean"!=typeof o&&"function"!=typeof o?("string"==typeof o||"number"==typeof o||"bigint"==typeof o||o.constructor==String?o=e.__k[a]=pY(null,o,null,null,null):pH(o)?o=e.__k[a]=pY(pZ,{children:o},null,null,null):null==o.constructor&&o.__b>0?o=e.__k[a]=pY(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):e.__k[a]=o,l=a+h,o.__=e,o.__b=e.__b+1,s=null,-1!=(c=o.__i=function(e,t,r,n){var i,a,o,s=e.key,l=e.type,c=t[r],d=null!=c&&0==(2&c.__u);if(null===c&&null==s||d&&s==c.key&&l==c.type)return r;if(n>+!!d){for(i=r-1,a=r+1;i>=0||a<t.length;)if(null!=(c=t[o=i>=0?i--:a++])&&0==(2&c.__u)&&s==c.key&&l==c.type)return o}return -1}(o,r,l,u))&&(u--,(s=r[c])&&(s.__u|=2)),null==s||null==s.__v?(-1==c&&(i>d?h--:i<d&&h++),"function"!=typeof o.type&&(o.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,o.__u|=4))):e.__k[a]=null;if(u)for(a=0;a<d;a++)null!=(s=r[a])&&0==(2&s.__u)&&(s.__e==n&&(n=pX(s)),function e(t,r,n){var i,a;if(pN.unmount&&pN.unmount(t),(i=t.ref)&&(i.current&&i.current!=t.__e||p7(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){pN.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||pK(t.__e),t.__c=t.__=t.__e=void 0}(s,s));return n}(r,t,w,l,v),u=0;u<v;u++)null!=(p=r.__k[u])&&(h=-1==p.__i?pq:w[p.__i]||pq,p.__i=u,g=p6(e,p,h,i,a,o,s,l,c,d),f=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&p7(h.ref,null,p),d.push(p.ref,p.__c||f,p)),null==m&&null!=f&&(m=f),(y=!!(4&p.__u))||h.__k===p.__k?l=function e(t,r,n,i){var a,o;if("function"==typeof t.type){for(a=t.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=t,r=e(a[o],r,n,i));return r}t.__e!=r&&(i&&(r&&t.type&&!r.parentNode&&(r=pX(t)),n.insertBefore(t.__e,r||null)),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8==r.nodeType)return r}(p,l,e,y):"function"==typeof p.type&&void 0!==g?l=g:f&&(l=f.nextSibling),p.__u&=-7);return r.__e=m,l}function p3(e,t,r){"-"==t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||pV.test(t)?r:r+"px"}function p5(e,t,r,n,i){var a,o;e:if("style"==t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||p3(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||p3(e.style,t,r[t])}else if("o"==t[0]&&"n"==t[1])a=t!=(t=t.replace(pL,"$1")),t=(o=t.toLowerCase())in e||"onFocusOut"==t||"onFocusIn"==t?o.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=pF,e.addEventListener(t,a?pB:pD,a)):e.removeEventListener(t,a?pB:pD,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function p4(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=pF++;else if(t.t<r.u)return;return r(pN.event?pN.event(t):t)}}}function p6(e,t,r,n,i,a,o,s,l,c){var d,u,h,p,f,m,g,y,w,v,b,x,_,k,E,C,A,I=t.type;if(null!=t.constructor)return null;128&r.__u&&(l=!!(32&r.__u),a=[s=t.__e=r.__e]),(d=pN.__b)&&d(t);e:if("function"==typeof I)try{if(y=t.props,w="prototype"in I&&I.prototype.render,v=(d=I.contextType)&&n[d.__c],b=d?v?v.props.value:d.__:n,r.__c?g=(u=t.__c=r.__c).__=u.__E:(w?t.__c=u=new I(y,b):(t.__c=u=new pQ(y,b),u.constructor=I,u.render=fe),v&&v.sub(u),u.state||(u.state={}),u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),w&&null==u.__s&&(u.__s=u.state),w&&null!=I.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=pG({},u.__s)),pG(u.__s,I.getDerivedStateFromProps(y,u.__s))),p=u.props,f=u.state,u.__v=t,h)w&&null==I.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),w&&null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(w&&null==I.getDerivedStateFromProps&&y!==p&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(y,b),t.__v==r.__v||!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(y,u.__s,b)){for(t.__v!=r.__v&&(u.props=y,u.state=u.__s,u.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),x=0;x<u._sb.length;x++)u.__h.push(u._sb[x]);u._sb=[],u.__h.length&&o.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(y,u.__s,b),w&&null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(p,f,m)})}if(u.context=b,u.props=y,u.__P=e,u.__e=!1,_=pN.__r,k=0,w){for(u.state=u.__s,u.__d=!1,_&&_(t),d=u.render(u.props,u.state,u.context),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[]}else do u.__d=!1,_&&_(t),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++k<25)u.state=u.__s,null!=u.getChildContext&&(n=pG(pG({},n),u.getChildContext())),w&&!h&&null!=u.getSnapshotBeforeUpdate&&(m=u.getSnapshotBeforeUpdate(p,f)),C=d,null!=d&&d.type===pZ&&null==d.key&&(C=function e(t){return"object"!=typeof t||null==t||t.__b&&t.__b>0?t:pH(t)?t.map(e):pG({},t)}(d.props.children)),s=p2(e,pH(C)?C:[C],t,r,n,i,a,o,s,l,c),u.base=t.__e,t.__u&=-161,u.__h.length&&o.push(u),g&&(u.__E=u.__=null)}catch(e){if(t.__v=null,l||null!=a)if(e.then){for(t.__u|=l?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,t.__e=s}else{for(A=a.length;A--;)pK(a[A]);p8(t)}else t.__e=r.__e,t.__k=r.__k,e.then||p8(t);pN.__e(e,t,r)}else null==a&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):s=t.__e=function(e,t,r,n,i,a,o,s,l){var c,d,u,h,p,f,m,g=r.props||pq,y=t.props,w=t.type;if("svg"==w?i="http://www.w3.org/2000/svg":"math"==w?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a){for(c=0;c<a.length;c++)if((p=a[c])&&"setAttribute"in p==!!w&&(w?p.localName==w:3==p.nodeType)){e=p,a[c]=null;break}}if(null==e){if(null==w)return document.createTextNode(y);e=document.createElementNS(i,w,y.is&&y),s&&(pN.__m&&pN.__m(t,a),s=!1),a=null}if(null==w)g===y||s&&e.data==y||(e.data=y);else{if(a=a&&pj.call(e.childNodes),!s&&null!=a)for(g={},c=0;c<e.attributes.length;c++)g[(p=e.attributes[c]).name]=p.value;for(c in g)if(p=g[c],"children"==c);else if("dangerouslySetInnerHTML"==c)u=p;else if(!(c in y)){if("value"==c&&"defaultValue"in y||"checked"==c&&"defaultChecked"in y)continue;p5(e,c,null,p,i)}for(c in y)p=y[c],"children"==c?h=p:"dangerouslySetInnerHTML"==c?d=p:"value"==c?f=p:"checked"==c?m=p:s&&"function"!=typeof p||g[c]===p||p5(e,c,p,g[c],i);if(d)s||u&&(d.__html==u.__html||d.__html==e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(u&&(e.innerHTML=""),p2("template"==t.type?e.content:e,pH(h)?h:[h],t,r,n,"foreignObject"==w?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:r.__k&&pX(r,0),s,l),null!=a)for(c=a.length;c--;)pK(a[c]);s||(c="value","progress"==w&&null==f?e.removeAttribute("value"):null==f||f===e[c]&&("progress"!=w||f)&&("option"!=w||f==g[c])||p5(e,c,f,g[c],i),c="checked",null!=m&&m!=e[c]&&p5(e,c,m,g[c],i))}return e}(r.__e,t,r,n,i,a,o,l,c);return(d=pN.diffed)&&d(t),128&t.__u?void 0:s}function p8(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(p8)}function p9(e,t,r){for(var n=0;n<r.length;n++)p7(r[n],r[++n],r[++n]);pN.__c&&pN.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){pN.__e(e,t.__v)}})}function p7(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){pN.__e(e,r)}}function fe(e,t,r){return this.constructor(e,r)}function ft(e,t,r){var n,i,a,o;t==document&&(t=document.documentElement),pN.__&&pN.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,a=[],o=[],p6(t,e=(!n&&r||t).__k=pJ(pZ,null,[e]),i||pq,pq,t.namespaceURI,!n&&r?[r]:i?null:t.firstChild?pj.call(t.childNodes):null,a,!n&&r?r:i?i.__e:t.firstChild,n,o),p9(a,e,o)}pj=pz.slice,pN={__e:function(e,t,r,n){for(var i,a,o;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),o=i.__d),o)return i.__E=i}catch(t){e=t}throw e}},pO=0,pQ.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=pG({},this.state),"function"==typeof e&&(e=e(pG({},r),this.props)),e&&pG(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),p0(this))},pQ.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),p0(this))},pQ.prototype.render=pZ,p$=[],pM="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,pU=function(e,t){return e.__v.__b-t.__v.__b},p1.__r=0,pL=/(PointerCapture)$|Capture$/i,pF=0,pD=p4(!1),pB=p4(!0);var fr,fn,fi,fa,fo=0,fs=[],fl=pN,fc=fl.__b,fd=fl.__r,fu=fl.diffed,fh=fl.__c,fp=fl.unmount,ff=fl.__;function fm(e,t){fl.__h&&fl.__h(fn,e,fo||t),fo=0;var r=fn.__H||(fn.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function fg(e,t,r){var n=fm(fr++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):fx(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=fn,!fn.__f)){var i=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!a||a.call(this,e,t,r);var o=n.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(o=!0)}}),a&&a.call(this,e,t,r)||o};fn.__f=!0;var a=fn.shouldComponentUpdate,o=fn.componentWillUpdate;fn.componentWillUpdate=function(e,t,r){if(this.__e){var n=a;a=void 0,i(e,t,r),a=n}o&&o.call(this,e,t,r)},fn.shouldComponentUpdate=i}return n.__N||n.__}function fy(){for(var e;e=fs.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(fv),e.__H.__h.forEach(fb),e.__H.__h=[]}catch(t){e.__H.__h=[],fl.__e(t,e.__v)}}fl.__b=function(e){fn=null,fc&&fc(e)},fl.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),ff&&ff(e,t)},fl.__r=function(e){fd&&fd(e),fr=0;var t=(fn=e.__c).__H;t&&(fi===fn?(t.__h=[],fn.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(fv),t.__h.forEach(fb),t.__h=[],fr=0)),fi=fn},fl.diffed=function(e){fu&&fu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==fs.push(t)&&fa===fl.requestAnimationFrame||((fa=fl.requestAnimationFrame)||function(e){var t,r=function(){clearTimeout(n),fw&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);fw&&(t=requestAnimationFrame(r))})(fy)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),fi=fn=null},fl.__c=function(e,t){t.some(function(e){try{e.__h.forEach(fv),e.__h=e.__h.filter(function(e){return!e.__||fb(e)})}catch(r){t.some(function(e){e.__h&&(e.__h=[])}),t=[],fl.__e(r,e.__v)}}),fh&&fh(e,t)},fl.unmount=function(e){fp&&fp(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(e){try{fv(e)}catch(e){t=e}}),r.__H=void 0,t&&fl.__e(t,r.__v))};var fw="function"==typeof requestAnimationFrame;function fv(e){var t=fn,r=e.__c;"function"==typeof r&&(e.__c=void 0,r()),fn=t}function fb(e){var t=fn;e.__c=e.__(),fn=t}function fx(e,t){return"function"==typeof t?t(e):t}class f_{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=ph()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){let t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&ft(pJ("div",null,pJ(fk,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>pJ(fE,Object.assign({},t,{key:e}))))),this.root)}}let fk=e=>pJ("div",{class:(0,pW.clsx)("-cbwsdk-snackbar-container")},pJ("style",null,".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}"),pJ("div",{class:"-cbwsdk-snackbar"},e.children)),fE=({autoExpand:e,message:t,menuItems:r})=>{var n,i,a,o;let[s,l]=(fo=1,fg(fx,!0)),[c,d]=(fo=1,fg(fx,null!=e&&e));return n=()=>{let e=[window.setTimeout(()=>{l(!1)},1),window.setTimeout(()=>{d(!0)},1e4)];return()=>{e.forEach(window.clearTimeout)}},i=fm(fr++,3),!fl.__s&&(a=i.__H,o=void 0,!a||a.length!==o.length||o.some(function(e,t){return e!==a[t]}))&&(i.__=n,i.u=void 0,fn.__H.__h.push(i)),pJ("div",{class:(0,pW.clsx)("-cbwsdk-snackbar-instance",s&&"-cbwsdk-snackbar-instance-hidden",c&&"-cbwsdk-snackbar-instance-expanded")},pJ("div",{class:"-cbwsdk-snackbar-instance-header",onClick:()=>{d(!c)}},pJ("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",pJ("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),pJ("div",{class:"-gear-container"},!c&&pJ("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pJ("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),pJ("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&pJ("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((e,t)=>pJ("div",{class:(0,pW.clsx)("-cbwsdk-snackbar-instance-menu-item",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:e.onClick,key:t},pJ("svg",{width:e.svgWidth,height:e.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},pJ("path",{"fill-rule":e.defaultFillRule,"clip-rule":e.defaultClipRule,d:e.path,fill:"#AAAAAA"})),pJ("span",{class:(0,pW.clsx)("-cbwsdk-snackbar-instance-menu-item-info",e.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},e.info)))))},fC="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class fA{constructor(){this.attached=!1,this.snackbar=new f_}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");let e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,pp()}showConnecting(e){let t;return t=e.isUnlinkedErrorState?{autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:{message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:fC,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}class fI{constructor(){this.root=null,this.darkMode=ph()}attach(){let e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),pp()}present(e){this.render(e)}clear(){this.render(null)}render(e){!this.root||(ft(null,this.root),e&&ft(pJ(fS,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}let fS=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>pJ(fk,{darkMode:r},pJ("div",{class:"-cbwsdk-redirect-dialog"},pJ("style",null,".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}"),pJ("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),pJ("div",{class:(0,pW.clsx)("-cbwsdk-redirect-dialog-box",r?"dark":"light")},pJ("p",null,e),pJ("button",{onClick:n},t)))),fT="https://www.walletlink.org";class fP{constructor(){this.attached=!1,this.redirectDialog=new fI}attach(){if(this.attached)throw Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){let t=new URL("https://go.cb-w.com/walletlink");t.searchParams.append("redirect_url",function(){try{if(function(){try{return null!==window.frameElement}catch(e){return!1}}()&&window.top)return window.top.location;return window.location}catch(e){return window.location}}().href),e&&t.searchParams.append("wl_url",e);let r=document.createElement("a");r.target="cbw-opener",r.href=t.href,r.rel="noreferrer noopener",r.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class fj{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=function(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)}(),this.linkedUpdated=e=>{this.isLinked=e;let t=this.storage.getItem(h7);if(e&&(this._session.linked=e),this.isUnlinkedErrorState=!1,t){let r=t.split(" "),n="true"===this.storage.getItem("IsStandaloneSigning");""===r[0]||e||!this._session.linked||n||(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(e,t)=>{this.storage.setItem(e,t)},this.chainUpdated=(e,t)=>{(this.chainCallbackParams.chainId!==e||this.chainCallbackParams.jsonRpcUrl!==t)&&(this.chainCallbackParams={chainId:e,jsonRpcUrl:t},this.chainCallback&&this.chainCallback(t,Number.parseInt(e,10)))},this.accountUpdated=e=>{this.accountsCallback&&this.accountsCallback([e]),fj.accountRequestCallbackIds.size>0&&(Array.from(fj.accountRequestCallbackIds.values()).forEach(t=>{this.invokeCallback(t,{method:"requestEthereumAccounts",result:[e]})}),fj.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:t,ui:r,connection:n}=this.subscribe();this._session=t,this.connection=n,this.relayEventManager=new pa,this.ui=r,this.ui.attach()}subscribe(){let e=pu.load(this.storage)||pu.create(this.storage),{linkAPIUrl:t}=this,r=new pi({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new fP:new fA;return r.connect(),{session:e,ui:n,connection:r}}resetAndReload(){this.connection.destroy().then(()=>{let e=pu.load(this.storage);(null==e?void 0:e.id)===this._session.id&&u8.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:hP(e.weiValue),data:hS(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?hP(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?hP(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?hP(e.gasPriceInWei):null,gasLimit:e.gasLimit?hP(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:hP(e.weiValue),data:hS(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?hP(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?hP(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?hP(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?hP(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:hS(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null,r=hC(8),n=n=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,n),null==t||t()};return new Promise((i,a)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(r,e=>{if(null==t||t(),pe(e))return a(Error(e.errorMessage));i(e)}),this.publishWeb3RequestEvent(r,e)})}publishWeb3RequestEvent(e,t){let r={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",r,!0).then(e=>{}).catch(e=>{this.handleWeb3ResponseMessage(r.id,{method:t.method,errorMessage:e.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof fP)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink()}}publishWeb3RequestCanceledEvent(e){this.publishEvent("Web3RequestCanceled",{type:"WEB3_REQUEST_CANCELED",id:e},!1).then()}publishEvent(e,t,r){return this.connection.publishEvent(e,t,r)}handleWeb3ResponseMessage(e,t){if("requestEthereumAccounts"===t.method){fj.accountRequestCallbackIds.forEach(e=>this.invokeCallback(e,t)),fj.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,r){var n;let i=null!=(n=null==r?void 0:r.message)?n:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:i})}invokeCallback(e,t){let r=this.relayEventManager.callbacks.get(e);r&&(r(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){let{appName:e,appLogoUrl:t}=this.metadata,r={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},n=hC(8);return new Promise((e,t)=>{this.relayEventManager.callbacks.set(n,r=>{if(pe(r))return t(Error(r.errorMessage));e(r)}),fj.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,r)})}watchAsset(e,t,r,n,i,a){let o={method:"watchAsset",params:{type:e,options:{address:t,symbol:r,decimals:n,image:i},chainId:a}},s=null,l=hC(8),c=e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,e),null==s||s()};return s=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==s||s(),pe(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,o)})}addEthereumChain(e,t,r,n,i,a){let o={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:i,iconUrls:r,nativeCurrency:a}},s=null,l=hC(8),c=e=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,o.method,e),null==s||s()};return s=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(l,r=>{if(null==s||s(),pe(r))return t(Error(r.errorMessage));e(r)}),this.publishWeb3RequestEvent(l,o)})}switchEthereumChain(e,t){let r={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})},n=null,i=hC(8),a=e=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,r.method,e),null==n||n()};return n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((e,t)=>{this.relayEventManager.callbacks.set(i,r=>(null==n||n(),pe(r)&&r.errorCode)?t(hg({code:r.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."})):pe(r)?t(Error(r.errorMessage)):void e(r)),this.publishWeb3RequestEvent(i,r)})}}fj.accountRequestCallbackIds=new Set;let fN="DefaultChainId",fO="DefaultJsonRpcUrl";class f${constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new u8("walletlink",fT),this.callback=e.callback||null;const t=this._storage.getItem(h7);if(t){const e=t.split(" ");""!==e[0]&&(this._addresses=e.map(e=>hU(e)))}this.initializeRelay()}getSession(){let{id:e,secret:t}=this.initializeRelay().getWalletLinkSession();return{id:e,secret:t}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return null!=(e=this._storage.getItem(fO))?e:void 0}set jsonRpcUrl(e){this._storage.setItem(fO,e)}updateProviderInfo(e,t){var r;this.jsonRpcUrl=e;let n=this.getChainId();this._storage.setItem(fN,t.toString(10)),hF(t)!==n&&(null==(r=this.callback)||r.call(this,"chainChanged",hj(t)))}async watchAsset(e){let t=Array.isArray(e)?e[0]:e;if(!t.type)throw hd("Type is required");if((null==t?void 0:t.type)!=="ERC20")throw hd(`Asset of type '${t.type}' is not supported`);if(!(null==t?void 0:t.options))throw hd("Options are required");if(!(null==t?void 0:t.options.address))throw hd("Address is required");let r=this.getChainId(),{address:n,symbol:i,image:a,decimals:o}=t.options,s=this.initializeRelay(),l=await s.watchAsset(t.type,n,i,o,a,null==r?void 0:r.toString());return!pe(l)&&!!l.result}async addEthereumChain(e){var t,r;let n=e[0];if((null==(t=n.rpcUrls)?void 0:t.length)===0)throw hd("please pass in at least 1 rpcUrl");if(!n.chainName||""===n.chainName.trim())throw hd("chainName is a required field");if(!n.nativeCurrency)throw hd("nativeCurrency is a required field");let i=Number.parseInt(n.chainId,16);if(i===this.getChainId())return!1;let a=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:s=[],chainName:l,iconUrls:c=[],nativeCurrency:d}=n,u=await a.addEthereumChain(i.toString(),o,c,s,l,d);if(pe(u))return!1;if((null==(r=u.result)?void 0:r.isApproved)===!0)return this.updateProviderInfo(o[0],i),null;throw hu("unable to add ethereum chain")}async switchEthereumChain(e){let t=Number.parseInt(e[0].chainId,16),r=this.initializeRelay(),n=await r.switchEthereumChain(t.toString(10),this.selectedAddress||void 0);if(pe(n))throw n;let i=n.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var r;if(!Array.isArray(e))throw Error("addresses is not an array");let n=e.map(e=>hU(e));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,null==(r=this.callback)||r.call(this,"accountsChanged",n),this._storage.setItem(h7,n.join(" ")))}async request(e){let t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return hj(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw hu("No RPC URL set for chain");return h2(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){let t=hU(e);if(!this._addresses.map(e=>hU(e)).includes(t))throw Error("Unknown Ethereum address")}_prepareTransactionParams(e){let t=e.from?hU(e.from):this.selectedAddress;if(!t)throw Error("Ethereum address is unavailable");this._ensureKnownAddress(t);let r=e.to?hU(e.to):null,n=null!=e.value?hD(e.value):BigInt(0),i=e.data?hL(e.data):V.Buffer.alloc(0),a=null!=e.nonce?hF(e.nonce):null,o=null!=e.gasPrice?hD(e.gasPrice):null,s=null!=e.maxFeePerGas?hD(e.maxFeePerGas):null,l=null!=e.maxPriorityFeePerGas?hD(e.maxPriorityFeePerGas):null;return{fromAddress:t,toAddress:r,weiValue:n,data:i,nonce:a,gasPriceInWei:o,maxFeePerGas:s,maxPriorityFeePerGas:l,gasLimit:null!=e.gas?hD(e.gas):null,chainId:e.chainId?hF(e.chainId):this.getChainId()}}async ecRecover(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw hd();let n=this.initializeRelay(),i=await n.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:hT(r[0]),signature:hT(r[1]),addPrefix:"personal_ecRecover"===t}});if(pe(i))throw i;return i.result}getChainId(){var e;return Number.parseInt(null!=(e=this._storage.getItem(fN))?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return null==(e=this.callback)||e.call(this,"connect",{chainId:hj(this.getChainId())}),this._addresses;let r=this.initializeRelay(),n=await r.requestEthereumAccounts();if(pe(n))throw n;if(!n.result)throw Error("accounts received is empty");return this._setAddresses(n.result),null==(t=this.callback)||t.call(this,"connect",{chainId:hj(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw hd();let t=e[1],r=e[0];this._ensureKnownAddress(t);let n=this.initializeRelay(),i=await n.sendRequest({method:"signEthereumMessage",params:{address:hU(t),message:hT(r),addPrefix:!0,typedDataJson:null}});if(pe(i))throw i;return i.result}async _eth_signTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signEthereumTransaction(t);if(pe(n))throw n;return n.result}async _eth_sendRawTransaction(e){let t=hL(e[0]),r=this.initializeRelay(),n=await r.submitEthereumTransaction(t,this.getChainId());if(pe(n))throw n;return n.result}async _eth_sendTransaction(e){let t=this._prepareTransactionParams(e[0]||{}),r=this.initializeRelay(),n=await r.signAndSubmitEthereumTransaction(t);if(pe(n))throw n;return n.result}async signTypedData(e){let{method:t,params:r}=e;if(!Array.isArray(r))throw hd();let n=r[+("eth_signTypedData_v1"===t)],i=r[+("eth_signTypedData_v1"!==t)];this._ensureKnownAddress(n);let a=this.initializeRelay(),o=await a.sendRequest({method:"signEthereumMessage",params:{address:hU(n),message:hS(({eth_signTypedData_v1:h9.default.hashForSignTypedDataLegacy,eth_signTypedData_v3:h9.default.hashForSignTypedData_v3,eth_signTypedData_v4:h9.default.hashForSignTypedData_v4,eth_signTypedData:h9.default.hashForSignTypedData_v4})[t]({data:function(e){if("string"==typeof e)return JSON.parse(e);if("object"==typeof e)return e;throw hd(`Not a JSON string or an object: ${String(e)}`)}(i)}),!0),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(pe(o))throw o;return o.result}initializeRelay(){return this._relay||(this._relay=new fj({linkAPIUrl:fT,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}let fR="SignerType",fM=new u8("CBWSDK","SignerConfigurator");async function fU(e){let{communicator:t,metadata:r,handshakeRequest:n,callback:i}=e;fL(t,r,i).catch(()=>{});let a={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:n})},{data:o}=await t.postRequestAndWaitForResponse(a);return o}async function fL(e,t,r){await e.onMessage(({event:e})=>"WalletLinkSessionRequest"===e);let n=new f$({metadata:t,callback:r});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}let fF=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,{checkCrossOriginOpenerPolicy:fD,getCrossOriginOpenerPolicy:fB}={getCrossOriginOpenerPolicy:()=>void 0===h?"undefined":h,checkCrossOriginOpenerPolicy:async()=>{if("undefined"==typeof window){h="non-browser-env";return}try{let e=`${window.location.origin}${window.location.pathname}`,t=await fetch(e,{method:"HEAD"});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);let r=t.headers.get("Cross-Origin-Opener-Policy");h=null!=r?r:"null","same-origin"===h&&console.error(fF)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),h="error"}}},fW={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:fC,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},fq=null;class fz{constructor({url:e="https://keys.coinbase.com/connect",metadata:t,preference:r}){this.popup=null,this.listeners=new Map,this.postMessage=async e=>{(await this.waitForPopupLoaded()).postMessage(e,this.url.origin)},this.postRequestAndWaitForResponse=async e=>{let t=this.onMessage(({requestId:t})=>t===e.id);return this.postMessage(e),await t},this.onMessage=async e=>new Promise((t,r)=>{let n=r=>{if(r.origin!==this.url.origin)return;let i=r.data;e(i)&&(t(i),window.removeEventListener("message",n),this.listeners.delete(n))};window.addEventListener("message",n),this.listeners.set(n,{reject:r})}),this.disconnect=()=>{var e;(e=this.popup)&&!e.closed&&e.close(),this.popup=null,this.listeners.forEach(({reject:e},t)=>{e(hh("Request rejected")),window.removeEventListener("message",t)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await function(e){let t=(window.innerWidth-420)/2+window.screenX,r=(window.innerHeight-540)/2+window.screenY;function n(){let n=`wallet_${crypto.randomUUID()}`,i=window.open(e,n,`width=420, height=540, left=${t}, top=${r}`);return(null==i||i.focus(),i)?i:null}var i=e;for(let[e,t]of Object.entries({sdkName:h1,sdkVersion:h0,origin:window.location.origin,coop:fB()}))i.searchParams.append(e,t.toString());let a=n();if(!a){let e=function(){if(!fq){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),(fq=new f_).attach(e)}return fq}();return new Promise((t,r)=>{e.presentItem({autoExpand:!0,message:"Popup was blocked. Try again.",menuItems:[Object.assign(Object.assign({},fW),{onClick:()=>{(a=n())?t(a):r(hu("Popup window was blocked")),e.clear()}})]})})}return Promise.resolve(a)}(this.url),this.onMessage(({event:e})=>"PopupUnload"===e).then(this.disconnect).catch(()=>{}),this.onMessage(({event:e})=>"PopupLoaded"===e).then(e=>{this.postMessage({requestId:e.id,data:{version:h0,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw hu();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=r}}var fV=e.i(50158);class fH extends fV.EventEmitter{}var fG=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class fK extends fH{constructor(e){var{metadata:t}=e,r=e.preference,{keysUrl:n}=r,i=fG(r,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=i,this.communicator=new fz({url:n,metadata:t,preference:i});const a=fM.getItem(fR);a&&(this.signer=this.initSigner(a))}async request(e){try{if(!function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw hd({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if("string"!=typeof t||0===t.length)throw hd({message:"'args.method' must be a non-empty string.",data:e});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw hd({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw hf()}}(e),!this.signer)switch(e.method){case"eth_requestAccounts":{let t=await this.requestSignerSelection(e),r=this.initSigner(t);await r.handshake(e),this.signer=r,fM.setItem(fR,t);break}case"wallet_sendCalls":{let t=this.initSigner("scw");await t.handshake({method:"handshake"});let r=await t.request(e);return await t.cleanup(),r}case"wallet_getCallsStatus":return h2(e,"https://rpc.wallet.coinbase.com");case"net_version":return 1;case"eth_chainId":return hj(1);default:throw hp("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(n){let e,t,{code:r}=n;return r===ht&&this.disconnect(),Promise.reject((e=function(e,{shouldIncludeStack:t=!1}={}){var r,n;let i={};if(e&&"object"==typeof e&&!Array.isArray(e)&&hl(e,"code")&&Number.isInteger(r=e.code)&&(hi[r.toString()]||(n=r)>=-32099&&n<=-32e3))i.code=e.code,e.message&&"string"==typeof e.message?(i.message=e.message,hl(e,"data")&&(i.data=e.data)):(i.message=ho(i.code),i.data={originalError:hs(e)});else i.code=u7,i.message=hc(e,"message")?e.message:ha,i.data={originalError:hs(e)};return t&&(i.stack=hc(e,"stack")?e.stack:void 0),i}(function(e){var t;if("string"==typeof e)return{message:e,code:u7};if(pe(e)){let r=e.errorMessage,n=null!=(t=e.errorCode)?t:r.match(/(denied|rejected)/i)?he:void 0;return Object.assign(Object.assign({},e),{message:r,code:n,data:{method:e.method}})}return e}(n),{shouldIncludeStack:!0}),(t=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors")).searchParams.set("version",h0),t.searchParams.set("code",e.code.toString()),t.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:t.href})))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await (null==(e=this.signer)?void 0:e.cleanup()),this.signer=null,u8.clearAll(),this.emit("disconnect",hm("User initiated disconnection"))}requestSignerSelection(e){return fU({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return function(e){let{signerType:t,metadata:r,communicator:n,callback:i}=e;switch(t){case"scw":return new h8({metadata:r,callback:i,communicator:n});case"walletlink":return new f$({metadata:r,callback:i})}}({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}let fJ={options:"all"};function fY(e){new u8("CBWSDK").setItem("VERSION",h0),fD();let t={metadata:{appName:e.appName||"Dapp",appLogoUrl:e.appLogoUrl||"",appChainIds:e.appChainIds||[]},preference:Object.assign(fJ,null!=(r=e.preference)?r:{})};var r,n=t.preference;if(n){if(!["all","smartWalletOnly","eoaOnly"].includes(n.options))throw Error(`Invalid options: ${n.options}`);if(n.attribution&&void 0!==n.attribution.auto&&void 0!==n.attribution.dataSuffix)throw Error("Attribution cannot contain both auto and dataSuffix properties")}let i=null;return{getProvider:()=>{var e;let r;return i||(i=null!=(e=function({metadata:e,preference:t}){var r,n;let{appName:i,appLogoUrl:a,appChainIds:o}=e;if("smartWalletOnly"!==t.options){let e=globalThis.coinbaseWalletExtension;if(e)return null==(r=e.setAppInfo)||r.call(e,i,a,o,t),e}let s=function(){var e,t;try{let r=globalThis;return null!=(e=r.ethereum)?e:null==(t=r.top)?void 0:t.ethereum}catch(e){return}}();if(null==s?void 0:s.isCoinbaseBrowser)return null==(n=s.setAppInfo)||n.call(s,i,a,o,t),s}(r={metadata:t.metadata,preference:t.preference}))?e:new fK(r)),i}}}let fZ={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"},fQ={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4},fX=e=>void 0!==e?BigInt(e):void 0;function f0(e){let t,{type:r=2,...n}="string"==typeof e?JSON.parse(e):e;n.accessList&&Array.isArray(n.accessList)?t=n.accessList.map(e=>Array.isArray(e)?{address:e[0],storageKeys:e[1]}:e):n.accessList&&(t=Object.entries(n.accessList).map(e=>({address:e[0],storageKeys:e[1]})));let i=Number(n.chainId??1),a=(0,Q.isHex)(n.data)?n.data:n.data?(0,Y.toHex)(Uint8Array.from(n.data)):void 0,o=n.nonce?Number(n.nonce):void 0,s={chainId:i,data:a,nonce:o,value:fX(n.value),gas:fX(n.gas??n.gasLimit)},l=Number(r);if(0===l)return{...n,type:fZ[l],...s,gasPrice:fX(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(1===l)return{...n,type:fZ[l],...s,gasPrice:fX(n.gasPrice),accessList:t,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(2===l)return{...n,type:fZ[l],...s,nonce:o,accessList:t,maxFeePerGas:fX(n.maxFeePerGas),maxPriorityFeePerGas:fX(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}let f1=(0,G.forwardRef)(({as:e="div",...t},r)=>(0,H.jsx)(e,{...t,ref:r})),f2="cf-turnstile-script",f3="onloadTurnstileCallback",f5={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}},f4=(0,G.forwardRef)((e,t)=>{let{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:a,onSuccess:o,onExpire:s,onError:l,onBeforeInteractive:c,onAfterInteractive:d,onUnsupported:u,onLoadScript:h,id:p,style:f,as:m="div",injectScript:g=!0,...y}=e,w=n.size??"normal",[v,b]=(0,G.useState)("execute"===n.execution?f5.invisible:"interaction-only"===n.appearance?f5.interactionOnly:f5[w]),x=(0,G.useRef)(null),_=(0,G.useRef)(!1),[k,E]=(0,G.useState)(),[C,A]=(0,G.useState)(!1),I=p??"cf-turnstile",S=g?r?.id||`${f2}__${I}`:r?.id||f2,T=function(e=f2){let[t,r]=(0,G.useState)(!1);return(0,G.useEffect)(()=>{let t=()=>{document.getElementById(e)&&r(!0)},n=new MutationObserver(t);return n.observe(document,{childList:!0,subtree:!0}),t(),()=>{n.disconnect()}},[e]),t}(S),P=r?.onLoadCallbackName?`${r.onLoadCallbackName}__${I}`:`${f3}__${I}`,j=(0,G.useMemo)(()=>{let e;return{sitekey:i,action:n.action,cData:n.cData,callback:o,"error-callback":l,"expired-callback":s,"before-interactive-callback":c,"after-interactive-callback":d,"unsupported-callback":u,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:("invisible"!==w&&(e=w),e),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}},[i,n,o,l,s,w,c,d,u]),N=(0,G.useMemo)(()=>JSON.stringify(j),[j]);return(0,G.useImperativeHandle)(t,()=>{if("undefined"==typeof window||!T)return;let{turnstile:e}=window;return{getResponse:()=>e?.getResponse&&k?e.getResponse(k):void console.warn("Turnstile has not been loaded"),reset(){if(!e?.reset||!k)return void console.warn("Turnstile has not been loaded");"execute"===n.execution&&b(f5.invisible);try{e.reset(k)}catch(e){console.warn(`Failed to reset Turnstile widget ${k}`,e)}},remove(){e?.remove&&k?(E(""),b(f5.invisible),e.remove(k)):console.warn("Turnstile has not been loaded")},render(){if(!e?.render||!x.current||k)return void console.warn("Turnstile has not been loaded or widget already rendered");let t=e.render(x.current,j);return E(t),"execute"!==n.execution&&b(f5[w]),t},execute(){if("execute"===n.execution){if(!e?.execute||!x.current||!k)return void console.warn("Turnstile has not been loaded or widget has not been rendered");e.execute(x.current,j),b(f5[w])}},isExpired:()=>e?.isExpired&&k?e.isExpired(k):void console.warn("Turnstile has not been loaded")}},[T,k,n.execution,w,j,x]),(0,G.useEffect)(()=>(window[P]=()=>A(!0),()=>{delete window[P]}),[P]),(0,G.useEffect)(()=>{g&&!C&&(({render:e="explicit",onLoadCallbackName:t=f3,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:a="",appendTo:o,onError:s,crossOrigin:l=""}={}})=>{let c=a||f2;if(document.getElementById(c))return;let d=document.createElement("script");d.id=c,d.src=`https://challenges.cloudflare.com/turnstile/v0/api.js?onload=${t}&render=${e}`,document.querySelector(`script[src="${d.src}"]`)||(d.defer=!!n,d.async=!!i,r&&(d.nonce=r),l&&(d.crossOrigin=l),s&&(d.onerror=s),("body"===o?document.body:document.getElementsByTagName("head")[0]).appendChild(d))})({onLoadCallbackName:P,scriptOptions:{...r,id:S}})},[g,C,P,r,S]),(0,G.useEffect)(()=>{T&&!C&&window.turnstile&&A(!0)},[C,T]),(0,G.useEffect)(()=>{i?T&&x.current&&C&&!_.current&&(E(window.turnstile.render(x.current,j)),_.current=!0):console.warn("sitekey was not provided")},[T,i,j,_,C]),(0,G.useEffect)(()=>{window.turnstile&&x.current&&k&&(document.getElementById(k)&&window.turnstile.remove(k),E(window.turnstile.render(x.current,j)),_.current=!0)},[N,i]),(0,G.useEffect)(()=>{if(window.turnstile&&k&&document.getElementById(k))return a?.(k),()=>{window.turnstile.remove(k)}},[k,a]),(0,G.useEffect)(()=>{b("execute"===n.execution?f5.invisible:"interaction-only"===j.appearance?f5.interactionOnly:f5[w])},[n.execution,w,j.appearance]),(0,G.useEffect)(()=>{T&&"function"==typeof h&&h()},[T,h]),(0,H.jsx)(f1,{ref:x,as:m,id:I,style:{...v,...f},...y})});f4.displayName="Turnstile";var f6=e.i(171580),f8=function(){return(f8=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function f9(e,t,r){if(r||2==arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.i(627686);var f7=e.i(924330),me="-ms-",mt="-moz-",mr="-webkit-",mn="comm",mi="rule",ma="decl",mo="@keyframes",ms=Math.abs,ml=String.fromCharCode,mc=Object.assign;function md(e,t){return(e=t.exec(e))?e[0]:e}function mu(e,t,r){return e.replace(t,r)}function mh(e,t,r){return e.indexOf(t,r)}function mp(e,t){return 0|e.charCodeAt(t)}function mf(e,t,r){return e.slice(t,r)}function mm(e){return e.length}function mg(e,t){return t.push(e),e}function my(e,t){return e.filter(function(e){return!md(e,t)})}var mw=1,mv=1,mb=0,mx=0,m_=0,mk="";function mE(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:mw,column:mv,length:o,return:"",siblings:s}}function mC(e,t){return mc(mE("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function mA(e){for(;e.root;)e=mC(e.root,{children:[e]});mg(e,e.siblings)}function mI(){return m_=mx<mb?mp(mk,mx++):0,mv++,10===m_&&(mv=1,mw++),m_}function mS(){return mp(mk,mx)}function mT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mP(e){var t,r;return(t=mx-1,r=function e(t){for(;mI();)switch(m_){case t:return mx;case 34:case 39:34!==t&&39!==t&&e(m_);break;case 40:41===t&&e(t);break;case 92:mI()}return mx}(91===e?e+2:40===e?e+1:e),mf(mk,t,r)).trim()}function mj(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function mN(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ma:return e.return=e.return||e.value;case mn:return"";case mo:return e.return=e.value+"{"+mj(e.children,n)+"}";case mi:if(!mm(e.value=e.props.join(",")))return""}return mm(r=mj(e.children,n))?e.return=e.value+"{"+r+"}":""}function mO(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case ma:e.return=function e(t,r,n){var i;switch(i=r,45^mp(t,0)?(((i<<2^mp(t,0))<<2^mp(t,1))<<2^mp(t,2))<<2^mp(t,3):0){case 5103:return mr+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mr+t+t;case 4789:return mt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return mr+t+mt+t+me+t+t;case 5936:switch(mp(t,r+11)){case 114:return mr+t+me+mu(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return mr+t+me+mu(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return mr+t+me+mu(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return mr+t+me+t+t;case 6165:return mr+t+me+"flex-"+t+t;case 5187:return mr+t+mu(t,/(\w+).+(:[^]+)/,mr+"box-$1$2"+me+"flex-$1$2")+t;case 5443:return mr+t+me+"flex-item-"+mu(t,/flex-|-self/g,"")+(md(t,/flex-|baseline/)?"":me+"grid-row-"+mu(t,/flex-|-self/g,""))+t;case 4675:return mr+t+me+"flex-line-pack"+mu(t,/align-content|flex-|-self/g,"")+t;case 5548:return mr+t+me+mu(t,"shrink","negative")+t;case 5292:return mr+t+me+mu(t,"basis","preferred-size")+t;case 6060:return mr+"box-"+mu(t,"-grow","")+mr+t+me+mu(t,"grow","positive")+t;case 4554:return mr+mu(t,/([^-])(transform)/g,"$1"+mr+"$2")+t;case 6187:return mu(mu(mu(t,/(zoom-|grab)/,mr+"$1"),/(image-set)/,mr+"$1"),t,"")+t;case 5495:case 3959:return mu(t,/(image-set\([^]*)/,mr+"$1$`$1");case 4968:return mu(mu(t,/(.+:)(flex-)?(.*)/,mr+"box-pack:$3"+me+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mr+t+t;case 4200:if(!md(t,/flex-|baseline/))return me+"grid-column-align"+mf(t,r)+t;break;case 2592:case 3360:return me+mu(t,"template-","")+t;case 4384:case 3616:if(n&&n.some(function(e,t){return r=t,md(e.props,/grid-\w+-end/)}))return~mh(t+(n=n[r].value),"span",0)?t:me+mu(t,"-start","")+t+me+"grid-row-span:"+(~mh(n,"span",0)?md(n,/\d+/):md(n,/\d+/)-md(t,/\d+/))+";";return me+mu(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(e){return md(e.props,/grid-\w+-start/)})?t:me+mu(mu(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return mu(t,/(.+)-inline(.+)/,mr+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mm(t)-1-r>6)switch(mp(t,r+1)){case 109:if(45!==mp(t,r+4))break;case 102:return mu(t,/(.+:)(.+)-([^]+)/,"$1"+mr+"$2-$3$1"+mt+(108==mp(t,r+3)?"$3":"$2-$3"))+t;case 115:return~mh(t,"stretch",0)?e(mu(t,"stretch","fill-available"),r,n)+t:t}break;case 5152:case 5920:return mu(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(e,r,n,i,a,o,s){return me+r+":"+n+s+(i?me+r+"-span:"+(a?o:o-n)+s:"")+t});case 4949:if(121===mp(t,r+6))return mu(t,":",":"+mr)+t;break;case 6444:switch(mp(t,45===mp(t,14)?18:11)){case 120:return mu(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+mr+(45===mp(t,14)?"inline-":"")+"box$3$1"+mr+"$2$3$1"+me+"$2box$3")+t;case 100:return mu(t,":",":"+me)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return mu(t,"scroll-","scroll-snap-")+t}return t}(e.value,e.length,r);return;case mo:return mj([mC(e,{value:mu(e.value,"@","@"+mr)})],n);case mi:if(e.length){var i,a;return i=r=e.props,a=function(t){switch(md(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":mA(mC(e,{props:[mu(t,/:(read-\w+)/,":"+mt+"$1")]})),mA(mC(e,{props:[t]})),mc(e,{props:my(r,n)});break;case"::placeholder":mA(mC(e,{props:[mu(t,/:(plac\w+)/,":"+mr+"input-$1")]})),mA(mC(e,{props:[mu(t,/:(plac\w+)/,":"+mt+"$1")]})),mA(mC(e,{props:[mu(t,/:(plac\w+)/,me+"input-$1")]})),mA(mC(e,{props:[t]})),mc(e,{props:my(r,n)})}return""},i.map(a).join("")}}}function m$(e,t,r,n,i,a,o,s,l,c,d,u){for(var h=i-1,p=0===i?a:[""],f=p.length,m=0,g=0,y=0;m<n;++m)for(var w=0,v=mf(e,h+1,h=ms(g=o[m])),b=e;w<f;++w)(b=(g>0?p[w]+" "+v:mu(v,/&\f/g,p[w])).trim())&&(l[y++]=b);return mE(e,t,r,0===i?mi:s,l,c,d,u)}function mR(e,t,r,n,i){return mE(e,t,r,ma,mf(e,0,n),mf(e,n+1,-1),n,i)}var mM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mU=void 0!==f6.default&&void 0!==f6.default.env&&(f6.default.env.REACT_APP_SC_ATTR||f6.default.env.SC_ATTR)||"data-styled",mL="active",mF="data-styled-version",mD="6.1.19",mB="/*!sc*/\n",mW="undefined"!=typeof window&&"undefined"!=typeof document,mq=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==f6.default&&void 0!==f6.default.env&&void 0!==f6.default.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==f6.default.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==f6.default.env.REACT_APP_SC_DISABLE_SPEEDY&&f6.default.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==f6.default&&void 0!==f6.default.env&&void 0!==f6.default.env.SC_DISABLE_SPEEDY&&""!==f6.default.env.SC_DISABLE_SPEEDY&&"false"!==f6.default.env.SC_DISABLE_SPEEDY&&f6.default.env.SC_DISABLE_SPEEDY),mz={},mV=Object.freeze([]),mH=Object.freeze({});function mG(e,t,r){return void 0===r&&(r=mH),e.theme!==r.theme&&e.theme||t||r.theme}var mK=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),mJ=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mY=/(^-|-$)/g;function mZ(e){return e.replace(mJ,"-").replace(mY,"")}var mQ=/(a)(d)/gi,mX=function(e){return String.fromCharCode(e+(e>25?39:97))};function m0(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=mX(t%52)+r;return(mX(t%52)+r).replace(mQ,"$1-$2")}var m1,m2=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},m3=function(e){return m2(5381,e)};function m5(e){return m0(m3(e)>>>0)}function m4(e){return"string"==typeof e}var m6="function"==typeof Symbol&&Symbol.for,m8=m6?Symbol.for("react.memo"):60115,m9=m6?Symbol.for("react.forward_ref"):60112,m7={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ge={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gr=((m1={})[m9]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m1[m8]=gt,m1);function gn(e){return("type"in e&&e.type.$$typeof)===m8?gt:"$$typeof"in e?gr[e.$$typeof]:m7}var gi=Object.defineProperty,ga=Object.getOwnPropertyNames,go=Object.getOwnPropertySymbols,gs=Object.getOwnPropertyDescriptor,gl=Object.getPrototypeOf,gc=Object.prototype;function gd(e){return"function"==typeof e}function gu(e){return"object"==typeof e&&"styledComponentId"in e}function gh(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function gp(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function gf(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function gm(e,t){Object.defineProperty(e,"toString",{value:t})}function gg(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var gy=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw gg(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var a=n;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,a=n;a<i;a++)t+="".concat(this.tag.getRule(a)).concat(mB);return t},e}(),gw=new Map,gv=new Map,gb=1,gx=function(e){if(gw.has(e))return gw.get(e);for(;gv.has(gb);)gb++;var t=gb++;return gw.set(e,t),gv.set(t,e),t},g_=function(e,t){gb=t+1,gw.set(e,t),gv.set(t,e)},gk="style[".concat(mU,"][").concat(mF,'="').concat(mD,'"]'),gE=new RegExp("^".concat(mU,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gC=function(e,t,r){for(var n,i=r.split(","),a=0,o=i.length;a<o;a++)(n=i[a])&&e.registerName(t,n)},gA=function(e,t){for(var r,n=(null!=(r=t.textContent)?r:"").split(mB),i=[],a=0,o=n.length;a<o;a++){var s=n[a].trim();if(s){var l=s.match(gE);if(l){var c=0|parseInt(l[1],10),d=l[2];0!==c&&(g_(d,c),gC(e,d,l[3]),e.getTag().insertRules(c,i)),i.length=0}else i.push(s)}}},gI=function(e){for(var t=document.querySelectorAll(gk),r=0,n=t.length;r<n;r++){var i=t[r];i&&i.getAttribute(mU)!==mL&&(gA(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function gS(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null}var gT=function(e){var t,r=document.head,n=e||r,i=document.createElement("style"),a=(t=Array.from(n.querySelectorAll("style[".concat(mU,"]"))))[t.length-1],o=void 0!==a?a.nextSibling:null;i.setAttribute(mU,mL),i.setAttribute(mF,mD);var s=gS();return s&&i.setAttribute("nonce",s),n.insertBefore(i,o),i},gP=function(){function e(e){this.element=gT(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}throw gg(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),gj=function(){function e(e){this.element=gT(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),gN=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),gO=mW,g$={isServer:!mW,useCSSOMInjection:!mq},gR=function(){function e(e,t,r){void 0===e&&(e=mH),void 0===t&&(t={});var n=this;this.options=f8(f8({},g$),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&mW&&gO&&(gO=!1,gI(this)),gm(this,function(){for(var e=n.getTag(),t=e.length,r="",i=0;i<t;i++)!function(t){var i=gv.get(t);if(void 0===i)return;var a=n.names.get(i),o=e.getGroup(t);if(void 0!==a&&a.size&&0!==o.length){var s="".concat(mU,".g").concat(t,'[id="').concat(i,'"]'),l="";void 0!==a&&a.forEach(function(e){e.length>0&&(l+="".concat(e,","))}),r+="".concat(o).concat(s,'{content:"').concat(l,'"}').concat(mB)}}(i);return r})}return e.registerId=function(e){return gx(e)},e.prototype.rehydrate=function(){!this.server&&mW&&gI(this)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(f8(f8({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){var e,t,r;return this.tag||(this.tag=(t=(e=this.options).useCSSOMInjection,r=e.target,new gy(e.isServer?new gN(r):t?new gP(r):new gj(r))))},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(gx(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(gx(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(gx(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),gM=/&/g,gU=/^\s*\/\/.*$/gm;function gL(e){var t,r,n,i=void 0===e?mH:e,a=i.options,o=void 0===a?mH:a,s=i.plugins,l=void 0===s?mV:s,c=function(e,n,i){return i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(t):e},d=l.slice();d.push(function(e){e.type===mi&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(gM,r).replace(n,c))}),o.prefix&&d.push(mO),d.push(mN);var u=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,r=i,n=RegExp("\\".concat(r,"\\b"),"g");var l,c,u,h,p,f,m=e.replace(gU,""),g=(p=function e(t,r,n,i,a,o,s,l,c){for(var d,u,h,p,f=0,m=0,g=s,y=0,w=0,v=0,b=1,x=1,_=1,k=0,E="",C=a,A=o,I=i,S=E;x;)switch(v=k,k=mI()){case 40:if(108!=v&&58==mp(S,g-1)){-1!=mh(S+=mu(mP(k),"&","&\f"),"&\f",ms(f?l[f-1]:0))&&(_=-1);break}case 34:case 39:case 91:S+=mP(k);break;case 9:case 10:case 13:case 32:S+=function(e){for(;m_=mS();)if(m_<33)mI();else break;return mT(e)>2||mT(m_)>3?"":" "}(v);break;case 92:S+=function(e,t){for(var r;--t&&mI()&&!(m_<48)&&!(m_>102)&&(!(m_>57)||!(m_<65))&&(!(m_>70)||!(m_<97)););return r=mx+(t<6&&32==mS()&&32==mI()),mf(mk,e,r)}(mx-1,7);continue;case 47:switch(mS()){case 42:case 47:mg((d=function(e,t){for(;mI();)if(e+m_===57)break;else if(e+m_===84&&47===mS())break;return"/*"+mf(mk,t,mx-1)+"*"+ml(47===e?e:mI())}(mI(),mx),u=r,h=n,p=c,mE(d,u,h,mn,ml(m_),mf(d,2,-2),0,p)),c);break;default:S+="/"}break;case 123*b:l[f++]=mm(S)*_;case 125*b:case 59:case 0:switch(k){case 0:case 125:x=0;case 59+m:-1==_&&(S=mu(S,/\f/g,"")),w>0&&mm(S)-g&&mg(w>32?mR(S+";",i,n,g-1,c):mR(mu(S," ","")+";",i,n,g-2,c),c);break;case 59:S+=";";default:if(mg(I=m$(S,r,n,f,m,a,l,E,C=[],A=[],g,o),o),123===k)if(0===m)e(S,r,I,I,C,o,g,l,A);else switch(99===y&&110===mp(S,3)?100:y){case 100:case 108:case 109:case 115:e(t,I,I,i&&mg(m$(t,I,I,0,0,a,l,E,a,C=[],g,A),A),a,A,g,l,i?C:A);break;default:e(S,I,I,I,[""],A,0,l,A)}}f=m=w=0,b=_=1,E=S="",g=s;break;case 58:g=1+mm(S),w=v;default:if(b<1){if(123==k)--b;else if(125==k&&0==b++&&125==(m_=mx>0?mp(mk,--mx):0,mv--,10===m_&&(mv=1,mw--),m_))continue}switch(S+=ml(k),k*b){case 38:_=m>0?1:(S+="\f",-1);break;case 44:l[f++]=(mm(S)-1)*_,_=1;break;case 64:45===mS()&&(S+=mP(mI())),y=mS(),m=g=mm(E=S+=function(e){for(;!mT(mS());)mI();return mf(mk,e,mx)}(mx)),k++;break;case 45:45===v&&2==mm(S)&&(b=0)}}return o}("",null,null,null,[""],(h=u=a||i?"".concat(a," ").concat(i," { ").concat(m," }"):m,mw=mv=1,mb=mm(mk=h),mx=0,u=[]),0,[0],u),mk="",p);o.namespace&&(g=function e(t,r){return t.map(function(t){return"rule"===t.type&&(t.value="".concat(r," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(r," ")),t.props=t.props.map(function(e){return"".concat(r," ").concat(e)})),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,r)),t})}(g,o.namespace));var y=[];return mj(g,(c=(l=d.concat((f=function(e){return y.push(e)},function(e){!e.root&&(e=e.return)&&f(e)}))).length,function(e,t,r,n){for(var i="",a=0;a<c;a++)i+=l[a](e,t,r,n)||"";return i})),y};return u.hash=l.length?l.reduce(function(e,t){return t.name||gg(15),m2(e,t.name)},5381).toString():"",u}var gF=new gR,gD=gL(),gB=G.default.createContext({shouldForwardProp:void 0,styleSheet:gF,stylis:gD}),gW=(gB.Consumer,G.default.createContext(void 0));function gq(){return(0,G.useContext)(gB)}function gz(e){var t=(0,G.useState)(e.stylisPlugins),r=t[0],n=t[1],i=gq().styleSheet,a=(0,G.useMemo)(function(){var t=i;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t},[e.disableCSSOMInjection,e.sheet,e.target,i]),o=(0,G.useMemo)(function(){return gL({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:r})},[e.enableVendorPrefixes,e.namespace,r]);(0,G.useEffect)(function(){(0,f7.default)(r,e.stylisPlugins)||n(e.stylisPlugins)},[e.stylisPlugins]);var s=(0,G.useMemo)(function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:a,stylis:o}},[e.shouldForwardProp,a,o]);return G.default.createElement(gB.Provider,{value:s},G.default.createElement(gW.Provider,{value:o},e.children))}var gV=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=gD);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,gm(this,function(){throw gg(12,String(r.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=gD),this.name+e.hash},e}();function gH(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;n>="A"&&n<="Z"?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var gG=function(e){return null==e||!1===e||""===e},gK=function(e){var t=[];for(var r in e){var n=e[r];e.hasOwnProperty(r)&&!gG(n)&&(Array.isArray(n)&&n.isCss||gd(n)?t.push("".concat(gH(r),":"),n,";"):gf(n)?t.push.apply(t,f9(f9(["".concat(r," {")],gK(n),!1),["}"],!1)):t.push("".concat(gH(r),": ").concat(null==n||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||r in mM||r.startsWith("--")?String(n).trim():"".concat(n,"px"),";")))}return t};function gJ(e,t,r,n){if(gG(e))return[];if(gu(e))return[".".concat(e.styledComponentId)];if(gd(e))return!gd(e)||e.prototype&&e.prototype.isReactComponent||!t?[e]:gJ(e(t),t,r,n);return e instanceof gV?r?(e.inject(r,n),[e.getName(n)]):[e]:gf(e)?gK(e):Array.isArray(e)?Array.prototype.concat.apply(mV,e.map(function(e){return gJ(e,t,r,n)})):[e.toString()]}function gY(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(gd(r)&&!gu(r))return!1}return!0}var gZ=m3(mD),gQ=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&gY(e),this.componentId=t,this.baseHash=m2(gZ,t),this.baseStyle=r,gR.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=gh(n,this.staticRulesId);else{var i=gp(gJ(this.rules,e,t,r)),a=m0(m2(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=r(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}n=gh(n,a),this.staticRulesId=a}else{for(var s=m2(this.baseHash,r.hash),l="",c=0;c<this.rules.length;c++){var d=this.rules[c];if("string"==typeof d)l+=d;else if(d){var u=gp(gJ(d,e,t,r));s=m2(s,u+c),l+=u}}if(l){var h=m0(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,r(l,".".concat(h),void 0,this.componentId)),n=gh(n,h)}}return n},e}(),gX=G.default.createContext(void 0);gX.Consumer;var g0={};function g1(e,t,r){var n,i,a,o,s=gu(e),l=!m4(e),c=t.attrs,d=void 0===c?mV:c,u=t.componentId,h=void 0===u?(n=t.displayName,i=t.parentComponentId,g0[a="string"!=typeof n?"sc":mZ(n)]=(g0[a]||0)+1,o="".concat(a,"-").concat(m5(mD+a+g0[a])),i?"".concat(i,"-").concat(o):o):u,p=t.displayName,f=void 0===p?m4(e)?"styled.".concat(e):"Styled(".concat(e.displayName||e.name||"Component",")"):p,m=t.displayName&&t.componentId?"".concat(mZ(t.displayName),"-").concat(t.componentId):t.componentId||h,g=s&&e.attrs?e.attrs.concat(d).filter(Boolean):d,y=t.shouldForwardProp;if(s&&e.shouldForwardProp){var w=e.shouldForwardProp;if(t.shouldForwardProp){var v=t.shouldForwardProp;y=function(e,t){return w(e,t)&&v(e,t)}}else y=w}var b=new gQ(r,m,s?e.componentStyle:void 0);function x(e,t){return function(e,t,r){var n,i=e.attrs,a=e.componentStyle,o=e.defaultProps,s=e.foldedComponentIds,l=e.styledComponentId,c=e.target,d=G.default.useContext(gX),u=gq(),h=e.shouldForwardProp||u.shouldForwardProp,p=mG(t,d,o)||mH,f=function(e,t,r){for(var n,i=f8(f8({},t),{className:void 0,theme:r}),a=0;a<e.length;a+=1){var o=gd(n=e[a])?n(i):n;for(var s in o)i[s]="className"===s?gh(i[s],o[s]):"style"===s?f8(f8({},i[s]),o[s]):o[s]}return t.className&&(i.className=gh(i.className,t.className)),i}(i,t,p),m=f.as||c,g={};for(var y in f)void 0===f[y]||"$"===y[0]||"as"===y||"theme"===y&&f.theme===p||("forwardedAs"===y?g.as=f.forwardedAs:h&&!h(y,m)||(g[y]=f[y]));var w=(n=gq(),a.generateAndInjectStyles(f,n.styleSheet,n.stylis)),v=gh(s,l);return w&&(v+=" "+w),f.className&&(v+=" "+f.className),g[m4(m)&&!mK.has(m)?"class":"className"]=v,r&&(g.ref=r),(0,G.createElement)(m,g)}(_,e,t)}x.displayName=f;var _=G.default.forwardRef(x);return _.attrs=g,_.componentStyle=b,_.displayName=f,_.shouldForwardProp=y,_.foldedComponentIds=s?gh(e.foldedComponentIds,e.styledComponentId):"",_.styledComponentId=m,_.target=s?e.target:e,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=s?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0;n<t.length;n++)!function e(t,r,n){if(void 0===n&&(n=!1),!n&&!gf(t)&&!Array.isArray(t))return r;if(Array.isArray(r))for(var i=0;i<r.length;i++)t[i]=e(t[i],r[i]);else if(gf(r))for(var i in r)t[i]=e(t[i],r[i]);return t}(e,t[n],!0);return e}({},e.defaultProps,t):t}}),gm(_,function(){return".".concat(_.styledComponentId)}),l&&function e(t,r,n){if("string"!=typeof r){if(gc){var i=gl(r);i&&i!==gc&&e(t,i,n)}var a=ga(r);go&&(a=a.concat(go(r)));for(var o=gn(t),s=gn(r),l=0;l<a.length;++l){var c=a[l];if(!(c in ge||n&&n[c]||s&&c in s||o&&c in o)){var d=gs(r,c);try{gi(t,c,d)}catch(e){}}}}return t}(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function g2(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var g3=function(e){return Object.assign(e,{isCss:!0})};function g5(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return gd(e)||gf(e)?g3(gJ(g2(mV,f9([e],t,!0)))):0===t.length&&1===e.length&&"string"==typeof e[0]?gJ(e):g3(gJ(g2(e,t)))}var g4=function(e){return function e(t,r,n){if(void 0===n&&(n=mH),!r)throw gg(1,r);var i=function(e){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return t(r,n,g5.apply(void 0,f9([e],i,!1)))};return i.attrs=function(i){return e(t,r,f8(f8({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i.withConfig=function(i){return e(t,r,f8(f8({},n),i))},i}(g1,e)};mK.forEach(function(e){g4[e]=g4(e)});var g6=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=gY(e),gR.registerId(this.componentId+1)}return e.prototype.createStyles=function(e,t,r,n){var i=n(gp(gJ(this.rules,t,r,n)),""),a=this.componentId+e;r.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&gR.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function g8(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=g5.apply(void 0,f9([e],t,!1)),i="sc-global-".concat(m5(JSON.stringify(n))),a=new g6(n,i),o=function(e){var t=gq(),r=G.default.useContext(gX),n=G.default.useRef(t.styleSheet.allocateGSInstance(i)).current;return t.styleSheet.server&&s(n,e,t.styleSheet,r,t.stylis),G.default.useLayoutEffect(function(){if(!t.styleSheet.server)return s(n,e,t.styleSheet,r,t.stylis),function(){return a.removeStyles(n,t.styleSheet)}},[n,e,t.styleSheet,r,t.stylis]),null};function s(e,t,r,n,i){if(a.isStatic)a.renderStyles(e,mz,r,i);else{var s=f8(f8({},t),{theme:mG(t,n,o.defaultProps)});a.renderStyles(e,s,r,i)}}return G.default.memo(o)}function g9(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=gp(g5.apply(void 0,f9([e],t,!1)));return new gV(m5(n),n)}function g7(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var r=gS(),n=gp([r&&'nonce="'.concat(r,'"'),"".concat(mU,'="true"'),"".concat(mF,'="').concat(mD,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw gg(2);return e._emitSheetCSS()},this.getStyleElement=function(){if(e.sealed)throw gg(2);var t,r=e.instance.toString();if(!r)return[];var n=((t={})[mU]="",t[mF]=mD,t.dangerouslySetInnerHTML={__html:r},t),i=gS();return i&&(n.nonce=i),[G.default.createElement("style",f8({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new gR({isServer:!0}),this.sealed=!1}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}g7.prototype.collectStyles=function(e){if(this.sealed)throw gg(2);return G.default.createElement(gz,{sheet:this.instance},e)},g7.prototype.interleaveWithNodeStream=function(e){throw gg(3)},e.s(["createGlobalStyle",()=>g8,"css",()=>g5,"default",()=>g4,"keyframes",()=>g9,"styled",()=>g4],689391);var yt=/^\s+/,yr=/\s+$/;function yn(e,t){if(t=t||{},(e=e||"")instanceof yn)return e;if(!(this instanceof yn))return new yn(e,t);var r,n,i,a,o,s,l,c,d,u,h,p,f,m,g,y,w,v,b,x,_=(n={r:0,g:0,b:0},i=1,a=null,o=null,s=null,l=!1,c=!1,"string"==typeof(r=e)&&(r=function(e){e=e.replace(yt,"").replace(yr,"").toLowerCase();var t,r=!1;if(yb[e])e=yb[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=yT.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=yT.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=yT.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=yT.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=yT.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=yT.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=yT.hex8.exec(e))?{r:yC(t[1]),g:yC(t[2]),b:yC(t[3]),a:yC(t[4])/255,format:r?"name":"hex8"}:(t=yT.hex6.exec(e))?{r:yC(t[1]),g:yC(t[2]),b:yC(t[3]),format:r?"name":"hex"}:(t=yT.hex4.exec(e))?{r:yC(t[1]+""+t[1]),g:yC(t[2]+""+t[2]),b:yC(t[3]+""+t[3]),a:yC(t[4]+""+t[4])/255,format:r?"name":"hex8"}:!!(t=yT.hex3.exec(e))&&{r:yC(t[1]+""+t[1]),g:yC(t[2]+""+t[2]),b:yC(t[3]+""+t[3]),format:r?"name":"hex"}}(r)),"object"==ye(r)&&(yP(r.r)&&yP(r.g)&&yP(r.b)?(d=r.r,u=r.g,h=r.b,n={r:255*yk(d,255),g:255*yk(u,255),b:255*yk(h,255)},l=!0,c="%"===String(r.r).substr(-1)?"prgb":"rgb"):yP(r.h)&&yP(r.s)&&yP(r.v)?(a=yI(r.s),o=yI(r.v),p=r.h,f=a,m=o,p=6*yk(p,360),f=yk(f,100),m=yk(m,100),g=Math.floor(p),y=p-g,w=m*(1-f),v=m*(1-y*f),b=m*(1-(1-y)*f),n={r:255*[m,v,w,w,b,m][x=g%6],g:255*[b,m,m,v,w,w][x],b:255*[w,w,b,m,m,v][x]},l=!0,c="hsv"):yP(r.h)&&yP(r.s)&&yP(r.l)&&(a=yI(r.s),s=yI(r.l),n=function(e,t,r){var n,i,a;function o(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=yk(e,360),t=yk(t,100),r=yk(r,100),0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(r.h,a,s),l=!0,c="hsl"),r.hasOwnProperty("a")&&(i=r.a)),i=y_(i),{ok:l,format:r.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:i});this._originalInput=e,this._r=_.r,this._g=_.g,this._b=_.b,this._a=_.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||_.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=_.ok}function yi(e,t,r){e=yk(e,255);var n,i,a=Math.max(e,t=yk(t,255),r=yk(r,255)),o=Math.min(e,t,r),s=(a+o)/2;if(a==o)n=i=0;else{var l=a-o;switch(i=s>.5?l/(2-a-o):l/(a+o),a){case e:n=(t-r)/l+6*(t<r);break;case t:n=(r-e)/l+2;break;case r:n=(e-t)/l+4}n/=6}return{h:n,s:i,l:s}}function ya(e,t,r){e=yk(e,255);var n,i=Math.max(e,t=yk(t,255),r=yk(r,255)),a=Math.min(e,t,r),o=i-a;if(i==a)n=0;else{switch(i){case e:n=(t-r)/o+6*(t<r);break;case t:n=(r-e)/o+2;break;case r:n=(e-t)/o+4}n/=6}return{h:n,s:0===i?0:o/i,v:i}}function yo(e,t,r,n){var i=[yA(Math.round(e).toString(16)),yA(Math.round(t).toString(16)),yA(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function ys(e,t,r,n){return[yA(yS(n)),yA(Math.round(e).toString(16)),yA(Math.round(t).toString(16)),yA(Math.round(r).toString(16))].join("")}function yl(e,t){t=0===t?0:t||10;var r=yn(e).toHsl();return r.s-=t/100,r.s=yE(r.s),yn(r)}function yc(e,t){t=0===t?0:t||10;var r=yn(e).toHsl();return r.s+=t/100,r.s=yE(r.s),yn(r)}function yd(e){return yn(e).desaturate(100)}function yu(e,t){t=0===t?0:t||10;var r=yn(e).toHsl();return r.l+=t/100,r.l=yE(r.l),yn(r)}function yh(e,t){t=0===t?0:t||10;var r=yn(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-(t/100*255)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-(t/100*255)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-(t/100*255)))),yn(r)}function yp(e,t){t=0===t?0:t||10;var r=yn(e).toHsl();return r.l-=t/100,r.l=yE(r.l),yn(r)}function yf(e,t){var r=yn(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,yn(r)}function ym(e){var t=yn(e).toHsl();return t.h=(t.h+180)%360,yn(t)}function yg(e,t){if(isNaN(t)||t<=0)throw Error("Argument to polyad must be a positive number");for(var r=yn(e).toHsl(),n=[yn(e)],i=360/t,a=1;a<t;a++)n.push(yn({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function yy(e){var t=yn(e).toHsl(),r=t.h;return[yn(e),yn({h:(r+72)%360,s:t.s,l:t.l}),yn({h:(r+216)%360,s:t.s,l:t.l})]}function yw(e,t,r){t=t||6,r=r||30;var n=yn(e).toHsl(),i=360/r,a=[yn(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(yn(n));return a}function yv(e,t){t=t||6;for(var r=yn(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(yn({h:n,s:i,v:a})),a=(a+s)%1;return o}yn.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*((r=n.b/255)<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=y_(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=ya(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=ya(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=yi(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=yi(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return yo(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){var t,r,n,i,a,o;return t=this._r,r=this._g,n=this._b,i=this._a,a=e,o=[yA(Math.round(t).toString(16)),yA(Math.round(r).toString(16)),yA(Math.round(n).toString(16)),yA(yS(i))],a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*yk(this._r,255))+"%",g:Math.round(100*yk(this._g,255))+"%",b:Math.round(100*yk(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*yk(this._r,255))+"%, "+Math.round(100*yk(this._g,255))+"%, "+Math.round(100*yk(this._b,255))+"%)":"rgba("+Math.round(100*yk(this._r,255))+"%, "+Math.round(100*yk(this._g,255))+"%, "+Math.round(100*yk(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(yx[yo(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+ys(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var i=yn(e);r="#"+ys(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return!t&&n&&("hex"===e||"hex6"===e||"hex3"===e||"hex4"===e||"hex8"===e||"name"===e)?"name"===e&&0===this._a?this.toName():this.toRgbString():("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),("hex"===e||"hex6"===e)&&(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return yn(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(yu,arguments)},brighten:function(){return this._applyModification(yh,arguments)},darken:function(){return this._applyModification(yp,arguments)},desaturate:function(){return this._applyModification(yl,arguments)},saturate:function(){return this._applyModification(yc,arguments)},greyscale:function(){return this._applyModification(yd,arguments)},spin:function(){return this._applyModification(yf,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(yw,arguments)},complement:function(){return this._applyCombination(ym,arguments)},monochromatic:function(){return this._applyCombination(yv,arguments)},splitcomplement:function(){return this._applyCombination(yy,arguments)},triad:function(){return this._applyCombination(yg,[3])},tetrad:function(){return this._applyCombination(yg,[4])}},yn.fromRatio=function(e,t){if("object"==ye(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&("a"===n?r[n]=e[n]:r[n]=yI(e[n]));e=r}return yn(e,t)},yn.equals=function(e,t){return!!e&&!!t&&yn(e).toRgbString()==yn(t).toRgbString()},yn.random=function(){return yn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},yn.mix=function(e,t,r){r=0===r?0:r||50;var n=yn(e).toRgb(),i=yn(t).toRgb(),a=r/100;return yn({r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a})},yn.readability=function(e,t){var r=yn(e),n=yn(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},yn.isReadable=function(e,t,r){var n,i,a,o,s,l=yn.readability(e,t);switch(s=!1,(i=((n=(n=r)||{level:"AA",size:"small"}).level||"AA").toUpperCase(),a=(n.size||"small").toLowerCase(),"AA"!==i&&"AAA"!==i&&(i="AA"),"small"!==a&&"large"!==a&&(a="small"),o={level:i,size:a}).level+o.size){case"AAsmall":case"AAAlarge":s=l>=4.5;break;case"AAlarge":s=l>=3;break;case"AAAsmall":s=l>=7}return s},yn.mostReadable=function(e,t,r){var n,i,a,o,s=null,l=0;i=(r=r||{}).includeFallbackColors,a=r.level,o=r.size;for(var c=0;c<t.length;c++)(n=yn.readability(e,t[c]))>l&&(l=n,s=yn(t[c]));return yn.isReadable(e,s,{level:a,size:o})||!i?s:(r.includeFallbackColors=!1,yn.mostReadable(e,["#fff","#000"],r))};var yb=yn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},yx=yn.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(yb);function y_(e){return(isNaN(e=parseFloat(e))||e<0||e>1)&&(e=1),e}function yk(e,t){"string"==typeof(r=e)&&-1!=r.indexOf(".")&&1===parseFloat(r)&&(e="100%");var r,n,i="string"==typeof(n=e)&&-1!=n.indexOf("%");return(e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),1e-6>Math.abs(e-t))?1:e%t/parseFloat(t)}function yE(e){return Math.min(1,Math.max(0,e))}function yC(e){return parseInt(e,16)}function yA(e){return 1==e.length?"0"+e:""+e}function yI(e){return e<=1&&(e=100*e+"%"),e}function yS(e){return Math.round(255*parseFloat(e)).toString(16)}var yT=(UR="[\\s|\\(]+("+(U$="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+U$+")[,|\\s]+("+U$+")\\s*\\)?",UM="[\\s|\\(]+("+U$+")[,|\\s]+("+U$+")[,|\\s]+("+U$+")[,|\\s]+("+U$+")\\s*\\)?",{CSS_UNIT:new RegExp(U$),rgb:RegExp("rgb"+UR),rgba:RegExp("rgba"+UM),hsl:RegExp("hsl"+UR),hsla:RegExp("hsla"+UM),hsv:RegExp("hsv"+UR),hsva:RegExp("hsva"+UM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function yP(e){return!!yT.CSS_UNIT.exec(e)}let yj=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}),yN=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}),yO=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}),y$=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}),yR=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}),yM=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}),yU=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}),yL=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}),yF=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}),yD=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))});var yB=e.i(78436);function yW(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function yq(){let e=[],t={addEventListener:(e,r,n,i)=>(e.addEventListener(r,n,i),t.add(()=>e.removeEventListener(r,n,i))),requestAnimationFrame(...e){let r=requestAnimationFrame(...e);return t.add(()=>cancelAnimationFrame(r))},nextFrame:(...e)=>t.requestAnimationFrame(()=>t.requestAnimationFrame(...e)),setTimeout(...e){let r=setTimeout(...e);return t.add(()=>clearTimeout(r))},microTask(...e){let r={current:!0};return yW(()=>{r.current&&e[0]()}),t.add(()=>{r.current=!1})},style(e,t,r){let n=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:r}),this.add(()=>{Object.assign(e.style,{[t]:n})})},group(e){let t=yq();return e(t),this.add(()=>t.dispose())},add:t=>(e.includes(t)||e.push(t),()=>{let r=e.indexOf(t);if(r>=0)for(let t of e.splice(r,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function yz(){let[e]=(0,G.useState)(yq);return(0,G.useEffect)(()=>()=>e.dispose(),[e]),e}var yV=Object.defineProperty,yH=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?yV(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r};let yG=new class{constructor(){yH(this,"current",this.detect()),yH(this,"handoffState","pending"),yH(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},yK=(e,t)=>{yG.isServer?(0,G.useEffect)(e,t):(0,G.useLayoutEffect)(e,t)};function yJ(e){let t=(0,G.useRef)(e);return yK(()=>{t.current=e},[e]),t}let yY=function(e){let t=yJ(e);return G.default.useCallback((...e)=>t.current(...e),[t])};function yZ(){let e=(0,G.useRef)(!1);return yK(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function yQ(){let e,t=(e="undefined"==typeof document,"useSyncExternalStore"in G&&(0,G.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!e)),[r,n]=G.useState(yG.isHandoffComplete);return r&&!1===yG.isHandoffComplete&&n(!1),G.useEffect(()=>{!0!==r&&n(!0)},[r]),G.useEffect(()=>yG.handoff(),[]),!t&&r}let yX=Symbol();function y0(...e){let t=(0,G.useRef)(e);(0,G.useEffect)(()=>{t.current=e},[e]);let r=yY(e=>{for(let r of t.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[yX]))?void 0:r}void 0!==f6.default&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(UB=null==f6.default?void 0:f6.default.env)?void 0:UB.NODE_ENV)==="test"&&void 0===(null==(UW=null==Element?void 0:Element.prototype)?void 0:UW.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var y1=((p=y1||{})[p.None=0]="None",p[p.Closed=1]="Closed",p[p.Enter=2]="Enter",p[p.Leave=4]="Leave",p);function y2(e){let t={};for(let r in e)!0===e[r]&&(t[`data-${r}`]="");return t}function y3(e,t,r,n){let[i,a]=(0,G.useState)(r),{hasFlag:o,addFlag:s,removeFlag:l}=function(e=0){let[t,r]=(0,G.useState)(e),n=(0,G.useCallback)(e=>r(e),[]),i=(0,G.useCallback)(e=>r(t=>t|e),[]),a=(0,G.useCallback)(e=>(t&e)===e,[t]);return{flags:t,setFlag:n,addFlag:i,hasFlag:a,removeFlag:(0,G.useCallback)(e=>r(t=>t&~e),[]),toggleFlag:(0,G.useCallback)(e=>r(t=>t^e),[])}}(e&&i?3:0),c=(0,G.useRef)(!1),d=(0,G.useRef)(!1);return yK(()=>{var i;if(e){if(r&&a(!0),!t){r&&s(3);return}return null==(i=null==n?void 0:n.start)||i.call(n,r),function(e,{prepare:t,run:r,done:n,inFlight:i}){let a=yq();return function(e,{inFlight:t,prepare:r}){if(null!=t&&t.current)return r();let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}(e,{prepare:t,inFlight:i}),a.nextFrame(()=>{r(),a.requestAnimationFrame(()=>{a.add(function(e,t){var r,n;let i=yq();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let o=null!=(n=null==(r=e.getAnimations)?void 0:r.call(e).filter(e=>e instanceof CSSTransition))?n:[];return 0===o.length?t():Promise.allSettled(o.map(e=>e.finished)).then(()=>{a||t()}),i.dispose}(e,n))})}),a.dispose}(t,{inFlight:c,prepare(){d.current?d.current=!1:d.current=c.current,c.current=!0,d.current||(r?(s(3),l(4)):(s(4),l(2)))},run(){d.current?r?(l(3),s(4)):(l(4),s(3)):r?l(1):s(1)},done(){var e,i,o,s;d.current&&(null!=(s=null==(o=(i=t).getAnimations)?void 0:o.call(i))?s:[]).some(e=>e instanceof CSSTransition&&"finished"!==e.playState)||(c.current=!1,l(7),r||a(!1),null==(e=null==n?void 0:n.end)||e.call(n,r))}})}},[e,r,t,yz()]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}let y5=(0,G.createContext)(null);y5.displayName="OpenClosedContext";var y4=((f=y4||{})[f.Open=1]="Open",f[f.Closed=2]="Closed",f[f.Closing=4]="Closing",f[f.Opening=8]="Opening",f);function y6(){return(0,G.useContext)(y5)}function y8({value:e,children:t}){return G.default.createElement(y5.Provider,{value:e},t)}function y9({children:e}){return G.default.createElement(y5.Provider,{value:null},e)}function y7(...e){return Array.from(new Set(e.flatMap(e=>"string"==typeof e?e.split(" "):[]))).filter(Boolean).join(" ")}function we(e,t,...r){if(e in t){let n=t[e];return"function"==typeof n?n(...r):n}let n=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,we),n}var wt=((m=wt||{})[m.None=0]="None",m[m.RenderStrategy=1]="RenderStrategy",m[m.Static=2]="Static",m),wr=((g=wr||{})[g.Unmount=0]="Unmount",g[g.Hidden=1]="Hidden",g);function wn(){let e,t,r=(e=(0,G.useRef)([]),t=(0,G.useCallback)(t=>{for(let r of e.current)null!=r&&("function"==typeof r?r(t):r.current=t)},[]),(...r)=>{if(!r.every(e=>null==e))return e.current=r,t});return(0,G.useCallback)(e=>(function({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:a=!0,name:o,mergeRefs:s}){s=null!=s?s:wa;let l=wo(t,e);if(a)return wi(l,r,n,o,s);let c=null!=i?i:0;if(2&c){let{static:e=!1,...t}=l;if(e)return wi(t,r,n,o,s)}if(1&c){let{unmount:e=!0,...t}=l;return we(+!e,{0:()=>null,1:()=>wi({...t,hidden:!0,style:{display:"none"}},r,n,o,s)})}return wi(l,r,n,o,s)})({mergeRefs:r,...e}),[r])}function wi(e,t={},r,n,i){let{as:a=r,children:o,refName:s="ref",...l}=wd(e,["unmount","static"]),c=void 0!==e.ref?{[s]:e.ref}:{},d="function"==typeof o?o(t):o;"className"in l&&l.className&&"function"==typeof l.className&&(l.className=l.className(t)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let u={};if(t){let e=!1,r=[];for(let[n,i]of Object.entries(t))"boolean"==typeof i&&(e=!0),!0===i&&r.push(n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`));if(e)for(let e of(u["data-headlessui-state"]=r.join(" "),r))u[`data-${e}`]=""}if(wu(a)&&(Object.keys(wc(l)).length>0||Object.keys(wc(u)).length>0))if(!(0,G.isValidElement)(d)||Array.isArray(d)&&d.length>1||wu(d.type)){if(Object.keys(wc(l)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(wc(l)).concat(Object.keys(wc(u))).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`))}else{var h;let e=d.props,t=null==e?void 0:e.className,r="function"==typeof t?(...e)=>y7(t(...e),l.className):y7(t,l.className),n=wo(d.props,wc(wd(l,["ref"])));for(let e in u)e in n&&delete u[e];return(0,G.cloneElement)(d,Object.assign({},n,u,c,{ref:i((h=d,G.default.version.split(".")[0]>="19"?h.props.ref:h.ref),c.ref)},r?{className:r}:{}))}return(0,G.createElement)(a,Object.assign({},wd(l,["ref"]),!wu(a)&&c,!wu(a)&&u),d)}function wa(...e){return e.every(e=>null==e)?void 0:t=>{for(let r of e)null!=r&&("function"==typeof r?r(t):r.current=t)}}function wo(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];if(t.disabled||t["aria-disabled"])for(let e in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(e)&&(r[e]=[e=>{var t;return null==(t=null==e?void 0:e.preventDefault)?void 0:t.call(e)}]);for(let e in r)Object.assign(t,{[e](t,...n){for(let i of r[e]){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;i(t,...n)}}});return t}function ws(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},r={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=r[e]||(r[e]=[]),r[e].push(n[e])):t[e]=n[e];for(let e in r)Object.assign(t,{[e](...t){for(let n of r[e])null==n||n(...t)}});return t}function wl(e){var t;return Object.assign((0,G.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function wc(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function wd(e,t=[]){let r=Object.assign({},e);for(let e of t)e in r&&delete r[e];return r}function wu(e){return e===G.Fragment||e===Symbol.for("react.fragment")}function wh(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!wu(null!=(t=e.as)?t:ww)||1===G.default.Children.count(e.children)}let wp=(0,G.createContext)(null);wp.displayName="TransitionContext";var wf=((y=wf||{}).Visible="visible",y.Hidden="hidden",y);let wm=(0,G.createContext)(null);function wg(e){return"children"in e?wg(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function wy(e,t){let r=yJ(e),n=(0,G.useRef)([]),i=yZ(),a=yz(),o=yY((e,t=wr.Hidden)=>{let o=n.current.findIndex(({el:t})=>t===e);-1!==o&&(we(t,{[wr.Unmount](){n.current.splice(o,1)},[wr.Hidden](){n.current[o].state="hidden"}}),a.microTask(()=>{var e;!wg(n)&&i.current&&(null==(e=r.current)||e.call(r))}))}),s=yY(e=>{let t=n.current.find(({el:t})=>t===e);return t?"visible"!==t.state&&(t.state="visible"):n.current.push({el:e,state:"visible"}),()=>o(e,wr.Unmount)}),l=(0,G.useRef)([]),c=(0,G.useRef)(Promise.resolve()),d=(0,G.useRef)({enter:[],leave:[]}),u=yY((e,r,n)=>{l.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([t])=>t!==e)),null==t||t.chains.current[r].push([e,new Promise(e=>{l.current.push(e)})]),null==t||t.chains.current[r].push([e,new Promise(e=>{Promise.all(d.current[r].map(([e,t])=>t)).then(()=>e())})]),"enter"===r?c.current=c.current.then(()=>null==t?void 0:t.wait.current).then(()=>n(r)):n(r)}),h=yY((e,t,r)=>{Promise.all(d.current[t].splice(0).map(([e,t])=>t)).then(()=>{var e;null==(e=l.current.shift())||e()}).then(()=>r(t))});return(0,G.useMemo)(()=>({children:n,register:s,unregister:o,onStart:u,onStop:h,wait:c,chains:d}),[s,o,n,u,h,d,c])}wm.displayName="NestingContext";let ww=G.Fragment,wv=wt.RenderStrategy,wb=wl(function(e,t){let{show:r,appear:n=!1,unmount:i=!0,...a}=e,o=(0,G.useRef)(null),s=y0(...wh(e)?[o,t]:null===t?[]:[t]);yQ();let l=y6();if(void 0===r&&null!==l&&(r=(l&y4.Open)===y4.Open),void 0===r)throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,d]=(0,G.useState)(r?"visible":"hidden"),u=wy(()=>{r||d("hidden")}),[h,p]=(0,G.useState)(!0),f=(0,G.useRef)([r]);yK(()=>{!1!==h&&f.current[f.current.length-1]!==r&&(f.current.push(r),p(!1))},[f,r]);let m=(0,G.useMemo)(()=>({show:r,appear:n,initial:h}),[r,n,h]);yK(()=>{r?d("visible"):wg(u)||null===o.current||d("hidden")},[r,u]);let g={unmount:i},y=yY(()=>{var t;h&&p(!1),null==(t=e.beforeEnter)||t.call(e)}),w=yY(()=>{var t;h&&p(!1),null==(t=e.beforeLeave)||t.call(e)}),v=wn();return G.default.createElement(wm.Provider,{value:u},G.default.createElement(wp.Provider,{value:m},v({ourProps:{...g,as:G.Fragment,children:G.default.createElement(wx,{ref:s,...g,...a,beforeEnter:y,beforeLeave:w})},theirProps:{},defaultTag:G.Fragment,features:wv,visible:"visible"===c,name:"Transition"})))}),wx=wl(function(e,t){var r,n;let{transition:i=!0,beforeEnter:a,afterEnter:o,beforeLeave:s,afterLeave:l,enter:c,enterFrom:d,enterTo:u,entered:h,leave:p,leaveFrom:f,leaveTo:m,...g}=e,[y,w]=(0,G.useState)(null),v=(0,G.useRef)(null),b=wh(e),x=y0(...b?[v,t,w]:null===t?[]:[t]),_=null==(r=g.unmount)||r?wr.Unmount:wr.Hidden,{show:k,appear:E,initial:C}=function(){let e=(0,G.useContext)(wp);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[A,I]=(0,G.useState)(k?"visible":"hidden"),S=function(){let e=(0,G.useContext)(wm);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:T,unregister:P}=S;yK(()=>T(v),[T,v]),yK(()=>{if(_===wr.Hidden&&v.current)return k&&"visible"!==A?void I("visible"):we(A,{hidden:()=>P(v),visible:()=>T(v)})},[A,v,T,P,k,_]);let j=yQ();yK(()=>{if(b&&j&&"visible"===A&&null===v.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[v,A,j,b]);let N=C&&!E,O=E&&k&&C,$=(0,G.useRef)(!1),R=wy(()=>{$.current||(I("hidden"),P(v))},S),M=yY(e=>{$.current=!0,R.onStart(v,e?"enter":"leave",e=>{"enter"===e?null==a||a():"leave"===e&&(null==s||s())})}),U=yY(e=>{let t=e?"enter":"leave";$.current=!1,R.onStop(v,t,e=>{"enter"===e?null==o||o():"leave"===e&&(null==l||l())}),"leave"!==t||wg(R)||(I("hidden"),P(v))});(0,G.useEffect)(()=>{b&&i||(M(k),U(k))},[k,b,i]);let[,L]=y3(!(!i||!b||!j||N),y,k,{start:M,end:U}),F=wc({ref:x,className:(null==(n=y7(g.className,O&&c,O&&d,L.enter&&c,L.enter&&L.closed&&d,L.enter&&!L.closed&&u,L.leave&&p,L.leave&&!L.closed&&f,L.leave&&L.closed&&m,!L.transition&&k&&h))?void 0:n.trim())||void 0,...y2(L)}),D=0;"visible"===A&&(D|=y4.Open),"hidden"===A&&(D|=y4.Closed),k&&"hidden"===A&&(D|=y4.Opening),k||"visible"!==A||(D|=y4.Closing);let B=wn();return G.default.createElement(wm.Provider,{value:R},G.default.createElement(y8,{value:D},B({ourProps:F,theirProps:g,defaultTag:ww,features:wv,visible:"visible"===A,name:"Transition.Child"})))}),w_=wl(function(e,t){let r=null!==(0,G.useContext)(wp),n=null!==y6();return G.default.createElement(G.default.Fragment,null,!r&&n?G.default.createElement(wb,{ref:t,...e}):G.default.createElement(wx,{ref:t,...e}))}),wk=Object.assign(wb,{Child:w_,Root:wb});var wE=((w=wE||{}).Space=" ",w.Enter="Enter",w.Escape="Escape",w.Backspace="Backspace",w.Delete="Delete",w.ArrowLeft="ArrowLeft",w.ArrowUp="ArrowUp",w.ArrowRight="ArrowRight",w.ArrowDown="ArrowDown",w.Home="Home",w.End="End",w.PageUp="PageUp",w.PageDown="PageDown",w.Tab="Tab",w);function wC(e,t,r,n){let i=yJ(r);(0,G.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)},[e,t,n])}class wA extends Map{constructor(e){super(),this.factory=e}get(e){let t=super.get(e);return void 0===t&&(t=this.factory(e),this.set(e,t)),t}}var wI=Object.defineProperty,wS=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},wT=(e,t,r)=>(wS(e,t,"read from private field"),r?r.call(e):t.get(e)),wP=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},wj=(e,t,r,n)=>(wS(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class wN{constructor(e){wP(this,Uq,{}),wP(this,Uz,new wA(()=>new Set)),wP(this,UV,new Set),((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?wI(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"disposables",yq()),wj(this,Uq,e),yG.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return wT(this,Uq)}subscribe(e,t){if(yG.isServer)return()=>{};let r={selector:e,callback:t,current:e(wT(this,Uq))};return wT(this,UV).add(r),this.disposables.add(()=>{wT(this,UV).delete(r)})}on(e,t){return yG.isServer?()=>{}:(wT(this,Uz).get(e).add(t),this.disposables.add(()=>{wT(this,Uz).get(e).delete(t)}))}send(e){let t=this.reduce(wT(this,Uq),e);if(t!==wT(this,Uq)){for(let e of(wj(this,Uq,t),wT(this,UV))){let t=e.selector(wT(this,Uq));wO(e.current,t)||(e.current=t,e.callback(t))}for(let t of wT(this,Uz).get(e.type))t(wT(this,Uq),e)}}}function wO(e,t){return!!Object.is(e,t)||"object"==typeof e&&null!==e&&"object"==typeof t&&null!==t&&(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&w$(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size===t.size&&w$(e.entries(),t.entries()):!!(wR(e)&&wR(t))&&w$(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()))}function w$(e,t){for(;;){let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}}function wR(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}function wM(e){let[t,r]=e(),n=yq();return(...e)=>{t(...e),n.dispose(),n.microTask(r)}}Uq=new WeakMap,Uz=new WeakMap,UV=new WeakMap;var wU=Object.defineProperty,wL=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?wU(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r},wF=((v=wF||{})[v.Push=0]="Push",v[v.Pop=1]="Pop",v);let wD={0(e,t){let r=t.id,n=e.stack,i=e.stack.indexOf(r);if(-1!==i){let t=e.stack.slice();return t.splice(i,1),t.push(r),n=t,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(-1===n)return e;let i=e.stack.slice();return i.splice(n,1),{...e,stack:i}}};class wB extends wN{constructor(){super(...arguments),wL(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),wL(this,"selectors",{isTop:(e,t)=>e.stack[e.stack.length-1]===t,inStack:(e,t)=>e.stack.includes(t)})}static new(){return new wB({stack:[]})}reduce(e,t){return we(t.type,wD,e,t)}}let wW=new wA(()=>wB.new());var wq=e.i(129852);function wz(e,t,r=wO){return(0,wq.useSyncExternalStoreWithSelector)(yY(t=>e.subscribe(wV,t)),yY(()=>e.state),yY(()=>e.state),yY(t),r)}function wV(e){return e}function wH(e,t){let r=(0,G.useId)(),n=wW.get(t),[i,a]=wz(n,(0,G.useCallback)(e=>[n.selectors.isTop(e,r),n.selectors.inStack(e,r)],[n,r]));return yK(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),!!e&&(!a||i)}function wG(e){var t;return yG.isServer?null:null==e?document:null!=(t=null==e?void 0:e.ownerDocument)?t:document}function wK(e){var t,r;return yG.isServer?null:null==e?document:null!=(r=null==(t=null==e?void 0:e.getRootNode)?void 0:t.call(e))?r:document}function wJ(e){var t,r;return null!=(r=null==(t=wK(e))?void 0:t.activeElement)?r:null}let wY=new Map,wZ=new Map;function wQ(e){var t;let r=null!=(t=wZ.get(e))?t:0;return wZ.set(e,r+1),0!==r||(wY.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0),()=>(function(e){var t;let r=null!=(t=wZ.get(e))?t:1;if(1===r?wZ.delete(e):wZ.set(e,r-1),1!==r)return;let n=wY.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,wY.delete(e))})(e)}function wX(e,{allowed:t,disallowed:r}={}){let n=wH(e,"inert-others");yK(()=>{var e,i;if(!n)return;let a=yq();for(let t of null!=(e=null==r?void 0:r())?e:[])t&&a.add(wQ(t));let o=null!=(i=null==t?void 0:t())?i:[];for(let e of o){if(!e)continue;let t=wG(e);if(!t)continue;let r=e.parentElement;for(;r&&r!==t.body;){for(let e of r.children)o.some(t=>e.contains(t))||a.add(wQ(e));r=r.parentElement}}return a.dispose},[n,t,r])}function w0(e){return"object"==typeof e&&null!==e&&"nodeType"in e}function w1(e){return w0(e)&&"tagName"in e}function w2(e){return w1(e)&&"accessKey"in e}function w3(e){return w1(e)&&"tabIndex"in e}function w5(e){return w2(e)&&"INPUT"===e.nodeName}function w4(e){return w2(e)&&"LABEL"===e.nodeName}function w6(e){return w2(e)&&"LEGEND"===e.nodeName}function w8(e,t,r){let n=yJ(e=>{let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&r()});(0,G.useEffect)(()=>{if(!e)return;let r=null===t?null:w2(t)?t:t.current;if(!r)return;let i=yq();if("undefined"!=typeof ResizeObserver){let e=new ResizeObserver(()=>n.current(r));e.observe(r),i.add(()=>e.disconnect())}if("undefined"!=typeof IntersectionObserver){let e=new IntersectionObserver(()=>n.current(r));e.observe(r),i.add(()=>e.disconnect())}return()=>i.dispose()},[t,n,e])}let w9=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),w7=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ve=((b=ve||{})[b.First=1]="First",b[b.Previous=2]="Previous",b[b.Next=4]="Next",b[b.Last=8]="Last",b[b.WrapAround=16]="WrapAround",b[b.NoScroll=32]="NoScroll",b[b.AutoFocus=64]="AutoFocus",b),vt=((x=vt||{})[x.Error=0]="Error",x[x.Overflow=1]="Overflow",x[x.Success=2]="Success",x[x.Underflow=3]="Underflow",x),vr=((_=vr||{})[_.Previous=-1]="Previous",_[_.Next=1]="Next",_);function vn(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(w9)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var vi=((k=vi||{})[k.Strict=0]="Strict",k[k.Loose=1]="Loose",k);function va(e,t=0){var r;return e!==(null==(r=wG(e))?void 0:r.body)&&we(t,{0:()=>e.matches(w9),1(){let t=e;for(;null!==t;){if(t.matches(w9))return!0;t=t.parentElement}return!1}})}function vo(e){yq().nextFrame(()=>{let t=wJ(e);t&&w3(t)&&!va(t,0)&&vl(e)})}var vs=((E=vs||{})[E.Keyboard=0]="Keyboard",E[E.Mouse=1]="Mouse",E);function vl(e){null==e||e.focus({preventScroll:!0})}function vc(e,t=e=>e){return e.slice().sort((e,r)=>{let n=t(e),i=t(r);if(null===n||null===i)return 0;let a=n.compareDocumentPosition(i);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function vd(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){var a,o,s;let l=Array.isArray(e)?e.length>0?wK(e[0]):document:wK(e),c=Array.isArray(e)?r?vc(e):e:64&t?function(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(w7)).sort((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}(e):vn(e);i.length>0&&c.length>1&&(c=c.filter(e=>!i.some(t=>null!=t&&"current"in t?(null==t?void 0:t.current)===e:t===e))),n=null!=n?n:null==l?void 0:l.activeElement;let d=(()=>{if(5&t)return 1;if(10&t)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,c.indexOf(n))-1;if(4&t)return Math.max(0,c.indexOf(n))+1;if(8&t)return c.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=32&t?{preventScroll:!0}:{},p=0,f=c.length,m;do{if(p>=f||p+f<=0)return 0;let e=u+p;if(16&t)e=(e+f)%f;else{if(e<0)return 3;if(e>=f)return 1}null==(m=c[e])||m.focus(h),p+=d}while(m!==wJ(m))return 6&t&&null!=(s=null==(o=null==(a=m)?void 0:a.matches)?void 0:o.call(a,"textarea,input"))&&s&&m.select(),2}function vu(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function vh(){return vu()||/Android/gi.test(window.navigator.userAgent)}function vp(e,t,r,n){let i=yJ(r);(0,G.useEffect)(()=>{if(e)return document.addEventListener(t,r,n),()=>document.removeEventListener(t,r,n);function r(e){i.current(e)}},[e,t,n])}function vf(e,t,r,n){let i=yJ(r);(0,G.useEffect)(()=>{if(e)return window.addEventListener(t,r,n),()=>window.removeEventListener(t,r,n);function r(e){i.current(e)}},[e,t,n])}function vm(e,t,r){let n=yJ(r),i=(0,G.useCallback)(function(e,r){if(e.defaultPrevented)return;let i=r(e);if(null!==i&&i.getRootNode().contains(i)&&i.isConnected){for(let r of function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(t))if(null!==r&&(r.contains(i)||e.composed&&e.composedPath().includes(r)))return;return va(i,vi.Loose)||-1===i.tabIndex||e.preventDefault(),n.current(e,i)}},[n,t]),a=(0,G.useRef)(null);vp(e,"pointerdown",e=>{var t,r;vh()||(a.current=(null==(r=null==(t=e.composedPath)?void 0:t.call(e))?void 0:r[0])||e.target)},!0),vp(e,"pointerup",e=>{if(vh()||!a.current)return;let t=a.current;return a.current=null,i(e,()=>t)},!0);let o=(0,G.useRef)({x:0,y:0});vp(e,"touchstart",e=>{o.current.x=e.touches[0].clientX,o.current.y=e.touches[0].clientY},!0),vp(e,"touchend",e=>{let t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY};if(!(Math.abs(t.x-o.current.x)>=30||Math.abs(t.y-o.current.y)>=30))return i(e,()=>w3(e.target)?e.target:null)},!0),vf(e,"blur",e=>i(e,()=>{var e;return w2(e=window.document.activeElement)&&"IFRAME"===e.nodeName?window.document.activeElement:null}),!0)}function vg(...e){return(0,G.useMemo)(()=>wG(...e),[...e])}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));var vy=((C=vy||{})[C.None=1]="None",C[C.Focusable=2]="Focusable",C[C.Hidden=4]="Hidden",C);let vw=wl(function(e,t){var r;let{features:n=1,...i}=e,a={ref:t,"aria-hidden":(2&n)==2||(null!=(r=i["aria-hidden"])?r:void 0),hidden:(4&n)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&n)==4&&(2&n)!=2&&{display:"none"}}};return wn()({ourProps:a,theirProps:i,slot:{},defaultTag:"span",name:"Hidden"})}),vv=(0,G.createContext)(null);function vb({children:e,node:t}){let[r,n]=(0,G.useState)(null),i=vx(null!=t?t:r);return G.default.createElement(vv.Provider,{value:i},e,null===i&&G.default.createElement(vw,{features:vy.Hidden,ref:e=>{var t,r;if(e){for(let i of null!=(r=null==(t=wG(e))?void 0:t.querySelectorAll("html > *, body > *"))?r:[])if(i!==document.body&&i!==document.head&&w1(i)&&null!=i&&i.contains(e)){n(i);break}}}}))}function vx(e=null){var t;return null!=(t=(0,G.useContext)(vv))?t:e}function v_(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let vk=(UU=()=>new Map,UL={PUSH(e,t){var r;let n=null!=(r=this.get(e))?r:{doc:e,count:0,d:yq(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(t),n.computedMeta=v_(n.meta),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t),r.computedMeta=v_(r.meta)),this},SCROLL_PREVENT(e){let t,r={doc:e.doc,d:e.d,meta:()=>e.computedMeta},n=[vu()?{before({doc:e,d:t,meta:r}){function n(e){for(let t of r().containers)for(let r of t())if(r.contains(e))return!0;return!1}t.microTask(()=>{var r;if("auto"!==window.getComputedStyle(e.documentElement).scrollBehavior){let r=yq();r.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>r.dispose()))}let i=null!=(r=window.scrollY)?r:window.pageYOffset,a=null;t.addEventListener(e,"click",t=>{if(w3(t.target))try{let r=t.target.closest("a");if(!r)return;let{hash:i}=new URL(r.href),o=e.querySelector(i);w3(o)&&!n(o)&&(a=o)}catch{}},!0),t.group(r=>{t.addEventListener(e,"touchstart",e=>{var t;if(r.dispose(),w3(e.target)&&w1(t=e.target)&&"style"in t)if(n(e.target)){let t=e.target;for(;t.parentElement&&n(t.parentElement);)t=t.parentElement;r.style(t,"overscrollBehavior","contain")}else r.style(e.target,"touchAction","none")})}),t.addEventListener(e,"touchmove",e=>{if(w3(e.target)&&!w5(e.target))if(n(e.target)){let t=e.target;for(;t.parentElement&&""!==t.dataset.headlessuiPortal&&!(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth);)t=t.parentElement;""===t.dataset.headlessuiPortal&&e.preventDefault()}else e.preventDefault()},{passive:!1}),t.add(()=>{var e;i!==(null!=(e=window.scrollY)?e:window.pageYOffset)&&window.scrollTo(0,i),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{},{before({doc:e}){var r;let n=e.documentElement;t=Math.max(0,(null!=(r=e.defaultView)?r:window).innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),a=Math.max(0,t-i);r.style(n,"paddingRight",`${a}px`)}},{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}];n.forEach(({before:e})=>null==e?void 0:e(r)),n.forEach(({after:e})=>null==e?void 0:e(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}},A=UU(),I=new Set,{getSnapshot:()=>A,subscribe:e=>(I.add(e),()=>I.delete(e)),dispatch(e,...t){let r=UL[e].call(A,...t);r&&(A=r,I.forEach(e=>e()))}});function vE(e,t,r=()=>[document.body]){!function(e,t,r=()=>({containers:[]})){let n=(0,G.useSyncExternalStore)(vk.subscribe,vk.getSnapshot,vk.getSnapshot),i=t?n.get(t):void 0;i&&i.count,yK(()=>{if(!(!t||!e))return vk.dispatch("PUSH",t,r),()=>vk.dispatch("POP",t,r)},[e,t])}(wH(e,"scroll-lock"),t,e=>{var t;return{containers:[...null!=(t=e.containers)?t:[],r]}})}function vC(e){return(0,G.useMemo)(()=>e,Object.values(e))}vk.subscribe(()=>{let e=vk.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let e="hidden"===t.get(r.doc),n=0!==r.count;(n&&!e||!n&&e)&&vk.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),0===r.count&&vk.dispatch("TEARDOWN",r)}});let vA=(0,G.createContext)(()=>{});function vI({value:e,children:t}){return G.default.createElement(vA.Provider,{value:e},t)}let vS=(0,G.createContext)(!1);function vT(e){return G.default.createElement(vS.Provider,{value:e.force},e.children)}let vP=(0,G.createContext)(void 0);function vj(){return(0,G.useContext)(vP)}let vN=(0,G.createContext)(null);function vO(){let[e,t]=(0,G.useState)([]);return[e.length>0?e.join(" "):void 0,(0,G.useMemo)(()=>function(e){let r=yY(e=>(t(t=>[...t,e]),()=>t(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),n=(0,G.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props,value:e.value}),[r,e.slot,e.name,e.props,e.value]);return G.default.createElement(vN.Provider,{value:n},e.children)},[t])]}vN.displayName="DescriptionContext";let v$=Object.assign(wl(function(e,t){let r=(0,G.useId)(),n=vj(),{id:i=`headlessui-description-${r}`,...a}=e,o=function e(){let t=(0,G.useContext)(vN);if(null===t){let t=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,e),t}return t}(),s=y0(t);yK(()=>o.register(i),[i,o.register]);let l=vC({...o.slot,disabled:n||!1}),c={ref:s,...o.props,id:i};return wn()({ourProps:c,theirProps:a,slot:l,defaultTag:"p",name:o.name||"Description"})}),{});function vR(e){let t=yY(e),r=(0,G.useRef)(!1);(0,G.useEffect)(()=>(r.current=!1,()=>{r.current=!0,yW(()=>{r.current&&t()})}),[t])}var vM=((S=vM||{})[S.Forwards=0]="Forwards",S[S.Backwards=1]="Backwards",S);function vU(e,t){let r=(0,G.useRef)([]),n=yY(e);(0,G.useEffect)(()=>{let e=[...r.current];for(let[i,a]of t.entries())if(r.current[i]!==a){let i=n(t,e);return r.current=t,i}},[n,...t])}let vL=[];function vF(){"loading"!==document.readyState&&((()=>{function e(e){if(!w3(e.target)||e.target===document.body||vL[0]===e.target)return;let t=e.target;t=t.closest(w9),vL.unshift(null!=t?t:e.target),(vL=vL.filter(e=>null!=e&&e.isConnected)).splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})})(),document.removeEventListener("DOMContentLoaded",vF))}function vD(e){if(!e)return new Set;if("function"==typeof e)return new Set(e());let t=new Set;for(let r of e.current)w1(r.current)&&t.add(r.current);return t}"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("DOMContentLoaded",vF),vF());var vB=((T=vB||{})[T.None=0]="None",T[T.InitialFocus=1]="InitialFocus",T[T.TabLock=2]="TabLock",T[T.FocusLock=4]="FocusLock",T[T.RestoreFocus=8]="RestoreFocus",T[T.AutoFocus=16]="AutoFocus",T);let vW=Object.assign(wl(function(e,t){let r,n=(0,G.useRef)(null),i=y0(n,t),{initialFocus:a,initialFocusFallback:o,containers:s,features:l=15,...c}=e;yQ()||(l=0);let d=vg(n.current);!function(e,{ownerDocument:t}){let r=!!(8&e),n=function(e=!0){let t=(0,G.useRef)(vL.slice());return vU(([e],[r])=>{!0===r&&!1===e&&yW(()=>{t.current.splice(0)}),!1===r&&!0===e&&(t.current=vL.slice())},[e,vL,t]),yY(()=>{var e;return null!=(e=t.current.find(e=>null!=e&&e.isConnected))?e:null})}(r);vU(()=>{var e;r||wJ(e=null==t?void 0:t.body)===e&&vl(n())},[r]),vR(()=>{r&&vl(n())})}(l,{ownerDocument:d});let u=function(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:i}){let a=(0,G.useRef)(null),o=wH(!!(1&e),"focus-trap#initial-focus"),s=yZ();return vU(()=>{if(0===e)return;if(!o){null!=i&&i.current&&vl(i.current);return}let l=r.current;l&&yW(()=>{if(!s.current)return;let r=null==t?void 0:t.activeElement;if(null!=n&&n.current){if((null==n?void 0:n.current)===r){a.current=r;return}}else if(l.contains(r)){a.current=r;return}if(null!=n&&n.current)vl(n.current);else{if(16&e){if(vd(l,ve.First|ve.AutoFocus)!==vt.Error)return}else if(vd(l,ve.First)!==vt.Error)return;if(null!=i&&i.current&&(vl(i.current),(null==t?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=null==t?void 0:t.activeElement})},[i,o,e]),a}(l,{ownerDocument:d,container:n,initialFocus:a,initialFocusFallback:o});!function(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:i}){let a=yZ(),o=!!(4&e);wC(null==t?void 0:t.defaultView,"focus",e=>{if(!o||!a.current)return;let t=vD(n);w2(r.current)&&t.add(r.current);let s=i.current;if(!s)return;let l=e.target;w2(l)?vq(t,l)?(i.current=l,vl(l)):(e.preventDefault(),e.stopPropagation(),vl(s)):vl(i.current)},!0)}(l,{ownerDocument:d,container:n,containers:s,previousActiveElement:u});let h=(r=(0,G.useRef)(0),vf(!0,"keydown",e=>{"Tab"===e.key&&(r.current=+!!e.shiftKey)},!0),r),p=yY(e=>{if(!w2(n.current))return;let t=n.current;we(h.current,{[vM.Forwards]:()=>{vd(t,ve.First,{skipElements:[e.relatedTarget,o]})},[vM.Backwards]:()=>{vd(t,ve.Last,{skipElements:[e.relatedTarget,o]})}})}),f=wH(!!(2&l),"focus-trap#tab-lock"),m=yz(),g=(0,G.useRef)(!1),y=wn();return G.default.createElement(G.default.Fragment,null,f&&G.default.createElement(vw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:vy.Focusable}),y({ourProps:{ref:i,onKeyDown(e){"Tab"==e.key&&(g.current=!0,m.requestAnimationFrame(()=>{g.current=!1}))},onBlur(e){if(!(4&l))return;let t=vD(s);w2(n.current)&&t.add(n.current);let r=e.relatedTarget;w3(r)&&"true"!==r.dataset.headlessuiFocusGuard&&(vq(t,r)||(g.current?vd(n.current,we(h.current,{[vM.Forwards]:()=>ve.Next,[vM.Backwards]:()=>ve.Previous})|ve.WrapAround,{relativeTo:e.target}):w3(e.target)&&vl(e.target)))}},theirProps:c,defaultTag:"div",name:"FocusTrap"}),f&&G.default.createElement(vw,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:vy.Focusable}))}),{features:vB});function vq(e,t){for(let r of e)if(r.contains(t))return!0;return!1}var vz=e.i(834649);let vV=G.Fragment,vH=wl(function(e,t){let{ownerDocument:r=null,...n}=e,i=(0,G.useRef)(null),a=y0(function(e,t=!0){return Object.assign(e,{[yX]:t})}(e=>{i.current=e}),t),o=vg(i.current),s=function(e){let t=(0,G.useContext)(vS),r=(0,G.useContext)(vK),[n,i]=(0,G.useState)(()=>{var n;if(!t&&null!==r)return null!=(n=r.current)?n:null;if(yG.isServer)return null;let i=null==e?void 0:e.getElementById("headlessui-portal-root");if(i)return i;if(null===e)return null;let a=e.createElement("div");return a.setAttribute("id","headlessui-portal-root"),e.body.appendChild(a)});return(0,G.useEffect)(()=>{null!==n&&(null!=e&&e.body.contains(n)||null==e||e.body.appendChild(n))},[n,e]),(0,G.useEffect)(()=>{t||null!==r&&i(r.current)},[r,i,t]),n}(null!=r?r:o),l=(0,G.useContext)(vJ),c=yz(),d=wn();return vR(()=>{var e;s&&s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s))}),s?(0,vz.createPortal)(G.default.createElement("div",{"data-headlessui-portal":"",ref:e=>{c.dispose(),l&&e&&c.add(l.register(e))}},d({ourProps:{ref:a},theirProps:n,slot:{},defaultTag:vV,name:"Portal"})),s):null}),vG=G.Fragment,vK=(0,G.createContext)(null),vJ=(0,G.createContext)(null),vY=wl(function(e,t){let r=y0(t),{enabled:n=!0,ownerDocument:i,...a}=e,o=wn();return n?G.default.createElement(vH,{...a,ownerDocument:i,ref:r}):o({ourProps:{ref:r},theirProps:a,slot:{},defaultTag:vV,name:"Portal"})}),vZ=wl(function(e,t){let{target:r,...n}=e,i={ref:y0(t)},a=wn();return G.default.createElement(vK.Provider,{value:r},a({ourProps:i,theirProps:n,defaultTag:vG,name:"Popover.Group"}))}),vQ=Object.assign(vY,{Group:vZ});var vX=((P=vX||{})[P.Open=0]="Open",P[P.Closed=1]="Closed",P),v0=((j=v0||{})[j.SetTitleId=0]="SetTitleId",j);let v1={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},v2=(0,G.createContext)(null);function v3(e){let t=(0,G.useContext)(v2);if(null===t){let t=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,v3),t}return t}function v5(e,t){return we(t.type,v1,e,t)}v2.displayName="DialogContext";let v4=wl(function(e,t){let r,n,i,a,o,s=(0,G.useId)(),{id:l=`headlessui-dialog-${s}`,open:c,onClose:d,initialFocus:u,role:h="dialog",autoFocus:p=!0,__demoMode:f=!1,unmount:m=!1,...g}=e,y=(0,G.useRef)(!1);h="dialog"===h||"alertdialog"===h?h:(y.current||(y.current=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog");let w=y6();void 0===c&&null!==w&&(c=(w&y4.Open)===y4.Open);let v=(0,G.useRef)(null),b=y0(v,t),x=vg(v.current),_=+!c,[k,E]=(0,G.useReducer)(v5,{titleId:null,descriptionId:null,panelRef:(0,G.createRef)()}),C=yY(()=>d(!1)),A=yY(e=>E({type:0,id:e})),I=!!yQ()&&0===_,[S,T]=(r=(0,G.useContext)(vJ),n=(0,G.useRef)([]),i=yY(e=>(n.current.push(e),r&&r.register(e),()=>a(e))),a=yY(e=>{let t=n.current.indexOf(e);-1!==t&&n.current.splice(t,1),r&&r.unregister(e)}),o=(0,G.useMemo)(()=>({register:i,unregister:a,portals:n}),[i,a,n]),[n,(0,G.useMemo)(()=>function({children:e}){return G.default.createElement(vJ.Provider,{value:o},e)},[o])]),P=vx(),{resolveContainers:j}=function({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=yY(()=>{var n,i;let a=wG(r),o=[];for(let t of e)null!==t&&(w1(t)?o.push(t):"current"in t&&w1(t.current)&&o.push(t.current));if(null!=t&&t.current)for(let e of t.current)o.push(e);for(let e of null!=(n=null==a?void 0:a.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&w1(e)&&"headlessui-portal-root"!==e.id&&(r&&(e.contains(r)||e.contains(null==(i=null==r?void 0:r.getRootNode())?void 0:i.host))||o.some(t=>e.contains(t))||o.push(e));return o});return{resolveContainers:n,contains:yY(e=>n().some(t=>t.contains(e)))}}({mainTreeNode:P,portals:S,defaultContainers:[{get current(){var N;return null!=(N=k.panelRef.current)?N:v.current}}]}),O=null!==w&&(w&y4.Closing)===y4.Closing;wX(!f&&!O&&I,{allowed:yY(()=>{var e,t;return[null!=(t=null==(e=v.current)?void 0:e.closest("[data-headlessui-portal]"))?t:null]}),disallowed:yY(()=>{var e;return[null!=(e=null==P?void 0:P.closest("body > *:not(#headlessui-portal-root)"))?e:null]})});let $=wW.get(null);yK(()=>{if(I)return $.actions.push(l),()=>$.actions.pop(l)},[$,l,I]);let R=wz($,(0,G.useCallback)(e=>$.selectors.isTop(e,l),[$,l]));vm(R,j,e=>{e.preventDefault(),C()}),function(e,t="undefined"!=typeof document?document.defaultView:null,r){let n=wH(e,"escape");wC(t,"keydown",e=>{n&&(e.defaultPrevented||e.key===wE.Escape&&r(e))})}(R,null==x?void 0:x.defaultView,e=>{e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),C()}),vE(!f&&!O&&I,x,j),w8(I,v,C);let[M,U]=vO(),L=(0,G.useMemo)(()=>[{dialogState:_,close:C,setTitleId:A,unmount:m},k],[_,C,A,m,k]),F=vC({open:0===_}),D={ref:b,id:l,role:h,tabIndex:-1,"aria-modal":f?void 0:0===_||void 0,"aria-labelledby":k.titleId,"aria-describedby":M,unmount:m},B=!function(){var e;let[t]=(0,G.useState)(()=>"undefined"!=typeof window&&"function"==typeof window.matchMedia?window.matchMedia("(pointer: coarse)"):null),[r,n]=(0,G.useState)(null!=(e=null==t?void 0:t.matches)&&e);return yK(()=>{if(t)return t.addEventListener("change",e),()=>t.removeEventListener("change",e);function e(e){n(e.matches)}},[t]),r}(),W=vB.None;I&&!f&&(W|=vB.RestoreFocus,W|=vB.TabLock,p&&(W|=vB.AutoFocus),B&&(W|=vB.InitialFocus));let q=wn();return G.default.createElement(y9,null,G.default.createElement(vT,{force:!0},G.default.createElement(vQ,null,G.default.createElement(v2.Provider,{value:L},G.default.createElement(vZ,{target:v},G.default.createElement(vT,{force:!1},G.default.createElement(U,{slot:F},G.default.createElement(T,null,G.default.createElement(vW,{initialFocus:u,initialFocusFallback:v,containers:j,features:W},G.default.createElement(vI,{value:C},q({ourProps:D,theirProps:g,slot:F,defaultTag:v6,features:v8,visible:0===_,name:"Dialog"})))))))))))}),v6="div",v8=wt.RenderStrategy|wt.Static,v9=wl(function(e,t){let{transition:r=!1,open:n,...i}=e,a=y6(),o=e.hasOwnProperty("open")||null!==a,s=e.hasOwnProperty("onClose");if(!o&&!s)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!s)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&"boolean"!=typeof e.open)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if("function"!=typeof e.onClose)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(void 0!==n||r)&&!i.static?G.default.createElement(vb,null,G.default.createElement(wk,{show:n,transition:r,unmount:i.unmount},G.default.createElement(v4,{ref:t,...i}))):G.default.createElement(vb,null,G.default.createElement(v4,{ref:t,open:n,...i}))}),v7=wl(function(e,t){let r=(0,G.useId)(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...a}=e,[{dialogState:o,unmount:s},l]=v3("Dialog.Panel"),c=y0(t,l.panelRef),d=vC({open:0===o}),u=yY(e=>{e.stopPropagation()}),h=i?w_:G.Fragment,p=wn();return G.default.createElement(h,{...i?{unmount:s}:{}},p({ourProps:{ref:c,id:n,onClick:u},theirProps:a,slot:d,defaultTag:"div",name:"Dialog.Panel"}))}),be=Object.assign(v9,{Panel:v7,Title:(wl(function(e,t){let{transition:r=!1,...n}=e,[{dialogState:i,unmount:a}]=v3("Dialog.Backdrop"),o=vC({open:0===i}),s=r?w_:G.Fragment,l=wn();return G.default.createElement(s,{...r?{unmount:a}:{}},l({ourProps:{ref:t,"aria-hidden":!0},theirProps:n,slot:o,defaultTag:"div",name:"Dialog.Backdrop"}))}),wl(function(e,t){let r=(0,G.useId)(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:a,setTitleId:o}]=v3("Dialog.Title"),s=y0(t);(0,G.useEffect)(()=>(o(n),()=>o(null)),[n,o]);let l=vC({open:0===a});return wn()({ourProps:{ref:s,id:n},theirProps:i,slot:l,defaultTag:"h2",name:"Dialog.Title"})})),Description:v$}),bt="undefined"!=typeof document?G.default.useLayoutEffect:()=>{},br=e=>{var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document},bn=e=>e&&"window"in e&&e.window===e?e:br(e).defaultView||window;"undefined"!=typeof Element&&Element.prototype;let bi=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])',"permission"];bi.join(":not([hidden]),"),bi.push('[tabindex]:not([tabindex="-1"]):not([disabled])'),bi.join(':not([hidden]):not([tabindex="-1"]),');let ba=null;function bo(e){return e.nativeEvent=e,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function bs(e){let t=(0,G.useRef)({isFocused:!1,observer:null});return bt(()=>{let e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}},[]),(0,G.useCallback)(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let n=r.target;n.addEventListener("focusout",r=>{if(t.current.isFocused=!1,n.disabled){let t=bo(r);null==e||e(t)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)},{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&n.disabled){var e;null==(e=t.current.observer)||e.disconnect();let r=n===document.activeElement?null:document.activeElement;n.dispatchEvent(new FocusEvent("blur",{relatedTarget:r})),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:r}))}}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function bl(e){var t;if("undefined"==typeof window||null==window.navigator)return!1;let r=null==(t=window.navigator.userAgentData)?void 0:t.brands;return Array.isArray(r)&&r.some(t=>e.test(t.brand))||e.test(window.navigator.userAgent)}function bc(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null==(t=window.navigator.userAgentData)?void 0:t.platform)||window.navigator.platform)}function bd(e){let t=null;return()=>(null==t&&(t=e()),t)}let bu=bd(function(){return bc(/^Mac/i)}),bh=bd(function(){return bc(/^iPhone/i)}),bp=bd(function(){return bc(/^iPad/i)||bu()&&navigator.maxTouchPoints>1}),bf=bd(function(){return bh()||bp()});bd(function(){return bu()||bf()});let bm=bd(function(){return bl(/AppleWebKit/i)&&!bg()}),bg=bd(function(){return bl(/Chrome/i)}),by=bd(function(){return bl(/Android/i)}),bw=bd(function(){return bl(/Firefox/i)});function bv(e,t,r=!0){var n,i;let{metaKey:a,ctrlKey:o,altKey:s,shiftKey:l}=t;bw()&&(null==(i=window.event)||null==(n=i.type)?void 0:n.startsWith("key"))&&"_blank"===e.target&&(bu()?a=!0:o=!0);let c=bm()&&bu()&&!bp()&&1?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:a,ctrlKey:o,altKey:s,shiftKey:l}):new MouseEvent("click",{metaKey:a,ctrlKey:o,altKey:s,shiftKey:l,detail:1,bubbles:!0,cancelable:!0});if(bv.isOpening=r,function(){if(null==ba){ba=!1;try{document.createElement("div").focus({get preventScroll(){return ba=!0,!0}})}catch{}}return ba}())e.focus({preventScroll:!0});else{let t=function(e){let t=e.parentNode,r=[],n=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==n;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&r.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}(e);e.focus(),function(e){for(let{element:t,scrollTop:r,scrollLeft:n}of e)t.scrollTop=r,t.scrollLeft=n}(t)}e.dispatchEvent(c),bv.isOpening=!1}bv.isOpening=!1;let bb={prefix:String(Math.round(1e10*Math.random())),current:0};G.default.createContext(bb),G.default.createContext(!1),"undefined"!=typeof window&&window.document&&window.document.createElement,new WeakMap;G.default.useId;let bx=null,b_=new Set,bk=new Map,bE=!1,bC=!1,bA={Tab:!0,Escape:!0};function bI(e,t){for(let r of b_)r(e,t)}function bS(e){bE=!0,bv.isOpening||e.metaKey||!bu()&&e.altKey||e.ctrlKey||"Control"===e.key||"Shift"===e.key||"Meta"===e.key||(bx="keyboard",bI("keyboard",e))}function bT(e){bx="pointer","pointerType"in e&&e.pointerType,("mousedown"===e.type||"pointerdown"===e.type)&&(bE=!0,bI("pointer",e))}function bP(e){bv.isOpening||(""!==e.pointerType||!e.isTrusted)&&(by()&&e.pointerType?"click"!==e.type||1!==e.buttons:0!==e.detail||e.pointerType)||(bE=!0,bx="virtual")}function bj(e){e.target!==window&&e.target!==document&&e.isTrusted&&(bE||bC||(bx="virtual",bI("virtual",e)),bE=!1,bC=!1)}function bN(){bE=!1,bC=!0}function bO(e){if("undefined"==typeof window||"undefined"==typeof document||bk.get(bn(e)))return;let t=bn(e),r=br(e),n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){bE=!0,n.apply(this,arguments)},r.addEventListener("keydown",bS,!0),r.addEventListener("keyup",bS,!0),r.addEventListener("click",bP,!0),t.addEventListener("focus",bj,!0),t.addEventListener("blur",bN,!1),"undefined"!=typeof PointerEvent&&(r.addEventListener("pointerdown",bT,!0),r.addEventListener("pointermove",bT,!0),r.addEventListener("pointerup",bT,!0)),t.addEventListener("beforeunload",()=>{b$(e)},{once:!0}),bk.set(t,{focus:n})}let b$=(e,t)=>{let r=bn(e),n=br(e);t&&n.removeEventListener("DOMContentLoaded",t),bk.has(r)&&(r.HTMLElement.prototype.focus=bk.get(r).focus,n.removeEventListener("keydown",bS,!0),n.removeEventListener("keyup",bS,!0),n.removeEventListener("click",bP,!0),r.removeEventListener("focus",bj,!0),r.removeEventListener("blur",bN,!1),"undefined"!=typeof PointerEvent&&(n.removeEventListener("pointerdown",bT,!0),n.removeEventListener("pointermove",bT,!0),n.removeEventListener("pointerup",bT,!0)),bk.delete(r))};function bR(){return"pointer"!==bx}"undefined"!=typeof document&&("loading"!==(N=br(void 0)).readyState?bO(void 0):N.addEventListener("DOMContentLoaded",()=>{bO(void 0)}));let bM=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function bU(e,t){return!!t&&!!e&&e.contains(t)}function bL(){let e=(0,G.useRef)(new Map),t=(0,G.useCallback)((t,r,n,i)=>{let a=(null==i?void 0:i.once)?(...t)=>{e.current.delete(n),n(...t)}:n;e.current.set(n,{type:r,eventTarget:t,fn:a,options:i}),t.addEventListener(r,a,i)},[]),r=(0,G.useCallback)((t,r,n,i)=>{var a;let o=(null==(a=e.current.get(n))?void 0:a.fn)||n;t.removeEventListener(r,o,i),e.current.delete(n)},[]),n=(0,G.useCallback)(()=>{e.current.forEach((e,t)=>{r(e.eventTarget,e.type,t,e.options)})},[r]);return(0,G.useEffect)(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}let bF=!1,bD=0;function bB(e){"touch"===e.pointerType&&(bF=!0,setTimeout(()=>{bF=!1},50))}function bW(){if("undefined"!=typeof document)return 0===bD&&"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",bB),bD++,()=>{--bD>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",bB)}}function bq(e){if(null===e)return{width:0,height:0};let{width:t,height:r}=e.getBoundingClientRect();return{width:t,height:r}}var bz=((O=bz||{})[O.Left=0]="Left",O[O.Right=2]="Right",O);function bV(e){var t;let r=e.parentElement,n=null;for(;r&&!(w2(t=r)&&"FIELDSET"===t.nodeName);)w6(r)&&(n=r),r=r.parentElement;let i=(null==r?void 0:r.getAttribute("disabled"))==="";return!(i&&function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(w6(t))return!1;t=t.previousElementSibling}return!0}(n))&&i}var bH=(($=bH||{})[$.Ignore=0]="Ignore",$[$.Select=1]="Select",$[$.Close=2]="Close",$);let bG={kind:0},bK={kind:2},bJ=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bY(e){var t,r;let n=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!w2(i))return n;let a=!1;for(let e of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),a=!0;let o=a?null!=(r=i.innerText)?r:"":n;return bJ.test(o)&&(o=o.replace(bJ,"")),o}function bZ(e){return[e.screenX,e.screenY]}var bQ=e.i(422957),bX=e.i(800681),b0=e.i(888659),b1=e.i(425017),b2='input:not([inert]),select:not([inert]),textarea:not([inert]),a[href]:not([inert]),button:not([inert]),[tabindex]:not(slot):not([inert]),audio[controls]:not([inert]),video[controls]:not([inert]),[contenteditable]:not([contenteditable="false"]):not([inert]),details>summary:first-of-type:not([inert]),details:not([inert])',b3="undefined"==typeof Element,b5=b3?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,b4=!b3&&Element.prototype.getRootNode?function(e){var t;return null==e||null==(t=e.getRootNode)?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},b6=function(e,t){void 0===t&&(t=!0);var r,n=null==e||null==(r=e.getAttribute)?void 0:r.call(e,"inert");return""===n||"true"===n||t&&e&&b6(e.parentNode)},b8=function(e){var t,r=null==e||null==(t=e.getAttribute)?void 0:t.call(e,"contenteditable");return""===r||"true"===r},b9=function(e,t,r){if(b6(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(b2));return t&&b5.call(e,b2)&&n.unshift(e),n=n.filter(r)},b7=function(e,t,r){for(var n=[],i=Array.from(e);i.length;){var a=i.shift();if(!b6(a,!1))if("SLOT"===a.tagName){var o=a.assignedElements(),s=b7(o.length?o:a.children,!0,r);r.flatten?n.push.apply(n,s):n.push({scopeParent:a,candidates:s})}else{b5.call(a,b2)&&r.filter(a)&&(t||!e.includes(a))&&n.push(a);var l=a.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(a),c=!b6(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(l&&c){var d=b7(!0===l?a.children:l.children,!0,r);r.flatten?n.push.apply(n,d):n.push({scopeParent:a,candidates:d})}else i.unshift.apply(i,a.children)}}return n},xe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},xt=function(e){if(!e)throw Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||b8(e))&&!xe(e)?0:e.tabIndex},xr=function(e,t){var r=xt(e);return r<0&&t&&!xe(e)?0:r},xn=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},xi=function(e){return"INPUT"===e.tagName},xa=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},xo=function(e){if(!e.name)return!0;var t,r=e.form||b4(e),n=function(e){return r.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=n(window.CSS.escape(e.name));else try{t=n(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var i=xa(t,e.form);return!i||i===e},xs=function(e){return xi(e)&&"radio"===e.type&&!xo(e)},xl=function(e){var t,r,n,i,a,o,s,l=e&&b4(e),c=null==(t=l)?void 0:t.host,d=!1;if(l&&l!==e)for(d=!!(null!=(r=c)&&null!=(n=r.ownerDocument)&&n.contains(c)||null!=e&&null!=(i=e.ownerDocument)&&i.contains(e));!d&&c;)d=!!(null!=(o=c=null==(a=l=b4(c))?void 0:a.host)&&null!=(s=o.ownerDocument)&&s.contains(c));return d},xc=function(e){var t=e.getBoundingClientRect(),r=t.width,n=t.height;return 0===r&&0===n},xd=function(e,t){var r=t.displayCheck,n=t.getShadowRoot;if("full-native"===r&&"checkVisibility"in e)return!e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});if("hidden"===getComputedStyle(e).visibility)return!0;var i=b5.call(e,"details>summary:first-of-type")?e.parentElement:e;if(b5.call(i,"details:not([open]) *"))return!0;if(r&&"full"!==r&&"full-native"!==r&&"legacy-full"!==r){if("non-zero-area"===r)return xc(e)}else{if("function"==typeof n){for(var a=e;e;){var o=e.parentElement,s=b4(e);if(o&&!o.shadowRoot&&!0===n(o))return xc(e);e=e.assignedSlot?e.assignedSlot:o||s===e.ownerDocument?o:s.host}e=a}if(xl(e))return!e.getClientRects().length;if("legacy-full"!==r)return!0}return!1},xu=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var r=0;r<t.children.length;r++){var n=t.children.item(r);if("LEGEND"===n.tagName)return!!b5.call(t,"fieldset[disabled] *")||!n.contains(e)}return!0}t=t.parentElement}return!1},xh=function(e,t){return!(t.disabled||b6(t)||xi(t)&&"hidden"===t.type||xd(t,e)||"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some(function(e){return"SUMMARY"===e.tagName})||xu(t))},xp=function(e,t){return!(xs(t)||0>xt(t))&&!!xh(e,t)},xf=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!isNaN(t)||!!(t>=0)},xm=function(e){var t=[],r=[];return e.forEach(function(e,n){var i=!!e.scopeParent,a=i?e.scopeParent:e,o=xr(a,i),s=i?xm(e.candidates):a;0===o?i?t.push.apply(t,s):t.push(a):r.push({documentOrder:n,tabIndex:o,item:e,isScope:i,content:s})}),r.sort(xn).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(t)},xg=function(e,t){return xm((t=t||{}).getShadowRoot?b7([e],t.includeContainer,{filter:xp.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:xf}):b9(e,t.includeContainer,xp.bind(null,t)))},xy=function(e,t){return(t=t||{}).getShadowRoot?b7([e],t.includeContainer,{filter:xh.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):b9(e,t.includeContainer,xh.bind(null,t))},xw=function(e,t){if(t=t||{},!e)throw Error("No node provided");return!1!==b5.call(e,b2)&&xp(t,e)};e.s(["focusable",()=>xy,"isTabbable",()=>xw,"tabbable",()=>xg],751095);let xv={...G},xb=xv.useInsertionEffect||(e=>e());function xx(e){let t=G.useRef(()=>{});return xb(()=>{t.current=e}),G.useCallback(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}var x_="undefined"!=typeof document?G.useLayoutEffect:G.useEffect;let xk=!1,xE=0,xC=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xE++,xA=xv.useId||function(){let[e,t]=G.useState(()=>xk?xC():void 0);return x_(()=>{null==e&&t(xC())},[]),G.useEffect(()=>{xk=!0},[]),e},xI=G.createContext(null),xS=G.createContext(null),xT="active",xP="selected";function xj(e,t,r){let n=new Map,i="item"===r,a=e;if(i&&e){let{[xT]:t,[xP]:r,...n}=e;a=n}return{..."floating"===r&&{tabIndex:-1,"data-floating-ui-focusable":""},...a,...t.map(t=>{let n=t?t[r]:null;return"function"==typeof n?e?n(e):null:n}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[r,a]=t;if(!(i&&[xT,xP].includes(r)))if(0===r.indexOf("on")){if(n.has(r)||n.set(r,[]),"function"==typeof a){var o;null==(o=n.get(r))||o.push(a),e[r]=function(){for(var e,t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];return null==(e=n.get(r))?void 0:e.map(e=>e(...i)).find(e=>void 0!==e)}}}else e[r]=a}),e),{})}}function xN(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}let xO=(0,G.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});xO.displayName="FloatingContext";let x$=(0,G.createContext)(null);function xR({children:e,enabled:t=!0}){var r,n,i,a,o,s,l;let c,d,u,h,p,f,m,g,y,w,[v,b]=(0,G.useState)(null),[x,_]=(0,G.useState)(0),k=(0,G.useRef)(null),[E,C]=(0,G.useState)(null);yK(()=>{if(!n)return;let e=new MutationObserver(()=>{let e=window.getComputedStyle(n).maxHeight,t=parseFloat(e);if(isNaN(t))return;let r=parseInt(e);isNaN(r)||t!==r&&(n.style.maxHeight=`${Math.ceil(t)}px`)});return e.observe(n,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[n=E]);let A=t&&null!==v&&null!==E,{to:I="bottom",gap:S=0,offset:T=0,padding:P=0,inner:j}=(i=v,a=E,c=xM(null!=(o=null==i?void 0:i.gap)?o:"var(--anchor-gap, 0)",a),d=xM(null!=(s=null==i?void 0:i.offset)?s:"var(--anchor-offset, 0)",a),u=xM(null!=(l=null==i?void 0:i.padding)?l:"var(--anchor-padding, 0)",a),{...i,gap:c,offset:d,padding:u}),[N,O="center"]=I.split(" ");yK(()=>{A&&_(0)},[A]);let{refs:$,floatingStyles:R,context:M}=function(e){void 0===e&&(e={});let{nodeId:t}=e,r=function(e){var t;let{open:r=!1,onOpenChange:n,elements:i}=e,a=xA(),o=G.useRef({}),[s]=G.useState(()=>{let e;return e=new Map,{emit(t,r){var n;null==(n=e.get(t))||n.forEach(e=>e(r))},on(t,r){e.set(t,[...e.get(t)||[],r])},off(t,r){var n;e.set(t,(null==(n=e.get(t))?void 0:n.filter(e=>e!==r))||[])}}}),l=null!=((null==(t=G.useContext(xI))?void 0:t.id)||null),[c,d]=G.useState(i.reference),u=xx((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:l}),null==n||n(e,t,r)}),h=G.useMemo(()=>({setPositionReference:d}),[]),p=G.useMemo(()=>({reference:c||i.reference||null,floating:i.floating||null,domReference:i.reference}),[c,i.reference,i.floating]);return G.useMemo(()=>({dataRef:o,open:r,onOpenChange:u,elements:p,events:s,floatingId:a,refs:h}),[r,u,p,s,a,h])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,i=n.elements,[a,o]=G.useState(null),[s,l]=G.useState(null),c=(null==i?void 0:i.domReference)||a,d=G.useRef(null),u=G.useContext(xS);x_(()=>{c&&(d.current=c)},[c]);let h=(0,bX.useFloating)({...e,elements:{...i,...s&&{reference:s}}}),p=G.useCallback(e=>{let t=(0,b0.isElement)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;l(t),h.refs.setReference(t)},[h.refs]),f=G.useCallback(e=>{((0,b0.isElement)(e)||null===e)&&(d.current=e,o(e)),((0,b0.isElement)(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!(0,b0.isElement)(e))&&h.refs.setReference(e)},[h.refs]),m=G.useMemo(()=>({...h.refs,setReference:f,setPositionReference:p,domReference:d}),[h.refs,f,p]),g=G.useMemo(()=>({...h.elements,domReference:c}),[h.elements,c]),y=G.useMemo(()=>({...h,...n,refs:m,elements:g,nodeId:t}),[h,m,g,t,n]);return x_(()=>{n.dataRef.current.floatingContext=y;let e=null==u?void 0:u.nodesRef.current.find(e=>e.id===t);e&&(e.context=y)}),G.useMemo(()=>({...h,context:y,refs:m,elements:g}),[h,m,g,y])}({open:A,placement:"selection"===N?"center"===O?"bottom":`bottom-${O}`:"center"===O?`${N}`:`${N}-${O}`,strategy:"absolute",transform:!1,middleware:[(0,bX.offset)({mainAxis:"selection"===N?0:S,crossAxis:T}),(0,bX.shift)({padding:P}),"selection"!==N&&(0,bX.flip)({padding:P}),"selection"===N&&j?{name:"inner",options:h={...j,padding:P,overflowRef:k,offset:x,minItemsVisible:4,referenceOverflowThreshold:P,onFallbackChange(e){var t,r;if(!e)return;let n=M.elements.floating;if(!n)return;let i=parseFloat(getComputedStyle(n).scrollPaddingBottom)||0,a=Math.min(4,n.childElementCount),o=0,s=0;for(let e of null!=(r=null==(t=M.elements.floating)?void 0:t.childNodes)?r:[])if(w2(e)){let t=e.offsetTop,r=t+e.clientHeight+i,l=n.scrollTop,c=l+n.clientHeight;if(t>=l&&r<=c)a--;else{s=Math.max(0,Math.min(r,c)-Math.max(t,l)),o=e.clientHeight;break}}a>=1&&_(e=>{let t=o*a-s+i;return e>=t?e:t})}},async fn(e){let{listRef:t,overflowRef:r,onFallbackChange:n,offset:i=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:s=0,scrollRef:l,...c}=(0,b1.evaluate)(h,e),{rects:d,elements:{floating:u}}=e,p=t.current[a],f=(null==l?void 0:l.current)||u,m=u.clientTop||f.clientTop,g=0!==u.clientTop,y=0!==f.clientTop,w=u===f;if(!p)return{};let v={...e,...await (0,bX.offset)(-p.offsetTop-u.clientTop-d.reference.height/2-p.offsetHeight/2-i).fn(e)},b=await (0,bQ.detectOverflow)(xN(v,f.scrollHeight+m+u.clientTop),c),x=await (0,bQ.detectOverflow)(v,{...c,elementContext:"reference"}),_=(0,b1.max)(0,b.top),k=v.y+_,E=(f.scrollHeight>f.clientHeight?e=>e:b1.round)((0,b1.max)(0,f.scrollHeight+(g&&w||y?2*m:0)-_-(0,b1.max)(0,b.bottom)));if(f.style.maxHeight=E+"px",f.scrollTop=_,n){let e=f.offsetHeight<p.offsetHeight*(0,b1.min)(o,t.current.length)-1||x.top>=-s||x.bottom>=-s;vz.flushSync(()=>n(e))}return r&&(r.current=await (0,bQ.detectOverflow)(xN({...v,y:k},f.offsetHeight+m+u.clientTop),c)),{y:k}}}:null,(0,bX.size)({padding:P,apply({availableWidth:e,availableHeight:t,elements:r}){Object.assign(r.floating.style,{overflow:"auto",maxWidth:`${e}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${t}px)`})}})].filter(Boolean),whileElementsMounted:bQ.autoUpdate}),[U=N,L=O]=M.placement.split("-");"selection"===N&&(U="selection");let F=(0,G.useMemo)(()=>({anchor:[U,L].filter(Boolean).join(" ")}),[U,L]),{getReferenceProps:D,getFloatingProps:B}=(p=(r=[function(e,t){let{open:r,elements:n}=e,{enabled:i=!0,overflowRef:a,scrollRef:o,onChange:s}=t,l=xx(s),c=G.useRef(!1),d=G.useRef(null),u=G.useRef(null);G.useEffect(()=>{if(!i)return;function e(e){if(e.ctrlKey||!t||null==a.current)return;let r=e.deltaY,n=a.current.top>=-.5,i=a.current.bottom>=-.5,o=t.scrollHeight-t.clientHeight,s=r<0?-1:1,c=r<0?"max":"min";if(!(t.scrollHeight<=t.clientHeight))if(!n&&r>0||!i&&r<0)e.preventDefault(),vz.flushSync(()=>{l(e=>e+Math[c](r,o*s))});else{let e;/firefox/i.test((e=navigator.userAgentData)&&Array.isArray(e.brands)?e.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent)&&(t.scrollTop+=r)}}let t=(null==o?void 0:o.current)||n.floating;if(r&&t)return t.addEventListener("wheel",e),requestAnimationFrame(()=>{d.current=t.scrollTop,null!=a.current&&(u.current={...a.current})}),()=>{d.current=null,u.current=null,t.removeEventListener("wheel",e)}},[i,r,n.floating,a,o,l]);let h=G.useMemo(()=>({onKeyDown(){c.current=!0},onWheel(){c.current=!1},onPointerMove(){c.current=!1},onScroll(){let e=(null==o?void 0:o.current)||n.floating;if(a.current&&e&&c.current){if(null!==d.current){let t=e.scrollTop-d.current;(a.current.bottom<-.5&&t<-1||a.current.top<-.5&&t>1)&&vz.flushSync(()=>l(e=>e+t))}requestAnimationFrame(()=>{d.current=e.scrollTop})}}}),[n.floating,l,a,o]);return G.useMemo(()=>i?{floating:h}:{},[i,h])}(M,{overflowRef:k,onChange:_})]).map(e=>null==e?void 0:e.reference),f=r.map(e=>null==e?void 0:e.floating),m=r.map(e=>null==e?void 0:e.item),g=G.useCallback(e=>xj(e,r,"reference"),p),y=G.useCallback(e=>xj(e,r,"floating"),f),w=G.useCallback(e=>xj(e,r,"item"),m),G.useMemo(()=>({getReferenceProps:g,getFloatingProps:y,getItemProps:w}),[g,y,w])),W=yY(e=>{C(e),$.setFloating(e)});return G.createElement(x$.Provider,{value:b},G.createElement(xO.Provider,{value:{setFloating:W,setReference:$.setReference,styles:R,getReferenceProps:D,getFloatingProps:B,slot:F}},e))}function xM(e,t,r){let n=yz(),i=yY((e,t)=>{if(null==e)return[r,null];if("number"==typeof e)return[e,null];if("string"==typeof e){if(!t)return[r,null];let i=xU(e,t);return[i,r=>{let a=function e(t){let r=/var\((.*)\)/.exec(t);if(r){let t=r[1].indexOf(",");if(-1===t)return[r[1]];let n=r[1].slice(0,t).trim(),i=r[1].slice(t+1).trim();return i?[n,...e(i)]:[n]}return[]}(e);{let o=a.map(e=>window.getComputedStyle(t).getPropertyValue(e));n.requestAnimationFrame(function s(){n.nextFrame(s);let l=!1;for(let[e,r]of a.entries()){let n=window.getComputedStyle(t).getPropertyValue(r);if(o[e]!==n){o[e]=n,l=!0;break}}if(!l)return;let c=xU(e,t);i!==c&&(r(c),i=c)})}return n.dispose}]}return[r,null]}),a=(0,G.useMemo)(()=>i(e,t)[0],[e,t]),[o=a,s]=(0,G.useState)();return yK(()=>{let[r,n]=i(e,t);if(s(r),n)return n(s)},[e,t]),o}function xU(e,t){let r=document.createElement("div");t.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",e,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return t.removeChild(r),n}x$.displayName="PlacementContext";var xL=((R=xL||{})[R.First=0]="First",R[R.Previous=1]="Previous",R[R.Next=2]="Next",R[R.Last=3]="Last",R[R.Specific=4]="Specific",R[R.Nothing=5]="Nothing",R);function xF(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:-1===i&&(i=r.length);for(let e=i-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=i+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:throw Error("Unexpected object: "+e)}}let xD=(0,G.createContext)(void 0),xB=(0,G.createContext)(null);function xW(){let e=(0,G.useContext)(xB);if(null===e){let e=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,xW),e}return e}function xq({inherit:e=!1}={}){var t,r;let n,i=n=null!=(r=null==(t=(0,G.useContext)(xB))?void 0:t.value)?r:void 0,[a,o]=(0,G.useState)([]),s=e?[i,...a].filter(Boolean):a;return[s.length>0?s.join(" "):void 0,(0,G.useMemo)(()=>function(e){let t=yY(e=>(o(t=>[...t,e]),()=>o(t=>{let r=t.slice(),n=r.indexOf(e);return -1!==n&&r.splice(n,1),r}))),r=(0,G.useMemo)(()=>({register:t,slot:e.slot,name:e.name,props:e.props,value:e.value}),[t,e.slot,e.name,e.props,e.value]);return G.default.createElement(xB.Provider,{value:r},e.children)},[o])]}xB.displayName="LabelContext",Object.assign(wl(function(e,t){var r;let n=(0,G.useId)(),i=xW(),a=(0,G.useContext)(xD),o=vj(),{id:s=`headlessui-label-${n}`,htmlFor:l=null!=a?a:null==(r=i.props)?void 0:r.htmlFor,passive:c=!1,...d}=e,u=y0(t);yK(()=>i.register(s),[s,i.register]);let h=yY(e=>{var t;let r=e.currentTarget;if(!(e.target!==e.currentTarget&&w1(t=e.target)&&t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'))&&(w4(r)&&e.preventDefault(),i.props&&"onClick"in i.props&&"function"==typeof i.props.onClick&&i.props.onClick(e),w4(r))){let e=document.getElementById(r.htmlFor);if(e){let t=e.getAttribute("disabled");if("true"===t||""===t)return;let r=e.getAttribute("aria-disabled");if("true"===r||""===r)return;(w5(e)&&("file"===e.type||"radio"===e.type||"checkbox"===e.type)||"radio"===e.role||"checkbox"===e.role||"switch"===e.role)&&e.click(),e.focus({preventScroll:!0})}}}),p=vC({...i.slot,disabled:o||!1}),f={ref:u,...i.props,id:s,htmlFor:l,onClick:h};return c&&("onClick"in f&&(delete f.htmlFor,delete f.onClick),"onClick"in d&&delete d.onClick),wn()({ourProps:f,theirProps:d,slot:p,defaultTag:l?"label":"div",name:i.name||"Label"})}),{});let xz={kind:"Idle"},xV={kind:"Moved"};function xH(e){let t=e.getBoundingClientRect();return`${t.x},${t.y}`}var xG=Object.defineProperty,xK=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?xG(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,r},xJ=((M=xJ||{})[M.Open=0]="Open",M[M.Closed=1]="Closed",M),xY=((U=xY||{})[U.Pointer=0]="Pointer",U[U.Other=1]="Other",U),xZ=((L=xZ||{})[L.OpenMenu=0]="OpenMenu",L[L.CloseMenu=1]="CloseMenu",L[L.GoToItem=2]="GoToItem",L[L.Search=3]="Search",L[L.ClearSearch=4]="ClearSearch",L[L.RegisterItems=5]="RegisterItems",L[L.UnregisterItems=6]="UnregisterItems",L[L.SetButtonElement=7]="SetButtonElement",L[L.SetItemsElement=8]="SetItemsElement",L[L.SortItems=9]="SortItems",L[L.MarkButtonAsMoved=10]="MarkButtonAsMoved",L);function xQ(e,t=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=vc(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return -1===i&&(i=null),{items:n,activeItemIndex:i}}let xX={1(e){if(1===e.menuState)return e;let t=e.buttonElement?{kind:"Tracked",position:xH(e.buttonElement)}:e.buttonPositionState;return{...e,activeItemIndex:null,pendingFocus:{focus:xL.Nothing},menuState:1,buttonPositionState:t}},0:(e,t)=>0===e.menuState?e:{...e,__demoMode:!1,pendingFocus:t.focus,menuState:0,buttonPositionState:xz},2:(e,t)=>{var r,n,i,a,o;if(1===e.menuState)return e;let s={...e,searchQuery:"",activationTrigger:null!=(r=t.trigger)?r:1,__demoMode:!1};if(t.focus===xL.Nothing)return{...s,activeItemIndex:null};if(t.focus===xL.Specific)return{...s,activeItemIndex:e.items.findIndex(e=>e.id===t.id)};if(t.focus===xL.Previous){let r=e.activeItemIndex;if(null!==r){let a=e.items[r].dataRef.current.domRef,o=xF(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==o){let t=e.items[o].dataRef.current.domRef;if((null==(n=a.current)?void 0:n.previousElementSibling)===t.current||(null==(i=t.current)?void 0:i.previousElementSibling)===null)return{...s,activeItemIndex:o}}}}else if(t.focus===xL.Next){let r=e.activeItemIndex;if(null!==r){let n=e.items[r].dataRef.current.domRef,i=xF(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});if(null!==i){let t=e.items[i].dataRef.current.domRef;if((null==(a=n.current)?void 0:a.nextElementSibling)===t.current||(null==(o=t.current)?void 0:o.nextElementSibling)===null)return{...s,activeItemIndex:i}}}}let l=xQ(e),c=xF(t,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...s,...l,activeItemIndex:c}},3:(e,t)=>{let r=+(""===e.searchQuery),n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return -1===a||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=e.items.concat(t.items.map(e=>e)),n=e.activeItemIndex;return e.pendingFocus.focus!==xL.Nothing&&(n=xF(e.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled})),{...e,items:r,activeItemIndex:n,pendingFocus:{focus:xL.Nothing},pendingShouldSort:!0}},6:(e,t)=>{let r=e.items,n=[],i=new Set(t.items);for(let[e,t]of r.entries())if(i.has(t.id)&&(n.push(e),i.delete(t.id),0===i.size))break;if(n.length>0)for(let e of(r=r.slice(),n.reverse()))r.splice(e,1);return{...e,items:r,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.itemsElement===t.element?e:{...e,itemsElement:t.element},9:e=>e.pendingShouldSort?{...e,...xQ(e),pendingShouldSort:!1}:e,10:e=>"Tracked"!==e.buttonPositionState.kind?e:{...e,buttonPositionState:xV}};class x0 extends wN{constructor(e){super(e),xK(this,"actions",{registerItem:wM(()=>{let e=[],t=new Set;return[(r,n)=>{t.has(n)||(t.add(n),e.push({id:r,dataRef:n}))},()=>(t.clear(),this.send({type:5,items:e.splice(0)}))]}),unregisterItem:wM(()=>{let e=[];return[t=>e.push(t),()=>this.send({type:6,items:e.splice(0)})]})}),xK(this,"selectors",{activeDescendantId(e){var t;let r=e.activeItemIndex,n=e.items;return null===r||null==(t=n[r])?void 0:t.id},isActive(e,t){var r;let n=e.activeItemIndex,i=e.items;return null!==n&&(null==(r=i[n])?void 0:r.id)===t},shouldScrollIntoView(e,t){return!e.__demoMode&&0===e.menuState&&0!==e.activationTrigger&&this.isActive(e,t)},didButtonMove:e=>"Moved"===e.buttonPositionState.kind}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let e=this.state.id,t=wW.get(null);this.disposables.add(t.on(wF.Push,r=>{t.selectors.isTop(r,e)||0!==this.state.menuState||this.send({type:1})})),this.on(0,()=>t.actions.push(e)),this.on(1,()=>t.actions.pop(e))}this.disposables.group(e=>{this.on(1,t=>{t.buttonElement&&(e.dispose(),e.add(function(e,t,r){let n=yq();if("Tracked"===t.kind){let i=function(){a!==xH(e)&&(n.dispose(),r())},{position:a}=t,o=new ResizeObserver(i);o.observe(e),n.add(()=>o.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}(t.buttonElement,t.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:t=!1}){return new x0({id:e,__demoMode:t,menuState:+!t,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:xL.Nothing},buttonPositionState:xz})}reduce(e,t){return we(t.type,xX,e,t)}}let x1=(0,G.createContext)(null);function x2(e){let t=(0,G.useContext)(x1);if(null===t){let t=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,x3),t}return t}function x3({id:e,__demoMode:t=!1}){let r=(0,G.useMemo)(()=>x0.new({id:e,__demoMode:t}),[]);return vR(()=>r.dispose()),r}let x5=G.Fragment,x4=wt.RenderStrategy|wt.Static,x6=G.Fragment,x8=wl(function(e,t){let r=(0,G.useId)(),{__demoMode:n=!1,...i}=e,a=x3({id:r,__demoMode:n}),[o,s,l]=wz(a,e=>[e.menuState,e.itemsElement,e.buttonElement]),c=y0(t),d=wW.get(null);vm(wz(d,(0,G.useCallback)(e=>d.selectors.isTop(e,r),[d,r])),[l,s],(e,t)=>{var r;a.send({type:xZ.CloseMenu}),va(t,vi.Loose)||(e.preventDefault(),null==(r=a.state.buttonElement)||r.focus())});let u=yY(()=>{a.send({type:xZ.CloseMenu})}),h=vC({open:o===xJ.Open,close:u}),p=wn();return G.default.createElement(xR,null,G.default.createElement(x1.Provider,{value:a},G.default.createElement(y8,{value:we(o,{[xJ.Open]:y4.Open,[xJ.Closed]:y4.Closed})},p({ourProps:{ref:c},theirProps:i,slot:h,defaultTag:x5,name:"Menu"}))))}),x9=wl(function(e,t){var r,n;let i,a=x2("Menu.Button"),o=(0,G.useId)(),{id:s=`headlessui-menu-button-${o}`,disabled:l=!1,autoFocus:c=!1,...d}=e,u=(0,G.useRef)(null),h=(0,G.useContext)(xO).getReferenceProps,p=y0(t,u,(0,G.useContext)(xO).setReference,yY(e=>a.send({type:xZ.SetButtonElement,element:e}))),f=yY(e=>{switch(e.key){case wE.Space:case wE.Enter:case wE.ArrowDown:e.preventDefault(),e.stopPropagation(),a.send({type:xZ.OpenMenu,focus:{focus:xL.First}});break;case wE.ArrowUp:e.preventDefault(),e.stopPropagation(),a.send({type:xZ.OpenMenu,focus:{focus:xL.Last}})}}),m=yY(e=>{e.key===wE.Space&&e.preventDefault()}),[g,y,w]=wz(a,e=>[e.menuState,e.buttonElement,e.itemsElement]);!function(e,{trigger:t,action:r,close:n,select:i}){let a=(0,G.useRef)(null),o=(0,G.useRef)(null),s=(0,G.useRef)(null);vp(e&&null!==t,"pointerdown",e=>{w0(null==e?void 0:e.target)&&null!=t&&t.contains(e.target)&&(o.current=e.x,s.current=e.y,a.current=e.timeStamp)}),vp(e&&null!==t,"pointerup",e=>{var t,l;let c=a.current;if(null===c||(a.current=null,!w3(e.target))||5>Math.abs(e.x-(null!=(t=o.current)?t:e.x))&&5>Math.abs(e.y-(null!=(l=s.current)?l:e.y)))return;let d=r(e);switch(d.kind){case 0:return;case 1:e.timeStamp-c>200&&(i(d.target),n());break;case 2:n()}},{capture:!0})}(g===xJ.Open,{trigger:y,action:(0,G.useCallback)(e=>{if(null!=y&&y.contains(e.target))return bG;let t=e.target.closest('[role="menuitem"]:not([data-disabled])');return w2(t)?{kind:1,target:t}:null!=w&&w.contains(e.target)?bG:bK},[y,w]),close:(0,G.useCallback)(()=>a.send({type:xZ.CloseMenu}),[]),select:(0,G.useCallback)(e=>e.click(),[])});let v=(r=e=>{var t;l||(g===xJ.Open?((0,vz.flushSync)(()=>a.send({type:xZ.CloseMenu})),null==(t=u.current)||t.focus({preventScroll:!0})):(e.preventDefault(),a.send({type:xZ.OpenMenu,focus:{focus:xL.Nothing},trigger:xY.Pointer})))},i=(0,G.useRef)(null),{onPointerDown:yY(e=>{i.current=e.pointerType,bV(e.currentTarget)||"mouse"!==e.pointerType||e.button!==bz.Left||(e.preventDefault(),r(e))}),onClick:yY(e=>{"mouse"!==i.current&&(bV(e.currentTarget)||r(e))})}),{isFocusVisible:b,focusProps:x}=function(e={}){var t;let{autoFocus:r=!1,isTextInput:n,within:i}=e,a=(0,G.useRef)({isFocused:!1,isFocusVisible:r||bR()}),[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(()=>a.current.isFocused&&a.current.isFocusVisible),d=(0,G.useCallback)(()=>c(a.current.isFocused&&a.current.isFocusVisible),[]),u=(0,G.useCallback)(e=>{a.current.isFocused=e,s(e),d()},[d]);t={isTextInput:n},bO(),(0,G.useEffect)(()=>{let e=(e,r)=>{var n;let i,o,s,l,c;n=!!(null==t?void 0:t.isTextInput),i=br(null==r?void 0:r.target),o="undefined"!=typeof window?bn(null==r?void 0:r.target).HTMLInputElement:HTMLInputElement,s="undefined"!=typeof window?bn(null==r?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,l="undefined"!=typeof window?bn(null==r?void 0:r.target).HTMLElement:HTMLElement,c="undefined"!=typeof window?bn(null==r?void 0:r.target).KeyboardEvent:KeyboardEvent,(n=n||i.activeElement instanceof o&&!bM.has(i.activeElement.type)||i.activeElement instanceof s||i.activeElement instanceof l&&i.activeElement.isContentEditable)&&"keyboard"===e&&r instanceof c&&!bA[r.key]||(e=>{a.current.isFocusVisible=e,d()})(bR())};return b_.add(e),()=>{b_.delete(e)}},[]);let{focusProps:h}=function(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:i}=e,a=(0,G.useCallback)(e=>{if(e.target===e.currentTarget)return n&&n(e),i&&i(!1),!0},[n,i]),o=bs(a),s=(0,G.useCallback)(e=>{var t;let n=br(e.target),a=n?((e=document)=>e.activeElement)(n):((e=document)=>e.activeElement)();e.target===e.currentTarget&&a===(t=e.nativeEvent,t.target)&&(r&&r(e),i&&i(!0),o(e))},[i,r,o]);return{focusProps:{onFocus:!t&&(r||i||n)?s:void 0,onBlur:!t&&(n||i)?a:void 0}}}({isDisabled:i,onFocusChange:u}),{focusWithinProps:p}=function(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=e,a=(0,G.useRef)({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:s}=bL(),l=(0,G.useCallback)(e=>{e.currentTarget.contains(e.target)&&a.current.isFocusWithin&&!e.currentTarget.contains(e.relatedTarget)&&(a.current.isFocusWithin=!1,s(),r&&r(e),i&&i(!1))},[r,i,a,s]),c=bs(l),d=(0,G.useCallback)(e=>{var t;if(!e.currentTarget.contains(e.target))return;let r=br(e.target),s=((e=document)=>e.activeElement)(r);if(!a.current.isFocusWithin&&s===(t=e.nativeEvent,t.target)){n&&n(e),i&&i(!0),a.current.isFocusWithin=!0,c(e);let t=e.currentTarget;o(r,"focus",e=>{if(a.current.isFocusWithin&&!bU(t,e.target)){let n=new r.defaultView.FocusEvent("blur",{relatedTarget:e.target});Object.defineProperty(n,"target",{value:t}),Object.defineProperty(n,"currentTarget",{value:t}),l(bo(n))}},{capture:!0})}},[n,i,c,o,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:l}}}({isDisabled:!i,onFocusWithinChange:u});return{isFocused:o,isFocusVisible:l,focusProps:i?p:h}}({autoFocus:c}),{isHovered:_,hoverProps:k}=function(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:i}=e,[a,o]=(0,G.useState)(!1),s=(0,G.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,G.useEffect)(bW,[]);let{addGlobalListener:l,removeAllGlobalListeners:c}=bL(),{hoverProps:d,triggerHoverEnd:u}=(0,G.useMemo)(()=>{let e=(e,t)=>{let i=s.target;s.pointerType="",s.target=null,"touch"!==t&&s.isHovered&&i&&(s.isHovered=!1,c(),n&&n({type:"hoverend",target:i,pointerType:t}),r&&r(!1),o(!1))},a={};return"undefined"!=typeof PointerEvent&&(a.onPointerEnter=n=>{bF&&"mouse"===n.pointerType||((n,a)=>{if(s.pointerType=a,i||"touch"===a||s.isHovered||!n.currentTarget.contains(n.target))return;s.isHovered=!0;let c=n.currentTarget;s.target=c,l(br(n.target),"pointerover",t=>{s.isHovered&&s.target&&!bU(s.target,t.target)&&e(t,t.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:c,pointerType:a}),r&&r(!0),o(!0)})(n,n.pointerType)},a.onPointerLeave=t=>{!i&&t.currentTarget.contains(t.target)&&e(t,t.pointerType)}),{hoverProps:a,triggerHoverEnd:e}},[t,r,n,i,s,l,c]);return(0,G.useEffect)(()=>{i&&u({currentTarget:s.target},s.pointerType)},[i]),{hoverProps:d,isHovered:a}}({isDisabled:l}),{pressed:E,pressProps:C}=function({disabled:e=!1}={}){let t=(0,G.useRef)(null),[r,n]=(0,G.useState)(!1),i=yz(),a=yY(()=>{t.current=null,n(!1),i.dispose()}),o=yY(e=>{if(i.dispose(),null===t.current){t.current=e.currentTarget,n(!0);{let r=wG(e.currentTarget);i.addEventListener(r,"pointerup",a,!1),i.addEventListener(r,"pointermove",e=>{if(t.current){var r,i;let a,o;n((a=e.width/2,o=e.height/2,r={top:e.clientY-o,right:e.clientX+a,bottom:e.clientY+o,left:e.clientX-a},i=t.current.getBoundingClientRect(),!(!r||!i||r.right<i.left||r.left>i.right||r.bottom<i.top||r.top>i.bottom)))}},!1),i.addEventListener(r,"pointercancel",a,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:a,onClick:a}}}({disabled:l}),A=vC({open:g===xJ.Open,active:E||g===xJ.Open,disabled:l,hover:_,focus:b,autofocus:c}),I=ws(h(),{ref:p,id:s,type:(n=u.current,(0,G.useMemo)(()=>{var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";if("string"==typeof r&&"button"===r.toLowerCase()||(null==n?void 0:n.tagName)==="BUTTON"&&!n.hasAttribute("type"))return"button"},[e.type,e.as,n])),"aria-haspopup":"menu","aria-controls":null==w?void 0:w.id,"aria-expanded":g===xJ.Open,disabled:l||void 0,autoFocus:c,onKeyDown:f,onKeyUp:m},v,x,k,C);return wn()({ourProps:I,theirProps:d,slot:A,defaultTag:"button",name:"Menu.Button"})}),x7=wl(function(e,t){let r=(0,G.useId)(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:a=!1,modal:o=!0,transition:s=!1,...l}=e,c=(0,G.useMemo)(()=>i?"string"==typeof i?{to:i}:i:null,[i]),d=x2("Menu.Items"),[u,h]=function(e=null){!1===e&&(e=null),"string"==typeof e&&(e={to:e});let t=(0,G.useContext)(x$),r=(0,G.useMemo)(()=>e,[JSON.stringify(e,(e,t)=>{var r;return null!=(r=null==t?void 0:t.outerHTML)?r:t})]);yK(()=>{null==t||t(null!=r?r:null)},[t,r]);let n=(0,G.useContext)(xO);return(0,G.useMemo)(()=>[n.setFloating,e?n.styles:{}],[n.setFloating,e,n.styles])}(c),p=function(){let{getFloatingProps:e,slot:t}=(0,G.useContext)(xO);return(0,G.useCallback)((...r)=>Object.assign({},e(...r),{"data-anchor":t.anchor}),[e,t])}(),[f,m]=(0,G.useState)(null),g=y0(t,c?u:null,yY(e=>d.send({type:xZ.SetItemsElement,element:e})),m),[y,w]=wz(d,e=>[e.menuState,e.buttonElement]),v=vg(w),b=vg(f);c&&(a=!0);let x=y6(),[_,k]=y3(s,f,null!==x?(x&y4.Open)===y4.Open:y===xJ.Open);w8(_,w,()=>{d.send({type:xZ.CloseMenu})});let E=wz(d,e=>e.__demoMode);vE(!E&&o&&y===xJ.Open,b),wX(!E&&o&&y===xJ.Open,{allowed:(0,G.useCallback)(()=>[w,f],[w,f])});let C=!wz(d,d.selectors.didButtonMove)&&_;(0,G.useEffect)(()=>{f&&y===xJ.Open&&(wJ(f)===f||f.focus({preventScroll:!0}))},[y,f]),function(e,{container:t,accept:r,walk:n}){let i=(0,G.useRef)(r),a=(0,G.useRef)(n);(0,G.useEffect)(()=>{i.current=r,a.current=n},[r,n]),yK(()=>{if(!t||!e)return;let r=wG(t);if(!r)return;let n=i.current,o=a.current,s=Object.assign(e=>n(e),{acceptNode:n}),l=r.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)o(l.currentNode)},[t,e,i,a])}(y===xJ.Open,{container:f,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let A=yz(),I=yY(e=>{var t,r,n;switch(A.dispose(),e.key){case wE.Space:if(""!==d.state.searchQuery)return e.preventDefault(),e.stopPropagation(),d.send({type:xZ.Search,value:e.key});case wE.Enter:if(e.preventDefault(),e.stopPropagation(),null!==d.state.activeItemIndex){let{dataRef:e}=d.state.items[d.state.activeItemIndex];null==(r=null==(t=e.current)?void 0:t.domRef.current)||r.click()}d.send({type:xZ.CloseMenu}),vo(d.state.buttonElement);break;case wE.ArrowDown:return e.preventDefault(),e.stopPropagation(),d.send({type:xZ.GoToItem,focus:xL.Next});case wE.ArrowUp:return e.preventDefault(),e.stopPropagation(),d.send({type:xZ.GoToItem,focus:xL.Previous});case wE.Home:case wE.PageUp:return e.preventDefault(),e.stopPropagation(),d.send({type:xZ.GoToItem,focus:xL.First});case wE.End:case wE.PageDown:return e.preventDefault(),e.stopPropagation(),d.send({type:xZ.GoToItem,focus:xL.Last});case wE.Escape:e.preventDefault(),e.stopPropagation(),(0,vz.flushSync)(()=>d.send({type:xZ.CloseMenu})),null==(n=d.state.buttonElement)||n.focus({preventScroll:!0});break;case wE.Tab:e.preventDefault(),e.stopPropagation(),(0,vz.flushSync)(()=>d.send({type:xZ.CloseMenu})),function(e,t,r=null===e?document.body:wK(e)){vd(vn(r),t,{relativeTo:e})}(d.state.buttonElement,e.shiftKey?ve.Previous:ve.Next);break;default:1===e.key.length&&(d.send({type:xZ.Search,value:e.key}),A.setTimeout(()=>d.send({type:xZ.ClearSearch}),350))}}),S=yY(e=>{e.key===wE.Space&&e.preventDefault()}),T=vC({open:y===xJ.Open}),P=ws(c?p():{},{"aria-activedescendant":wz(d,d.selectors.activeDescendantId),"aria-labelledby":wz(d,e=>{var t;return null==(t=e.buttonElement)?void 0:t.id}),id:n,onKeyDown:I,onKeyUp:S,role:"menu",tabIndex:y===xJ.Open?0:void 0,ref:g,style:{...l.style,...h,"--button-width":function(e,t,r=!1){let[n,i]=(0,G.useState)(()=>bq(t));return yK(()=>{if(!t||!e)return;let r=yq();return r.requestAnimationFrame(function e(){r.requestAnimationFrame(e),i(e=>{let r=bq(t);return r.width===e.width&&r.height===e.height?e:r})}),()=>{r.dispose()}},[t,e]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}(_,w,!0).width},...y2(k)}),j=wn();return G.default.createElement(vQ,{enabled:!!a&&(e.static||_),ownerDocument:v},j({ourProps:P,theirProps:l,slot:T,defaultTag:"div",features:x4,visible:C,name:"Menu.Items"}))}),_e=wl(function(e,t){let r,n,i,a=(0,G.useId)(),{id:o=`headlessui-menu-item-${a}`,disabled:s=!1,...l}=e,c=x2("Menu.Item"),d=wz(c,e=>c.selectors.isActive(e,o)),u=(0,G.useRef)(null),h=y0(t,u),p=wz(c,e=>c.selectors.shouldScrollIntoView(e,o));yK(()=>{if(p)return yq().requestAnimationFrame(()=>{var e,t;null==(t=null==(e=u.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})},[p,u]);let f=(r=(0,G.useRef)(""),n=(0,G.useRef)(""),yY(()=>{let e=u.current;if(!e)return"";let t=e.innerText;if(r.current===t)return n.current;let i=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():bY(t).trim()}return null}).filter(Boolean);if(e.length>0)return e.join(", ")}return bY(e).trim()})(e).trim().toLowerCase();return r.current=t,n.current=i,i})),m=(0,G.useRef)({disabled:s,domRef:u,get textValue(){return f()}});yK(()=>{m.current.disabled=s},[m,s]),yK(()=>(c.actions.registerItem(o,m),()=>c.actions.unregisterItem(o)),[m,o]);let g=yY(()=>{c.send({type:xZ.CloseMenu})}),y=yY(e=>{if(s)return e.preventDefault();c.send({type:xZ.CloseMenu}),vo(c.state.buttonElement)}),w=yY(()=>{if(s)return c.send({type:xZ.GoToItem,focus:xL.Nothing});c.send({type:xZ.GoToItem,focus:xL.Specific,id:o})}),v=(i=(0,G.useRef)([-1,-1]),{wasMoved(e){let t=bZ(e);return(i.current[0]!==t[0]||i.current[1]!==t[1])&&(i.current=t,!0)},update(e){i.current=bZ(e)}}),b=yY(e=>v.update(e)),x=yY(e=>{v.wasMoved(e)&&(s||d||c.send({type:xZ.GoToItem,focus:xL.Specific,id:o,trigger:xY.Pointer}))}),_=yY(e=>{v.wasMoved(e)&&(s||d&&c.state.activationTrigger===xY.Pointer&&c.send({type:xZ.GoToItem,focus:xL.Nothing}))}),[k,E]=xq(),[C,A]=vO(),I=vC({active:d,focus:d,disabled:s,close:g}),S=wn();return G.default.createElement(E,null,G.default.createElement(A,null,S({ourProps:{id:o,ref:h,role:"menuitem",tabIndex:!0===s?void 0:-1,"aria-disabled":!0===s||void 0,"aria-labelledby":k,"aria-describedby":C,disabled:void 0,onClick:y,onFocus:w,onPointerEnter:b,onMouseEnter:b,onPointerMove:x,onMouseMove:x,onPointerLeave:_,onMouseLeave:_},theirProps:l,slot:I,defaultTag:x6,name:"Menu.Item"})))}),_t=Object.assign(x8,{Button:x9,Items:x7,Item:_e,Section:wl(function(e,t){let[r,n]=xq(),i=wn();return G.default.createElement(n,null,i({ourProps:{ref:t,"aria-labelledby":r,role:"group"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Section"}))}),Heading:wl(function(e,t){let r=(0,G.useId)(),{id:n=`headlessui-menu-heading-${r}`,...i}=e,a=xW();yK(()=>a.register(n),[n,a.register]);let o={id:n,ref:t,role:"presentation",...a.props};return wn()({ourProps:o,theirProps:i,slot:{},defaultTag:"header",name:"Menu.Heading"})}),Separator:wl(function(e,t){return wn()({ourProps:{ref:t,role:"separator"},theirProps:e,slot:{},defaultTag:"div",name:"Menu.Separator"})})}),_r=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))});e.s(["default",0,_r],108291);let _n=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))});var _i=e.i(679877),_a=e.i(33898),_o=e.i(550483),_s=e.i(12791),_l=e.i(571232);let _c="2.31.0",_d={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${_c}`};class _u extends Error{constructor(e,t={}){const r=t.cause instanceof _u?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof _u&&t.cause.docsPath||t.docsPath,i=_d.getDocsUrl?.({...t,docsPath:n});super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],..._d.version?[`Version: ${_d.version}`]:[]].join("\n"),t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=_c}walk(e){return function e(t,r){return r?.(t)?t:t&&"object"==typeof t&&"cause"in t&&void 0!==t.cause?e(t.cause,r):r?null:t}(this,e)}}function _h(e,{strict:t=!0}={}){return!!e&&"string"==typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}class _p extends _u{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function _f(e,{dir:t,size:r=32}={}){return"string"==typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;let n=e.replace("0x","");if(n.length>2*r)throw new _p({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new _p({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let i=0;i<r;i++){let a="right"===t;n[a?i:r-i-1]=e[a?i:e.length-i-1]}return n}(e,{dir:t,size:r})}class _m extends _u{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class _g extends _u{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function _y(e){return _h(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function _w(e,{size:t}){if(_y(e)>t)throw new _g({givenSize:_y(e),maxSize:t})}function _v(e,t={}){let{signed:r}=t;t.size&&_w(e,{size:t.size});let n=BigInt(e);if(!r)return n;let i=(e.length-2)/2;return n<=(1n<<8n*BigInt(i)-1n)-1n?n:n-BigInt(`0x${"f".padStart(2*i,"f")}`)-1n}let _b=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function _x(e,t={}){return"number"==typeof e||"bigint"==typeof e?_k(e,t):"string"==typeof e?function(e,t={}){return __(_E.encode(e),t)}(e,t):"boolean"==typeof e?function(e,t={}){let r=`0x${Number(e)}`;return"number"==typeof t.size?(_w(r,{size:t.size}),_f(r,{size:t.size})):r}(e,t):__(e,t)}function __(e,t={}){let r="";for(let t=0;t<e.length;t++)r+=_b[e[t]];let n=`0x${r}`;return"number"==typeof t.size?(_w(n,{size:t.size}),_f(n,{dir:"right",size:t.size})):n}function _k(e,t={}){let r,{signed:n,size:i}=t,a=BigInt(e);i?r=n?(1n<<8n*BigInt(i)-1n)-1n:2n**(8n*BigInt(i))-1n:"number"==typeof e&&(r=BigInt(Number.MAX_SAFE_INTEGER));let o="bigint"==typeof r&&n?-r-1n:0;if(r&&a>r||a<o){let t="bigint"==typeof e?"n":"";throw new _m({max:r?`${r}${t}`:void 0,min:`${o}${t}`,signed:n,size:i,value:`${e}${t}`})}let s=`0x${(n&&a<0?(1n<<BigInt(8*i))+BigInt(a):a).toString(16)}`;return i?_f(s,{size:i}):s}let _E=new TextEncoder,_C=new TextEncoder;function _A(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function _I(e,t={}){let r=e;t.size&&(_w(r,{size:t.size}),r=_f(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let i=n.length/2,a=new Uint8Array(i);for(let e=0,t=0;e<i;e++){let r=_A(n.charCodeAt(t++)),i=_A(n.charCodeAt(t++));if(void 0===r||void 0===i)throw new _u(`Invalid byte sequence ("${n[t-2]}${n[t-1]}" in "${n}").`);a[e]=16*r+i}return a}function _S(e,t={}){let r=_C.encode(e);return"number"==typeof t.size?(_w(r,{size:t.size}),_f(r,{dir:"right",size:t.size})):r}var _T=e.i(626014);function _P(e,t){let r=(0,_T.keccak_256)(_h(e,{strict:!1})?function(e,t={}){return"number"==typeof e||"bigint"==typeof e?_I(_k(e,t)):"boolean"==typeof e?function(e,t={}){let r=new Uint8Array(1);return(r[0]=Number(e),"number"==typeof t.size)?(_w(r,{size:t.size}),_f(r,{size:t.size})):r}(e,t):_h(e)?_I(e,t):_S(e,t)}(e):e);return"bytes"===(t||"hex")?r:_x(r)}class _j extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){let t=super.get(e);return super.has(e)&&void 0!==t&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){let e=this.keys().next().value;e&&this.delete(e)}return this}}let _N=new _j(8192);async function _O({hash:t,signature:r}){let n=_h(t)?t:_x(t),{secp256k1:i}=await e.A(313886),a=(()=>{if("object"==typeof r&&"r"in r&&"s"in r){let{r:e,s:t,v:n,yParity:a}=r,o=_$(Number(a??n));return new i.Signature(_v(e),_v(t)).addRecoveryBit(o)}let e=_h(r)?r:_x(r);if(65!==_y(e))throw Error("invalid signature length");let t=_$(function(e,t={}){return Number(_v(e,t))}(`0x${e.slice(130)}`));return i.Signature.fromCompact(e.substring(2,130)).addRecoveryBit(t)})().recoverPublicKey(n.substring(2)).toHex(!1);return`0x${a}`}function _$(e){if(0===e||1===e)return e;if(27===e)return 0;if(28===e)return 1;throw Error("Invalid yParityOrV value")}async function _R({hash:e,signature:t}){var r;let n;return r=await _O({hash:e,signature:t}),n=_P(`0x${r.substring(4)}`).substring(26),function(e,t){if(_N.has(`${e}.undefined`))return _N.get(`${e}.undefined`);let r=e.substring(2).toLowerCase(),n=_P(_S(r),"bytes"),i=r.split("");for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&i[e]&&(i[e]=i[e].toUpperCase()),(15&n[e>>1])>=8&&i[e+1]&&(i[e+1]=i[e+1].toUpperCase());let a=`0x${i.join("")}`;return _N.set(`${e}.undefined`,a),a}(`0x${n}`)}var _M=e.i(344048);function _U(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}class _L{constructor(e,t){this.type=e,this.data=t}}class _F extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(_F.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:_F.name})}}function _D(e,t,r){let n=Math.floor(r/0x100000000);e.setUint32(t,n),e.setUint32(t+4,r)}function _B(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}let _W={type:-1,encode:function(e){if(!(e instanceof Date))return null;{let t,r,n,i;return function({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let r=e/0x100000000,n=new Uint8Array(8),i=new DataView(n.buffer);return i.setUint32(0,t<<2|3&r),i.setUint32(4,0|e),n}{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),_D(n,4,e),r}}((r=Math.floor((t=e.getTime())/1e3),i=Math.floor((n=(t-1e3*r)*1e6)/1e9),{sec:r+i,nsec:n-1e9*i}))}},decode:function(e){let t=function(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:_B(t,4),nsec:t.getUint32(0)};default:throw new _F(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}};class _q{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(_W)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{let n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){let n=this.builtInEncoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new _L(-1-r,i)}}for(let r=0;r<this.encoders.length;r++){let n=this.encoders[r];if(null!=n){let i=n(e,t);if(null!=i)return new _L(r,i)}}return e instanceof _L?e:null}decode(e,t,r){let n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new _L(t,e)}}_q.defaultCodec=new _q;let _z=new TextEncoder;function _V(e,t,r){let n=t,i=n+r,a=[],o="";for(;n<i;){let t=e[n++];if((128&t)==0)a.push(t);else if((224&t)==192){let r=63&e[n++];a.push((31&t)<<6|r)}else if((240&t)==224){let r=63&e[n++],i=63&e[n++];a.push((31&t)<<12|r<<6|i)}else if((248&t)==240){let r=(7&t)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++];r>65535&&(r-=65536,a.push(r>>>10&1023|55296),r=56320|1023&r),a.push(r)}else a.push(t);a.length>=4096&&(o+=String.fromCharCode(...a),a.length=0)}return a.length>0&&(o+=String.fromCharCode(...a)),o}let _H=new TextDecoder;function _G(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}let _K="array",_J="map_key",_Y="map_value",_Z=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new _F("The type of key must be string or number but "+typeof e)};class _Q{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=_K,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=_J,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===_K&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===_J||e.type===_Y)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let _X=new DataView(new ArrayBuffer(0)),_0=new Uint8Array(_X.buffer);try{_X.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let _1=RangeError("Insufficient data"),_2=new class{constructor(e=16,t=16){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){let n=this.caches[r-1];t:for(let i of n){let n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue t;return i.str}return null}store(e,t){let r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){let n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;let i=_V(e,t,r),a=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(a,i),i}};class _3{constructor(e){this.totalPos=0,this.pos=0,this.view=_X,this.bytes=_0,this.headByte=-1,this.stack=new _Q,this.entered=!1,this.extensionCodec=e?.extensionCodec??_q.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??0xffffffff,this.maxBinLength=e?.maxBinLength??0xffffffff,this.maxArrayLength=e?.maxArrayLength??0xffffffff,this.maxMapLength=e?.maxMapLength??0xffffffff,this.maxExtLength=e?.maxExtLength??0xffffffff,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:_2,this.mapKeyConverter=e?.mapKeyConverter??_Z}clone(){return new _3({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=_G(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),r=_G(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:r}=this;return RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let t;this.entered=!0;let r=!1;for await(let n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}let{headByte:n,pos:i,totalPos:a}=this;throw RangeError(`Insufficient data in parsing ${_U(n)} at ${a} (${i} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let r=this.clone();yield*r.decodeMultiAsync(e,t);return}try{this.entered=!0;let r=t,n=-1;for await(let i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--n;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){r:for(;;){let e,t=this.readHeadByte();if(t>=224)e=t-256;else if(t<192)if(t<128)e=t;else if(t<144){let r=t-128;if(0!==r){this.pushMapState(r),this.complete();continue}e={}}else if(t<160){let r=t-144;if(0!==r){this.pushArrayState(r),this.complete();continue}e=[]}else{let r=t-160;e=this.decodeString(r,0)}else if(192===t)e=null;else if(194===t)e=!1;else if(195===t)e=!0;else if(202===t)e=this.readF32();else if(203===t)e=this.readF64();else if(204===t)e=this.readU8();else if(205===t)e=this.readU16();else if(206===t)e=this.readU32();else if(207===t)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===t)e=this.readI8();else if(209===t)e=this.readI16();else if(210===t)e=this.readI32();else if(211===t)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===t){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===t){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===t){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===t){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===t){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===t){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===t){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===t){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===t){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===t){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===t)e=this.decodeExtension(1,0);else if(213===t)e=this.decodeExtension(2,0);else if(214===t)e=this.decodeExtension(4,0);else if(215===t)e=this.decodeExtension(8,0);else if(216===t)e=this.decodeExtension(16,0);else if(199===t){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===t){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===t){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new _F(`Unrecognized type byte: ${_U(t)}`);this.complete();let r=this.stack;for(;r.length>0;){let t=r.top();if(t.type===_K)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,r.release(t);else continue r;else if(t.type===_J){if("__proto__"===e)throw new _F("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=_Y;continue r}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,r.release(t);else{t.key=null,t.type=_J;continue r}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new _F(`Unrecognized array type byte: ${_U(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new _F(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new _F(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let r;if(e>this.maxStrLength)throw new _F(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw _1;let n=this.pos+t;return r=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,n,e):function(e,t,r){let n;if(!(r>200))return _V(e,t,r);return n=e.subarray(t,t+r),_H.decode(n)}(this.bytes,n,e),this.pos+=t+e,r}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===_J}decodeBinary(e,t){if(e>this.maxBinLength)throw new _F(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw _1;let r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new _F(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){var e,t;let r=(e=this.view,t=this.pos,0x100000000*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r}readI64(){let e=_B(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}class _5{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??_q.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new _5({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let t=function(e){let t=e.length,r=0,n=0;for(;n<t;){let i=e.charCodeAt(n++);if((0xffffff80&i)==0){r++;continue}if((0xfffff800&i)==0)r+=2;else{if(i>=55296&&i<=56319&&n<t){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(0xffff0000&i)==0?r+=3:r+=4}}return r}(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){if(e.length>50)_z.encodeInto(e,t.subarray(r));else!function(e,t,r){let n=e.length,i=r,a=0;for(;a<n;){let r=e.charCodeAt(a++);if((0xffffff80&r)==0){t[i++]=r;continue}if((0xfffff800&r)==0)t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&a<n){let t=e.charCodeAt(a);(64512&t)==56320&&(++a,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?t[i++]=r>>12&15|224:(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128),t[i++]=r>>6&63|128}t[i++]=63&r|128}}(e,t,r)}(e,this.bytes,this.pos),this.pos+=t}encodeObject(e,t){let r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let r=_G(e);this.writeU8a(r)}encodeArray(e,t){let r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<0x100000000)this.writeU8(221),this.writeU32(r);else throw Error(`Too large array: ${r}`);for(let r of e)this.doEncode(r,t+1)}countWithoutUndefined(e,t){let r=0;for(let n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){let r=Object.keys(e);this.sortKeys&&r.sort();let n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<0x100000000)this.writeU8(223),this.writeU32(n);else throw Error(`Too large map object: ${n}`);for(let n of r){let r=e[n];this.ignoreUndefined&&void 0===r||(this.encodeString(n),this.doEncode(r,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),r=t.length;if(r>=0x100000000)throw Error(`Too large extension object: ${r}`);this.writeU8(201),this.writeU32(r),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){var t,r;this.ensureBufferSizeToWrite(8),t=this.view,r=this.pos,t.setUint32(r,e/0x100000000),t.setUint32(r+4,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),_D(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function _4(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function _6(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every(e=>"string"==typeof e):t.every(e=>Number.isSafeInteger(e))))}function _8(e){if("function"!=typeof e)throw Error("function expected");return!0}function _9(e,t){if("string"!=typeof t)throw Error(`${e}: string expected`);return!0}function _7(e){if(!Number.isSafeInteger(e))throw Error(`invalid integer: ${e}`)}function ke(e){if(!Array.isArray(e))throw Error("array expected")}function kt(e,t){if(!_6(!0,t))throw Error(`${e}: array of strings expected`)}function kr(e,t){if(!_6(!1,t))throw Error(`${e}: array of numbers expected`)}function kn(...e){let t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map(e=>e.encode).reduceRight(r,t),decode:e.map(e=>e.decode).reduce(r,t)}}function ki(e){let t="string"==typeof e?e.split(""):e,r=t.length;kt("alphabet",t);let n=new Map(t.map((e,t)=>[e,t]));return{encode:n=>(ke(n),n.map(n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]})),decode:t=>(ke(t),t.map(t=>{_9("alphabet.decode",t);let r=n.get(t);if(void 0===r)throw Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}function ka(e=""){return _9("join",e),{encode:t=>(kt("join.decode",t),t.join(e)),decode:t=>(_9("join.decode",t),t.split(e))}}function ko(e,t,r){if(t<2)throw Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(ke(e),!e.length)return[];let n=0,i=[],a=Array.from(e,e=>{if(_7(e),e<0||e>=t)throw Error(`invalid integer: ${e}`);return e}),o=a.length;for(;;){let e=0,s=!0;for(let i=n;i<o;i++){let o=a[i],l=t*e,c=l+o;if(!Number.isSafeInteger(c)||l/t!==e||c-o!==l)throw Error("convertRadix: carry overflow");let d=c/r;e=c%r;let u=Math.floor(d);if(a[i]=u,!Number.isSafeInteger(u)||u*r+e!==c)throw Error("convertRadix: carry overflow");s&&(u?s=!1:n=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}let ks=(e,t)=>0===t?e:ks(t,e%t),kl=(e,t)=>e+(t-ks(e,t)),kc=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function kd(e,t,r,n){if(ke(e),t<=0||t>32)throw Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(kl(t,r)>32)throw Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${kl(t,r)}`);let i=0,a=0,o=kc[t],s=kc[r]-1,l=[];for(let n of e){if(_7(n),n>=o)throw Error(`convertRadix2: invalid data word=${n} from=${t}`);if(i=i<<t|n,a+t>32)throw Error(`convertRadix2: carry overflow pos=${a} from=${t}`);for(a+=t;a>=r;a-=r)l.push((i>>a-r&s)>>>0);let e=kc[a];if(void 0===e)throw Error("invalid carry");i&=e-1}if(i=i<<r-a&s,!n&&a>=t)throw Error("Excess padding");if(!n&&i>0)throw Error(`Non-zero padding: ${i}`);return n&&a>0&&l.push(i>>>0),l}let ku=kn(function(e,t=!1){_7(5),!1;if(kl(8,5)>32||kl(5,8)>32)throw Error("radix2: carry overflow");return{encode:e=>{if(!_4(e))throw Error("radix2.encode input should be Uint8Array");return kd(Array.from(e),8,5,!t)},decode:e=>(kr("radix2.decode",e),Uint8Array.from(kd(e,5,8,t)))}}(5),ki("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),function(e,t="="){return _7(5),_9("padding",t),{encode(e){for(kt("padding.encode",e);5*e.length%8;)e.push(t);return e},decode(e){kt("padding.decode",e);let r=e.length;if(5*r%8)throw Error("padding: invalid, string should have whole number of bytes");for(;r>0&&e[r-1]===t;r--)if((r-1)*5%8==0)throw Error("padding: invalid, string has too much padding");return e.slice(0,r)}}}(5),ka("")),kh="function"==typeof Uint8Array.from([]).toBase64&&"function"==typeof Uint8Array.fromBase64;_7(58);"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex||_8(e=>{if("string"!=typeof e||e.length%2!=0)throw TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()});var kp=e.i(232232);function kf(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function km(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?kf(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function kg(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=km(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return kf(r)}var ky=e.i(957736);function kw(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}let kv=kw("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),kb=kw("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=km((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),kx={utf8:kv,"utf-8":kv,hex:ky.bases.base16,latin1:kb,ascii:kb,binary:kb,...ky.bases};function k_(e,t="utf8"){let r=kx[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?kf(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function kk(e,t="utf8"){let r=kx[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var kE=e.i(208910),kC=e.i(774789);function kA(e){let[t,r]=e.split(":");return{namespace:t,reference:r}}function kI(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function kS(e,t){return e.includes(":")?[e]:t.chains||[]}var kT=Object.defineProperty,kP=Object.defineProperties,kj=Object.getOwnPropertyDescriptors,kN=Object.getOwnPropertySymbols,kO=Object.prototype.hasOwnProperty,k$=Object.prototype.propertyIsEnumerable,kR=(e,t,r)=>t in e?kT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,kM=(e,t)=>{for(var r in t||(t={}))kO.call(t,r)&&kR(e,r,t[r]);if(kN)for(var r of kN(t))k$.call(t,r)&&kR(e,r,t[r]);return e},kU=(e,t,r)=>kR(e,"symbol"!=typeof t?t+"":t,r);let kL="react-native",kF="node",kD="browser";function kB(){return"u">typeof f6.default&&"u">typeof f6.default.versions&&"u">typeof f6.default.versions.node}function kW(){return!(0,_s.getDocument)()&&!!(0,_s.getNavigator)()&&"ReactNative"===navigator.product}function kq(){return!kB()&&!!(0,_s.getNavigator)()&&!!(0,_s.getDocument)()}function kz(){return kW()?kL:kB()?kF:kq()?kD:"unknown"}function kV(){var t;try{return kW()&&"u">typeof(null==e.g?void 0:e.g.Application)?null==(t=e.g.Application)?void 0:t.applicationId:void 0}catch{return}}function kH(){return(0,_l.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function kG(t,r,n){var i;let a,o=function(){if(kz()===kL&&"u">typeof(null==e.g?void 0:e.g.Platform)){let{OS:t,Version:r}=e.g.Platform;return[t,r].join("-")}let t=(0,_a.detect)();if(null===t)return"unknown";let r=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[r,t.name,t.version].join("-"):[r,t.version].join("-")}(),s=(a=kz())===kD?[a,(null==(i=(0,_s.getLocation)())?void 0:i.host)||"unknown"].join(":"):a;return[[t,r].join("-"),["js",n].join("-"),o,s].join("/")}function kK(e,t){return e.filter(e=>t.includes(e)).length===e.length}function kJ(e){return Object.fromEntries(e.entries())}function kY(e){return new Map(Object.entries(e))}function kZ(e=_o.FIVE_MINUTES,t){let r,n,i,a,o=(0,_o.toMiliseconds)(e||_o.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e),a=Promise.resolve(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,s)=>{if(a)return e(a);i=setTimeout(()=>{let e=Error(t);a=Promise.reject(e),s(e)},o),r=e,n=s})}}function kQ(e,t,r){return new Promise(async(n,i)=>{let a=setTimeout(()=>i(Error(r)),t);try{let t=await e;n(t)}catch(e){i(e)}clearTimeout(a)})}function kX(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function k0(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function k1(e,t){return(0,_o.fromMiliseconds)((t||Date.now())+(0,_o.toMiliseconds)(e))}function k2(e){return Date.now()>=(0,_o.toMiliseconds)(e)}function k3(e,t){return`${e}${t?`:${t}`:""}`}function k5(e=[],t=[]){return[...new Set([...e,...t])]}async function k4({id:t,topic:r,wcDeepLink:n}){var i,a;try{if(!n)return;let o="string"==typeof n?JSON.parse(n):n,s=o?.href;if("string"!=typeof s)return;let l=function(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let i=`${e}`;if(e.startsWith("https://t.me")){let t=e.includes("?")?"&startapp=":"?startapp=";i=`${i}${t}${function(e,t=!1){let r=V.Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(s,t,r),c=kz();if(c===kD){let e;if(!(null!=(i=(0,_s.getDocument)())&&i.hasFocus()))return void console.warn("Document does not have focus, skipping deeplink.");a=l,e="_self",!function(){try{return window.self!==window.top}catch{return!1}}()?("u">typeof window&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)||a.startsWith("https://")||a.startsWith("http://"))&&(e="_blank"):e="_top",window.open(a,e,"noreferrer noopener")}else c===kL&&"u">typeof(null==e.g?void 0:e.g.Linking)&&await e.g.Linking.openURL(l)}catch(e){console.error(e)}}async function k6(e,t){let r="";try{if(kq()&&(r=localStorage.getItem(t)))return r;r=await e.getItem(t)}catch(e){console.error(e)}return r}function k8(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function k9(){return"u">typeof crypto&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function k7(){return"u">typeof f6.default&&"true"===f6.default.env.IS_VITEST}function Ee(e){return V.Buffer.from(e,"base64").toString("utf-8")}class Et{constructor({limit:e}){kU(this,"limit"),kU(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){let e=this.set.values().next().value;e&&this.set.delete(e)}this.set.add(e)}}has(e){return this.set.has(e)}}let Er=BigInt(0x100000000-1),En=BigInt(32);function Ei(e,t=!1){return t?{h:Number(e&Er),l:Number(e>>En&Er)}:{h:0|Number(e>>En&Er),l:0|Number(e&Er)}}function Ea(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let a=0;a<r;a++){let{h:r,l:o}=Ei(e[a],t);[n[a],i[a]]=[r,o]}return[n,i]}let Eo=(e,t,r)=>e>>>r,Es=(e,t,r)=>e<<32-r|t>>>r,El=(e,t,r)=>e>>>r|t<<32-r,Ec=(e,t,r)=>e<<32-r|t>>>r,Ed=(e,t,r)=>e<<64-r|t>>>r-32,Eu=(e,t,r)=>e>>>r-32|t<<64-r;function Eh(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}}let Ep=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Ef=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,Em=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Eg=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,Ey=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Ew=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0,Ev="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Eb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Ex(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function E_(e,...t){if(!Eb(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ek(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.createHasher");Ex(e.outputLen),Ex(e.blockLen)}function EE(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function EC(e,t){E_(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}function EA(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function EI(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ES(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ET(e,t){return e<<32-t|e>>>t}let EP=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function Ej(e){return e<<24&0xff000000|e<<8&0xff0000|e>>>8&65280|e>>>24&255}let EN=EP?e=>e:e=>Ej(e),EO=EP?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Ej(e[t]);return e},E$="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,ER=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function EM(e){if(E_(e),E$)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=ER[e[r]];return t}function EU(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function EL(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(E$)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=EU(e.charCodeAt(i)),a=EU(e.charCodeAt(i+1));if(void 0===r||void 0===a)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+a}return n}function EF(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e)),E_(e),e}function ED(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];E_(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class EB{}function EW(e){let t=t=>e().update(EF(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Eq(e=32){if(Ev&&"function"==typeof Ev.getRandomValues)return Ev.getRandomValues(new Uint8Array(e));if(Ev&&"function"==typeof Ev.randomBytes)return Uint8Array.from(Ev.randomBytes(e));throw Error("crypto.getRandomValues must be defined")}let Ez=BigInt(0),EV=BigInt(1),EH=BigInt(2),EG=BigInt(7),EK=BigInt(256),EJ=BigInt(113),EY=[],EZ=[],EQ=[];for(let e=0,t=EV,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],EY.push(2*(5*n+r)),EZ.push((e+1)*(e+2)/2%64);let i=Ez;for(let e=0;e<7;e++)(t=(t<<EV^(t>>EG)*EJ)%EK)&EH&&(i^=EV<<(EV<<BigInt(e))-EV);EQ.push(i)}let EX=Ea(EQ,!0),E0=EX[0],E1=EX[1],E2=(e,t,r)=>r>32?t<<r-32|e>>>64-r:e<<r|t>>>32-r,E3=(e,t,r)=>r>32?e<<r-32|t>>>64-r:t<<r|e>>>32-r;class E5 extends EB{constructor(e,t,r,n=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,Ex(r),!(0<e&&e<200))throw Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=EA(this.state)}clone(){return this._cloneInto()}keccak(){EO(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],o=r[i+1],s=E2(a,o,1)^r[n],l=E3(a,o,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=EZ[r],a=E2(t,i,n),o=E3(t,i,n),s=EY[r];t=e[s],i=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=E0[n],e[1]^=E1[n]}EI(r)}(this.state32,this.rounds),EO(this.state32),this.posOut=0,this.pos=0}update(e){EE(this),E_(e=EF(e));let{blockLen:t,state:r}=this,n=e.length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){EE(this,!1),E_(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ex(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(EC(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,EI(this.state)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new E5(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let E4=EW(()=>new E5(136,1,32));class E6 extends EB{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=ES(this.buffer)}update(e){EE(this),E_(e=EF(e));let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let a=0;a<i;){let o=Math.min(n-this.pos,i-a);if(o===n){let t=ES(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){EE(this),EC(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,EI(this.buffer.subarray(a)),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;(function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>i&a),s=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,o,n),e.setUint32(t+c,s,n)})(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=ES(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=s/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=i,e.length=n,e.pos=o,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let E8=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),E9=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),E7=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),Ce=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),Ct=new Uint32Array(64);class Cr extends E6{constructor(e=32){super(64,e,8,!1),this.A=0|E8[0],this.B=0|E8[1],this.C=0|E8[2],this.D=0|E8[3],this.E=0|E8[4],this.F=0|E8[5],this.G=0|E8[6],this.H=0|E8[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:o,H:s}=this;return[e,t,r,n,i,a,o,s]}set(e,t,r,n,i,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)Ct[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=Ct[e-15],r=Ct[e-2],n=ET(t,7)^ET(t,18)^t>>>3,i=ET(r,17)^ET(r,19)^r>>>10;Ct[e]=i+Ct[e-7]+n+Ct[e-16]|0}let{A:r,B:n,C:i,D:a,E:o,F:s,G:l,H:c}=this;for(let e=0;e<64;e++){var d,u,h,p;let t=c+(ET(o,6)^ET(o,11)^ET(o,25))+((d=o)&s^~d&l)+Ce[e]+Ct[e]|0,f=(ET(r,2)^ET(r,13)^ET(r,22))+((u=r)&(h=n)^u&(p=i)^h&p)|0;c=l,l=s,s=o,o=a+t|0,a=i,i=n,n=r,r=t+f|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,o,s,l,c)}roundClean(){EI(Ct)}destroy(){this.set(0,0,0,0,0,0,0,0),EI(this.buffer)}}let Cn=Ea(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Ci=Cn[0],Ca=Cn[1],Co=new Uint32Array(80),Cs=new Uint32Array(80);class Cl extends E6{constructor(e=64){super(128,e,16,!1),this.Ah=0|E7[0],this.Al=0|E7[1],this.Bh=0|E7[2],this.Bl=0|E7[3],this.Ch=0|E7[4],this.Cl=0|E7[5],this.Dh=0|E7[6],this.Dl=0|E7[7],this.Eh=0|E7[8],this.El=0|E7[9],this.Fh=0|E7[10],this.Fl=0|E7[11],this.Gh=0|E7[12],this.Gl=0|E7[13],this.Hh=0|E7[14],this.Hl=0|E7[15]}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:o,Dl:s,Eh:l,El:c,Fh:d,Fl:u,Gh:h,Gl:p,Hh:f,Hl:m}=this;return[e,t,r,n,i,a,o,s,l,c,d,u,h,p,f,m]}set(e,t,r,n,i,a,o,s,l,c,d,u,h,p,f,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|l,this.El=0|c,this.Fh=0|d,this.Fl=0|u,this.Gh=0|h,this.Gl=0|p,this.Hh=0|f,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)Co[r]=e.getUint32(t),Cs[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|Co[e-15],r=0|Cs[e-15],n=El(t,r,1)^El(t,r,8)^Eo(t,r,7),i=Ec(t,r,1)^Ec(t,r,8)^Es(t,r,7),a=0|Co[e-2],o=0|Cs[e-2],s=El(a,o,19)^Ed(a,o,61)^Eo(a,o,6),l=Em(i,Ec(a,o,19)^Eu(a,o,61)^Es(a,o,6),Cs[e-7],Cs[e-16]),c=Eg(l,n,s,Co[e-7],Co[e-16]);Co[e]=0|c,Cs[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:o,Cl:s,Dh:l,Dl:c,Eh:d,El:u,Fh:h,Fl:p,Gh:f,Gl:m,Hh:g,Hl:y}=this;for(let e=0;e<80;e++){let t=El(d,u,14)^El(d,u,18)^Ed(d,u,41),w=Ec(d,u,14)^Ec(d,u,18)^Eu(d,u,41),v=d&h^~d&f,b=Ey(y,w,u&p^~u&m,Ca[e],Cs[e]),x=Ew(b,g,t,v,Ci[e],Co[e]),_=0|b,k=El(r,n,28)^Ed(r,n,34)^Ed(r,n,39),E=Ec(r,n,28)^Eu(r,n,34)^Eu(r,n,39),C=r&i^r&o^i&o,A=n&a^n&s^a&s;g=0|f,y=0|m,f=0|h,m=0|p,h=0|d,p=0|u,({h:d,l:u}=Eh(0|l,0|c,0|x,0|_)),l=0|o,c=0|s,o=0|i,s=0|a,i=0|r,a=0|n;let I=Ep(_,E,A);r=Ef(I,x,k,C),n=0|I}({h:r,l:n}=Eh(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=Eh(0|this.Bh,0|this.Bl,0|i,0|a)),({h:o,l:s}=Eh(0|this.Ch,0|this.Cl,0|o,0|s)),({h:l,l:c}=Eh(0|this.Dh,0|this.Dl,0|l,0|c)),({h:d,l:u}=Eh(0|this.Eh,0|this.El,0|d,0|u)),({h:h,l:p}=Eh(0|this.Fh,0|this.Fl,0|h,0|p)),({h:f,l:m}=Eh(0|this.Gh,0|this.Gl,0|f,0|m)),({h:g,l:y}=Eh(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(r,n,i,a,o,s,l,c,d,u,h,p,f,m,g,y)}roundClean(){EI(Co,Cs)}destroy(){EI(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Cc extends Cl{constructor(){super(48),this.Ah=0|E9[0],this.Al=0|E9[1],this.Bh=0|E9[2],this.Bl=0|E9[3],this.Ch=0|E9[4],this.Cl=0|E9[5],this.Dh=0|E9[6],this.Dl=0|E9[7],this.Eh=0|E9[8],this.El=0|E9[9],this.Fh=0|E9[10],this.Fl=0|E9[11],this.Gh=0|E9[12],this.Gl=0|E9[13],this.Hh=0|E9[14],this.Hl=0|E9[15]}}let Cd=Uint32Array.from([0x22312194,0xfc2bf72c,0x9f555fa3,0xc84c64c2,0x2393b86b,0x6f53b151,0x96387719,0x5940eabd,0x96283ee2,0xa88effe3,0xbe5e1e25,0x53863992,0x2b0199fc,0x2c85b8aa,0xeb72ddc,0x81c52ca2]);class Cu extends Cl{constructor(){super(32),this.Ah=0|Cd[0],this.Al=0|Cd[1],this.Bh=0|Cd[2],this.Bl=0|Cd[3],this.Ch=0|Cd[4],this.Cl=0|Cd[5],this.Dh=0|Cd[6],this.Dl=0|Cd[7],this.Eh=0|Cd[8],this.El=0|Cd[9],this.Fh=0|Cd[10],this.Fl=0|Cd[11],this.Gh=0|Cd[12],this.Gl=0|Cd[13],this.Hh=0|Cd[14],this.Hl=0|Cd[15]}}let Ch=EW(()=>new Cr),Cp=EW(()=>new Cl),Cf=EW(()=>new Cc),Cm=EW(()=>new Cu),Cg=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Cy=Uint32Array.from([0xf3bcc908,0x6a09e667,0x84caa73b,0xbb67ae85,0xfe94f82b,0x3c6ef372,0x5f1d36f1,0xa54ff53a,0xade682d1,0x510e527f,0x2b3e6c1f,0x9b05688c,0xfb41bd6b,0x1f83d9ab,0x137e2179,0x5be0cd19]),Cw=new Uint32Array(32);function Cv(e,t,r,n,i,a){let o=i[a],s=i[a+1],l=Cw[2*e],c=Cw[2*e+1],d=Cw[2*t],u=Cw[2*t+1],h=Cw[2*r],p=Cw[2*r+1],f=Cw[2*n],m=Cw[2*n+1],g=Ep(l,d,o);c=Ef(g,c,u,s),l=0|g,({Dh:m,Dl:f}={Dh:m^c,Dl:f^l}),({Dh:m,Dl:f}={Dh:f,Dl:m}),({h:p,l:h}=Eh(p,h,m,f)),({Bh:u,Bl:d}={Bh:u^p,Bl:d^h}),({Bh:u,Bl:d}={Bh:El(u,d,24),Bl:Ec(u,d,24)}),Cw[2*e]=l,Cw[2*e+1]=c,Cw[2*t]=d,Cw[2*t+1]=u,Cw[2*r]=h,Cw[2*r+1]=p,Cw[2*n]=f,Cw[2*n+1]=m}function Cb(e,t,r,n,i,a){let o=i[a],s=i[a+1],l=Cw[2*e],c=Cw[2*e+1],d=Cw[2*t],u=Cw[2*t+1],h=Cw[2*r],p=Cw[2*r+1],f=Cw[2*n],m=Cw[2*n+1],g=Ep(l,d,o);c=Ef(g,c,u,s),l=0|g,({Dh:m,Dl:f}={Dh:m^c,Dl:f^l}),({Dh:m,Dl:f}={Dh:El(m,f,16),Dl:Ec(m,f,16)}),({h:p,l:h}=Eh(p,h,m,f)),({Bh:u,Bl:d}={Bh:u^p,Bl:d^h}),({Bh:u,Bl:d}={Bh:Ed(u,d,63),Bl:Eu(u,d,63)}),Cw[2*e]=l,Cw[2*e+1]=c,Cw[2*t]=d,Cw[2*t+1]=u,Cw[2*r]=h,Cw[2*r+1]=p,Cw[2*n]=f,Cw[2*n+1]=m}class Cx extends EB{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Ex(e),Ex(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=EA(this.buffer)}update(e){EE(this),E_(e=EF(e));let{blockLen:t,buffer:r,buffer32:n}=this,i=e.length,a=e.byteOffset,o=e.buffer;for(let s=0;s<i;){this.pos===t&&(EO(n),this.compress(n,0,!1),EO(n),this.pos=0);let l=Math.min(t-this.pos,i-s),c=a+s;if(l===t&&!(c%4)&&s+l<i){let e=new Uint32Array(o,c,Math.floor((i-s)/4));EO(e);for(let r=0;s+t<i;r+=n.length,s+=t)this.length+=t,this.compress(e,r,!1);EO(e);continue}r.set(e.subarray(s,s+l),this.pos),this.pos+=l,this.length+=l,s+=l}return this}digestInto(e){EE(this),EC(e,this);let{pos:t,buffer32:r}=this;this.finished=!0,EI(this.buffer.subarray(t)),EO(r),this.compress(r,0,!0),EO(r);let n=EA(e);this.get().forEach((e,t)=>n[t]=EN(e))}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){let{buffer:t,length:r,finished:n,destroyed:i,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(t),e.destroyed=i,e.finished=n,e.length=r,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}}class C_ extends Cx{constructor(e={}){const t=void 0===e.dkLen?64:e.dkLen;super(128,t),this.v0l=0|Cy[0],this.v0h=0|Cy[1],this.v1l=0|Cy[2],this.v1h=0|Cy[3],this.v2l=0|Cy[4],this.v2h=0|Cy[5],this.v3l=0|Cy[6],this.v3h=0|Cy[7],this.v4l=0|Cy[8],this.v4h=0|Cy[9],this.v5l=0|Cy[10],this.v5h=0|Cy[11],this.v6l=0|Cy[12],this.v6h=0|Cy[13],this.v7l=0|Cy[14],this.v7h=0|Cy[15],function(e,t={},r,n,i){if(Ex(64),e<0||e>64)throw Error("outputLen bigger than keyLen");let{key:a,salt:o,personalization:s}=t;if(void 0!==a&&(a.length<1||a.length>64))throw Error("key length must be undefined or 1..64");if(void 0!==o&&16!==o.length)throw Error("salt must be undefined or 16");if(void 0!==s&&16!==s.length)throw Error("personalization must be undefined or 16")}(t,e,0,0,0);let{key:r,personalization:n,salt:i}=e,a=0;if(void 0!==r&&(a=(r=EF(r)).length),this.v0l^=this.outputLen|a<<8|0x1010000,void 0!==i){const e=EA(i=EF(i));this.v4l^=EN(e[0]),this.v4h^=EN(e[1]),this.v5l^=EN(e[2]),this.v5h^=EN(e[3])}if(void 0!==n){const e=EA(n=EF(n));this.v6l^=EN(e[0]),this.v6h^=EN(e[1]),this.v7l^=EN(e[2]),this.v7h^=EN(e[3])}if(void 0!==r){const e=new Uint8Array(this.blockLen);e.set(r),this.update(e)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:a,v3l:o,v3h:s,v4l:l,v4h:c,v5l:d,v5h:u,v6l:h,v6h:p,v7l:f,v7h:m}=this;return[e,t,r,n,i,a,o,s,l,c,d,u,h,p,f,m]}set(e,t,r,n,i,a,o,s,l,c,d,u,h,p,f,m){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|a,this.v3l=0|o,this.v3h=0|s,this.v4l=0|l,this.v4h=0|c,this.v5l=0|d,this.v5h=0|u,this.v6l=0|h,this.v6h=0|p,this.v7l=0|f,this.v7h=0|m}compress(e,t,r){this.get().forEach((e,t)=>Cw[t]=e),Cw.set(Cy,16);let{h:n,l:i}=Ei(BigInt(this.length));Cw[24]=Cy[8]^i,Cw[25]=Cy[9]^n,r&&(Cw[28]=~Cw[28],Cw[29]=~Cw[29]);let a=0;for(let r=0;r<12;r++)Cv(0,4,8,12,e,t+2*Cg[a++]),Cb(0,4,8,12,e,t+2*Cg[a++]),Cv(1,5,9,13,e,t+2*Cg[a++]),Cb(1,5,9,13,e,t+2*Cg[a++]),Cv(2,6,10,14,e,t+2*Cg[a++]),Cb(2,6,10,14,e,t+2*Cg[a++]),Cv(3,7,11,15,e,t+2*Cg[a++]),Cb(3,7,11,15,e,t+2*Cg[a++]),Cv(0,5,10,15,e,t+2*Cg[a++]),Cb(0,5,10,15,e,t+2*Cg[a++]),Cv(1,6,11,12,e,t+2*Cg[a++]),Cb(1,6,11,12,e,t+2*Cg[a++]),Cv(2,7,8,13,e,t+2*Cg[a++]),Cb(2,7,8,13,e,t+2*Cg[a++]),Cv(3,4,9,14,e,t+2*Cg[a++]),Cb(3,4,9,14,e,t+2*Cg[a++]);this.v0l^=Cw[0]^Cw[16],this.v0h^=Cw[1]^Cw[17],this.v1l^=Cw[2]^Cw[18],this.v1h^=Cw[3]^Cw[19],this.v2l^=Cw[4]^Cw[20],this.v2h^=Cw[5]^Cw[21],this.v3l^=Cw[6]^Cw[22],this.v3h^=Cw[7]^Cw[23],this.v4l^=Cw[8]^Cw[24],this.v4h^=Cw[9]^Cw[25],this.v5l^=Cw[10]^Cw[26],this.v5h^=Cw[11]^Cw[27],this.v6l^=Cw[12]^Cw[28],this.v6h^=Cw[13]^Cw[29],this.v7l^=Cw[14]^Cw[30],this.v7h^=Cw[15]^Cw[31],EI(Cw)}destroy(){this.destroyed=!0,EI(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let Ck=(UF=e=>new C_(e),(F=(e,t)=>UF(t).update(EF(e)).digest()).outputLen=(D=UF({})).outputLen,F.blockLen=D.blockLen,F.create=e=>UF(e),F);function CE(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+V.Buffer.from(E4(r)).toString("hex")}async function CC(e,t,r,n,i,a){switch(r.t){case"eip191":return await CA(e,t,r.s);case"eip1271":return await CI(e,t,r.s,n,i,a);default:throw Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function CA(e,t,r){return(await _R({hash:CE(t),signature:r})).toLowerCase()===e.toLowerCase()}async function CI(e,t,r,n,i,a){let o=kA(n);if(!o.namespace||!o.reference)throw Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let o="0x1626ba7e",s=r.substring(2),l=(s.length/2).toString(16).padStart(64,"0"),c=(t.startsWith("0x")?t:CE(t)).substring(2),d=o+c+"0000000000000000000000000000000000000000000000000000000000000040"+l+s,u=await fetch(`${a||"https://rpc.walletconnect.org/v1"}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Date.now()+Math.floor(1e3*Math.random()),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:d},"latest"]})}),{result:h}=await u.json();return!!h&&h.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(e){return console.error("isValidEip1271Signature: ",e),!1}}function CS(e){let t=new Uint8Array(Ch(function(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if("object"==typeof e&&null!=e&&e.data)return new Uint8Array(Object.values(e.data));if("object"==typeof e&&e)return new Uint8Array(Object.values(e));throw Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}(e)));return _M.default.encode(t)}function CT(e){var t;let r=(t=V.Buffer.from(e,"base64"),new _3(void 0).decode(t)).txn;if(!r)throw Error("Invalid signed transaction: missing 'txn' field");let n=new _5(void 0).encodeSharedRef(r),i=V.Buffer.from("TX"),a=Cm(V.Buffer.concat([i,V.Buffer.from(n)]));return ku.encode(a).replace(/=+$/,"")}function CP(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),V.Buffer.from(t)}var Cj=Object.defineProperty,CN=Object.defineProperties,CO=Object.getOwnPropertyDescriptors,C$=Object.getOwnPropertySymbols,CR=Object.prototype.hasOwnProperty,CM=Object.prototype.propertyIsEnumerable,CU=(e,t,r)=>t in e?Cj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;let CL=e=>e?.split(":"),CF=e=>{let t=e&&CL(e);if(t)return t[2]+":"+t[3]},CD=e=>{let t=e&&CL(e);if(t)return t.pop()};async function CB(e){let{cacao:t,projectId:r}=e,{s:n,p:i}=t,a=CW(i,i.iss),o=CD(i.iss);return await CC(o,a,n,CF(i.iss),r)}let CW=(e,t)=>{let r=`${e.domain} wants you to sign in with your Ethereum account:`,n=CD(t);if(!e.aud&&!e.uri)throw Error("Either `aud` or `uri` is required to construct the message");let i=e.statement||void 0,a=`URI: ${e.aud||e.uri}`,o=`Version: ${e.version}`,s=`Chain ID: ${(e=>{let t=e&&CL(e);if(t)return e.includes("did:pkh:")?t[3]:t[1]})(t)}`,l=`Nonce: ${e.nonce}`,c=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,u=e.nbf?`Not Before: ${e.nbf}`:void 0,h=e.requestId?`Request ID: ${e.requestId}`:void 0,p=e.resources?`Resources:${e.resources.map(e=>`
- ${e}`).join("")}`:void 0,f=CK(e.resources);return f&&(i=function(e="",t){Cq(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],i=0;Object.keys(t.att).forEach(e=>{let r=Object.keys(t.att[e]).map(e=>({ability:e.split("/")[0],action:e.split("/")[1]}));r.sort((e,t)=>e.action.localeCompare(t.action));let a={};r.forEach(e=>{a[e.ability]||(a[e.ability]=[]),a[e.ability].push(e.action)});let o=Object.keys(a).map(t=>(i++,`(${i}) '${t}': '${a[t].join("', '")}' for '${e}'.`));n.push(o.join(", ").replace(".,","."))});let a=n.join(" "),o=`${r}${a}`;return`${e?e+" ":""}${o}`}(i,CV(f))),[r,n,"",i,"",a,o,s,l,c,d,u,h,p].filter(e=>null!=e).join(`
`)};function Cq(e){if(!e)throw Error("No recap provided, value is undefined");if(!e.att)throw Error("No `att` property found");let t=Object.keys(e.att);if(!(null!=t&&t.length))throw Error("No resources found in `att` property");t.forEach(t=>{let r=e.att[t];if(Array.isArray(r)||"object"!=typeof r)throw Error(`Resource must be an object: ${t}`);if(!Object.keys(r).length)throw Error(`Resource object is empty: ${t}`);Object.keys(r).forEach(e=>{let t=r[e];if(!Array.isArray(t))throw Error(`Ability limits ${e} must be an array of objects, found: ${t}`);if(!t.length)throw Error(`Value of ${e} is empty array, must be an array with objects`);t.forEach(t=>{if("object"!=typeof t)throw Error(`Ability limits (${e}) must be an array of objects, found: ${t}`)})})})}function Cz(e){return Cq(e),`urn:recap:${V.Buffer.from(JSON.stringify(e)).toString("base64").replace(/=/g,"")}`}function CV(e){var t;let r=(t=e.replace("urn:recap:",""),JSON.parse(V.Buffer.from(t,"base64").toString("utf-8")));return Cq(r),r}function CH(e){var t;let r=CV(e);Cq(r);let n=null==(t=r.att)?void 0:t.eip155;return n?Object.keys(n).map(e=>e.split("/")[1]):[]}function CG(e){let t=CV(e);Cq(t);let r=[];return Object.values(t.att).forEach(e=>{Object.values(e).forEach(e=>{var t;null!=(t=e?.[0])&&t.chains&&r.push(e[0].chains)})}),[...new Set(r.flat())]}function CK(e){if(!e)return;let t=e?.[e.length-1];return t&&t.includes("urn:recap:")?t:void 0}function CJ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function CY(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function CZ(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function CQ(e,...t){if(!CJ(e))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error("Uint8Array expected of length "+t+", got length="+e.length)}function CX(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function C0(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function C1(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}let C2=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];function C3(e){if("string"==typeof e)e=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(e);else if(CJ(e))e=C6(e);else throw Error("Uint8Array expected, got "+typeof e);return e}function C5(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error("invalid output length, expected "+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function C4(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>i&a),s=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,o,n),e.setUint32(t+c,s,n)}function C6(e){return Uint8Array.from(e)}let C8=e=>Uint8Array.from(e.split("").map(e=>e.charCodeAt(0))),C9=C8("expand 16-byte k"),C7=C8("expand 32-byte k"),Ae=C0(C9),At=C0(C7);function Ar(e,t){return e<<t|e>>>32-t}function An(e){return e.byteOffset%4==0}let Ai=0x100000000-1,Aa=new Uint32Array,Ao=(e,t)=>255&e[t++]|(255&e[t++])<<8;class As{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,CQ(e=C3(e),32);const t=Ao(e,0),r=Ao(e,2),n=Ao(e,4),i=Ao(e,6),a=Ao(e,8),o=Ao(e,10),s=Ao(e,12),l=Ao(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|s<<5)&8065,this.r[8]=(s>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let t=0;t<8;t++)this.pad[t]=Ao(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],d=i[5],u=i[6],h=i[7],p=i[8],f=i[9],m=Ao(e,t+0),g=Ao(e,t+2),y=Ao(e,t+4),w=Ao(e,t+6),v=Ao(e,t+8),b=Ao(e,t+10),x=Ao(e,t+12),_=Ao(e,t+14),k=n[0]+(8191&m),E=n[1]+((m>>>13|g<<3)&8191),C=n[2]+((g>>>10|y<<6)&8191),A=n[3]+((y>>>7|w<<9)&8191),I=n[4]+((w>>>4|v<<12)&8191),S=n[5]+(v>>>1&8191),T=n[6]+((v>>>14|b<<2)&8191),P=n[7]+((b>>>11|x<<5)&8191),j=n[8]+((x>>>8|_<<8)&8191),N=n[9]+(_>>>5|2048*!r),O=0,$=0+k*a+5*f*E+5*p*C+5*h*A+5*u*I;O=$>>>13,$&=8191,$+=5*d*S+5*c*T+5*l*P+5*s*j+5*o*N,O+=$>>>13,$&=8191;let R=O+k*o+E*a+5*f*C+5*p*A+5*h*I;O=R>>>13,R&=8191,R+=5*u*S+5*d*T+5*c*P+5*l*j+5*s*N,O+=R>>>13,R&=8191;let M=O+k*s+E*o+C*a+5*f*A+5*p*I;O=M>>>13,M&=8191,M+=5*h*S+5*u*T+5*d*P+5*c*j+5*l*N,O+=M>>>13,M&=8191;let U=O+k*l+E*s+C*o+A*a+5*f*I;O=U>>>13,U&=8191,U+=5*p*S+5*h*T+5*u*P+5*d*j+5*c*N,O+=U>>>13,U&=8191;let L=O+k*c+E*l+C*s+A*o+I*a;O=L>>>13,L&=8191,L+=5*f*S+5*p*T+5*h*P+5*u*j+5*d*N,O+=L>>>13,L&=8191;let F=O+k*d+E*c+C*l+A*s+I*o;O=F>>>13,F&=8191,F+=S*a+5*f*T+5*p*P+5*h*j+5*u*N,O+=F>>>13,F&=8191;let D=O+k*u+E*d+C*c+A*l+I*s;O=D>>>13,D&=8191,D+=S*o+T*a+5*f*P+5*p*j+5*h*N,O+=D>>>13,D&=8191;let B=O+k*h+E*u+C*d+A*c+I*l;O=B>>>13,B&=8191,B+=S*s+T*o+P*a+5*f*j+5*p*N,O+=B>>>13,B&=8191;let W=O+k*p+E*h+C*u+A*d+I*c;O=W>>>13,W&=8191,W+=S*l+T*s+P*o+j*a+5*f*N,O+=W>>>13,W&=8191;let q=O+k*f+E*p+C*h+A*u+I*d;O=q>>>13,q&=8191,q+=S*c+T*l+P*s+j*o+N*a,O+=q>>>13,q&=8191,$=8191&(O=(O=(O<<2)+O|0)+$|0),O>>>=13,R+=O,n[0]=$,n[1]=R,n[2]=M,n[3]=U,n[4]=L,n[5]=F,n[6]=D,n[7]=B,n[8]=W,n[9]=q}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+t[0];e[0]=65535&a;for(let r=1;r<8;r++)a=(e[r]+t[r]|0)+(a>>>16)|0,e[r]=65535&a;C1(r)}update(e){CX(this),CQ(e=C3(e));let{buffer:t,blockLen:r}=this,n=e.length;for(let i=0;i<n;){let a=Math.min(r-this.pos,n-i);if(a===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){C1(this.h,this.r,this.buffer,this.pad)}digestInto(e){CX(this),function(e,t){CQ(e);let r=t.outputLen;if(e.length<r)throw Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;let{buffer:t,h:r}=this,{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let i=0;for(let t=0;t<8;t++)e[i++]=r[t]>>>0,e[i++]=r[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let Al=(UD=e=>new As(e),(B=(e,t)=>UD(t).update(C3(e)).digest()).outputLen=(W=UD(new Uint8Array(32))).outputLen,B.blockLen=W.blockLen,B.create=e=>UD(e),B),Ac=function(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:a,rounds:o}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return CZ(i),CZ(o),CY(a),CY(r),(t,s,l,c,d=0)=>{CQ(t),CQ(s),CQ(l);let u=l.length;if(void 0===c&&(c=new Uint8Array(u)),CQ(c),CZ(d),d<0||d>=Ai)throw Error("arx: counter overflow");if(c.length<u)throw Error(`arx: output (${c.length}) is shorter than data (${u})`);let h=[],p=t.length,f,m;if(32===p)h.push(f=C6(t)),m=At;else if(16===p&&r)(f=new Uint8Array(32)).set(t),f.set(t,16),m=Ae,h.push(f);else throw Error(`arx: invalid 32-byte key, got length=${p}`);An(s)||h.push(s=C6(s));let g=C0(f);if(n){if(24!==s.length)throw Error("arx: extended nonce must be 24 bytes");n(m,g,C0(s.subarray(0,16)),g),s=s.subarray(16)}let y=16-i;if(y!==s.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(s,a?0:12-s.length),s=e,h.push(s)}return function(e,t,r,n,i,a,o,s){let l=i.length,c=new Uint8Array(64),d=C0(c),u=An(i)&&An(a),h=u?C0(i):Aa,p=u?C0(a):Aa;for(let f=0;f<l;o++){if(e(t,r,n,d,o,s),o>=Ai)throw Error("arx: counter overflow");let m=Math.min(64,l-f);if(u&&64===m){let e=f/4;if(f%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)p[r=e+t]=h[r]^d[t];f+=64;continue}for(let e=0,t;e<m;e++)a[t=f+e]=i[t]^c[e];f+=m}}(e,m,g,C0(s),l,c,d,o),C1(...h),c}}(function(e,t,r,n,i,a=20){let o=e[0],s=e[1],l=e[2],c=e[3],d=t[0],u=t[1],h=t[2],p=t[3],f=t[4],m=t[5],g=t[6],y=t[7],w=r[0],v=r[1],b=r[2],x=o,_=s,k=l,E=c,C=d,A=u,I=h,S=p,T=f,P=m,j=g,N=y,O=i,$=w,R=v,M=b;for(let e=0;e<a;e+=2)T=T+(O=Ar(O^(x=x+C|0),16))|0,x=x+(C=Ar(C^T,12))|0,T=T+(O=Ar(O^x,8))|0,C=Ar(C^T,7),P=P+($=Ar($^(_=_+A|0),16))|0,_=_+(A=Ar(A^P,12))|0,P=P+($=Ar($^_,8))|0,A=Ar(A^P,7),j=j+(R=Ar(R^(k=k+I|0),16))|0,k=k+(I=Ar(I^j,12))|0,j=j+(R=Ar(R^k,8))|0,I=Ar(I^j,7),N=N+(M=Ar(M^(E=E+S|0),16))|0,E=E+(S=Ar(S^N,12))|0,N=N+(M=Ar(M^E,8))|0,S=Ar(S^N,7),j=j+(M=Ar(M^(x=x+A|0),16))|0,x=x+(A=Ar(A^j,12))|0,j=j+(M=Ar(M^x,8))|0,A=Ar(A^j,7),N=N+(O=Ar(O^(_=_+I|0),16))|0,_=_+(I=Ar(I^N,12))|0,N=N+(O=Ar(O^_,8))|0,I=Ar(I^N,7),T=T+($=Ar($^(k=k+S|0),16))|0,k=k+(S=Ar(S^T,12))|0,T=T+($=Ar($^k,8))|0,S=Ar(S^T,7),P=P+(R=Ar(R^(E=E+C|0),16))|0,E=E+(C=Ar(C^P,12))|0,P=P+(R=Ar(R^E,8))|0,C=Ar(C^P,7);let U=0;n[U++]=o+x|0,n[U++]=s+_|0,n[U++]=l+k|0,n[U++]=c+E|0,n[U++]=d+C|0,n[U++]=u+A|0,n[U++]=h+I|0,n[U++]=p+S|0,n[U++]=f+T|0,n[U++]=m+P|0,n[U++]=g+j|0,n[U++]=y+N|0,n[U++]=i+O|0,n[U++]=w+$|0,n[U++]=v+R|0,n[U++]=b+M|0},{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ad=new Uint8Array(16),Au=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(Ad.subarray(r))},Ah=new Uint8Array(32);function Ap(e,t,r,n,i){var a,o;let s,l,c=e(t,r,Ah),d=Al.create(c);i&&Au(d,i),Au(d,n);let u=(a=n.length,o=i?i.length:0,CY(!0),C4(l=new DataView((s=new Uint8Array(16)).buffer,s.byteOffset,s.byteLength),0,BigInt(o),!0),C4(l,8,BigInt(a),!0),s);d.update(u);let h=d.digest();return C1(c,u),h}let Af=((e,t)=>{function r(n,...i){if(CQ(n),!C2)throw Error("Non little-endian hardware is not yet supported");if(void 0!==e.nonceLength){let t=i[0];if(!t)throw Error("nonce / iv required");e.varSizeNonce?CQ(t):CQ(t,e.nonceLength)}let a=e.tagLength;a&&void 0!==i[1]&&CQ(i[1]);let o=t(n,...i),s=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");CQ(t)}},l=!1;return{encrypt(e,t){if(l)throw Error("cannot encrypt() twice with same key + nonce");return l=!0,CQ(e),s(o.encrypt.length,t),o.encrypt(e,t)},decrypt(e,t){if(CQ(e),a&&e.length<a)throw Error("invalid ciphertext length: smaller than tagLength="+a);return s(o.decrypt.length,t),o.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:12,tagLength:16},(e,t,r)=>({encrypt(n,i){let a=n.length;(i=C5(a+16,i,!1)).set(n);let o=i.subarray(0,-16);Ac(e,t,o,o,1);let s=Ap(Ac,e,t,o,r);return i.set(s,a),C1(s),i},decrypt(n,i){i=C5(n.length-16,i,!1);let a=n.subarray(0,-16),o=n.subarray(-16),s=Ap(Ac,e,t,a,r);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(o,s))throw Error("invalid tag");return i.set(n.subarray(0,-16)),Ac(e,t,i,i,1),C1(s),i}}));class Am extends EB{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Ek(e);const r=EF(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),EI(i)}update(e){return EE(this),this.iHash.update(e),this}digestInto(e){EE(this),E_(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:o}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let Ag=(e,t,r)=>new Am(e,t).update(r).digest();Ag.create=(e,t)=>new Am(e,t);let Ay=Uint8Array.from([0]),Aw=Uint8Array.of(),Av=BigInt(0),Ab=BigInt(1);function Ax(e,t){if("boolean"!=typeof t)throw Error(e+" boolean expected, got "+t)}function A_(e){let t=e.toString(16);return 1&t.length?"0"+t:t}function Ak(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return""===e?Av:BigInt("0x"+e)}function AE(e){return E_(e),Ak(EM(Uint8Array.from(e).reverse()))}function AC(e,t){return EL(e.toString(16).padStart(2*t,"0"))}function AA(e,t){return AC(e,t).reverse()}function AI(e,t,r){let n;if("string"==typeof t)try{n=EL(t)}catch(t){throw Error(e+" must be hex string or Uint8Array, cause: "+t)}else if(Eb(t))n=Uint8Array.from(t);else throw Error(e+" must be hex string or Uint8Array");let i=n.length;if("number"==typeof r&&i!==r)throw Error(e+" of length "+r+" expected, got "+i);return n}let AS=e=>"bigint"==typeof e&&Av<=e;function AT(e,t,r,n){if(!(AS(t)&&AS(r)&&AS(n))||!(r<=t)||!(t<n))throw Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}let AP=e=>(Ab<<BigInt(e))-Ab;function Aj(e,t,r={}){if(!e||"object"!=typeof e)throw Error("expected valid options object");function n(t,r,n){let i=e[t];if(n&&void 0===i)return;let a=typeof i;if(a!==r||null===i)throw Error(`param "${t}" is invalid: expected ${r}, got ${a}`)}Object.entries(t).forEach(([e,t])=>n(e,t,!1)),Object.entries(r).forEach(([e,t])=>n(e,t,!0))}function AN(e){let t=new WeakMap;return(r,...n)=>{let i=t.get(r);if(void 0!==i)return i;let a=e(r,...n);return t.set(r,a),a}}let AO=BigInt(0),A$=BigInt(1),AR=BigInt(2),AM=BigInt(3),AU=BigInt(4),AL=BigInt(5),AF=BigInt(8);function AD(e,t){let r=e%t;return r>=AO?r:t+r}function AB(e,t,r){let n=e;for(;t-- >AO;)n*=n,n%=r;return n}function AW(e,t){if(e===AO)throw Error("invert: expected non-zero number");if(t<=AO)throw Error("invert: expected positive modulus, got "+t);let r=AD(e,t),n=t,i=AO,a=A$;for(;r!==AO;){let e=n/r,t=n%r,o=i-a*e;n=r,r=t,i=a,a=o}if(n!==A$)throw Error("invert: does not exist");return AD(i,t)}function Aq(e,t){let r=(e.ORDER+A$)/AU,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw Error("Cannot find square root");return n}function Az(e,t){let r=(e.ORDER-AL)/AF,n=e.mul(t,AR),i=e.pow(n,r),a=e.mul(t,i),o=e.mul(e.mul(a,AR),i),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),t))throw Error("Cannot find square root");return s}let AV=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function AH(e,t,r=!1){let n=Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r)),e.ONE),a=e.inv(i);return t.reduceRight((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r)),a),n}function AG(e,t){let r=(e.ORDER-A$)/AR,n=e.pow(t,r),i=e.eql(n,e.ONE),a=e.eql(n,e.ZERO),o=e.eql(n,e.neg(e.ONE));if(!i&&!a&&!o)throw Error("invalid Legendre symbol result");return i?1:a?0:-1}function AK(e,t,r=!1,n={}){var i;let a,o,s,l,c;if(e<=AO)throw Error("invalid field: expected ORDER > 0, got "+e);if("object"==typeof t&&null!=t){if(n.sqrt||r)throw Error("cannot specify opts in two arguments");t.BITS&&(a=t.BITS),t.sqrt&&(o=t.sqrt),"boolean"==typeof t.isLE&&(r=t.isLE)}else"number"==typeof t&&(a=t),n.sqrt&&(o=n.sqrt);let{nBitLength:d,nByteLength:u}=(void 0!==(i=a)&&Ex(i),c=Math.ceil((l=void 0!==i?i:e.toString(2).length)/8),{nBitLength:l,nByteLength:c});if(u>2048)throw Error("invalid field: expected ORDER of <= 2048 bytes");let h=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:u,MASK:AP(d),ZERO:AO,ONE:A$,create:t=>AD(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error("invalid field element: expected bigint, got "+typeof t);return AO<=t&&t<e},is0:e=>e===AO,isValidNot0:e=>!h.is0(e)&&h.isValid(e),isOdd:e=>(e&A$)===A$,neg:t=>AD(-t,e),eql:(e,t)=>e===t,sqr:t=>AD(t*t,e),add:(t,r)=>AD(t+r,e),sub:(t,r)=>AD(t-r,e),mul:(t,r)=>AD(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<AO)throw Error("invalid exponent, negatives unsupported");if(r===AO)return e.ONE;if(r===A$)return t;let n=e.ONE,i=t;for(;r>AO;)r&A$&&(n=e.mul(n,i)),i=e.sqr(i),r>>=A$;return n})(h,e,t),div:(t,r)=>AD(t*AW(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>AW(t,e),sqrt:o||(t=>(s||(s=e%AU===AM?Aq:e%AF===AL?Az:function(e){if(e<BigInt(3))throw Error("sqrt is not defined for small field");let t=e-A$,r=0;for(;t%AR===AO;)t/=AR,r++;let n=AR,i=AK(e);for(;1===AG(i,n);)if(n++>1e3)throw Error("Cannot find square root: probably non-prime P");if(1===r)return Aq;let a=i.pow(n,t),o=(t+A$)/AR;return function(e,n){if(e.is0(n))return n;if(1!==AG(e,n))throw Error("Cannot find square root");let i=r,s=e.mul(e.ONE,a),l=e.pow(n,t),c=e.pow(n,o);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,r=e.sqr(l);for(;!e.eql(r,e.ONE);)if(t++,r=e.sqr(r),t===i)throw Error("Cannot find square root");let n=A$<<BigInt(i-t-1),a=e.pow(s,n);i=t,s=e.sqr(a),l=e.mul(l,s),c=e.mul(c,a)}return c}}(e)),s(h,t))),toBytes:e=>r?AA(e,u):AC(e,u),fromBytes:e=>{if(e.length!==u)throw Error("Field.fromBytes: expected "+u+" bytes, got "+e.length);return r?AE(e):Ak(EM(e))},invertBatch:e=>AH(h,e),cmov:(e,t,r)=>r?t:e});return Object.freeze(h)}function AJ(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function AY(e){let t=AJ(e);return t+Math.ceil(t/2)}let AZ=BigInt(0),AQ=BigInt(1);function AX(e,t){let r=t.negate();return e?r:t}function A0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw Error("invalid window size, expected [1.."+t+"], got W="+e)}function A1(e,t){A0(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e;return{windows:r,windowSize:n,mask:AP(e),maxNumber:i,shiftBy:BigInt(e)}}function A2(e,t,r){let{windowSize:n,mask:i,maxNumber:a,shiftBy:o}=r,s=Number(e&i),l=e>>o;s>n&&(s-=a,l+=AQ);let c=t*n;return{nextN:l,offset:c+Math.abs(s)-1,isZero:0===s,isNeg:s<0,isNegF:t%2!=0,offsetF:c}}let A3=new WeakMap,A5=new WeakMap;function A4(e){return A5.get(e)||1}function A6(e){if(e!==AZ)throw Error("invalid wNAF")}function A8(e,t){if(!t)return AK(e);if(t.ORDER!==e)throw Error("Field.ORDER must match order: Fp == p, Fn == n");return Aj(t,AV.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"})),t}BigInt(0),BigInt(1),BigInt(2),BigInt(8);let A9=BigInt(0),A7=BigInt(1),Ie=BigInt(2);BigInt(0);let It=BigInt(1),Ir=BigInt(2),In=BigInt(3),Ii=BigInt(5),Ia=BigInt(8),Io={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Ia,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")},Is=function(e){let{P:t,type:r,adjustScalarBytes:n,powPminus2:i,randomBytes:a}=(Aj(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})),o="x25519"===r;if(!o&&"x448"!==r)throw Error("invalid type");let s=a||Eq,l=o?255:448,c=o?32:56,d=BigInt(o?9:5),u=BigInt(o?121665:39081),h=o?Ie**BigInt(254):Ie**BigInt(447),p=h+(o?BigInt(8)*Ie**BigInt(251)-A7:BigInt(4)*Ie**BigInt(445)-A7)+A7,f=e=>AD(e,t),m=AA(f(d),c);function g(e,r){let a,s=function(e,r){AT("u",e,A9,t),AT("scalar",r,h,p);let n=A7,a=A9,o=e,s=A7,c=A9;for(let t=BigInt(l-1);t>=A9;t--){let i=r>>t&A7;c^=i,({x_2:n,x_3:o}=w(c,n,o)),({x_2:a,x_3:s}=w(c,a,s)),c=i;let l=n+a,d=f(l*l),h=n-a,p=f(h*h),m=d-p,g=o+s,y=f((o-s)*l),v=f(g*h),b=y+v,x=y-v;o=f(b*b),s=f(e*f(x*x)),n=f(d*p),a=f(m*(d+f(u*m)))}return{x_2:n,x_3:o}=w(c,n,o),{x_2:a,x_3:s}=w(c,a,s),f(n*i(a))}((a=AI("u coordinate",r,c),o&&(a[31]&=127),f(AE(a))),AE(n(AI("scalar",e,c))));if(s===A9)throw Error("invalid private or public key received");return AA(f(s),c)}function y(e){return g(e,m)}function w(e,t,r){let n=f(e*(t-r));return{x_2:t=f(t-n),x_3:r=f(r+n)}}return{scalarMult:g,scalarMultBase:y,getSharedSecret:(e,t)=>g(e,t),getPublicKey:e=>y(e),utils:{randomPrivateKey:()=>s(c)},GuBytes:m.slice()}}({P:q=Io.p,type:"x25519",powPminus2:e=>{let t,r,n,i,a,o,s,l,c,d,u,h,p,f,m,{pow_p_5_8:g,b2:y}=(t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=AB(o=e*e%(a=Io.p)*e%a,Ir,a)*o%a,l=AB(s,It,a)*e%a,c=AB(l,Ii,a)*l%a,d=AB(c,t,a)*c%a,u=AB(d,r,a)*d%a,h=AB(u,n,a)*u%a,p=AB(h,i,a)*h%a,f=AB(p,i,a)*h%a,m=AB(f,t,a)*c%a,{pow_p_5_8:AB(m,Ir,a)*e%a,b2:o});return AD(AB(g,In,q)*y,q)},adjustScalarBytes:function(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}});function Il(e){void 0!==e.lowS&&Ax("lowS",e.lowS),void 0!==e.prehash&&Ax("prehash",e.prehash)}let Ic={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(e,t)=>{let{Err:r}=Ic;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");let n=t.length/2,i=A_(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");let a=n>127?A_(i.length/2|128):"";return A_(e)+a+i+t},decode(e,t){let{Err:r}=Ic,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let i=t[n++],a=0;if(128&i){let e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");let o=t.subarray(n,n+e);if(o.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===o[0])throw new r("tlv.decode(long): zero leftmost byte");for(let e of o)a=a<<8|e;if(n+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=i;let o=t.subarray(n,n+a);if(o.length!==a)throw new r("tlv.decode: wrong value length");return{v:o,l:t.subarray(n+a)}}},_int:{encode(e){let{Err:t}=Ic;if(e<Id)throw new t("integer: negative integers are not allowed");let r=A_(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Ic;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Ak(EM(e))}},toSig(e){let{Err:t,_int:r,_tlv:n}=Ic,i=AI("signature",e),{v:a,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");let{v:s,l:l}=n.decode(2,a),{v:c,l:d}=n.decode(2,l);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(s),s:r.decode(c)}},hexFromSig(e){let{_tlv:t,_int:r}=Ic,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s));return t.encode(48,n+i)}},Id=BigInt(0),Iu=BigInt(1),Ih=BigInt(2),Ip=BigInt(3),If=BigInt(4);function Im(e,t,r){let{BYTES:n}=e;return function(i){let a;if("bigint"==typeof i)a=i;else{let r=AI("private key",i);if(t){if(!t.includes(2*r.length))throw Error("invalid private key");let e=new Uint8Array(n);e.set(r,e.length-r.length),r=e}try{a=e.fromBytes(r)}catch{throw Error(`invalid private key: expected ui8a of size ${n}, got ${typeof i}`)}}if(r&&(a=e.create(a)),!e.isValidNot0(a))throw Error("invalid private key: out of range [1..N-1]");return a}}function Ig(e){return Uint8Array.of(e?2:3)}function Iy(e,t){let r=t=>(function(e){let{CURVE:t,curveOpts:r,ecdsaOpts:n}=function(e){let t,r,{CURVE:n,curveOpts:i}=(t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r={Fp:e.Fp,Fn:AK(t.n,e.nBitLength),allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes},{CURVE:t,curveOpts:r});return{CURVE:n,curveOpts:i,ecdsaOpts:{hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN}}}(e),i=function(e,t,r={}){Aj(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=t.randomBytes||Eq,i=t.hmac||((e,...r)=>Ag(t.hash,e,ED(...r))),{Fp:a,Fn:o}=e,{ORDER:s,BITS:l}=o;function c(e,t){if(!o.isValidNot0(t))throw Error(`invalid signature ${e}: out of range 1..CURVE.n`)}class d{constructor(e,t,r){c("r",e),c("s",t),this.r=e,this.s=t,null!=r&&(this.recovery=r),Object.freeze(this)}static fromCompact(e){let t=o.BYTES,r=AI("compactSignature",e,2*t);return new d(o.fromBytes(r.subarray(0,t)),o.fromBytes(r.subarray(t,2*t)))}static fromDER(e){let{r:t,s:r}=Ic.toSig(AI("DER",e));return new d(t,r)}assertValidity(){}addRecoveryBit(e){return new d(this.r,this.s,e)}recoverPublicKey(t){let r=a.ORDER,{r:n,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");if(s*Ih<r&&l>1)throw Error("recovery id is ambiguous for h>1 curve");let c=2===l||3===l?n+s:n;if(!a.isValid(c))throw Error("recovery id 2 or 3 invalid");let d=a.toBytes(c),u=e.fromHex(ED(Ig((1&l)==0),d)),h=o.inv(c),p=f(AI("msgHash",t)),m=o.create(-p*h),g=o.create(i*h),y=e.BASE.multiplyUnsafe(m).add(u.multiplyUnsafe(g));if(y.is0())throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>s>>Iu}normalizeS(){return this.hasHighS()?new d(this.r,o.neg(this.s),this.recovery):this}toBytes(e){if("compact"===e)return ED(o.toBytes(this.r),o.toBytes(this.s));if("der"===e)return EL(Ic.hexFromSig(this));throw Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return EM(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return EM(this.toBytes("compact"))}}let u=Im(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey);function h(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;let n=AI("key",t).length,i=a.BYTES,s=i+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===s))return n===s||n===2*i+1}let p=t.bits2int||function(e){if(e.length>8192)throw Error("input is too large");let t=Ak(EM(e)),r=8*e.length-l;return r>0?t>>BigInt(r):t},f=t.bits2int_modN||function(e){return o.create(p(e))},m=AP(l);function g(e){return AT("num < 2^"+l,e,Id,m),o.toBytes(e)}let y={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return e.BASE.precompute(8),Object.freeze({getPublicKey:function(t,r=!0){return e.fromPrivateKey(t).toBytes(r)},getSharedSecret:function(t,r,n=!0){if(!0===h(t))throw Error("first arg must be private key");if(!1===h(r))throw Error("second arg must be public key");return e.fromHex(r).multiply(u(t)).toBytes(n)},sign:function(r,l,c=y){let{seed:h,k2sig:m}=function(r,i,l=y){if(["recovered","canonical"].some(e=>e in l))throw Error("sign() legacy options not supported");let{hash:c}=t,{lowS:h,prehash:m,extraEntropy:w}=l;null==h&&(h=!0),r=AI("msgHash",r),Il(l),m&&(r=AI("prehashed msgHash",c(r)));let v=f(r),b=u(i),x=[g(b),g(v)];if(null!=w&&!1!==w){let e=!0===w?n(a.BYTES):w;x.push(AI("extraEntropy",e))}return{seed:ED(...x),k2sig:function(t){var r;let n=p(t);if(!o.isValidNot0(n))return;let i=o.inv(n),a=e.BASE.multiply(n).toAffine(),l=o.create(a.x);if(l===Id)return;let c=o.create(i*o.create(v+l*b));if(c===Id)return;let u=2*(a.x!==l)|Number(a.y&Iu),f=c;return h&&c>s>>Iu&&(f=(r=c)>s>>Iu?o.neg(r):r,u^=1),new d(l,f,u)}}}(r,l,c);return(function(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=e=>new Uint8Array(e),i=n(e),a=n(e),o=0,s=()=>{i.fill(1),a.fill(0),o=0},l=(...e)=>r(a,i,...e),c=(e=n(0))=>{a=l(Uint8Array.of(0),e),i=l(),0!==e.length&&(a=l(Uint8Array.of(1),e),i=l())},d=()=>{if(o++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=l()).slice();r.push(t),e+=i.length}return ED(...r)};return(e,t)=>{let r;for(s(),c(e);!(r=t(d()));)c();return s(),r}})(t.hash.outputLen,o.BYTES,i)(h,m)},verify:function(r,n,i,a=w){let s,l;n=AI("msgHash",n),i=AI("publicKey",i),Il(a);let{lowS:c,prehash:u,format:h}=a;if("strict"in a)throw Error("options.strict was renamed to lowS");if(void 0!==h&&!["compact","der","js"].includes(h))throw Error('format must be "compact", "der" or "js"');let p="string"==typeof r||Eb(r),m=!p&&!h&&"object"==typeof r&&null!==r&&"bigint"==typeof r.r&&"bigint"==typeof r.s;if(!p&&!m)throw Error("invalid signature, expected Uint8Array, hex string or Signature instance");try{if(m)if(void 0===h||"js"===h)s=new d(r.r,r.s);else throw Error("invalid format");if(p){try{"compact"!==h&&(s=d.fromDER(r))}catch(e){if(!(e instanceof Ic.Err))throw e}s||"der"===h||(s=d.fromCompact(r))}l=e.fromHex(i)}catch{return!1}if(!s||c&&s.hasHighS())return!1;u&&(n=t.hash(n));let{r:g,s:y}=s,v=f(n),b=o.inv(y),x=o.create(v*b),_=o.create(g*b),k=e.BASE.multiplyUnsafe(x).add(l.multiplyUnsafe(_));return!k.is0()&&o.create(k.x)===g},utils:{isValidPrivateKey(e){try{return u(e),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>(function(e,t,r=!1){let n=e.length,i=AJ(t),a=AY(t);if(n<16||n<a||n>1024)throw Error("expected "+a+"-1024 bytes of input, got "+n);let o=AD(r?AE(e):Ak(EM(e)),t-A$)+A$;return r?AA(o,i):AC(o,i)})(n(AY(s)),s),precompute:(t=8,r=e.BASE)=>r.precompute(t,!1)},Point:e,Signature:d})}(function(e,t={}){var r,n,i;let{Fp:a,Fn:o}=function(e,t,r={}){if(!t||"object"!=typeof t)throw Error(`expected valid ${e} CURVE object`);for(let e of["p","n","h"]){let r=t[e];if(!("bigint"==typeof r&&r>AZ))throw Error(`CURVE.${e} must be positive bigint`)}let n=A8(t.p,r.Fp),i=A8(t.n,r.Fn);for(let r of["Gx","Gy","a","weierstrass"===e?"b":"d"])if(!n.isValid(t[r]))throw Error(`CURVE.${r} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}("weierstrass",e,t),{h:s,n:l}=e;Aj(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!a.is0(e.a)||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar))throw Error('invalid endo: expected "beta": bigint and "splitScalar": function');function d(){if(!a.isOdd)throw Error("compression is not supported: Field does not have .isOdd()")}let u=t.toBytes||function(e,t,r){let{x:n,y:i}=t.toAffine(),o=a.toBytes(n);return(Ax("isCompressed",r),r)?(d(),ED(Ig(!a.isOdd(i)),o)):ED(Uint8Array.of(4),o,a.toBytes(i))},h=t.fromBytes||function(e){E_(e);let t=a.BYTES,r=t+1,n=2*t+1,i=e.length,o=e[0],s=e.subarray(1);if(i===r&&(2===o||3===o)){let e,t=a.fromBytes(s);if(!a.isValid(t))throw Error("bad point: is not on curve, wrong x");let r=p(t);try{e=a.sqrt(r)}catch(e){throw Error("bad point: is not on curve, sqrt error"+(e instanceof Error?": "+e.message:""))}return d(),(1&o)==1!==a.isOdd(e)&&(e=a.neg(e)),{x:t,y:e}}if(i===n&&4===o){let e=a.fromBytes(s.subarray(0*t,+t)),r=a.fromBytes(s.subarray(+t,2*t));if(!f(e,r))throw Error("bad point: is not on curve");return{x:e,y:r}}throw Error(`bad point: got length ${i}, expected compressed=${r} or uncompressed=${n}`)},p=(r=e.a,n=e.b,function(e){let t=a.sqr(e),i=a.mul(t,e);return a.add(a.add(i,a.mul(e,r)),n)});function f(e,t){let r=a.sqr(t),n=p(e);return a.eql(r,n)}if(!f(e.Gx,e.Gy))throw Error("bad curve params: generator point");let m=a.mul(a.pow(e.a,Ip),If),g=a.mul(a.sqr(e.b),BigInt(27));if(a.is0(a.add(m,g)))throw Error("bad curve params: a or b");function y(e,t,r=!1){if(!a.isValid(t)||r&&a.is0(t))throw Error(`bad point coordinate ${e}`);return t}function w(e){if(!(e instanceof _))throw Error("ProjectivePoint expected")}let v=AN((e,t)=>{let{px:r,py:n,pz:i}=e;if(a.eql(i,a.ONE))return{x:r,y:n};let o=e.is0();null==t&&(t=o?a.ONE:a.inv(i));let s=a.mul(r,t),l=a.mul(n,t),c=a.mul(i,t);if(o)return{x:a.ZERO,y:a.ZERO};if(!a.eql(c,a.ONE))throw Error("invZ was invalid");return{x:s,y:l}}),b=AN(e=>{if(e.is0()){if(t.allowInfinityPoint&&!a.is0(e.py))return;throw Error("bad point: ZERO")}let{x:r,y:n}=e.toAffine();if(!a.isValid(r)||!a.isValid(n))throw Error("bad point: x or y not field elements");if(!f(r,n))throw Error("bad point: equation left != right");if(!e.isTorsionFree())throw Error("bad point: not in prime-order subgroup");return!0});function x(e,t,r,n,i){return r=new _(a.mul(r.px,e),r.py,r.pz),t=AX(n,t),r=AX(i,r),t.add(r)}class _{constructor(e,t,r){this.px=y("x",e),this.py=y("y",t,!0),this.pz=y("z",r),Object.freeze(this)}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!a.isValid(t)||!a.isValid(r))throw Error("invalid affine point");if(e instanceof _)throw Error("projective point not allowed");return a.is0(t)&&a.is0(r)?_.ZERO:new _(t,r,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t,r;return t=e=>e.pz,r=AH(_.Fp,e.map(t)),e.map((e,t)=>e.toAffine(r[t])).map(_.fromAffine)}static fromBytes(e){return E_(e),_.fromHex(e)}static fromHex(e){let t=_.fromAffine(h(AI("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){let r=Im(o,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return _.BASE.multiply(r(e))}static msm(e,t){return function(e,t,r,n){(function(e,t){if(!Array.isArray(e))throw Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw Error("invalid point at index "+r)})})(r,e),function(e,t){if(!Array.isArray(e))throw Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw Error("invalid scalar at index "+r)})}(n,t);let i=r.length,a=n.length;if(i!==a)throw Error("arrays of points and scalars must have equal length");let o=e.ZERO,s=function(e){let t;for(t=0;e>Av;e>>=Ab,t+=1);return t}(BigInt(i)),l=1;s>12?l=s-3:s>4?l=s-2:s>0&&(l=2);let c=AP(l),d=Array(Number(c)+1).fill(o),u=Math.floor((t.BITS-1)/l)*l,h=o;for(let e=u;e>=0;e-=l){d.fill(o);for(let t=0;t<a;t++){let i=Number(n[t]>>BigInt(e)&c);d[i]=d[i].add(r[t])}let t=o;for(let e=d.length-1,r=o;e>0;e--)r=r.add(d[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<l;e++)h=h.double()}return h}(_,o,e,t)}precompute(e=8,t=!0){return E.setWindowSize(this,e),t||this.multiply(Ip),this}_setWindowSize(e){this.precompute(e)}assertValidity(){b(this)}hasEvenY(){let{y:e}=this.toAffine();if(!a.isOdd)throw Error("Field doesn't support isOdd");return!a.isOdd(e)}equals(e){w(e);let{px:t,py:r,pz:n}=this,{px:i,py:o,pz:s}=e,l=a.eql(a.mul(t,s),a.mul(i,n)),c=a.eql(a.mul(r,s),a.mul(o,n));return l&&c}negate(){return new _(this.px,a.neg(this.py),this.pz)}double(){let{a:t,b:r}=e,n=a.mul(r,Ip),{px:i,py:o,pz:s}=this,l=a.ZERO,c=a.ZERO,d=a.ZERO,u=a.mul(i,i),h=a.mul(o,o),p=a.mul(s,s),f=a.mul(i,o);return f=a.add(f,f),d=a.mul(i,s),d=a.add(d,d),l=a.mul(t,d),c=a.mul(n,p),c=a.add(l,c),l=a.sub(h,c),c=a.add(h,c),c=a.mul(l,c),l=a.mul(f,l),d=a.mul(n,d),p=a.mul(t,p),f=a.sub(u,p),f=a.mul(t,f),f=a.add(f,d),d=a.add(u,u),u=a.add(d,u),u=a.add(u,p),u=a.mul(u,f),c=a.add(c,u),p=a.mul(o,s),p=a.add(p,p),u=a.mul(p,f),l=a.sub(l,u),d=a.mul(p,h),d=a.add(d,d),new _(l,c,d=a.add(d,d))}add(t){w(t);let{px:r,py:n,pz:i}=this,{px:o,py:s,pz:l}=t,c=a.ZERO,d=a.ZERO,u=a.ZERO,h=e.a,p=a.mul(e.b,Ip),f=a.mul(r,o),m=a.mul(n,s),g=a.mul(i,l),y=a.add(r,n),v=a.add(o,s);y=a.mul(y,v),v=a.add(f,m),y=a.sub(y,v),v=a.add(r,i);let b=a.add(o,l);return v=a.mul(v,b),b=a.add(f,g),v=a.sub(v,b),b=a.add(n,i),c=a.add(s,l),b=a.mul(b,c),c=a.add(m,g),b=a.sub(b,c),u=a.mul(h,v),c=a.mul(p,g),u=a.add(c,u),c=a.sub(m,u),u=a.add(m,u),d=a.mul(c,u),m=a.add(f,f),m=a.add(m,f),g=a.mul(h,g),v=a.mul(p,v),m=a.add(m,g),g=a.sub(f,g),g=a.mul(h,g),v=a.add(v,g),f=a.mul(m,v),d=a.add(d,f),f=a.mul(b,v),c=a.mul(y,c),c=a.sub(c,f),f=a.mul(y,m),u=a.mul(b,u),new _(c,d,u=a.add(u,f))}subtract(e){return this.add(e.negate())}is0(){return this.equals(_.ZERO)}multiply(e){let r,n,{endo:i}=t;if(!o.isValidNot0(e))throw Error("invalid scalar: out of range");let a=e=>E.wNAFCached(this,e,_.normalizeZ);if(i){let{k1neg:t,k1:o,k2neg:s,k2:l}=i.splitScalar(e),{p:c,f:d}=a(o),{p:u,f:h}=a(l);n=d.add(h),r=x(i.beta,c,u,t,s)}else{let{p:t,f:i}=a(e);r=t,n=i}return _.normalizeZ([r,n])[0]}multiplyUnsafe(e){let{endo:r}=t;if(!o.isValid(e))throw Error("invalid scalar: out of range");if(e===Id||this.is0())return _.ZERO;if(e===Iu)return this;if(E.hasPrecomputes(this))return this.multiply(e);if(!r)return E.wNAFCachedUnsafe(this,e);{let{k1neg:t,k1:n,k2neg:i,k2:a}=r.splitScalar(e),{p1:o,p2:s}=function(e,t,r,n){let i=t,a=e.ZERO,o=e.ZERO;for(;r>AZ||n>AZ;)r&AQ&&(a=a.add(i)),n&AQ&&(o=o.add(i)),i=i.double(),r>>=AQ,n>>=AQ;return{p1:a,p2:o}}(_,this,n,a);return x(r.beta,o,s,t,i)}}multiplyAndAddUnsafe(e,t,r){let n=this.multiplyUnsafe(t).add(e.multiplyUnsafe(r));return n.is0()?void 0:n}toAffine(e){return v(this,e)}isTorsionFree(){let{isTorsionFree:e}=t;return s===Iu||(e?e(_,this):E.wNAFCachedUnsafe(this,l).is0())}clearCofactor(){let{clearCofactor:e}=t;return s===Iu?this:e?e(_,this):this.multiplyUnsafe(s)}toBytes(e=!0){return Ax("isCompressed",e),this.assertValidity(),u(_,this,e)}toRawBytes(e=!0){return this.toBytes(e)}toHex(e=!0){return EM(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}_.BASE=new _(e.Gx,e.Gy,a.ONE),_.ZERO=new _(a.ZERO,a.ONE,a.ZERO),_.Fp=a,_.Fn=o;let k=o.BITS,E=(i=t.endo?Math.ceil(k/2):k,{constTimeNegate:AX,hasPrecomputes:e=>1!==A4(e),unsafeLadder(e,t,r=_.ZERO){let n=e;for(;t>AZ;)t&AQ&&(r=r.add(n)),n=n.double(),t>>=AQ;return r},precomputeWindow(e,t){let{windows:r,windowSize:n}=A1(t,i),a=[],o=e,s=o;for(let e=0;e<r;e++){s=o,a.push(s);for(let e=1;e<n;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(e,t,r){let n=_.ZERO,a=_.BASE,o=A1(e,i);for(let e=0;e<o.windows;e++){let{nextN:i,offset:s,isZero:l,isNeg:c,isNegF:d,offsetF:u}=A2(r,e,o);r=i,l?a=a.add(AX(d,t[u])):n=n.add(AX(c,t[s]))}return A6(r),{p:n,f:a}},wNAFUnsafe(e,t,r,n=_.ZERO){let a=A1(e,i);for(let e=0;e<a.windows&&r!==AZ;e++){let{nextN:i,offset:o,isZero:s,isNeg:l}=A2(r,e,a);if(r=i,!s){let e=t[o];n=n.add(l?e.negate():e)}}return A6(r),n},getPrecomputes(e,t,r){let n=A3.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&("function"==typeof r&&(n=r(n)),A3.set(t,n))),n},wNAFCached(e,t,r){let n=A4(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){let i=A4(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,t){A0(t,i),A5.set(e,t),A3.delete(e)}});return _}(t,r),n,r);return Object.assign({},i,{ProjectivePoint:i.Point,CURVE:e})})({...e,hash:t});return{...r(t),create:r}}let Iw={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Iv={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Ib={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},Ix=AK(Iw.p),I_=AK(Iv.p),Ik=AK(Ib.p),IE=Iy({...Iw,Fp:Ix,lowS:!1},Ch);Iy({...Iv,Fp:I_,lowS:!1},Cf),Iy({...Ib,Fp:Ik,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},Cp);let IC="base10",IA="base16",II="base64pad",IS="base64url",IT="utf8";function IP(){return kk(Eq(32),IA)}function Ij(e){return kk(Ch(k_(e,IA)),IA)}function IN(e){return kk(Ch(k_(e,IT)),IA)}function IO(e){return Number(kk(e,IC))}function I$(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function IR(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function IM(e){if(2===IO(e.type))return kk(kg([e.type,e.sealed]),II);if(1===IO(e.type)){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return kk(kg([e.type,e.senderPublicKey,e.iv,e.sealed]),II)}return kk(kg([e.type,e.iv,e.sealed]),II)}function IU(e){let t=k_((e.encoding||II)===IS?IR(e.encoded):e.encoded,II),r=t.slice(0,1);if(1===IO(r)){let e=t.slice(1,33),n=t.slice(33,45);return{type:r,sealed:t.slice(45),iv:n,senderPublicKey:e}}if(2===IO(r))return{type:r,sealed:t.slice(1),iv:Eq(12)};let n=t.slice(1,13);return{type:r,sealed:t.slice(13),iv:n}}function IL(e){let t=e?.type||0;if(1===t){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function IF(e){return 1===e.type&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}function ID(e){return e?.relay||{protocol:"irn"}}function IB(e){let t=kE.RELAY_JSONRPC[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}function IW(e){var t;if(!e.includes("wc:")){let t=Ee(e);null!=t&&t.includes("wc:")&&(e=t)}let r=(e=(e=e.includes("wc://")?e.replace("wc://",""):e).includes("wc:")?e.replace("wc:",""):e).indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),a=e.substring(r+1,n).split("@"),o=new URLSearchParams("u">typeof n?e.substring(n):""),s={};o.forEach((e,t)=>{s[t]=e});let l="string"==typeof s.methods?s.methods.split(","):void 0;return{protocol:i,topic:(t=a[0]).startsWith("//")?t.substring(2):t,version:parseInt(a[1],10),symKey:s.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),a=e[t];r[i]=a}}),r}(s),methods:l,expiryTimestamp:s.expiryTimestamp?parseInt(s.expiryTimestamp,10):void 0}}function Iq(e){let t=new URLSearchParams,r=function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay);Object.keys(r).sort().forEach(e=>{t.set(e,r[e])}),t.set("symKey",e.symKey),e.expiryTimestamp&&t.set("expiryTimestamp",e.expiryTimestamp.toString()),e.methods&&t.set("methods",e.methods.join(","));let n=t.toString();return`${e.protocol}:${e.topic}@${e.version}?${n}`}function Iz(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var IV=Object.defineProperty,IH=Object.defineProperties,IG=Object.getOwnPropertyDescriptors,IK=Object.getOwnPropertySymbols,IJ=Object.prototype.hasOwnProperty,IY=Object.prototype.propertyIsEnumerable,IZ=(e,t,r)=>t in e?IV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,IQ=(e,t)=>{for(var r in t||(t={}))IJ.call(t,r)&&IZ(e,r,t[r]);if(IK)for(var r of IK(t))IY.call(t,r)&&IZ(e,r,t[r]);return e},IX=(e,t)=>IH(e,IG(t));function I0(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function I1(e){return e.includes(":")}function I2(e){return I1(e)?e.split(":")[0]:e}function I3(e){var t,r,n;let i={};if(!Se(e))return i;for(let[a,o]of Object.entries(e)){let e=I1(a)?[a]:o.chains,s=o.methods||[],l=o.events||[],c=I2(a);i[c]=IX(IQ({},i[c]),{chains:k5(e,null==(t=i[c])?void 0:t.chains),methods:k5(s,null==(r=i[c])?void 0:r.methods),events:k5(l,null==(n=i[c])?void 0:n.events)})}return i}function I5(e,t){var r;let n,i=(r=t=t.map(e=>e.replace("did:pkh:","")),n={},r?.forEach(e=>{var t;let[r,i]=e.split(":");n[r]||(n[r]={accounts:[],chains:[],events:[],methods:[]}),n[r].accounts.push(e),null==(t=n[r].chains)||t.push(`${r}:${i}`)}),n);for(let[t,r]of Object.entries(i))r.methods?r.methods=k5(r.methods,e):r.methods=e,r.events=["chainChanged","accountsChanged"];return i}let I4={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},I6={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function I8(e,t){let{message:r,code:n}=I6[e];return{message:t?`${r} ${t}`:r,code:n}}function I9(e,t){let{message:r,code:n}=I4[e];return{message:t?`${r} ${t}`:r,code:n}}function I7(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function Se(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function St(e){return typeof e>"u"}function Sr(e,t){return!!(t&&St(e))||"string"==typeof e&&!!e.trim().length}function Sn(e,t){return!!(t&&St(e))||"number"==typeof e&&!isNaN(e)}function Si(e){return!!(Sr(e,!1)&&e.includes(":"))&&2===e.split(":").length}function Sa(e){let t=!0;return I7(e)?e.length&&(t=e.every(e=>Sr(e,!1))):t=!1,t}function So(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let a=(n=`${t}, namespace`,i=null,Sa(e?.methods)?Sa(e?.events)||(i=I9("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=I9("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);a&&(r=a)}),r}function Ss(e,t){let r=null;if(e&&Se(e)){let n,i=So(e,t);i&&(r=i);let a=(n=null,Object.values(e).forEach(e=>{var r,i;let a;if(n)return;let o=(r=e?.accounts,i=`${t} namespace`,a=null,I7(r)?r.forEach(e=>{a||function(e){if(Sr(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let e=t[0]+":"+t[1];return!!t[2]&&Si(e)}}return!1}(e)||(a=I9("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):a=I9("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),a);o&&(n=o)}),n);a&&(r=a)}else r=I8("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Sl(e){return Sr(e.protocol,!0)}function Sc(e){return"u">typeof e}function Sd(e,t){let r;return!(!Si(t)||!(r=[],Object.values(e).forEach(e=>{r.push(...I0(e.accounts))}),r).includes(t))}function Su(e,t,r){var n,i;let a,o,s=null,l=(a={},Object.keys(n=e).forEach(e=>{var t;e.includes(":")?a[e]=n[e]:null==(t=n[e].chains)||t.forEach(t=>{a[t]={methods:n[e].methods,events:n[e].events}})}),a),c=(o={},Object.keys(i=t).forEach(e=>{if(e.includes(":"))o[e]=i[e];else{let t=I0(i[e].accounts);t?.forEach(t=>{o[t]={accounts:i[e].accounts.filter(e=>e.includes(`${t}:`)),methods:i[e].methods,events:i[e].events}})}}),o),d=Object.keys(l),u=Object.keys(c),h=Sh(Object.keys(e)),p=Sh(Object.keys(t)),f=h.filter(e=>!p.includes(e));return f.length&&(s=I8("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${f.toString()}
      Received: ${Object.keys(t).toString()}`)),kK(d,u)||(s=I8("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${d.toString()}
      Approved: ${u.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||s)return;let n=I0(t[e].accounts);n.includes(e)||(s=I8("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${n.toString()}`))}),d.forEach(e=>{s||(kK(l[e].methods,c[e].methods)?kK(l[e].events,c[e].events)||(s=I8("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):s=I8("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),s}function Sh(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Sp(){let e=kz();return new Promise(t=>{switch(e){case kD:t(kq()&&navigator?.onLine);break;case kL:t(Sf());break;default:t(!0)}})}async function Sf(){if(kW()&&null!=e.g&&e.g.NetInfo){let t=await (null==e.g?void 0:e.g.NetInfo.fetch());return t?.isConnected}return!0}let Sm={};class Sg{static get(e){return Sm[e]}static set(e,t){Sm[e]=t}static delete(e){delete Sm[e]}}function Sy(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}var Sw=e.i(710600),Sv=e.i(871520),Sb=e.i(687542),Sx=e.i(770749);e.i(736653);var S_=e.i(862570),Sk=Object.defineProperty,SE=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Sk(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class SC extends S_.IEvents{constructor(e){super(),this.opts=e,SE(this,"protocol","wc"),SE(this,"version",2)}}var SA=Object.defineProperty;class SI extends S_.IEvents{constructor(e,t){super(),this.core=e,this.logger=t,((e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?SA(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r})(this,"records",new Map)}}class SS{constructor(e,t){this.logger=e,this.core=t}}class ST extends S_.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}}class SP extends S_.IEvents{constructor(e){super()}}class Sj{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}}class SN extends S_.IEvents{constructor(e,t){super(),this.relayer=e,this.logger=t}}class SO extends S_.IEvents{constructor(e,t){super(),this.core=e,this.logger=t}}class S${constructor(e,t,r){this.core=e,this.logger=t,this.store=r}}class SR{constructor(e,t){this.projectId=e,this.logger=t}}class SM{constructor(e,t,r){this.core=e,this.logger=t,this.telemetryEnabled=r}}var SU=Object.defineProperty,SL=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?SU(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};_i.default;class SF{constructor(e){this.opts=e,SL(this,"protocol","wc"),SL(this,"version",2)}}_i.EventEmitter;class SD{constructor(e){this.client=e}}var SB=e.i(14526),SW=e.i(409482);e.i(660075);var Sq=e.i(669941),Sz=e.i(139434),SV=e.i(327026);let SH="core",SG=`wc@2:${SH}:`,SK={database:":memory:"},SJ="client_ed25519_seed",SY=_o.ONE_DAY,SZ=_o.SIX_HOURS,SQ="wss://relay.walletconnect.org",SX="relayer_message",S0="relayer_message_ack",S1="relayer_connection_stalled",S2="relayer_publish",S3="payload",S5="connect",S4="disconnect",S6="error",S8="2.21.7",S9="link_mode",S7="relay",Te="inbound",Tt="WALLETCONNECT_LINK_MODE_APPS",Tr="subscription_created",Tn="subscription_deleted",Ti=(_o.THIRTY_DAYS,_o.FIVE_SECONDS,_o.THIRTY_DAYS,{wc_pairingDelete:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:_o.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:_o.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:_o.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:0},res:{ttl:_o.ONE_DAY,prompt:!1,tag:0}}}),Ta="pairing_create",To="pairing_delete",Ts="history_created",Tl="history_updated",Tc="history_deleted",Td="expirer_created",Tu="expirer_deleted",Th="expirer_expired",Tp=(_o.ONE_DAY,"https://verify.walletconnect.org"),Tf=`${Tp}/v3`,Tm=["https://verify.walletconnect.com",Tp],Tg="malformed_pairing_uri",Ty="session_approve_started";var Tw=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var a=e.charAt(i),o=a.charCodeAt(0);if(255!==r[o])throw TypeError(a+" is ambiguous");r[o]=i}var s=e.length,l=e.charAt(0),c=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===l;)n++,t++;for(var a=(e.length-t)*c+1>>>0,o=new Uint8Array(a);e[t];){var d=r[e.charCodeAt(t)];if(255===d)return;for(var u=0,h=a-1;(0!==d||u<i)&&-1!==h;h--,u++)d+=s*o[h]>>>0,o[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw Error("Non-zero carry");i=u,t++}if(" "!==e[t]){for(var p=a-i;p!==a&&0===o[p];)p++;for(var f=new Uint8Array(n+(a-p)),m=n;p!==a;)f[m++]=o[p++];return f}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,a=t.length;i!==a&&0===t[i];)i++,r++;for(var o=(a-i)*d+1>>>0,c=new Uint8Array(o);i!==a;){for(var u=t[i],h=0,p=o-1;(0!==u||h<n)&&-1!==p;p--,h++)u+=256*c[p]>>>0,c[p]=u%s>>>0,u=u/s>>>0;if(0!==u)throw Error("Non-zero carry");n=h,i++}for(var f=o-n;f!==o&&0===c[f];)f++;for(var m=l.repeat(r);f<o;++f)m+=e.charAt(c[f]);return m},decodeUnsafe:u,decode:function(e){var r=u(e);if(r)return r;throw Error(`Non-${t} character`)}}};let Tv=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")};class Tb{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Tx{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return Tk(this,e)}}class T_{constructor(e){this.decoders=e}or(e){return Tk(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let Tk=(e,t)=>new T_({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class TE{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Tb(e,t,r),this.decoder=new Tx(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let TC=({name:e,prefix:t,encode:r,decode:n})=>new TE(e,t,r,n),TA=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=Tw(r,t);return TC({prefix:e,name:t,encode:n,decode:e=>Tv(i(e))})},TI=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>TC({prefix:t,name:e,encode:e=>((e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,a="",o=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],o+=8;o>r;)o-=r,a+=t[i&s>>o];if(o&&(a+=t[i&s<<r-o]),n)for(;a.length*r&7;)a+="=";return a})(e,n,r),decode:t=>((e,t,r,n)=>{let i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let a=e.length;for(;"="===e[a-1];)--a;let o=new Uint8Array(a*r/8|0),s=0,l=0,c=0;for(let t=0;t<a;++t){let a=i[e[t]];if(void 0===a)throw SyntaxError(`Non-${n} character`);l=l<<r|a,(s+=r)>=8&&(s-=8,o[c++]=255&l>>s)}if(s>=r||255&l<<8-s)throw SyntaxError("Unexpected end of data");return o})(t,n,r,e)});var TS=Object.freeze({__proto__:null,identity:TC({prefix:"\0",name:"identity",encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)})}),TT=Object.freeze({__proto__:null,base2:TI({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),TP=Object.freeze({__proto__:null,base8:TI({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),Tj=Object.freeze({__proto__:null,base10:TA({prefix:"9",name:"base10",alphabet:"0123456789"})}),TN=Object.freeze({__proto__:null,base16:TI({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper:TI({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),TO=Object.freeze({__proto__:null,base32:TI({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper:TI({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad:TI({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper:TI({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex:TI({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper:TI({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad:TI({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper:TI({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z:TI({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),T$=Object.freeze({__proto__:null,base36:TA({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper:TA({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),TR=Object.freeze({__proto__:null,base58btc:TA({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr:TA({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),TM=Object.freeze({__proto__:null,base64:TI({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad:TI({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url:TI({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad:TI({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});let TU=Array.from(""),TL=TU.reduce((e,t,r)=>(e[r]=t,e),[]),TF=TU.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);var TD=Object.freeze({__proto__:null,base256emoji:TC({prefix:"",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=TL[t],"")},decode:function(e){let t=[];for(let r of e){let e=TF[r.codePointAt(0)];if(void 0===e)throw Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}})});function TB(e,t,r){t=t||[],r=r||0;for(var n=r;e>=0x80000000;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,TB.bytes=r-n+1,t}var TW=function(e){return e<128?1:e<16384?2:e<2097152?3:e<0x10000000?4:e<0x800000000?5:e<0x40000000000?6:e<0x2000000000000?7:e<0x100000000000000?8:e<0x8000000000000000?9:10};let Tq=(e,t,r=0)=>(TB(e,t,r),t),Tz=(e,t)=>{let r=t.byteLength,n=TW(e),i=n+TW(r),a=new Uint8Array(i+r);return Tq(e,a,0),Tq(r,a,n),a.set(t,i),new TV(e,r,t,a)};class TV{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let TH=({name:e,code:t,encode:r})=>new TG(e,t,r);class TG{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Tz(this.code,t):t.then(e=>Tz(this.code,e))}throw Error("Unknown type, must be binary type")}}let TK=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t));var TJ=Object.freeze({__proto__:null,sha256:TH({name:"sha2-256",code:18,encode:TK("SHA-256")}),sha512:TH({name:"sha2-512",code:19,encode:TK("SHA-512")})}),TY=Object.freeze({__proto__:null,identity:{code:0,name:"identity",encode:Tv,digest:e=>Tz(0,Tv(e))}});new TextEncoder,new TextDecoder;let TZ={...TS,...TT,...TP,...Tj,...TN,...TO,...T$,...TR,...TM,...TD};function TQ(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function TX(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...TJ,...TY});let T0=TX("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),T1=TX("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{let t=function(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?TQ(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}((e=e.substring(1)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),T2={utf8:T0,"utf-8":T0,hex:TZ.base16,latin1:T1,ascii:T1,binary:T1,...TZ};var T3=Object.defineProperty,T5=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?T3(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class T4{constructor(e,t){this.core=e,this.logger=t,T5(this,"keychain",new Map),T5(this,"name","keychain"),T5(this,"version","0.3"),T5(this,"initialized",!1),T5(this,"storagePrefix",SG),T5(this,"init",async()=>{if(!this.initialized){let e=await this.getKeyChain();"u">typeof e&&(this.keychain=e),this.initialized=!0}}),T5(this,"has",e=>(this.isInitialized(),this.keychain.has(e))),T5(this,"set",async(e,t)=>{this.isInitialized(),this.keychain.set(e,t),await this.persist()}),T5(this,"get",e=>{this.isInitialized();let t=this.keychain.get(e);if(typeof t>"u"){let{message:t}=I8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}),T5(this,"del",async e=>{this.isInitialized(),this.keychain.delete(e),await this.persist()}),this.core=e,this.logger=(0,Sb.generateChildLogger)(t,this.name)}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,kJ(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?kY(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var T6=Object.defineProperty,T8=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?T6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class T9{constructor(e,t,r){this.core=e,this.logger=t,T8(this,"name","crypto"),T8(this,"keychain"),T8(this,"randomSessionIdentifier",IP()),T8(this,"initialized",!1),T8(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),T8(this,"hasKeys",e=>(this.isInitialized(),this.keychain.has(e))),T8(this,"getClientId",async()=>{this.isInitialized();let e=await this.getClientSeed(),t=kp.generateKeyPair(e);return kp.encodeIss(t.publicKey)}),T8(this,"generateKeyPair",()=>{let e,t;this.isInitialized();let r=(e=Is.utils.randomPrivateKey(),t=Is.getPublicKey(e),{privateKey:kk(e,IA),publicKey:kk(t,IA)});return this.setPrivateKey(r.publicKey,r.privateKey)}),T8(this,"signJWT",async e=>{this.isInitialized();let t=await this.getClientSeed(),r=kp.generateKeyPair(t),n=this.randomSessionIdentifier;return await kp.signJWT(n,e,SY,r)}),T8(this,"generateSharedKey",(e,t,r)=>{var n,i,a;let o;this.isInitialized();let s=(n=this.getPrivateKey(e),kk((o=Is.getSharedSecret(k_(n,IA),k_(t,IA)),i=void 0,function(e,t,r,n=32){Ek(e),Ex(n);let i=e.outputLen;if(n>255*i)throw Error("Length should be <= 255*HashLen");let a=Math.ceil(n/i);void 0===r&&(r=Aw);let o=new Uint8Array(a*i),s=Ag.create(e,t),l=s._cloneInto(),c=new Uint8Array(s.outputLen);for(let e=0;e<a;e++)Ay[0]=e+1,l.update(0===e?Aw:c).update(r).update(Ay).digestInto(c),o.set(c,i*e),s._cloneInto(l);return s.destroy(),l.destroy(),EI(c,Ay),o.slice(0,n)}(Ch,(a=void 0,Ek(Ch),void 0===a&&(a=new Uint8Array(Ch.outputLen)),Ag(Ch,EF(a),EF(o))),i,32)),IA));return this.setSymKey(s,r)}),T8(this,"setSymKey",async(e,t)=>{this.isInitialized();let r=t||Ij(e);return await this.keychain.set(r,e),r}),T8(this,"deleteKeyPair",async e=>{this.isInitialized(),await this.keychain.del(e)}),T8(this,"deleteSymKey",async e=>{this.isInitialized(),await this.keychain.del(e)}),T8(this,"encode",async(e,t,r)=>{this.isInitialized();let n=IL(r),i=(0,SB.safeJsonStringify)(t);if(2===n.type){var a;let e,t,n;return a=r?.encoding,e=k_("2",IC),t=Eq(12),n=IM({type:e,sealed:k_(i,IT),iv:t}),a===IS?I$(n):n}if(IF(n)){let t=n.senderPublicKey,r=n.receiverPublicKey;e=await this.generateSharedKey(t,r)}let o=this.getSymKey(e),{type:s,senderPublicKey:l}=n;return function(e){var t;let r=(t="u">typeof e.type?e.type:0,k_(`${t}`,IC));if(1===IO(r)&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let n="u">typeof e.senderPublicKey?k_(e.senderPublicKey,IA):void 0,i="u">typeof e.iv?k_(e.iv,IA):Eq(12),a=IM({type:r,sealed:Af(k_(e.symKey,IA),i).encrypt(k_(e.message,IT)),iv:i,senderPublicKey:n});return e.encoding===IS?I$(a):a}({type:s,symKey:o,message:i,senderPublicKey:l,encoding:r?.encoding})}),T8(this,"decode",async(e,t,r)=>{let n;this.isInitialized();let i=IL({type:IO((n=IU({encoded:t,encoding:r?.encoding})).type),senderPublicKey:"u">typeof n.senderPublicKey?kk(n.senderPublicKey,IA):void 0,receiverPublicKey:r?.receiverPublicKey});if(2===i.type){let e=function(e,t){let{sealed:r}=IU({encoded:e,encoding:t});return kk(r,IT)}(t,r?.encoding);return(0,SB.safeJsonParse)(e)}if(IF(i)){let t=i.receiverPublicKey,r=i.senderPublicKey;e=await this.generateSharedKey(t,r)}try{let n=this.getSymKey(e),i=function(e){let t=k_(e.symKey,IA),{sealed:r,iv:n}=IU({encoded:e.encoded,encoding:e.encoding}),i=Af(t,n).decrypt(r);if(null===i)throw Error("Failed to decrypt");return kk(i,IT)}({symKey:n,encoded:t,encoding:r?.encoding});return(0,SB.safeJsonParse)(i)}catch(t){this.logger.error(`Failed to decode message from topic: '${e}', clientId: '${await this.getClientId()}'`),this.logger.error(t)}}),T8(this,"getPayloadType",(e,t=II)=>IO(IU({encoded:e,encoding:t}).type)),T8(this,"getPayloadSenderPublicKey",(e,t=II)=>{let r=IU({encoded:e,encoding:t});return r.senderPublicKey?kk(r.senderPublicKey,IA):void 0}),this.core=e,this.logger=(0,Sb.generateChildLogger)(t,this.name),this.keychain=r||new T4(this.core,this.logger)}get context(){return(0,Sb.getLoggerContext)(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(SJ)}catch{e=IP(),await this.keychain.set(SJ,e)}return function(e,t="utf8"){let r=T2[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?TQ(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var T7=Object.defineProperty,Pe=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,Pr=Object.getOwnPropertySymbols,Pn=Object.prototype.hasOwnProperty,Pi=Object.prototype.propertyIsEnumerable,Pa=(e,t,r)=>t in e?T7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Po=(e,t,r)=>Pa(e,"symbol"!=typeof t?t+"":t,r);class Ps extends SS{constructor(e,t){super(e,t),this.logger=e,this.core=t,Po(this,"messages",new Map),Po(this,"messagesWithoutClientAck",new Map),Po(this,"name","messages"),Po(this,"version","0.3"),Po(this,"initialized",!1),Po(this,"storagePrefix",SG),Po(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let e=await this.getRelayerMessages();"u">typeof e&&(this.messages=e);let t=await this.getRelayerMessagesWithoutClientAck();"u">typeof t&&(this.messagesWithoutClientAck=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}finally{this.initialized=!0}}}),Po(this,"set",async(e,t,r)=>{this.isInitialized();let n=IN(t),i=this.messages.get(e);if(typeof i>"u"&&(i={}),"u">typeof i[n])return n;if(i[n]=t,this.messages.set(e,i),r===Te){let r=this.messagesWithoutClientAck.get(e)||{};this.messagesWithoutClientAck.set(e,Pe(((e,t)=>{for(var r in t||(t={}))Pn.call(t,r)&&Pa(e,r,t[r]);if(Pr)for(var r of Pr(t))Pi.call(t,r)&&Pa(e,r,t[r]);return e})({},r),Pt({[n]:t})))}return await this.persist(),n}),Po(this,"get",e=>{this.isInitialized();let t=this.messages.get(e);return typeof t>"u"&&(t={}),t}),Po(this,"getWithoutAck",e=>{this.isInitialized();let t={};for(let r of e){let e=this.messagesWithoutClientAck.get(r)||{};t[r]=Object.values(e)}return t}),Po(this,"has",(e,t)=>(this.isInitialized(),"u">typeof this.get(e)[IN(t)])),Po(this,"ack",async(e,t)=>{this.isInitialized();let r=this.messagesWithoutClientAck.get(e);if(typeof r>"u")return;let n=IN(t);delete r[n],0===Object.keys(r).length?this.messagesWithoutClientAck.delete(e):this.messagesWithoutClientAck.set(e,r),await this.persist()}),Po(this,"del",async e=>{this.isInitialized(),this.messages.delete(e),this.messagesWithoutClientAck.delete(e),await this.persist()}),this.logger=(0,Sb.generateChildLogger)(e,this.name),this.core=t}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,kJ(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,kJ(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return"u">typeof e?kY(e):void 0}async getRelayerMessagesWithoutClientAck(){let e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return"u">typeof e?kY(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var Pl=Object.defineProperty,Pc=Object.defineProperties,Pd=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertySymbols,Ph=Object.prototype.hasOwnProperty,Pp=Object.prototype.propertyIsEnumerable,Pf=(e,t,r)=>t in e?Pl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pm=(e,t)=>{for(var r in t||(t={}))Ph.call(t,r)&&Pf(e,r,t[r]);if(Pu)for(var r of Pu(t))Pp.call(t,r)&&Pf(e,r,t[r]);return e},Pg=(e,t,r)=>Pf(e,"symbol"!=typeof t?t+"":t,r);class Py extends ST{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Pg(this,"events",new _i.EventEmitter),Pg(this,"name","publisher"),Pg(this,"queue",new Map),Pg(this,"publishTimeout",(0,_o.toMiliseconds)(_o.ONE_MINUTE)),Pg(this,"initialPublishTimeout",(0,_o.toMiliseconds)(15*_o.ONE_SECOND)),Pg(this,"needsTransportRestart",!1),Pg(this,"publish",async(e,t,r)=>{var n,i,a,o,s;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:e,message:t,opts:r}});let l=r?.ttl||SZ,c=r?.prompt||!1,d=r?.tag||0,u=r?.id||(0,Sq.getBigIntRpcId)().toString(),h=IB(ID().protocol),p={id:u,method:r?.publishMethod||h.publish,params:Pm({topic:e,message:t,ttl:l,prompt:c,tag:d,attestation:r?.attestation},r?.tvf&&{tvf:r.tvf})},f=`Failed to publish payload, please try again. id:${u} tag:${d}`;try{St(null==(n=p.params)?void 0:n.prompt)&&(null==(i=p.params)||delete i.prompt),St(null==(a=p.params)?void 0:a.tag)&&(null==(o=p.params)||delete o.tag);let s=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=p.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(S2,t),e())};this.relayer.events.on(S2,t);let n=kQ(new Promise((e,t)=>{this.rpcPublish(p,r).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${u} tag:${d}`);try{await n,this.events.removeListener(S2,t)}catch(e){this.queue.set(u,{request:p,opts:r,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:u,topic:e,message:t,opts:r}}),await kQ(s,this.publishTimeout,f)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(s=r?.internal)&&s.throwOnFailedPublish)throw e}finally{this.queue.delete(u)}}),Pg(this,"publishCustom",async e=>{var t,r,n,i,a;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:e});let{payload:o,opts:s={}}=e,{attestation:l,tvf:c,publishMethod:d,prompt:u,tag:h,ttl:p=_o.FIVE_MINUTES}=s,f=s.id||(0,Sq.getBigIntRpcId)().toString(),m=IB(ID().protocol),g=d||m.publish,y={id:f,method:g,params:Pm(Pc(Pm({},o),Pd({ttl:p,prompt:u,tag:h,attestation:l})),c)},w=`Failed to publish custom payload, please try again. id:${f} tag:${h}`;try{St(null==(t=y.params)?void 0:t.prompt)&&(null==(r=y.params)||delete r.prompt),St(null==(n=y.params)?void 0:n.tag)&&(null==(i=y.params)||delete i.tag);let e=new Promise(async e=>{let t=({id:r})=>{var n;(null==(n=y.id)?void 0:n.toString())===r.toString()&&(this.removeRequestFromQueue(r),this.relayer.events.removeListener(S2,t),e())};this.relayer.events.on(S2,t);let r=kQ(new Promise((e,t)=>{this.rpcPublish(y,s).then(e).catch(e=>{this.logger.warn(e,e?.message),t(e)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${g} id:${f} tag:${h}`);try{await r,this.events.removeListener(S2,t)}catch(e){this.queue.set(f,{request:y,opts:s,attempt:1}),this.logger.warn(e,e?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:f,payload:o,opts:s}}),await kQ(e,this.publishTimeout,w)}catch(e){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(e),null!=(a=s?.internal)&&a.throwOnFailedPublish)throw e}finally{this.queue.delete(f)}}),Pg(this,"on",(e,t)=>{this.events.on(e,t)}),Pg(this,"once",(e,t)=>{this.events.once(e,t)}),Pg(this,"off",(e,t)=>{this.events.off(e,t)}),Pg(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.relayer=e,this.logger=(0,Sb.generateChildLogger)(t,this.name),this.registerEventListeners()}get context(){return(0,Sb.getLoggerContext)(this.logger)}async rpcPublish(e,t){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});let r=await this.relayer.request(e);return this.relayer.events.emit(S2,Pm(Pm({},e),t)),this.logger.debug("Successfully Published Payload"),r}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{var r;let n=e.attempt+1;this.queue.set(t,Pc(Pm({},e),Pd({attempt:n}))),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${null==(r=e.request.params)?void 0:r.tag}, attempt: ${n}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(S1);return}this.checkQueue()}),this.relayer.on(S0,e=>{this.removeRequestFromQueue(e.id.toString())})}}var Pw=Object.defineProperty,Pv=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Pw(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Pb{constructor(){Pv(this,"map",new Map),Pv(this,"set",(e,t)=>{let r=this.get(e);this.exists(e,t)||this.map.set(e,[...r,t])}),Pv(this,"get",e=>this.map.get(e)||[]),Pv(this,"exists",(e,t)=>this.get(e).includes(t)),Pv(this,"delete",(e,t)=>{if(typeof t>"u")return void this.map.delete(e);if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,t))return;let n=r.filter(e=>e!==t);n.length?this.map.set(e,n):this.map.delete(e)}),Pv(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var Px=Object.defineProperty,P_=Object.defineProperties,Pk=Object.getOwnPropertyDescriptors,PE=Object.getOwnPropertySymbols,PC=Object.prototype.hasOwnProperty,PA=Object.prototype.propertyIsEnumerable,PI=(e,t,r)=>t in e?Px(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PS=(e,t)=>{for(var r in t||(t={}))PC.call(t,r)&&PI(e,r,t[r]);if(PE)for(var r of PE(t))PA.call(t,r)&&PI(e,r,t[r]);return e},PT=(e,t,r)=>PI(e,"symbol"!=typeof t?t+"":t,r);class PP extends SN{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,PT(this,"subscriptions",new Map),PT(this,"topicMap",new Pb),PT(this,"events",new _i.EventEmitter),PT(this,"name","subscription"),PT(this,"version","0.3"),PT(this,"pending",new Map),PT(this,"cached",[]),PT(this,"initialized",!1),PT(this,"storagePrefix",SG),PT(this,"subscribeTimeout",(0,_o.toMiliseconds)(_o.ONE_MINUTE)),PT(this,"initialSubscribeTimeout",(0,_o.toMiliseconds)(15*_o.ONE_SECOND)),PT(this,"clientId"),PT(this,"batchSubscribeTopicsLimit",500),PT(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),PT(this,"subscribe",async(e,t)=>{var r;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}});try{let n=ID(t),i={topic:e,relay:n,transportType:t?.transportType};null!=(r=t?.internal)&&r.skipSubscribe||this.pending.set(e,i);let a=await this.rpcSubscribe(e,n,t);return"string"==typeof a&&(this.onSubscribe(a,i),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:e,opts:t}})),a}catch(e){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(e),e}}),PT(this,"unsubscribe",async(e,t)=>{this.isInitialized(),"u">typeof t?.id?await this.unsubscribeById(e,t.id,t):await this.unsubscribeByTopic(e,t)}),PT(this,"isSubscribed",e=>new Promise(t=>{t(this.topicMap.topics.includes(e))})),PT(this,"isKnownTopic",e=>new Promise(t=>{t(this.topicMap.topics.includes(e)||this.pending.has(e)||this.cached.some(t=>t.topic===e))})),PT(this,"on",(e,t)=>{this.events.on(e,t)}),PT(this,"once",(e,t)=>{this.events.once(e,t)}),PT(this,"off",(e,t)=>{this.events.off(e,t)}),PT(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),PT(this,"start",async()=>{await this.onConnect()}),PT(this,"stop",async()=>{await this.onDisconnect()}),PT(this,"restart",async()=>{await this.restore(),await this.onRestart()}),PT(this,"checkPending",async()=>{if(0===this.pending.size&&(!this.initialized||!this.relayer.connected))return;let e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}),PT(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.events.on(Tr,async e=>{this.logger.info(`Emitting ${Tr}`),this.logger.debug({type:"event",event:Tr,data:e}),await this.persist()}),this.events.on(Tn,async e=>{this.logger.info(`Emitting ${Tn}`),this.logger.debug({type:"event",event:Tn,data:e}),await this.persist()})}),this.relayer=e,this.logger=(0,Sb.generateChildLogger)(t,this.name),this.clientId=""}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let r=!1;try{r=this.getSubscription(e).topic===t}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){let r=this.topicMap.get(e);await Promise.all(r.map(async r=>await this.unsubscribeById(e,r,t)))}async unsubscribeById(e,t,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}});try{let n=ID(r);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);let i=I9("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:r}})}catch(e){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(e),e}}async rpcSubscribe(e,t,r){var n,i;let a=await this.getSubscriptionId(e);if(null!=(n=r?.internal)&&n.skipSubscribe)return a;r&&r?.transportType!==S7||await this.restartToComplete({topic:e,id:e,relay:t});let o={method:IB(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});let s=null==(i=r?.internal)?void 0:i.throwOnFailedPublish;try{if(r?.transportType===S9)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(e=>this.logger.warn(e))},(0,_o.toMiliseconds)(_o.ONE_SECOND)),a;let t=new Promise(async t=>{let r=n=>{n.topic===e&&(this.events.removeListener(Tr,r),t(n.id))};this.events.on(Tr,r);try{let n=await kQ(new Promise((e,t)=>{this.relayer.request(o).catch(e=>{this.logger.warn(e,e?.message),t(e)}).then(e)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Tr,r),t(n)}catch{}}),n=await kQ(t,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!n&&s)throw Error(`Subscribing to ${e} failed, please try again`);return n?a:null}catch(e){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(S1),s)throw e}return null}async rpcBatchSubscribe(e){if(!e.length)return;let t={method:IB(e[0].relay.protocol).batchSubscribe,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:t});try{await await kQ(new Promise(e=>{this.relayer.request(t).catch(e=>this.logger.warn(e)).then(e)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(S1)}}async rpcBatchFetchMessages(e){let t;if(!e.length)return;let r={method:IB(e[0].relay.protocol).batchFetchMessages,params:{topics:e.map(e=>e.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{t=await await kQ(new Promise((e,t)=>{this.relayer.request(r).catch(e=>{this.logger.warn(e),t(e)}).then(e)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(S1)}return t}rpcUnsubscribe(e,t,r){let n={method:IB(r.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,P_(PS({},t),Pk({id:e}))),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(e=>{this.setSubscription(e.id,PS({},e)),this.pending.delete(e.topic)})}async onUnsubscribe(e,t,r){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,PS({},t)),this.topicMap.set(t.topic,e),this.events.emit(Tr,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let t=this.subscriptions.get(e);if(!t){let{message:t}=I8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Tn,P_(PS({},r),Pk({reason:t})))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit("subscription_sync")}async onRestart(){if(this.cached.length){let e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){let t=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(t)}}this.events.emit("subscription_resubscribed")}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(e=>{var t;return e.topic===(null==(t=this.subscriptions.get(e.id))?void 0:t.topic)})){let{message:e}=I8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async e=>P_(PS({},e),Pk({id:await this.getSubscriptionId(e.topic)}))))))}async batchFetchMessages(e){var t;if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);let r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await (t=(0,_o.toMiliseconds)(_o.ONE_SECOND),new Promise(e=>setTimeout(e,t))),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}async restartToComplete(e){this.relayer.connected||this.relayer.connecting||(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return IN(e+await this.getClientId())}}var Pj=Object.defineProperty,PN=Object.getOwnPropertySymbols,PO=Object.prototype.hasOwnProperty,P$=Object.prototype.propertyIsEnumerable,PR=(e,t,r)=>t in e?Pj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PM=(e,t)=>{for(var r in t||(t={}))PO.call(t,r)&&PR(e,r,t[r]);if(PN)for(var r of PN(t))P$.call(t,r)&&PR(e,r,t[r]);return e},PU=(e,t,r)=>PR(e,"symbol"!=typeof t?t+"":t,r);class PL extends SP{constructor(t){super(t),PU(this,"protocol","wc"),PU(this,"version",2),PU(this,"core"),PU(this,"logger"),PU(this,"events",new _i.EventEmitter),PU(this,"provider"),PU(this,"messages"),PU(this,"subscriber"),PU(this,"publisher"),PU(this,"name","relayer"),PU(this,"transportExplicitlyClosed",!1),PU(this,"initialized",!1),PU(this,"connectionAttemptInProgress",!1),PU(this,"relayUrl"),PU(this,"projectId"),PU(this,"packageName"),PU(this,"bundleId"),PU(this,"hasExperiencedNetworkDisruption",!1),PU(this,"pingTimeout"),PU(this,"heartBeatTimeout",(0,_o.toMiliseconds)(_o.THIRTY_SECONDS+_o.FIVE_SECONDS)),PU(this,"reconnectTimeout"),PU(this,"connectPromise"),PU(this,"reconnectInProgress",!1),PU(this,"requestsInFlight",[]),PU(this,"connectTimeout",(0,_o.toMiliseconds)(15*_o.ONE_SECOND)),PU(this,"request",async e=>{var t,r;this.logger.debug("Publishing Request Payload");let n=e.id||(0,Sq.getBigIntRpcId)().toString();await this.toEstablishConnection();try{this.logger.trace({id:n,method:e.method,topic:null==(t=e.params)?void 0:t.topic},"relayer.request - publishing...");let i=`${n}:${(null==(r=e.params)?void 0:r.tag)||""}`;this.requestsInFlight.push(i);let a=await this.provider.request(e);return this.requestsInFlight=this.requestsInFlight.filter(e=>e!==i),a}catch(e){throw this.logger.debug(`Failed to Publish Request: ${n}`),e}}),PU(this,"resetPingTimeout",()=>{kB()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var e,t,r,n;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),null==(n=null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.terminate)||n.call(r)}catch(e){this.logger.warn(e,e?.message)}},this.heartBeatTimeout))}),PU(this,"onPayloadHandler",e=>{this.onProviderPayload(e),this.resetPingTimeout()}),PU(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit("relayer_connect")}),PU(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),PU(this,"onProviderErrorHandler",e=>{this.logger.fatal(`Fatal socket error: ${e.message}`),this.events.emit("relayer_error",e),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),PU(this,"registerProviderListeners",()=>{this.provider.on(S3,this.onPayloadHandler),this.provider.on(S5,this.onConnectHandler),this.provider.on(S4,this.onDisconnectHandler),this.provider.on(S6,this.onProviderErrorHandler)}),this.core=t.core,this.logger="u">typeof t.logger&&"string"!=typeof t.logger?(0,Sb.generateChildLogger)(t.logger,this.name):(0,Sx.pino)((0,Sb.getDefaultLoggerOptions)({level:t.logger||"error"})),this.messages=new Ps(this.logger,t.core),this.subscriber=new PP(this,this.logger),this.publisher=new Py(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||SQ,kW()&&"u">typeof(null==e.g?void 0:e.g.Platform)&&(null==e.g?void 0:e.g.Platform.OS)==="android"?this.packageName=kV():kW()&&"u">typeof(null==e.g?void 0:e.g.Platform)&&(null==e.g?void 0:e.g.Platform.OS)==="ios"&&(this.bundleId=kV()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return(0,Sb.getLoggerContext)(this.logger)}get connected(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===1}get connecting(){var e,t,r;return(null==(r=null==(t=null==(e=this.provider)?void 0:e.connection)?void 0:t.socket)?void 0:r.readyState)===0||void 0!==this.connectPromise}async publish(e,t,r){this.isInitialized(),await this.publisher.publish(e,t,r),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:S7},"outbound")}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,t){var r,n,i;this.isInitialized(),null!=t&&t.transportType&&t?.transportType!=="relay"||await this.toEstablishConnection();let a=typeof(null==(r=t?.internal)?void 0:r.throwOnFailedPublish)>"u"||(null==(n=t?.internal)?void 0:n.throwOnFailedPublish),o=(null==(i=this.subscriber.topicMap.get(e))?void 0:i[0])||"",s,l=t=>{t.topic===e&&(this.subscriber.off(Tr,l),s())};return await Promise.all([new Promise(e=>{s=e,this.subscriber.on(Tr,l)}),new Promise(async(r,n)=>{o=await this.subscriber.subscribe(e,PM({internal:{throwOnFailedPublish:a}},t)).catch(e=>{a&&n(e)})||o,r()})]),o}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await kQ(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics)return void this.logger.info("Starting WS connection skipped because the client has no topics to work with.");if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,r)=>{await this.connect(e).then(t).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Sp())throw Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0)return void this.logger.trace("Batch message events is empty. Ignoring...");let t=e.sort((e,t)=>e.publishedAt-t.publishedAt);for(let e of(this.logger.debug(`Batch of ${t.length} message events sorted`),t))try{await this.onMessageEvent(e)}catch(e){this.logger.warn(e,"Error while processing batch message event: "+e?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){let{topic:r}=e;if(!t.sessionExists){let e=k1(_o.FIVE_MINUTES);await this.core.pairing.pairings.set(r,{topic:r,expiry:e,relay:{protocol:"irn"},active:!1})}this.events.emit(SX,e),await this.recordMessageEvent(e,Te)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(e,t)=>{let r=()=>{t(Error("Connection interrupted while trying to connect"))};this.provider.once(S4,r),await kQ(new Promise((e,t)=>{this.provider.connect().then(e).catch(t)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(e=>{t(e)}).finally(()=>{this.provider.off(S4,r),clearTimeout(this.reconnectTimeout)}),await new Promise(async(e,r)=>{let n=()=>{t(Error("Connection interrupted while trying to subscribe"))};this.provider.once(S4,n),await this.subscriber.start().then(e).catch(r).finally(()=>{this.provider.off(S4,n)})}),this.hasExperiencedNetworkDisruption=!1,e()})}catch(e){await this.subscriber.stop(),this.logger.warn({},e.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(e=>setTimeout(e,(0,_o.toMiliseconds)(+t))),t++}}startPingTimeout(){var e,t,r,n,i;if(kB())try{null!=(t=null==(e=this.provider)?void 0:e.connection)&&t.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(e){this.logger.warn(e,e?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new SW.JsonRpcProvider(new SV.default(function({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:i,projectId:a,useOnCloseEvent:o,bundleId:s,packageName:l}){let c=r.split("?"),d=kG(e,t,n),u=function(e,t){let r=new URLSearchParams(e);for(let e of Object.keys(t).sort())if(t.hasOwnProperty(e)){let n=t[e];void 0!==n&&r.set(e,n)}return r.toString()}(c[1]||"",{auth:i,ua:d,projectId:a,useOnCloseEvent:o||void 0,packageName:l||void 0,bundleId:s||void 0});return c[0]+"?"+u}({sdkVersion:S8,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){let{topic:r,message:n}=e;await this.messages.set(r,n,t)}async shouldIgnoreMessageEvent(e){let{topic:t,message:r}=e;if(!r||0===r.length)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;let n=this.messages.has(t,r);return n&&this.logger.warn(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),(0,Sz.isJsonRpcRequest)(e)){if(!e.method.endsWith("_subscription"))return;let t=e.params,{topic:r,message:n,publishedAt:i,attestation:a}=t.data,o={topic:r,message:n,publishedAt:i,transportType:S7,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(PM({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else(0,Sz.isJsonRpcResponse)(e)&&this.events.emit(S0,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Te),this.events.emit(SX,e))}async acknowledgePayload(e){let t=(0,Sq.formatJsonRpcResult)(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(S3,this.onPayloadHandler),this.provider.off(S5,this.onConnectHandler),this.provider.off(S4,this.onDisconnectHandler),this.provider.off(S6,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Sp();(function(t){var r,n;switch(kz()){case kD:r=t,!kW()&&kq()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)));break;case kL:n=t,kW()&&null!=e.g&&e.g.NetInfo&&e.g?.NetInfo.addEventListener(e=>n(e?.isConnected))}})(async e=>{t!==e&&(t=e,e?await this.transportOpen().catch(e=>this.logger.error(e,e?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,async()=>{var e;if(!this.transportExplicitlyClosed&&!this.connected&&(!(kq()&&(0,_s.getDocument)())||(null==(e=(0,_s.getDocument)())?void 0:e.visibilityState)==="visible"))try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit("relayer_disconnect"),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,_o.toMiliseconds)(.1)))))}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise)return void await this.connectPromise;await this.connect()}}}function PF(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function PD(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let PB="[object Arguments]",PW="[object Object]";function Pq(){}function Pz(e){if(!e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&"[object Object]"===Object.prototype.toString.call(e)}var PV=Object.defineProperty,PH=Object.getOwnPropertySymbols,PG=Object.prototype.hasOwnProperty,PK=Object.prototype.propertyIsEnumerable,PJ=(e,t,r)=>t in e?PV(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PY=(e,t)=>{for(var r in t||(t={}))PG.call(t,r)&&PJ(e,r,t[r]);if(PH)for(var r of PH(t))PK.call(t,r)&&PJ(e,r,t[r]);return e},PZ=(e,t,r)=>PJ(e,"symbol"!=typeof t?t+"":t,r);class PQ extends Sj{constructor(e,t,r,n=SG,i){super(e,t,r,n),this.core=e,this.logger=t,this.name=r,PZ(this,"map",new Map),PZ(this,"version","0.3"),PZ(this,"cached",[]),PZ(this,"initialized",!1),PZ(this,"getKey"),PZ(this,"storagePrefix",SG),PZ(this,"recentlyDeleted",[]),PZ(this,"recentlyDeletedLimit",200),PZ(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>{var t;this.getKey&&null!==e&&!St(e)?this.map.set(this.getKey(e),e):(null==(t=e?.proposer)?void 0:t.publicKey)?this.map.set(e.id,e):e?.topic&&this.map.set(e.topic,e)}),this.cached=[],this.initialized=!0)}),PZ(this,"set",async(e,t)=>{this.isInitialized(),this.map.has(e)?await this.update(e,t):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:e,value:t}),this.map.set(e,t),await this.persist())}),PZ(this,"get",e=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:e}),this.getData(e))),PZ(this,"getAll",e=>(this.isInitialized(),e?this.values.filter(t=>Object.keys(e).every(r=>{var n;return n=t[r],function e(t,r,n,i,a,o,s){let l=s(t,r,n,i,a,o);if(void 0!==l)return l;if(typeof t==typeof r)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":case"function":return t===r;case"number":return t===r||Object.is(t,r)}return function t(r,n,i,a){if(Object.is(r,n))return!0;let o=PD(r),s=PD(n);if(o===PB&&(o=PW),s===PB&&(s=PW),o!==s)return!1;switch(o){case"[object String]":return r.toString()===n.toString();case"[object Number]":{let e=r.valueOf(),t=n.valueOf();return e===t||Number.isNaN(e)&&Number.isNaN(t)}case"[object Boolean]":case"[object Date]":case"[object Symbol]":return Object.is(r.valueOf(),n.valueOf());case"[object RegExp]":return r.source===n.source&&r.flags===n.flags;case"[object Function]":return r===n}let l=(i=i??new Map).get(r),c=i.get(n);if(null!=l&&null!=c)return l===n;i.set(r,n),i.set(n,r);try{switch(o){case"[object Map]":if(r.size!==n.size)return!1;for(let[t,o]of r.entries())if(!n.has(t)||!e(o,n.get(t),t,r,n,i,a))return!1;return!0;case"[object Set]":{if(r.size!==n.size)return!1;let t=Array.from(r.values()),o=Array.from(n.values());for(let s=0;s<t.length;s++){let l=t[s],c=o.findIndex(t=>e(l,t,void 0,r,n,i,a));if(-1===c)return!1;o.splice(c,1)}return!0}case"[object Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object BigUint64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object BigInt64Array]":case"[object Float32Array]":case"[object Float64Array]":if("u">typeof V.Buffer&&V.Buffer.isBuffer(r)!==V.Buffer.isBuffer(n)||r.length!==n.length)return!1;for(let t=0;t<r.length;t++)if(!e(r[t],n[t],t,r,n,i,a))return!1;return!0;case"[object ArrayBuffer]":return r.byteLength===n.byteLength&&t(new Uint8Array(r),new Uint8Array(n),i,a);case"[object DataView]":return r.byteLength===n.byteLength&&r.byteOffset===n.byteOffset&&t(new Uint8Array(r),new Uint8Array(n),i,a);case"[object Error]":return r.name===n.name&&r.message===n.message;case PW:{if(!(t(r.constructor,n.constructor,i,a)||Pz(r)&&Pz(n)))return!1;let o=[...Object.keys(r),...PF(r)],s=[...Object.keys(n),...PF(n)];if(o.length!==s.length)return!1;for(let t=0;t<o.length;t++){let s=o[t],l=r[s];if(!Object.hasOwn(n,s))return!1;let c=n[s];if(!e(l,c,s,r,n,i,a))return!1}return!0}default:return!1}}finally{i.delete(r),i.delete(n)}}(t,r,o,s)}(n,e[r],void 0,void 0,void 0,void 0,Pq)})):this.values)),PZ(this,"update",async(e,t)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:e,update:t});let r=PY(PY({},this.getData(e)),t);this.map.set(e,r),await this.persist()}),PZ(this,"delete",async(e,t)=>{this.isInitialized(),this.map.has(e)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:e,reason:t}),this.map.delete(e),this.addToRecentlyDeleted(e),await this.persist())}),this.logger=(0,Sb.generateChildLogger)(t,this.name),this.storagePrefix=n,this.getKey=i}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){let{message:t}=I8("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(t),Error(t)}let{message:t}=I8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(t),Error(t)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:e}=I8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var PX=Object.defineProperty,P0=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?PX(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class P1{constructor(e,t){this.core=e,this.logger=t,P0(this,"name","pairing"),P0(this,"version","0.3"),P0(this,"events",new _i.default),P0(this,"pairings"),P0(this,"initialized",!1),P0(this,"storagePrefix",SG),P0(this,"ignoredPayloadTypes",[1]),P0(this,"registeredMethods",[]),P0(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),P0(this,"register",({methods:e})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...e])]}),P0(this,"create",async e=>{this.isInitialized();let t=IP(),r=await this.core.crypto.setSymKey(t),n=k1(_o.FIVE_MINUTES),i={protocol:"irn"},a={topic:r,expiry:n,relay:i,active:!1,methods:e?.methods},o=Iq({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:t,relay:i,expiryTimestamp:n,methods:e?.methods});return this.events.emit(Ta,a),this.core.expirer.set(r,n),await this.pairings.set(r,a),await this.core.relayer.subscribe(r,{transportType:e?.transportType,internal:e?.internal}),{topic:r,uri:o}}),P0(this,"pair",async e=>{let t;this.isInitialized();let r=this.core.eventClient.createEvent({properties:{topic:e?.uri,trace:["pairing_started"]}});this.isValidPair(e,r);let{topic:n,symKey:i,relay:a,expiryTimestamp:o,methods:s}=IW(e.uri);if(r.props.properties.topic=n,r.addTrace("pairing_uri_validation_success"),r.addTrace("pairing_uri_not_expired"),this.pairings.keys.includes(n)){if(t=this.pairings.get(n),r.addTrace("existing_pairing"),t.active)throw r.setError("active_pairing_already_exists"),Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);r.addTrace("pairing_not_expired")}let l=o||k1(_o.FIVE_MINUTES),c={topic:n,relay:a,expiry:l,active:!1,methods:s};this.core.expirer.set(n,l),await this.pairings.set(n,c),r.addTrace("store_new_pairing"),e.activatePairing&&await this.activate({topic:n}),this.events.emit(Ta,c),r.addTrace("emit_inactive_pairing"),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(i,n),r.addTrace("subscribing_pairing_topic");try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{r.setError("no_internet_connection")}try{await this.core.relayer.subscribe(n,{relay:a})}catch(e){throw r.setError("subscribe_pairing_topic_failure"),e}return r.addTrace("subscribe_pairing_topic_success"),c}),P0(this,"activate",async({topic:e})=>{this.isInitialized();let t=k1(_o.FIVE_MINUTES);this.core.expirer.set(e,t),await this.pairings.update(e,{active:!0,expiry:t})}),P0(this,"ping",async e=>{this.isInitialized(),await this.isValidPing(e),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:t}=e;if(this.pairings.keys.includes(t)){let e=await this.sendRequest(t,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=kZ();this.events.once(k3("pairing_ping",e),({error:e})=>{e?i(e):n()}),await r()}}),P0(this,"updateExpiry",async({topic:e,expiry:t})=>{this.isInitialized(),await this.pairings.update(e,{expiry:t})}),P0(this,"updateMetadata",async({topic:e,metadata:t})=>{this.isInitialized(),await this.pairings.update(e,{peerMetadata:t})}),P0(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),P0(this,"disconnect",async e=>{this.isInitialized(),await this.isValidDisconnect(e);let{topic:t}=e;this.pairings.keys.includes(t)&&(await this.sendRequest(t,"wc_pairingDelete",I9("USER_DISCONNECTED")),await this.deletePairing(t))}),P0(this,"formatUriFromPairing",e=>{this.isInitialized();let{topic:t,relay:r,expiry:n,methods:i}=e,a=this.core.crypto.keychain.get(t);return Iq({protocol:this.core.protocol,version:this.core.version,topic:t,symKey:a,relay:r,expiryTimestamp:n,methods:i})}),P0(this,"sendRequest",async(e,t,r)=>{let n=(0,Sq.formatJsonRpcRequest)(t,r),i=await this.core.crypto.encode(e,n),a=Ti[t].req;return this.core.history.set(e,n),this.core.relayer.publish(e,i,a),n.id}),P0(this,"sendResult",async(e,t,r)=>{let n=(0,Sq.formatJsonRpcResult)(e,r),i=await this.core.crypto.encode(t,n),a=Ti[(await this.core.history.get(t,e)).request.method].res;await this.core.relayer.publish(t,i,a),await this.core.history.resolve(n)}),P0(this,"sendError",async(e,t,r)=>{let n=(0,Sq.formatJsonRpcError)(e,r),i=await this.core.crypto.encode(t,n),a=(await this.core.history.get(t,e)).request.method,o=Ti[a]?Ti[a].res:Ti.unregistered_method.res;await this.core.relayer.publish(t,i,o),await this.core.history.resolve(n)}),P0(this,"deletePairing",async(e,t)=>{await this.core.relayer.unsubscribe(e),await Promise.all([this.pairings.delete(e,I9("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(e),t?Promise.resolve():this.core.expirer.del(e)])}),P0(this,"cleanup",async()=>{let e=this.pairings.getAll().filter(e=>k2(e.expiry));await Promise.all(e.map(e=>this.deletePairing(e.topic)))}),P0(this,"onRelayEventRequest",async e=>{let{topic:t,payload:r}=e;switch(r.method){case"wc_pairingPing":return await this.onPairingPingRequest(t,r);case"wc_pairingDelete":return await this.onPairingDeleteRequest(t,r);default:return await this.onUnknownRpcMethodRequest(t,r)}}),P0(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r}=e,n=(await this.core.history.get(t,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(t,r):this.onUnknownRpcMethodResponse(n)}),P0(this,"onPairingPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult(r,e,!0),this.events.emit("pairing_ping",{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),P0(this,"onPairingPingResponse",(e,t)=>{let{id:r}=t;setTimeout(()=>{(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("pairing_ping",r),{}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("pairing_ping",r),{error:t.error})},500)}),P0(this,"onPairingDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e}),await this.deletePairing(e),this.events.emit(To,{id:r,topic:e})}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),P0(this,"onUnknownRpcMethodRequest",async(e,t)=>{let{id:r,method:n}=t;try{if(this.registeredMethods.includes(n))return;let t=I9("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,e,t),this.logger.error(t)}catch(t){await this.sendError(r,e,t),this.logger.error(t)}}),P0(this,"onUnknownRpcMethodResponse",e=>{this.registeredMethods.includes(e)||this.logger.error(I9("WC_METHOD_UNSUPPORTED",e))}),P0(this,"isValidPair",(e,t)=>{var r;if(!Sc(e)){let{message:r}=I8("MISSING_OR_INVALID",`pair() params: ${e}`);throw t.setError(Tg),Error(r)}if(!function(e){function t(e){try{return"u">typeof new URL(e)}catch{return!1}}try{if(Sr(e,!1)){if(t(e))return!0;let r=Ee(e);return t(r)}}catch{}return!1}(e.uri)){let{message:r}=I8("MISSING_OR_INVALID",`pair() uri: ${e.uri}`);throw t.setError(Tg),Error(r)}let n=IW(e?.uri);if(!(null!=(r=n?.relay)&&r.protocol)){let{message:e}=I8("MISSING_OR_INVALID","pair() uri#relay-protocol");throw t.setError(Tg),Error(e)}if(!(null!=n&&n.symKey)){let{message:e}=I8("MISSING_OR_INVALID","pair() uri#symKey");throw t.setError(Tg),Error(e)}if(null!=n&&n.expiryTimestamp&&(0,_o.toMiliseconds)(n?.expiryTimestamp)<Date.now()){t.setError("pairing_expired");let{message:e}=I8("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw Error(e)}}),P0(this,"isValidPing",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),P0(this,"isValidDisconnect",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidPairingTopic(t)}),P0(this,"isValidPairingTopic",async e=>{if(!Sr(e,!1)){let{message:t}=I8("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.pairings.keys.includes(e)){let{message:t}=I8("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(k2(this.pairings.get(e).expiry)){await this.deletePairing(e);let{message:t}=I8("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}),this.core=e,this.logger=(0,Sb.generateChildLogger)(t,this.name),this.pairings=new PQ(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,Sb.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}registerRelayerEvents(){this.core.relayer.on(SX,async e=>{let{topic:t,message:r,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==S9&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{let e=await this.core.crypto.decode(t,r);(0,Sz.isJsonRpcRequest)(e)?(this.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e})):(0,Sz.isJsonRpcResponse)(e)&&(await this.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e}),this.core.history.delete(t,e.id)),await this.core.relayer.messages.ack(t,r)}catch(e){this.logger.error(e)}})}registerExpirerEvents(){this.core.expirer.on(Th,async e=>{let{topic:t}=k0(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}var P2=Object.defineProperty,P3=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?P2(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class P5 extends SI{constructor(e,t){super(e,t),this.core=e,this.logger=t,P3(this,"records",new Map),P3(this,"events",new _i.EventEmitter),P3(this,"name","history"),P3(this,"version","0.3"),P3(this,"cached",[]),P3(this,"initialized",!1),P3(this,"storagePrefix",SG),P3(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.records.set(e.id,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),P3(this,"set",(e,t,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:e,request:t,chainId:r}),this.records.has(t.id))return;let n={id:t.id,topic:e,request:{method:t.method,params:t.params||null},chainId:r,expiry:k1(_o.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(Ts,n)}),P3(this,"resolve",async e=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:e}),!this.records.has(e.id))return;let t=await this.getRecord(e.id);typeof t.response>"u"&&(t.response=(0,Sz.isJsonRpcError)(e)?{error:e.error}:{result:e.result},this.records.set(t.id,t),this.persist(),this.events.emit(Tl,t))}),P3(this,"get",async(e,t)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:e,id:t}),await this.getRecord(t))),P3(this,"delete",(e,t)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:t}),this.values.forEach(r=>{r.topic===e&&("u">typeof t&&r.id!==t||(this.records.delete(r.id),this.events.emit(Tc,r)))}),this.persist()}),P3(this,"exists",async(e,t)=>(this.isInitialized(),!!this.records.has(t)&&(await this.getRecord(t)).topic===e)),P3(this,"on",(e,t)=>{this.events.on(e,t)}),P3(this,"once",(e,t)=>{this.events.once(e,t)}),P3(this,"off",(e,t)=>{this.events.off(e,t)}),P3(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Sb.generateChildLogger)(t,this.name)}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(t=>{if("u">typeof t.response)return;let r={topic:t.topic,request:(0,Sq.formatJsonRpcRequest)(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let t=this.records.get(e);if(!t){let{message:t}=I8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw Error(t)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit("history_sync")}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:e}=I8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ts,e=>{this.logger.info(`Emitting ${Ts}`),this.logger.debug({type:"event",event:Ts,record:e})}),this.events.on(Tl,e=>{this.logger.info(`Emitting ${Tl}`),this.logger.debug({type:"event",event:Tl,record:e})}),this.events.on(Tc,e=>{this.logger.info(`Emitting ${Tc}`),this.logger.debug({type:"event",event:Tc,record:e})}),this.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{(0,_o.toMiliseconds)(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Tc,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var P4=Object.defineProperty,P6=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?P4(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class P8 extends SO{constructor(e,t){super(e,t),this.core=e,this.logger=t,P6(this,"expirations",new Map),P6(this,"events",new _i.EventEmitter),P6(this,"name","expirer"),P6(this,"version","0.3"),P6(this,"cached",[]),P6(this,"initialized",!1),P6(this,"storagePrefix",SG),P6(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(e=>this.expirations.set(e.target,e)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),P6(this,"has",e=>{try{let t=this.formatTarget(e);return"u">typeof this.getExpiration(t)}catch{return!1}}),P6(this,"set",(e,t)=>{this.isInitialized();let r=this.formatTarget(e),n={target:r,expiry:t};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(Td,{target:r,expiration:n})}),P6(this,"get",e=>{this.isInitialized();let t=this.formatTarget(e);return this.getExpiration(t)}),P6(this,"del",e=>{if(this.isInitialized(),this.has(e)){let t=this.formatTarget(e),r=this.getExpiration(t);this.expirations.delete(t),this.events.emit(Tu,{target:t,expiration:r})}}),P6(this,"on",(e,t)=>{this.events.on(e,t)}),P6(this,"once",(e,t)=>{this.events.once(e,t)}),P6(this,"off",(e,t)=>{this.events.off(e,t)}),P6(this,"removeListener",(e,t)=>{this.events.removeListener(e,t)}),this.logger=(0,Sb.generateChildLogger)(t,this.name)}get context(){return(0,Sb.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if("string"==typeof e)return kX("topic",e);if("number"==typeof e)return kX("id",e);let{message:t}=I8("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit("expirer_sync")}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:e}=I8("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(e),Error(e)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let t=this.expirations.get(e);if(!t){let{message:t}=I8("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(t),Error(t)}return t}checkExpiry(e,t){let{expiry:r}=t;(0,_o.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Th,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Td,e=>{this.logger.info(`Emitting ${Td}`),this.logger.debug({type:"event",event:Td,data:e}),this.persist()}),this.events.on(Th,e=>{this.logger.info(`Emitting ${Th}`),this.logger.debug({type:"event",event:Th,data:e}),this.persist()}),this.events.on(Tu,e=>{this.logger.info(`Emitting ${Tu}`),this.logger.debug({type:"event",event:Tu,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}}var P9=Object.defineProperty,P7=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?P9(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class je extends S${constructor(e,t,r){super(e,t,r),this.core=e,this.logger=t,this.store=r,P7(this,"name","verify-api"),P7(this,"abortController"),P7(this,"isDevEnv"),P7(this,"verifyUrlV3",Tf),P7(this,"storagePrefix",SG),P7(this,"version",2),P7(this,"publicKey"),P7(this,"fetchPromise"),P7(this,"init",async()=>{var e;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,_o.toMiliseconds)(null==(e=this.publicKey)?void 0:e.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),P7(this,"register",async e=>{if(!kq()||this.isDevEnv)return;let t=window.location.origin,{id:r,decryptedId:n}=e,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${t}&id=${r}&decryptedId=${n}`;try{let e=(0,_s.getDocument)(),t=this.startAbortTimer(5*_o.ONE_SECOND),n=await new Promise((n,a)=>{let o=()=>{window.removeEventListener("message",l),e.body.removeChild(s),a("attestation aborted")};this.abortController.signal.addEventListener("abort",o);let s=e.createElement("iframe");s.src=i,s.style.display="none",s.addEventListener("error",o,{signal:this.abortController.signal});let l=i=>{if(i.data&&"string"==typeof i.data)try{let a=JSON.parse(i.data);if("verify_attestation"===a.type){if((0,kp.decodeJWT)(a.attestation).payload.id!==r)return;clearInterval(t),e.body.removeChild(s),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",l),n(null===a.attestation?"":a.attestation)}}catch(e){this.logger.warn(e)}};e.body.appendChild(s),window.addEventListener("message",l,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",n),n}catch(e){this.logger.warn(e)}return""}),P7(this,"resolve",async e=>{if(this.isDevEnv)return"";let{attestationId:t,hash:r,encryptedId:n}=e;if(""===t)return void this.logger.debug("resolve: attestationId is empty, skipping");if(t){if((0,kp.decodeJWT)(t).payload.id!==n)return;let e=await this.isValidJwtAttestation(t);if(e)return e.isVerified?e:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;let i=this.getVerifyUrl(e?.verifyUrl);return this.fetchAttestation(r,i)}),P7(this,"fetchAttestation",async(e,t)=>{this.logger.debug(`resolving attestation: ${e} from url: ${t}`);let r=this.startAbortTimer(5*_o.ONE_SECOND),n=await fetch(`${t}/attestation/${e}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0}),P7(this,"getVerifyUrl",e=>{let t=e||Tp;return Tm.includes(t)||(this.logger.info(`verify url: ${t}, not included in trusted list, assigning default: ${Tp}`),t=Tp),t}),P7(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let e=this.startAbortTimer(_o.FIVE_SECONDS),t=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(e),await t.json()}catch(e){this.logger.warn(e)}}),P7(this,"persistPublicKey",async e=>{this.logger.debug("persisting public key to local storage",e),await this.store.setItem(this.storeKey,e),this.publicKey=e}),P7(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),P7(this,"isValidJwtAttestation",async e=>{let t=await this.getPublicKey();try{if(t)return this.validateAttestation(e,t)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}let r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(e,r)}catch(e){this.logger.error(e),this.logger.warn("error validating attestation")}}),P7(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),P7(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async e=>{let t=await this.fetchPublicKey();t&&(await this.persistPublicKey(t),e(t))});let e=await this.fetchPromise;return this.fetchPromise=void 0,e}),P7(this,"validateAttestation",(e,t)=>{let r=function(e,t){let r,n,[i,a,o]=e.split("."),s=V.Buffer.from(IR(o),"base64");if(64!==s.length)throw Error("Invalid signature length");let l=s.slice(0,32),c=s.slice(32,64),d=Ch(`${i}.${a}`),u=(r=V.Buffer.from(t.x,"base64"),n=V.Buffer.from(t.y,"base64"),kg([new Uint8Array([4]),r,n]));if(!IE.verify(kg([l,c]),d,u))throw Error("Invalid signature");return(0,kp.decodeJWT)(e).payload}(e,t.publicKey),n={hasExpired:(0,_o.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}}),this.logger=(0,Sb.generateChildLogger)(t,this.name),this.abortController=new AbortController,this.isDevEnv=k7(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return(0,Sb.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,_o.toMiliseconds)(e))}}var jt=Object.defineProperty,jr=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?jt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class jn extends SR{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,jr(this,"context","echo"),jr(this,"registerDeviceToken",async e=>{let{clientId:t,token:r,notificationType:n,enableEncrypted:i=!1}=e,a=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t,type:n,token:r,always_raw:i})})}),this.logger=(0,Sb.generateChildLogger)(t,this.context)}}var ji=Object.defineProperty,ja=Object.getOwnPropertySymbols,jo=Object.prototype.hasOwnProperty,js=Object.prototype.propertyIsEnumerable,jl=(e,t,r)=>t in e?ji(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jc=(e,t)=>{for(var r in t||(t={}))jo.call(t,r)&&jl(e,r,t[r]);if(ja)for(var r of ja(t))js.call(t,r)&&jl(e,r,t[r]);return e},jd=(e,t,r)=>jl(e,"symbol"!=typeof t?t+"":t,r);class ju extends SM{constructor(e,t,r=!0){super(e,t,r),this.core=e,this.logger=t,jd(this,"context","event-client"),jd(this,"storagePrefix",SG),jd(this,"storageVersion",.1),jd(this,"events",new Map),jd(this,"shouldPersist",!1),jd(this,"init",async()=>{if(!k7())try{let e={eventId:k9(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:kG(this.core.relayer.protocol,this.core.relayer.version,S8)}}};await this.sendEvent([e])}catch(e){this.logger.warn(e)}}),jd(this,"createEvent",e=>{let{event:t="ERROR",type:r="",properties:{topic:n,trace:i}}=e,a=k9(),o=this.core.projectId||"",s=jc({eventId:a,timestamp:Date.now(),props:{event:t,type:r,properties:{topic:n,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(a));return this.telemetryEnabled&&(this.events.set(a,s),this.shouldPersist=!0),s}),jd(this,"getEvent",e=>{let{eventId:t,topic:r}=e;if(t)return this.events.get(t);let n=Array.from(this.events.values()).find(e=>e.props.properties.topic===r);if(n)return jc(jc({},n),this.setMethods(n.eventId))}),jd(this,"deleteEvent",e=>{let{eventId:t}=e;this.events.delete(t),this.shouldPersist=!0}),jd(this,"setEventListeners",()=>{this.core.heartbeat.on(Sw.HEARTBEAT_EVENTS.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(e=>{(0,_o.fromMiliseconds)(Date.now())-(0,_o.fromMiliseconds)(e.timestamp)>86400&&(this.events.delete(e.eventId),this.shouldPersist=!0)})})}),jd(this,"setMethods",e=>({addTrace:t=>this.addTrace(e,t),setError:t=>this.setError(e,t)})),jd(this,"addTrace",(e,t)=>{let r=this.events.get(e);r&&(r.props.properties.trace.push(t),this.events.set(e,r),this.shouldPersist=!0)}),jd(this,"setError",(e,t)=>{let r=this.events.get(e);r&&(r.props.type=t,r.timestamp=Date.now(),this.events.set(e,r),this.shouldPersist=!0)}),jd(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),jd(this,"restore",async()=>{try{let e=await this.core.storage.getItem(this.storageKey)||[];if(!e.length)return;e.forEach(e=>{this.events.set(e.eventId,jc(jc({},e),this.setMethods(e.eventId)))})}catch(e){this.logger.warn(e)}}),jd(this,"submit",async()=>{if(!this.telemetryEnabled||0===this.events.size)return;let e=[];for(let[t,r]of this.events)r.props.type&&e.push(r);if(0!==e.length)try{if((await this.sendEvent(e)).ok)for(let t of e)this.events.delete(t.eventId),this.shouldPersist=!0}catch(e){this.logger.warn(e)}}),jd(this,"sendEvent",async e=>{let t=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${S8}${t}`,{method:"POST",body:JSON.stringify(e)})}),jd(this,"getAppDomain",()=>kH().url),this.logger=(0,Sb.generateChildLogger)(t,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var jh=Object.defineProperty,jp=Object.getOwnPropertySymbols,jf=Object.prototype.hasOwnProperty,jm=Object.prototype.propertyIsEnumerable,jg=(e,t,r)=>t in e?jh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jy=(e,t)=>{for(var r in t||(t={}))jf.call(t,r)&&jg(e,r,t[r]);if(jp)for(var r of jp(t))jm.call(t,r)&&jg(e,r,t[r]);return e},jw=(e,t,r)=>jg(e,"symbol"!=typeof t?t+"":t,r);class jv extends SC{constructor(e){var t;super(e),jw(this,"protocol","wc"),jw(this,"version",2),jw(this,"name",SH),jw(this,"relayUrl"),jw(this,"projectId"),jw(this,"customStoragePrefix"),jw(this,"events",new _i.EventEmitter),jw(this,"logger"),jw(this,"heartbeat"),jw(this,"relayer"),jw(this,"crypto"),jw(this,"storage"),jw(this,"history"),jw(this,"expirer"),jw(this,"pairing"),jw(this,"verify"),jw(this,"echoClient"),jw(this,"linkModeSupportedApps"),jw(this,"eventClient"),jw(this,"initialized",!1),jw(this,"logChunkController"),jw(this,"on",(e,t)=>this.events.on(e,t)),jw(this,"once",(e,t)=>this.events.once(e,t)),jw(this,"off",(e,t)=>this.events.off(e,t)),jw(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),jw(this,"dispatchEnvelope",({topic:e,message:t,sessionExists:r})=>{if(!e||!t)return;let n={topic:e,message:t,publishedAt:Date.now(),transportType:S9};this.relayer.onLinkMessageEvent(n,{sessionExists:r})});const r=this.getGlobalCore(e?.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(e){console.warn("Failed to copy global core",e)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||SQ,this.customStoragePrefix=null!=e&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=(0,Sb.getDefaultLoggerOptions)({level:"string"==typeof e?.logger&&e.logger?e.logger:"error",name:SH}),{logger:i,chunkLoggerController:a}=(0,Sb.generatePlatformLogger)({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=a,null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var e,t;null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(null==(t=this.logChunkController)||t.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=(0,Sb.generateChildLogger)(i,this.name),this.heartbeat=new Sw.HeartBeat,this.crypto=new T9(this,this.logger,e?.keychain),this.history=new P5(this,this.logger),this.expirer=new P8(this,this.logger),this.storage=null!=e&&e.storage?e.storage:new Sv.default(jy(jy({},SK),e?.storageOptions)),this.relayer=new PL({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new P1(this,this.logger),this.verify=new je(this,this.logger,this.storage),this.echoClient=new jn(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new ju(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){let t=new jv(e);await t.initialize();let r=await t.crypto.getClientId();return await t.storage.setItem("WALLETCONNECT_CLIENT_ID",r),t}get context(){return(0,Sb.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return null==(e=this.logChunkController)?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(Tt,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(Tt)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;let t=`_walletConnectCore_${e}`,r=`${t}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[t]}catch(e){console.warn("Failed to get global WalletConnect core",e);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${(null==(t=e.opts)?void 0:t.customStoragePrefix)||""}`;globalThis[r]=e}catch(e){console.warn("Failed to set global WalletConnect core",e)}}isGlobalCoreDisabled(){try{return"u">typeof f6.default&&"true"===f6.default.env.DISABLE_GLOBAL_CORE}catch{return!0}}}let jb="client",jx=`wc@2:${jb}:`,j_="WALLETCONNECT_DEEPLINK_CHOICE",jk=(_o.THIRTY_DAYS,"Proposal expired"),jE=_o.SEVEN_DAYS,jC={wc_sessionPropose:{req:{ttl:_o.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:1104},res:{ttl:_o.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:1106},res:{ttl:_o.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:_o.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:_o.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:1112},res:{ttl:_o.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:_o.ONE_DAY,prompt:!1,tag:1114},res:{ttl:_o.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:_o.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:_o.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:_o.FIVE_MINUTES,prompt:!1,tag:1119}}},jA={min:_o.FIVE_MINUTES,max:_o.SEVEN_DAYS},jI="IDLE",jS="ACTIVE",jT={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},jP=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],jj="wc@1.5:auth:",jN=`${jj}:PUB_KEY`;var jO=Object.defineProperty,j$=Object.defineProperties,jR=Object.getOwnPropertyDescriptors,jM=Object.getOwnPropertySymbols,jU=Object.prototype.hasOwnProperty,jL=Object.prototype.propertyIsEnumerable,jF=(e,t,r)=>t in e?jO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jD=(e,t)=>{for(var r in t||(t={}))jU.call(t,r)&&jF(e,r,t[r]);if(jM)for(var r of jM(t))jL.call(t,r)&&jF(e,r,t[r]);return e},jB=(e,t,r)=>jF(e,"symbol"!=typeof t?t+"":t,r);class jW extends SD{constructor(t){super(t),jB(this,"name","engine"),jB(this,"events",new _i.default),jB(this,"initialized",!1),jB(this,"requestQueue",{state:jI,queue:[]}),jB(this,"sessionRequestQueue",{state:jI,queue:[]}),jB(this,"emittedSessionRequests",new Et({limit:500})),jB(this,"requestQueueDelay",_o.ONE_SECOND),jB(this,"expectedPairingMethodMap",new Map),jB(this,"recentlyDeletedMap",new Map),jB(this,"recentlyDeletedLimit",200),jB(this,"relayMessageCache",[]),jB(this,"pendingSessions",new Map),jB(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jC)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,_o.toMiliseconds)(this.requestQueueDelay)))}),jB(this,"connect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();let t=j$(jD({},e),jR({requiredNamespaces:e.requiredNamespaces||{},optionalNamespaces:e.optionalNamespaces||{}}));await this.isValidConnect(t),t.optionalNamespaces=function(e,t){var r,n,i,a,o,s;let l=I3(e),c=I3(t),d={};for(let e of Object.keys(l).concat(Object.keys(c)))d[e]={chains:k5(null==(r=l[e])?void 0:r.chains,null==(n=c[e])?void 0:n.chains),methods:k5(null==(i=l[e])?void 0:i.methods,null==(a=c[e])?void 0:a.methods),events:k5(null==(o=l[e])?void 0:o.events,null==(s=c[e])?void 0:s.events)};return d}(t.requiredNamespaces,t.optionalNamespaces),t.requiredNamespaces={};let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:a,scopedProperties:o,relays:s}=t,l=r,c,d=!1;try{if(l){let e=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=e.active}}catch(e){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),e}if(!l||!d){let{topic:e,uri:t}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});l=e,c=t}if(!l){let{message:e}=I8("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw Error(e)}let u=await this.client.core.crypto.generateKeyPair(),h=jC.wc_sessionPropose.req.ttl||_o.FIVE_MINUTES,p=k1(h),f=j$(jD(jD({requiredNamespaces:n,optionalNamespaces:i,relays:s??[{protocol:"irn"}],proposer:{publicKey:u,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},a&&{sessionProperties:a}),o&&{scopedProperties:o}),jR({id:(0,Sq.payloadId)()})),m=k3("session_connect",f.id),{reject:g,resolve:y,done:w}=kZ(h,jk),v=({id:e})=>{e===f.id&&(this.client.events.off("proposal_expire",v),this.pendingSessions.delete(f.id),this.events.emit(m,{error:{message:jk,code:0}}))};return this.client.events.on("proposal_expire",v),this.events.once(m,({error:e,session:t})=>{this.client.events.off("proposal_expire",v),e?g(e):t&&y(t)}),await this.sendProposeSession({proposal:f,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:f.id}}}),await this.setProposal(f.id,f),{uri:c,approval:w}}),jB(this,"pair",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(e)}catch(e){throw this.client.logger.error("pair() failed"),e}}),jB(this,"approve",async e=>{var t,r,n;let i=this.client.core.eventClient.createEvent({properties:{topic:null==(t=e?.id)?void 0:t.toString(),trace:[Ty]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(e){throw i.setError("no_internet_connection"),e}try{await this.isValidProposalId(e?.id)}catch(t){throw this.client.logger.error(`approve() -> proposal.get(${e?.id}) failed`),i.setError("proposal_not_found"),t}try{await this.isValidApprove(e)}catch(e){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError("session_approve_namespace_validation_failure"),e}let{id:a,relayProtocol:o,namespaces:s,sessionProperties:l,scopedProperties:c,sessionConfig:d}=e,u=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:h,proposer:p,requiredNamespaces:f,optionalNamespaces:m}=u,g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:h});g||(g=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:Ty,properties:{topic:h,trace:[Ty,"session_namespaces_validation_success"]}}));let y=await this.client.core.crypto.generateKeyPair(),w=p.publicKey,v=await this.client.core.crypto.generateSharedKey(y,w),b=jD(jD(jD({relay:{protocol:o??"irn"},namespaces:s,controller:{publicKey:y,metadata:this.client.metadata},expiry:k1(jE)},l&&{sessionProperties:l}),c&&{scopedProperties:c}),d&&{sessionConfig:d});g.addTrace("subscribing_session_topic");try{await this.client.core.relayer.subscribe(v,{transportType:S7,internal:{skipSubscribe:!0}})}catch(e){throw g.setError("subscribe_session_topic_failure"),e}g.addTrace("subscribe_session_topic_success");let x=j$(jD({},b),jR({topic:v,requiredNamespaces:f,optionalNamespaces:m,pairingTopic:h,acknowledged:!1,self:b.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:y,transportType:S7}));await this.client.session.set(v,x),g.addTrace("store_session");try{await this.sendApproveSession({sessionTopic:v,proposal:u,pairingProposalResponse:{relay:{protocol:o??"irn"},responderPublicKey:y},sessionSettleRequest:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),g.addTrace("session_approve_publish_success")}catch(e){throw this.client.logger.error(e),this.client.session.delete(v,I9("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(v),e}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:h,metadata:p.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:h}),await this.setExpiry(v,k1(jE)),{topic:v,acknowledged:()=>Promise.resolve(this.client.session.get(v))}}),jB(this,"reject",async e=>{let t;this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(e)}catch(e){throw this.client.logger.error("reject() -> isValidReject() failed"),e}let{id:r,reason:n}=e;try{t=this.client.proposal.get(r).pairingTopic}catch(e){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),e}t&&await this.sendError({id:r,topic:t,error:n,rpcOpts:jC.wc_sessionPropose.reject}),await this.deleteProposal(r)}),jB(this,"update",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(e)}catch(e){throw this.client.logger.error("update() -> isValidUpdate() failed"),e}let{topic:t,namespaces:r}=e,{done:n,resolve:i,reject:a}=kZ(),o=(0,Sq.payloadId)(),s=(0,Sq.getBigIntRpcId)().toString(),l=this.client.session.get(t).namespaces;return this.events.once(k3("session_update",o),({error:e})=>{e?a(e):i()}),await this.client.session.update(t,{namespaces:r}),await this.sendRequest({topic:t,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:s}).catch(e=>{this.client.logger.error(e),this.client.session.update(t,{namespaces:l}),a(e)}),{acknowledged:n}}),jB(this,"extend",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(e)}catch(e){throw this.client.logger.error("extend() -> isValidExtend() failed"),e}let{topic:t}=e,r=(0,Sq.payloadId)(),{done:n,resolve:i,reject:a}=kZ();return this.events.once(k3("session_extend",r),({error:e})=>{e?a(e):i()}),await this.setExpiry(t,k1(jE)),this.sendRequest({topic:t,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch(e=>{a(e)}),{acknowledged:n}}),jB(this,"request",async e=>{this.isInitialized();try{await this.isValidRequest(e)}catch(e){throw this.client.logger.error("request() -> isValidRequest() failed"),e}let{chainId:t,request:r,topic:n,expiry:i=jC.wc_sessionRequest.req.ttl}=e,a=this.client.session.get(n);a?.transportType===S7&&await this.confirmOnlineStateOrThrow();let o=(0,Sq.payloadId)(),s=(0,Sq.getBigIntRpcId)().toString(),{done:l,resolve:c,reject:d}=kZ(i,"Request expired. Please try again.");this.events.once(k3("session_request",o),({error:e,result:t})=>{e?d(e):c(t)});let u="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:o,relayRpcId:s,topic:n,method:u,params:{request:j$(jD({},r),jR({expiryTimestamp:k1(i)})),chainId:t},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),await l();let p={request:j$(jD({},r),jR({expiryTimestamp:k1(i)})),chainId:t};return await Promise.all([new Promise(async e=>{await this.sendRequest({clientRpcId:o,relayRpcId:s,topic:n,method:u,params:p,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(o,p)}).catch(e=>d(e)),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:t,id:o}),e()}),new Promise(async e=>{var t;if(!(null!=(t=a.sessionConfig)&&t.disableDeepLink)){let e=await k6(this.client.core.storage,j_);await k4({id:o,topic:n,wcDeepLink:e})}e()}),l()]).then(e=>e[2])}),jB(this,"respond",async e=>{this.isInitialized(),await this.isValidRespond(e);let{topic:t,response:r}=e,{id:n}=r,i=this.client.session.get(t);i.transportType===S7&&await this.confirmOnlineStateOrThrow();let a=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);(0,Sz.isJsonRpcResult)(r)?await this.sendResult({id:n,topic:t,result:r.result,throwOnFailedPublish:!0,appLink:a}):(0,Sz.isJsonRpcError)(r)&&await this.sendError({id:n,topic:t,error:r.error,appLink:a}),this.cleanupAfterResponse(e)}),jB(this,"ping",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(e)}catch(e){throw this.client.logger.error("ping() -> isValidPing() failed"),e}let{topic:t}=e;if(this.client.session.keys.includes(t)){let e=(0,Sq.payloadId)(),r=(0,Sq.getBigIntRpcId)().toString(),{done:n,resolve:i,reject:a}=kZ();this.events.once(k3("session_ping",e),({error:e})=>{e?a(e):i()}),await Promise.all([this.sendRequest({topic:t,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:e,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(t)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:t}))}),jB(this,"emit",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(e);let{topic:t,event:r,chainId:n}=e,i=(0,Sq.getBigIntRpcId)().toString(),a=(0,Sq.payloadId)();await this.sendRequest({topic:t,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:a})}),jB(this,"disconnect",async e=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(e);let{topic:t}=e;if(this.client.session.keys.includes(t))await this.sendRequest({topic:t,method:"wc_sessionDelete",params:I9("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:t,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(t))await this.client.core.pairing.disconnect({topic:t});else{let{message:e}=I8("MISMATCHED_TOPIC",`Session or pairing topic not found: ${t}`);throw Error(e)}}),jB(this,"find",e=>(this.isInitialized(),this.client.session.getAll().filter(t=>(function(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),a=!0;return!!kK(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:o}=e.namespaces[t],s=I0(n),l=r[t];kK(kS(t,l),s)&&kK(l.methods,i)&&kK(l.events,o)||(a=!1)}),a)})(t,e)))),jB(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),jB(this,"authenticate",async(e,t)=>{var r,n,i,a,o;let s;this.isInitialized(),this.isValidAuthenticate(e);let l=t&&this.client.core.linkModeSupportedApps.includes(t)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),c=l?S9:S7;c===S7&&await this.confirmOnlineStateOrThrow();let{chains:d,statement:u="",uri:h,domain:p,nonce:f,type:m,exp:g,nbf:y,methods:w=[],expiry:v}=e,b=[...e.resources||[]],{topic:x,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:c});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:_}});let k=await this.client.core.crypto.generateKeyPair(),E=Ij(k);if(await Promise.all([this.client.auth.authKeys.set(jN,{responseTopic:E,publicKey:k}),this.client.auth.pairingTopics.set(E,{topic:E,pairingTopic:x})]),await this.client.core.relayer.subscribe(E,{transportType:c}),this.client.logger.info(`sending request to new pairing topic: ${x}`),w.length>0){let e,t,{namespace:r}=kA(d[0]),s=Cz(function(e,t,r,n={}){return r?.sort((e,t)=>e.localeCompare(t)),{att:{[e]:function(e,t,r={}){return Object.assign({},...(t=t?.sort((e,t)=>e.localeCompare(t))).map(t=>({[`${e}/${t}`]:[r]})))}(t,r,n)}}}(r,"request",w));CK(b)&&(n=s,i=b.pop(),s=Cz((a=CV(n),o=CV(i),Cq(a),Cq(o),e=Object.keys(a.att).concat(Object.keys(o.att)).sort((e,t)=>e.localeCompare(t)),t={att:{}},e.forEach(e=>{var r,n;Object.keys((null==(r=a.att)?void 0:r[e])||{}).concat(Object.keys((null==(n=o.att)?void 0:n[e])||{})).sort((e,t)=>e.localeCompare(t)).forEach(r=>{var n,i;t.att[e]=CN(((e,t)=>{for(var r in t||(t={}))CR.call(t,r)&&CU(e,r,t[r]);if(C$)for(var r of C$(t))CM.call(t,r)&&CU(e,r,t[r]);return e})({},t.att[e]),CO({[r]:(null==(n=a.att[e])?void 0:n[r])||(null==(i=o.att[e])?void 0:i[r])}))})}),t))),b.push(s)}let C=v&&v>jC.wc_sessionAuthenticate.req.ttl?v:jC.wc_sessionAuthenticate.req.ttl,A={authPayload:{type:m??"caip122",chains:d,statement:u,aud:h,domain:p,version:"1",nonce:f,iat:new Date().toISOString(),exp:g,nbf:y,resources:b},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:k1(C)},I={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:d,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:k1(jC.wc_sessionPropose.req.ttl),id:(0,Sq.payloadId)()},{done:S,resolve:T,reject:P}=kZ(C,"Request expired"),j=(0,Sq.payloadId)(),N=k3("session_connect",I.id),O=k3("session_request",j),$=async({error:e,session:t})=>{this.events.off(O,R),e?P(e):t&&T({session:t})},R=async e=>{var r,n,i;let a;if(await this.deletePendingAuthRequest(j,{message:"fulfilled",code:0}),e.error){let t=I9("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return e.error.code===t.code?void 0:(this.events.off(N,$),P(e.error.message))}await this.deleteProposal(I.id),this.events.off(N,$);let{cacaos:o,responder:s}=e.result,l=[],d=[];for(let e of o){await CB({cacao:e,projectId:this.client.core.projectId})||(this.client.logger.error(e,"Signature verification failed"),P(I9("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:t}=e,r=CK(t.resources),n=[CF(t.iss)],i=CD(t.iss);if(r){let e=CH(r),t=CG(r);l.push(...e),n.push(...t)}for(let e of n)d.push(`${e}:${i}`)}let u=await this.client.core.crypto.generateSharedKey(k,s.publicKey);l.length>0&&(a={topic:u,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:s,controller:s.publicKey,expiry:k1(jE),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:I5([...new Set(l)],[...new Set(d)]),transportType:c},await this.client.core.relayer.subscribe(u,{transportType:c}),await this.client.session.set(u,a),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:s.metadata}),a=this.client.session.get(u)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=s.metadata.redirect)&&n.linkMode&&null!=(i=s.metadata.redirect)&&i.universal&&t&&(this.client.core.addLinkModeSupportedApp(s.metadata.redirect.universal),this.client.session.update(u,{transportType:S9})),T({auths:o,session:a})};this.events.once(N,$),this.events.once(O,R);try{if(l){let e=(0,Sq.formatJsonRpcRequest)("wc_sessionAuthenticate",A,j);this.client.core.history.set(x,e);let r=await this.client.core.crypto.encode("",e,{type:2,encoding:IS});s=Iz(t,x,r)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:A,expiry:e.expiry,throwOnFailedPublish:!0,clientRpcId:j}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:I,expiry:jC.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:I.id})])}catch(e){throw this.events.off(N,$),this.events.off(O,R),e}return await this.setProposal(I.id,I),await this.setAuthRequest(j,{request:j$(jD({},A),jR({verifyContext:{}})),pairingTopic:x,transportType:c}),{uri:s??_,response:S}}),jB(this,"approveSessionAuthenticate",async e=>{let t,{id:r,auths:n}=e,i=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:["authenticated_session_approve_started"]}});try{this.isInitialized()}catch(e){throw i.setError("no_internet_connection"),e}let a=this.getPendingAuthRequest(r);if(!a)throw i.setError("authenticated_session_pending_request_not_found"),Error(`Could not find pending auth request with id ${r}`);let o=a.transportType||S7;o===S7&&await this.confirmOnlineStateOrThrow();let s=a.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),c=Ij(s),d={type:1,receiverPublicKey:s,senderPublicKey:l},u=[],h=[];for(let e of n){if(!await CB({cacao:e,projectId:this.client.core.projectId})){i.setError("invalid_cacao");let e=I9("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:c,error:e,encodeOpts:d}),Error(e.message)}i.addTrace("cacaos_verified");let{p:t}=e,n=CK(t.resources),a=[CF(t.iss)],o=CD(t.iss);if(n){let e=CH(n),t=CG(n);u.push(...e),a.push(...t)}for(let e of a)h.push(`${e}:${o}`)}let p=await this.client.core.crypto.generateSharedKey(l,s);if(i.addTrace("create_authenticated_session_topic"),u?.length>0){t={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:s,metadata:a.requester.metadata},controller:s,expiry:k1(jE),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:I5([...new Set(u)],[...new Set(h)]),transportType:o},i.addTrace("subscribing_authenticated_session_topic");try{await this.client.core.relayer.subscribe(p,{transportType:o})}catch(e){throw i.setError("subscribe_authenticated_session_topic_failure"),e}i.addTrace("subscribe_authenticated_session_topic_success"),await this.client.session.set(p,t),i.addTrace("store_authenticated_session"),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}i.addTrace("publishing_authenticated_session_approve");try{await this.sendResult({topic:c,id:r,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(e){throw i.setError("authenticated_session_approve_publish_failure"),e}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:i.eventId}),{session:t}}),jB(this,"rejectSessionAuthenticate",async e=>{this.isInitialized();let{id:t,reason:r}=e,n=this.getPendingAuthRequest(t);if(!n)throw Error(`Could not find pending auth request with id ${t}`);n.transportType===S7&&await this.confirmOnlineStateOrThrow();let i=n.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),o=Ij(i);await this.sendError({id:t,topic:o,error:r,encodeOpts:{type:1,receiverPublicKey:i,senderPublicKey:a},rpcOpts:jC.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(t,{message:"rejected",code:0}),await this.deleteProposal(t)}),jB(this,"formatAuthMessage",e=>{this.isInitialized();let{request:t,iss:r}=e;return CW(t,r)}),jB(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{let e=this.relayMessageCache.shift();e&&await this.onRelayMessage(e)}catch(e){this.client.logger.error(e)}},50)}),jB(this,"cleanupDuplicatePairings",async e=>{if(e.pairingTopic)try{let t=this.client.core.pairing.pairings.get(e.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter(r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===e.peer.metadata.url&&r.topic&&r.topic!==t.topic});if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map(e=>this.client.core.pairing.disconnect({topic:e.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(e){this.client.logger.error(e)}}),jB(this,"deleteSession",async e=>{var t;let{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:a=0}=e,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,I9("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(j_).catch(e=>this.client.logger.warn(e)),this.getPendingSessionRequests().forEach(e=>{e.topic===r&&this.deletePendingSessionRequest(e.id,I9("USER_DISCONNECTED"))}),r===(null==(t=this.sessionRequestQueue.queue[0])?void 0:t.topic)&&(this.sessionRequestQueue.state=jI),i&&this.client.events.emit("session_delete",{id:a,topic:r})}),jB(this,"deleteProposal",async(e,t)=>{if(t)try{let t=this.client.proposal.get(e),r=this.client.core.eventClient.getEvent({topic:t.pairingTopic});r?.setError("proposal_expired")}catch{}await Promise.all([this.client.proposal.delete(e,I9("USER_DISCONNECTED")),t?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"proposal")}),jB(this,"deletePendingSessionRequest",async(e,t,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)]),this.addToRecentlyDeleted(e,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(t=>t.id!==e),r&&(this.sessionRequestQueue.state=jI,this.client.events.emit("session_request_expire",{id:e}))}),jB(this,"deletePendingAuthRequest",async(e,t,r=!1)=>{await Promise.all([this.client.auth.requests.delete(e,t),r?Promise.resolve():this.client.core.expirer.del(e)])}),jB(this,"setExpiry",async(e,t)=>{this.client.session.keys.includes(e)&&(this.client.core.expirer.set(e,t),await this.client.session.update(e,{expiry:t}))}),jB(this,"setProposal",async(e,t)=>{this.client.core.expirer.set(e,k1(jC.wc_sessionPropose.req.ttl)),await this.client.proposal.set(e,t)}),jB(this,"setAuthRequest",async(e,t)=>{let{request:r,pairingTopic:n,transportType:i=S7}=t;this.client.core.expirer.set(e,r.expiryTimestamp),await this.client.auth.requests.set(e,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:e,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})}),jB(this,"setPendingSessionRequest",async e=>{let{id:t,topic:r,params:n,verifyContext:i}=e,a=n.request.expiryTimestamp||k1(jC.wc_sessionRequest.req.ttl);this.client.core.expirer.set(t,a),await this.client.pendingRequest.set(t,{id:t,topic:r,params:n,verifyContext:i})}),jB(this,"sendRequest",async t=>{let r,n,{topic:i,method:a,params:o,expiry:s,relayRpcId:l,clientRpcId:c,throwOnFailedPublish:d,appLink:u,tvf:h,publishOpts:p={}}=t,f=(0,Sq.formatJsonRpcRequest)(a,o,c),m=!!u;try{let e=m?IS:II;r=await this.client.core.crypto.encode(i,f,{encoding:e})}catch(e){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),e}if(jP.includes(a)){let e=IN(JSON.stringify(f)),t=IN(r);n=await this.client.core.verify.register({id:t,decryptedId:e})}let g=jD(jD({},jC[a].req),p);if(g.attestation=n,s&&(g.ttl=s),l&&(g.id=l),this.client.core.history.set(i,f),m){let t=Iz(u,i,r);await e.g.Linking.openURL(t,this.client.name)}else{let e;g.tvf=j$(jD({},h),jR({correlationId:f.id})),d?(e=jD({},g.internal),g.internal=j$(e,jR({throwOnFailedPublish:!0})),await this.client.core.relayer.publish(i,r,g)):this.client.core.relayer.publish(i,r,g).catch(e=>this.client.logger.error(e))}return f.id}),jB(this,"sendProposeSession",async e=>{let{proposal:t,publishOpts:r}=e,n=(0,Sq.formatJsonRpcRequest)("wc_sessionPropose",t,t.id);this.client.core.history.set(t.pairingTopic,n);let i=await this.client.core.crypto.encode(t.pairingTopic,n,{encoding:II}),a=IN(JSON.stringify(n)),o=IN(i),s=await this.client.core.verify.register({id:o,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:t.pairingTopic,sessionProposal:i},opts:j$(jD({},r),jR({publishMethod:"wc_proposeSession",attestation:s}))})}),jB(this,"sendApproveSession",async e=>{let{sessionTopic:t,pairingProposalResponse:r,proposal:n,sessionSettleRequest:i,publishOpts:a}=e,o=(0,Sq.formatJsonRpcResult)(n.id,r),s=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:II}),l=(0,Sq.formatJsonRpcRequest)("wc_sessionSettle",i,a?.id),c=await this.client.core.crypto.encode(t,l,{encoding:II});this.client.core.history.set(t,l),await this.client.core.relayer.publishCustom({payload:{sessionTopic:t,pairingTopic:n.pairingTopic,sessionProposalResponse:s,sessionSettlementRequest:c},opts:j$(jD({},a),jR({publishMethod:"wc_approveSession"}))})}),jB(this,"sendResult",async t=>{let r,n,i,{id:a,topic:o,result:s,throwOnFailedPublish:l,encodeOpts:c,appLink:d}=t,u=(0,Sq.formatJsonRpcResult)(a,s),h=d&&"u">typeof(null==e.g?void 0:e.g.Linking);try{let e,t,n=h?IS:II;r=await this.client.core.crypto.encode(o,u,(e=jD({},c||{}),t={encoding:n},j$(e,jR(t))))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${o} failed`),e}try{let e=(n=await this.client.core.history.get(o,a)).request;try{i=this.getTVFParams(a,e.params,s)}catch(e){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${e?.message}`)}}catch(e){throw this.client.logger.error(`sendResult() -> history.get(${o}, ${a}) failed`),e}if(h){let t=Iz(d,o,r);await e.g.Linking.openURL(t,this.client.name)}else{let e,t=jC[n.request.method].res;t.tvf=j$(jD({},i),jR({correlationId:a})),l?(e=jD({},t.internal),t.internal=j$(e,jR({throwOnFailedPublish:!0})),await this.client.core.relayer.publish(o,r,t)):this.client.core.relayer.publish(o,r,t).catch(e=>this.client.logger.error(e))}await this.client.core.history.resolve(u)}),jB(this,"sendError",async t=>{let r,n,{id:i,topic:a,error:o,encodeOpts:s,rpcOpts:l,appLink:c}=t,d=(0,Sq.formatJsonRpcError)(i,o),u=c&&"u">typeof(null==e.g?void 0:e.g.Linking);try{let e,t,n=u?IS:II;r=await this.client.core.crypto.encode(a,d,(e=jD({},s||{}),t={encoding:n},j$(e,jR(t))))}catch(e){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${a} failed`),e}try{n=await this.client.core.history.get(a,i)}catch(e){throw this.client.logger.error(`sendError() -> history.get(${a}, ${i}) failed`),e}if(u){let t=Iz(c,a,r);await e.g.Linking.openURL(t,this.client.name)}else{let e=n.request.method,t=l||jC[e].res;this.client.core.relayer.publish(a,r,t)}await this.client.core.history.resolve(d)}),jB(this,"cleanup",async()=>{let e=[],t=[];this.client.session.getAll().forEach(t=>{let r=!1;k2(t.expiry)&&(r=!0),this.client.core.crypto.keychain.has(t.topic)||(r=!0),r&&e.push(t.topic)}),this.client.proposal.getAll().forEach(e=>{k2(e.expiryTimestamp)&&t.push(e.id)}),await Promise.all([...e.map(e=>this.deleteSession({topic:e})),...t.map(e=>this.deleteProposal(e))])}),jB(this,"onProviderMessageEvent",async e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):await this.onRelayMessage(e)}),jB(this,"onRelayEventRequest",async e=>{this.requestQueue.queue.push(e),await this.processRequestsQueue()}),jB(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===jS)return void this.client.logger.info("Request queue already active, skipping...");for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=jS;let e=this.requestQueue.queue.shift();if(e)try{await this.processRequest(e)}catch(e){this.client.logger.warn(e)}}this.requestQueue.state=jI}),jB(this,"processRequest",async e=>{let{topic:t,payload:r,attestation:n,transportType:i,encryptedId:a}=e,o=r.method;if(!this.shouldIgnorePairingRequest({topic:t,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:t,payload:r,attestation:n,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(t,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(t,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(t,r);case"wc_sessionPing":return await this.onSessionPingRequest(t,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(t,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:t,payload:r,attestation:n,encryptedId:a,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(t,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:t,payload:r,attestation:n,encryptedId:a,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}}),jB(this,"onRelayEventResponse",async e=>{let{topic:t,payload:r,transportType:n}=e,i=(await this.client.core.history.get(t,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(t,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(t,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(t,r);case"wc_sessionExtend":return this.onSessionExtendResponse(t,r);case"wc_sessionPing":return this.onSessionPingResponse(t,r);case"wc_sessionRequest":return this.onSessionRequestResponse(t,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(t,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),jB(this,"onRelayEventUnknownPayload",e=>{let{topic:t}=e,{message:r}=I8("MISSING_OR_INVALID",`Decoded payload on topic ${t} is not identifiable as a JSON-RPC request or a response.`);throw Error(r)}),jB(this,"shouldIgnorePairingRequest",e=>{let{topic:t,requestMethod:r}=e,n=this.expectedPairingMethodMap.get(t);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),jB(this,"onSessionProposeRequest",async e=>{let{topic:t,payload:r,attestation:n,encryptedId:i}=e,{params:a,id:o}=r;try{let e=this.client.core.eventClient.getEvent({topic:t});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),e?.setError("proposal_listener_not_found")),this.isValidConnect(jD({},r.params));let s=a.expiryTimestamp||k1(jC.wc_sessionPropose.req.ttl),l=jD({id:o,pairingTopic:t,expiryTimestamp:s,attestation:n,encryptedId:i},a);await this.setProposal(o,l);let c=await this.getVerifyContext({attestationId:n,hash:IN(JSON.stringify(r)),encryptedId:i,metadata:l.proposer.metadata});e?.addTrace("emit_session_proposal"),this.client.events.emit("session_proposal",{id:o,params:l,verifyContext:c})}catch(e){await this.sendError({id:o,topic:t,error:e,rpcOpts:jC.wc_sessionPropose.autoReject}),this.client.logger.error(e)}}),jB(this,"onSessionProposeResponse",async(e,t,r)=>{let{id:n}=t;if((0,Sz.isJsonRpcResult)(t)){let{result:i}=t;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let a=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let o=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});let s=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:s});let l=await this.client.core.crypto.generateSharedKey(o,s);this.pendingSessions.set(n,{sessionTopic:l,pairingTopic:e,proposalId:n,publicKey:o});let c=await this.client.core.relayer.subscribe(l,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:c}),await this.client.core.pairing.activate({topic:e})}else if((0,Sz.isJsonRpcError)(t)){await this.deleteProposal(n);let e=k3("session_connect",n);if(0===this.events.listenerCount(e))throw Error(`emitting ${e} without any listeners, 954`);this.events.emit(e,{error:t.error})}}),jB(this,"onSessionSettleRequest",async(e,t)=>{let{id:r,params:n}=t;try{let r,i;this.isValidSessionSettleRequest(n);let{relay:a,controller:o,expiry:s,namespaces:l,sessionProperties:c,scopedProperties:d,sessionConfig:u}=t.params,h=[...this.pendingSessions.values()].find(t=>t.sessionTopic===e);if(!h)return this.client.logger.error(`Pending session not found for topic ${e}`);let p=this.client.proposal.get(h.proposalId),f=(r=jD(jD(jD({topic:e,relay:a,expiry:s,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:o.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},c&&{sessionProperties:c}),d&&{scopedProperties:d}),u&&{sessionConfig:u}),i={transportType:S7},j$(r,jR(i)));await this.client.session.set(f.topic,f),await this.setExpiry(f.topic,f.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:f.peer.metadata}),this.client.events.emit("session_connect",{session:f}),this.events.emit(k3("session_connect",h.proposalId),{session:f}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(f),await this.sendResult({id:t.id,topic:e,result:!0})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jB(this,"onSessionSettleResponse",async(e,t)=>{let{id:r}=t;(0,Sz.isJsonRpcResult)(t)?(await this.client.session.update(e,{acknowledged:!0}),this.events.emit(k3("session_approve",r),{})):(0,Sz.isJsonRpcError)(t)&&(await this.client.session.delete(e,I9("USER_DISCONNECTED")),this.events.emit(k3("session_approve",r),{error:t.error}))}),jB(this,"onSessionUpdateRequest",async(e,t)=>{let{params:r,id:n}=t;try{let t=`${e}_session_update`,i=Sg.get(t);if(i&&this.isRequestOutOfSync(i,n)){this.client.logger.warn(`Discarding out of sync request - ${n}`),this.sendError({id:n,topic:e,error:I9("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(jD({topic:e},r));try{Sg.set(t,n),await this.client.session.update(e,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:e,result:!0})}catch(e){throw Sg.delete(t),e}this.client.events.emit("session_update",{id:n,topic:e,params:r})}catch(t){await this.sendError({id:n,topic:e,error:t}),this.client.logger.error(t)}}),jB(this,"isRequestOutOfSync",(e,t)=>t.toString().slice(0,-3)<e.toString().slice(0,-3)),jB(this,"onSessionUpdateResponse",(e,t)=>{let{id:r}=t,n=k3("session_update",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("session_update",r),{}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("session_update",r),{error:t.error})}),jB(this,"onSessionExtendRequest",async(e,t)=>{let{id:r}=t;try{this.isValidExtend({topic:e}),await this.setExpiry(e,k1(jE)),await this.sendResult({id:r,topic:e,result:!0}),this.client.events.emit("session_extend",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jB(this,"onSessionExtendResponse",(e,t)=>{let{id:r}=t,n=k3("session_extend",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("session_extend",r),{}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("session_extend",r),{error:t.error})}),jB(this,"onSessionPingRequest",async(e,t)=>{let{id:r}=t;try{this.isValidPing({topic:e}),await this.sendResult({id:r,topic:e,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:e})}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jB(this,"onSessionPingResponse",(e,t)=>{let{id:r}=t,n=k3("session_ping",r);setTimeout(()=>{if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners 2176`);(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("session_ping",r),{}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("session_ping",r),{error:t.error})},500)}),jB(this,"onSessionDeleteRequest",async(e,t)=>{let{id:r}=t;try{this.isValidDisconnect({topic:e,reason:t.params}),await Promise.all([new Promise(t=>{this.client.core.relayer.once(S2,async()=>{t(await this.deleteSession({topic:e,id:r}))})}),this.sendResult({id:r,topic:e,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:e,error:I9("USER_DISCONNECTED")})]).catch(e=>this.client.logger.error(e))}catch(e){this.client.logger.error(e)}}),jB(this,"onSessionRequest",async e=>{var t,r,n;let{topic:i,payload:a,attestation:o,encryptedId:s,transportType:l}=e,{id:c,params:d}=a;try{await this.isValidRequest(jD({topic:i},d));let e=this.client.session.get(i),a=await this.getVerifyContext({attestationId:o,hash:IN(JSON.stringify((0,Sq.formatJsonRpcRequest)("wc_sessionRequest",d,c))),encryptedId:s,metadata:e.peer.metadata,transportType:l}),u={id:c,topic:i,params:d,verifyContext:a};await this.setPendingSessionRequest(u),l===S9&&null!=(t=e.peer.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(null==(r=e.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(u):(this.addSessionRequestToSessionRequestQueue(u),this.processSessionRequestQueue())}catch(e){await this.sendError({id:c,topic:i,error:e}),this.client.logger.error(e)}}),jB(this,"onSessionRequestResponse",(e,t)=>{let{id:r}=t,n=k3("session_request",r);if(0===this.events.listenerCount(n))throw Error(`emitting ${n} without any listeners`);(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("session_request",r),{result:t.result}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("session_request",r),{error:t.error})}),jB(this,"onSessionEventRequest",async(e,t)=>{let{id:r,params:n}=t;try{let t=`${e}_session_event_${n.event.name}`,i=Sg.get(t);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(jD({topic:e},n)),this.client.events.emit("session_event",{id:r,topic:e,params:n}),Sg.set(t,r)}catch(t){await this.sendError({id:r,topic:e,error:t}),this.client.logger.error(t)}}),jB(this,"onSessionAuthenticateResponse",(e,t)=>{let{id:r}=t;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:e,payload:t}),(0,Sz.isJsonRpcResult)(t)?this.events.emit(k3("session_request",r),{result:t.result}):(0,Sz.isJsonRpcError)(t)&&this.events.emit(k3("session_request",r),{error:t.error})}),jB(this,"onSessionAuthenticateRequest",async e=>{var t;let{topic:r,payload:n,attestation:i,encryptedId:a,transportType:o}=e;try{let{requester:e,authPayload:s,expiryTimestamp:l}=n.params,c=await this.getVerifyContext({attestationId:i,hash:IN(JSON.stringify(n)),encryptedId:a,metadata:e.metadata,transportType:o}),d={requester:e,pairingTopic:r,id:n.id,authPayload:s,verifyContext:c,expiryTimestamp:l};await this.setAuthRequest(n.id,{request:d,pairingTopic:r,transportType:o}),o===S9&&null!=(t=e.metadata.redirect)&&t.universal&&this.client.core.addLinkModeSupportedApp(e.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:c})}catch(a){this.client.logger.error(a);let e=n.params.requester.publicKey,t=await this.client.core.crypto.generateKeyPair(),i=this.getAppLinkIfEnabled(n.params.requester.metadata,o);await this.sendError({id:n.id,topic:r,error:a,encodeOpts:{type:1,receiverPublicKey:e,senderPublicKey:t},rpcOpts:jC.wc_sessionAuthenticate.autoReject,appLink:i})}}),jB(this,"addSessionRequestToSessionRequestQueue",e=>{this.sessionRequestQueue.queue.push(e)}),jB(this,"cleanupAfterResponse",e=>{this.deletePendingSessionRequest(e.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=jI,this.processSessionRequestQueue()},(0,_o.toMiliseconds)(this.requestQueueDelay))}),jB(this,"cleanupPendingSentRequestsForTopic",({topic:e,error:t})=>{let r=this.client.core.history.pending;r.length>0&&r.filter(t=>t.topic===e&&"wc_sessionRequest"===t.request.method).forEach(e=>{let r=k3("session_request",e.request.id);if(0===this.events.listenerCount(r))throw Error(`emitting ${r} without any listeners`);this.events.emit(k3("session_request",e.request.id),{error:t})})}),jB(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===jS)return void this.client.logger.info("session request queue is already active.");let e=this.sessionRequestQueue.queue[0];if(!e)return void this.client.logger.info("session request queue is empty.");try{this.emitSessionRequest(e)}catch(e){this.client.logger.error(e)}}),jB(this,"emitSessionRequest",e=>{this.emittedSessionRequests.has(e.id)?this.client.logger.warn({id:e.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${e.id}`):(this.sessionRequestQueue.state=jS,this.emittedSessionRequests.add(e.id),this.client.events.emit("session_request",e))}),jB(this,"onPairingCreated",e=>{if(e.methods&&this.expectedPairingMethodMap.set(e.topic,e.methods),e.active)return;let t=this.client.proposal.getAll().find(t=>t.pairingTopic===e.topic);t&&this.onSessionProposeRequest({topic:e.topic,payload:(0,Sq.formatJsonRpcRequest)("wc_sessionPropose",j$(jD({},t),jR({requiredNamespaces:t.requiredNamespaces,optionalNamespaces:t.optionalNamespaces,relays:t.relays,proposer:t.proposer,sessionProperties:t.sessionProperties,scopedProperties:t.scopedProperties})),t.id),attestation:t.attestation,encryptedId:t.encryptedId})}),jB(this,"isValidConnect",async e=>{let t;if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(e)}`);throw Error(t)}let{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:a,scopedProperties:o,relays:s}=e;if(St(r)||await this.isValidPairingTopic(r),t=!1,s?s&&I7(s)&&s.length&&s.forEach(e=>{t=Sl(e)}):t=!0,!t){let{message:e}=I8("MISSING_OR_INVALID",`connect() relays: ${s}`);throw Error(e)}if(!St(n)&&0!==Se(n)){let e="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(e):this.client.logger.warn(e),this.validateNamespaces(n,"requiredNamespaces")}if(St(i)||0===Se(i)||this.validateNamespaces(i,"optionalNamespaces"),St(a)||this.validateSessionProps(a,"sessionProperties"),!St(o)){this.validateSessionProps(o,"scopedProperties");let e=Object.keys(n||{}).concat(Object.keys(i||{}));if(!Object.keys(o).every(t=>e.includes(t.split(":")[0])))throw Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(e)}`)}}),jB(this,"validateNamespaces",(e,t)=>{let r=function(e,t,r){let n=null;if(e&&Se(e)){let i,a=So(e,t);a&&(n=a);let o=(i=null,Object.entries(e).forEach(([e,n])=>{var a,o;let s;if(i)return;let l=(a=kS(e,n),o=`${t} ${r}`,s=null,I7(a)&&a.length?a.forEach(e=>{s||Si(e)||(s=I9("UNSUPPORTED_CHAINS",`${o}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):Si(e)||(s=I9("UNSUPPORTED_CHAINS",`${o}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),s);l&&(i=l)}),i);o&&(n=o)}else n=I8("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}(e,"connect()",t);if(r)throw Error(r.message)}),jB(this,"isValidApprove",async e=>{if(!Sc(e))throw Error(I8("MISSING_OR_INVALID",`approve() params: ${e}`).message);let{id:t,namespaces:r,relayProtocol:n,sessionProperties:i,scopedProperties:a}=e;this.checkRecentlyDeleted(t),await this.isValidProposalId(t);let o=this.client.proposal.get(t),s=Ss(r,"approve()");if(s)throw Error(s.message);let l=Su(o.requiredNamespaces,r,"approve()");if(l)throw Error(l.message);if(!Sr(n,!0)){let{message:e}=I8("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw Error(e)}if(St(i)||this.validateSessionProps(i,"sessionProperties"),!St(a)){this.validateSessionProps(a,"scopedProperties");let e=new Set(Object.keys(r));if(!Object.keys(a).every(t=>e.has(t.split(":")[0])))throw Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(e).join(", ")}`)}}),jB(this,"isValidReject",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`reject() params: ${e}`);throw Error(t)}let{id:t,reason:r}=e;if(this.checkRecentlyDeleted(t),await this.isValidProposalId(t),!r||"object"!=typeof r||!r.code||!Sn(r.code,!1)||!r.message||!Sr(r.message,!1)){let{message:e}=I8("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw Error(e)}}),jB(this,"isValidSessionSettleRequest",e=>{let t;if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${e}`);throw Error(t)}let{relay:r,controller:n,namespaces:i,expiry:a}=e;if(!Sl(r)){let{message:e}=I8("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw Error(e)}let o=(t=null,Sr(n?.publicKey,!1)||(t=I8("MISSING_OR_INVALID","onSessionSettleRequest() controller public key should be a string")),t);if(o)throw Error(o.message);let s=Ss(i,"onSessionSettleRequest()");if(s)throw Error(s.message);if(k2(a)){let{message:e}=I8("EXPIRED","onSessionSettleRequest()");throw Error(e)}}),jB(this,"isValidUpdate",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`update() params: ${e}`);throw Error(t)}let{topic:t,namespaces:r}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t);let n=this.client.session.get(t),i=Ss(r,"update()");if(i)throw Error(i.message);let a=Su(n.requiredNamespaces,r,"update()");if(a)throw Error(a.message)}),jB(this,"isValidExtend",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`extend() params: ${e}`);throw Error(t)}let{topic:t}=e;this.checkRecentlyDeleted(t),await this.isValidSessionTopic(t)}),jB(this,"isValidRequest",async e=>{var t;let r;if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`request() params: ${e}`);throw Error(t)}let{topic:n,request:i,chainId:a,expiry:o}=e;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:s}=this.client.session.get(n);if(!Sd(s,a)){let{message:e}=I8("MISSING_OR_INVALID",`request() chainId: ${a}`);throw Error(e)}if(St(i)||!Sr(i.method,!1)){let{message:e}=I8("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw Error(e)}if(!(Sr(t=i.method,!1)&&(r=[],Object.values(s).forEach(e=>{I0(e.accounts).includes(a)&&r.push(...e.methods)}),r).includes(t))){let{message:e}=I8("MISSING_OR_INVALID",`request() method: ${i.method}`);throw Error(e)}if(o&&(!Sn(o,!1)||!(o<=jA.max)||!(o>=jA.min))){let{message:e}=I8("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${jA.min} and ${jA.max}`);throw Error(e)}}),jB(this,"isValidRespond",async e=>{var t;if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`respond() params: ${e}`);throw Error(t)}let{topic:r,response:n}=e;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(t=e?.response)&&t.id&&this.cleanupAfterResponse(e),r}if(St(n)||St(n.result)&&St(n.error)||!Sn(n.id,!1)||!Sr(n.jsonrpc,!1)){let{message:e}=I8("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw Error(e)}}),jB(this,"isValidPing",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`ping() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),jB(this,"isValidEmit",async e=>{var t;let r;if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`emit() params: ${e}`);throw Error(t)}let{topic:n,event:i,chainId:a}=e;await this.isValidSessionTopic(n);let{namespaces:o}=this.client.session.get(n);if(!Sd(o,a)){let{message:e}=I8("MISSING_OR_INVALID",`emit() chainId: ${a}`);throw Error(e)}if(St(i)||!Sr(i.name,!1)||!(Sr(t=i.name,!1)&&(r=[],Object.values(o).forEach(e=>{I0(e.accounts).includes(a)&&r.push(...e.events)}),r).includes(t))){let{message:e}=I8("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw Error(e)}}),jB(this,"isValidDisconnect",async e=>{if(!Sc(e)){let{message:t}=I8("MISSING_OR_INVALID",`disconnect() params: ${e}`);throw Error(t)}let{topic:t}=e;await this.isValidSessionOrPairingTopic(t)}),jB(this,"isValidAuthenticate",e=>{let{chains:t,uri:r,domain:n,nonce:i}=e;if(!Array.isArray(t)||0===t.length)throw Error("chains is required and must be a non-empty array");if(!Sr(r,!1))throw Error("uri is required parameter");if(!Sr(n,!1))throw Error("domain is required parameter");if(!Sr(i,!1))throw Error("nonce is required parameter");if([...new Set(t.map(e=>kA(e).namespace))].length>1)throw Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=kA(t[0]);if("eip155"!==a)throw Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),jB(this,"getVerifyContext",async e=>{let{attestationId:t,hash:r,encryptedId:n,metadata:i,transportType:a}=e,o={verified:{verifyUrl:i.verifyUrl||Tp,validation:"UNKNOWN",origin:i.url||""}};try{if(a===S9){let e=this.getAppLinkIfEnabled(i,a);return o.verified.validation=e&&new URL(e).origin===new URL(i.url).origin?"VALID":"INVALID",o}let e=await this.client.core.verify.resolve({attestationId:t,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});e&&(o.verified.origin=e.origin,o.verified.isScam=e.isScam,o.verified.validation=e.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(e){this.client.logger.warn(e)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o}),jB(this,"validateSessionProps",(e,t)=>{Object.values(e).forEach((r,n)=>{if(null==r){let{message:i}=I8("MISSING_OR_INVALID",`${t} must contain an existing value for each key. Received: ${r} for key ${Object.keys(e)[n]}`);throw Error(i)}})}),jB(this,"getPendingAuthRequest",e=>{let t=this.client.auth.requests.get(e);return"object"==typeof t?t:void 0}),jB(this,"addToRecentlyDeleted",(e,t)=>{if(this.recentlyDeletedMap.set(e,t),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let e=0,t=this.recentlyDeletedLimit/2;for(let r of this.recentlyDeletedMap.keys()){if(e++>=t)break;this.recentlyDeletedMap.delete(r)}}}),jB(this,"checkRecentlyDeleted",e=>{let t=this.recentlyDeletedMap.get(e);if(t){let{message:r}=I8("MISSING_OR_INVALID",`Record was recently deleted - ${t}: ${e}`);throw Error(r)}}),jB(this,"isLinkModeEnabled",(t,r)=>{var n,i,a,o,s,l,c,d,u;return!!t&&r===S9&&(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)===!0&&(null==(o=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:o.universal)!==void 0&&(null==(l=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:l.universal)!==""&&(null==(c=t?.redirect)?void 0:c.universal)!==void 0&&(null==(d=t?.redirect)?void 0:d.universal)!==""&&(null==(u=t?.redirect)?void 0:u.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&"u">typeof(null==e.g?void 0:e.g.Linking)}),jB(this,"getAppLinkIfEnabled",(e,t)=>{var r;return this.isLinkModeEnabled(e,t)?null==(r=e?.redirect)?void 0:r.universal:void 0}),jB(this,"handleLinkModeMessage",({url:e})=>{if(!e||!e.includes("wc_ev")||!e.includes("topic"))return;let t=k8(e,"topic")||"",r=decodeURIComponent(k8(e,"wc_ev")||""),n=this.client.session.keys.includes(t);n&&this.client.session.update(t,{transportType:S9}),this.client.core.dispatchEnvelope({topic:t,message:r,sessionExists:n})}),jB(this,"registerLinkModeListeners",async()=>{var t;if(k7()||kW()&&null!=(t=this.client.metadata.redirect)&&t.linkMode){let t=null==e.g?void 0:e.g.Linking;if("u">typeof t){t.addEventListener("url",this.handleLinkModeMessage,this.client.name);let e=await t.getInitialURL();e&&setTimeout(()=>{this.handleLinkModeMessage({url:e})},50)}}}),jB(this,"getTVFParams",(e,t,r)=>{var n,i,a;if(!(null!=(n=t.request)&&n.method))return{};let o={correlationId:e,rpcMethods:[t.request.method],chainId:t.chainId};try{o.txHashes=this.extractTxHashesFromResult(t.request,r),o.contractAddresses=this.isValidContractData(t.request.params)?[null==(a=null==(i=t.request.params)?void 0:i[0])?void 0:a.to]:[]}catch(e){this.client.logger.warn("Error getting TVF params",e)}return o}),jB(this,"isValidContractData",e=>{var t;if(!e)return!1;try{let r=e?.data||(null==(t=e?.[0])?void 0:t.data);if(!r.startsWith("0x"))return!1;let n=r.slice(2);return!!/^[0-9a-fA-F]*$/.test(n)&&n.length%2==0}catch{}return!1}),jB(this,"extractTxHashesFromResult",(e,t)=>{var r,n,i;try{if(!t)return[];let a=e.method,o=jT[a];if("sui_signTransaction"===a){let e,r,i,a;return[(n=t.transactionBytes,e=new Uint8Array(V.Buffer.from(n,"base64")),r=Array.from("TransactionData::").map(e=>e.charCodeAt(0)),(i=new Uint8Array(r.length+e.length)).set(r),i.set(e,r.length),a=Ck(i,{dkLen:32}),_M.default.encode(a))]}if("near_signTransaction"===a)return[CS(t)];if("near_signTransactions"===a)return t.map(e=>CS(e));if("xrpl_signTransactionFor"===a||"xrpl_signTransaction"===a)return[null==(r=t.tx_json)?void 0:r.hash];if("polkadot_signTransaction"===a){let r,n,a,o;return[(i={transaction:e.params.transactionPayload,signature:t.signature},a=Uint8Array.from(V.Buffer.from(i.signature,"hex")),o=function({publicKey:e,signature:t,payload:r}){var n,i,a;let o,s=Sy(r.method),l=128|parseInt((null==(n=r.version)?void 0:n.toString())||"4"),c=(i=r.address,o=_M.default.decode(i)[0],42===o?0:60===o?2:1),d="00"===r.era?new Uint8Array([0]):Sy(r.era);if(1!==d.length&&2!==d.length)throw Error("Invalid era length");let u=parseInt(r.nonce,16),h=new Uint8Array([255&u,u>>8&255]),p=new Uint8Array([0,...e,c,...t,...d,...h,...function(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}throw Error("BigInt compact encoding not supported > 2^30")}(BigInt(`0x${(a=r.tip).startsWith("0x")?a.slice(2):a}`)),...s]);return new Uint8Array([...function(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([255&t,t>>8&255])}if(e<0x40000000){let t=e<<2|2;return new Uint8Array([255&t,t>>8&255,t>>16&255,t>>24&255])}throw Error("Compact encoding > 2^30 not supported")}(p.length+1),l,...p])}({publicKey:function(e){let t=_M.default.decode(e);if(t.length<33)throw Error("Too short to contain a public key");return t.slice(1,33)}(i.transaction.address),signature:a,payload:i.transaction}),r=Sy(V.Buffer.from(o).toString("hex")),n=(0,kC.blake2b)(r,void 0,32),"0x"+V.Buffer.from(n).toString("hex"))]}if("algo_signTxn"===a)return I7(t)?t.map(e=>CT(e)):[CT(t)];if("cosmos_signDirect"===a){let e,r,n,i,a;return[(e=V.Buffer.from(t.signed.bodyBytes,"base64"),r=V.Buffer.from(t.signed.authInfoBytes,"base64"),n=V.Buffer.from(t.signature.signature,"base64"),(i=[]).push(V.Buffer.from([10])),i.push(CP(e.length)),i.push(e),i.push(V.Buffer.from([18])),i.push(CP(r.length)),i.push(r),i.push(V.Buffer.from([26])),i.push(CP(n.length)),i.push(n),a=Ch(V.Buffer.concat(i)),V.Buffer.from(a).toString("hex").toUpperCase())]}if("string"==typeof t)return[t];let s=t[o.key];if(I7(s))return"solana_signAllTransactions"===a?s.map(e=>(function(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let n=r[0];if(0===n)throw Error("No signatures found");if(r.length<1+64*n)throw Error("Transaction data too short for claimed signature count");if(r.length<100)throw Error("Transaction too short");let i=V.Buffer.from(e,"base64").slice(1,65);return _M.default.encode(i)})(e)):s;if("string"==typeof s)return[s]}catch(e){this.client.logger.warn("Error extracting tx hashes from result",e)}return[]})}async processPendingMessageEvents(){try{let e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(let[e,r]of Object.entries(t))for(let t of r)try{await this.onProviderMessageEvent({topic:e,message:t,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${e}, message: ${t}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){let{message:e}=I8("NOT_INITIALIZED",this.name);throw Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(SX,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){let{topic:t,message:r,attestation:n,transportType:i}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes(jN)?this.client.auth.authKeys.get(jN):{responseTopic:void 0,publicKey:void 0};try{let e=await this.client.core.crypto.decode(t,r,{receiverPublicKey:a,encoding:i===S9?IS:II});(0,Sz.isJsonRpcRequest)(e)?(this.client.core.history.set(t,e),await this.onRelayEventRequest({topic:t,payload:e,attestation:n,transportType:i,encryptedId:IN(r)})):(0,Sz.isJsonRpcResponse)(e)?(await this.client.core.history.resolve(e),await this.onRelayEventResponse({topic:t,payload:e,transportType:i}),this.client.core.history.delete(t,e.id)):await this.onRelayEventUnknownPayload({topic:t,payload:e,transportType:i}),await this.client.core.relayer.messages.ack(t,r)}catch(e){this.client.logger.error(e)}}registerExpirerEvents(){this.client.core.expirer.on(Th,async e=>{let{topic:t,id:r}=k0(e.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,I8("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,I8("EXPIRED"),!0):void(t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))})}registerPairingEvents(){this.client.core.pairing.events.on(Ta,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(To,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Sr(e,!1)){let{message:t}=I8("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){let{message:t}=I8("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw Error(t)}if(k2(this.client.core.pairing.pairings.get(e).expiry)){let{message:t}=I8("EXPIRED",`pairing topic: ${e}`);throw Error(t)}}async isValidSessionTopic(e){if(!Sr(e,!1)){let{message:t}=I8("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){let{message:t}=I8("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw Error(t)}if(k2(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});let{message:t}=I8("EXPIRED",`session topic: ${e}`);throw Error(t)}if(!this.client.core.crypto.keychain.has(e)){let{message:t}=I8("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Sr(e,!1)){let{message:t}=I8("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw Error(t)}else{let{message:t}=I8("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw Error(t)}}async isValidProposalId(e){if("number"!=typeof e){let{message:t}=I8("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw Error(t)}if(!this.client.proposal.keys.includes(e)){let{message:t}=I8("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw Error(t)}if(k2(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);let{message:t}=I8("EXPIRED",`proposal id: ${e}`);throw Error(t)}}}class jq extends PQ{constructor(e,t){super(e,t,"proposal",jx),this.core=e,this.logger=t}}class jz extends PQ{constructor(e,t){super(e,t,"session",jx),this.core=e,this.logger=t}}class jV extends PQ{constructor(e,t){super(e,t,"request",jx,e=>e.id),this.core=e,this.logger=t}}class jH extends PQ{constructor(e,t){super(e,t,"authKeys",jj,()=>jN),this.core=e,this.logger=t}}class jG extends PQ{constructor(e,t){super(e,t,"pairingTopics",jj),this.core=e,this.logger=t}}class jK extends PQ{constructor(e,t){super(e,t,"requests",jj,e=>e.id),this.core=e,this.logger=t}}var jJ=Object.defineProperty,jY=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?jJ(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class jZ{constructor(e,t){this.core=e,this.logger=t,jY(this,"authKeys"),jY(this,"pairingTopics"),jY(this,"requests"),this.authKeys=new jH(this.core,this.logger),this.pairingTopics=new jG(this.core,this.logger),this.requests=new jK(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var jQ=Object.defineProperty,jX=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?jQ(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class j0 extends SF{constructor(e){super(e),jX(this,"protocol","wc"),jX(this,"version",2),jX(this,"name",jb),jX(this,"metadata"),jX(this,"core"),jX(this,"logger"),jX(this,"events",new _i.EventEmitter),jX(this,"engine"),jX(this,"session"),jX(this,"proposal"),jX(this,"pendingRequest"),jX(this,"auth"),jX(this,"signConfig"),jX(this,"on",(e,t)=>this.events.on(e,t)),jX(this,"once",(e,t)=>this.events.once(e,t)),jX(this,"off",(e,t)=>this.events.off(e,t)),jX(this,"removeListener",(e,t)=>this.events.removeListener(e,t)),jX(this,"removeAllListeners",e=>this.events.removeAllListeners(e)),jX(this,"connect",async e=>{try{return await this.engine.connect(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"pair",async e=>{try{return await this.engine.pair(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"approve",async e=>{try{return await this.engine.approve(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"reject",async e=>{try{return await this.engine.reject(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"update",async e=>{try{return await this.engine.update(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"extend",async e=>{try{return await this.engine.extend(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"request",async e=>{try{return await this.engine.request(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"respond",async e=>{try{return await this.engine.respond(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"ping",async e=>{try{return await this.engine.ping(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"emit",async e=>{try{return await this.engine.emit(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"disconnect",async e=>{try{return await this.engine.disconnect(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"find",e=>{try{return this.engine.find(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(e){throw this.logger.error(e.message),e}}),jX(this,"authenticate",async(e,t)=>{try{return await this.engine.authenticate(e,t)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"formatAuthMessage",e=>{try{return this.engine.formatAuthMessage(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"approveSessionAuthenticate",async e=>{try{return await this.engine.approveSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),jX(this,"rejectSessionAuthenticate",async e=>{try{return await this.engine.rejectSessionAuthenticate(e)}catch(e){throw this.logger.error(e.message),e}}),this.name=e?.name||jb,this.metadata=function(e){var t,r;let n=kH();try{let i,a;return null!=e&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),null!=(t=e?.icons)&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(e=>""!==e)),i=kM(kM({},n),e),a={url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:null!=(r=e?.icons)&&r.length&&e.icons.length>0?e.icons:n.icons},kP(i,kj(a))}catch(t){return console.warn("Error populating app metadata",t),e||n}}(e?.metadata),this.signConfig=e?.signConfig;const t="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,Sx.pino)((0,Sb.getDefaultLoggerOptions)({level:e?.logger||"error"}));this.core=e?.core||new jv(e),this.logger=(0,Sb.generateChildLogger)(t,this.name),this.session=new jz(this.core,this.logger),this.proposal=new jq(this.core,this.logger),this.pendingRequest=new jV(this.core,this.logger),this.engine=new jW(this),this.auth=new jZ(this.core,this.logger)}static async init(e){let t=new j0(e);return await t.initialize(),t}get context(){return(0,Sb.getLoggerContext)(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var j1=e.i(700545);let j2="error",j3="wc@2:universal_provider:",j5="https://rpc.walletconnect.org/v1/",j4="generic",j6=`${j5}bundler`,j8="default_chain_changed";function j9(e){return null==e||"object"!=typeof e&&"function"!=typeof e}function j7(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let Nt="[object String]",Nr="[object Number]",Nn="[object Boolean]",Ni="[object Arguments]";function Na(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function No(e,t,r,n=new Map,i){let a=i?.(e,t,r,n);if(null!=a)return a;if(j9(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let t=Array(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=No(e[a],a,r,n,i);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){let t=new Map;for(let[a,o]of(n.set(e,t),e))t.set(a,No(o,a,r,n,i));return t}if(e instanceof Set){let t=new Set;for(let a of(n.set(e,t),e))t.add(No(a,void 0,r,n,i));return t}if("u">typeof V.Buffer&&V.Buffer.isBuffer(e))return e.subarray();if(Na(e)){let t=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,t);for(let a=0;a<e.length;a++)t[a]=No(e[a],a,r,n,i);return t}if(e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),Ns(t,e,r,n,i),t}if("u">typeof File&&e instanceof File){let t=new File([e],e.name,{type:e.type});return n.set(e,t),Ns(t,e,r,n,i),t}if(e instanceof Blob){let t=new Blob([e],{type:e.type});return n.set(e,t),Ns(t,e,r,n,i),t}if(e instanceof Error){let t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,Ns(t,e,r,n,i),t}if("object"==typeof e&&function(e){switch(Ne(e)){case Ni:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case Nn:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case Nr:case"[object Object]":case"[object RegExp]":case"[object Set]":case Nt:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(e)){let t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),Ns(t,e,r,n,i),t}return e}function Ns(e,t,r=e,n,i){let a=[...Object.keys(t),...j7(t)];for(let o=0;o<a.length;o++){let s=a[o],l=Object.getOwnPropertyDescriptor(e,s);(null==l||l.writable)&&(e[s]=No(t[s],s,r,n,i))}}function Nl(e){var t;return t=(t,r,n,i)=>{let a;if(null!=a)return a;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case Nr:case Nt:case Nn:{let t=new e.constructor(e?.valueOf());return Ns(t,e),t}case Ni:{let t={};return Ns(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}},No(e,void 0,e,new Map,t)}function Nc(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===Ne(e)}function Nd(e){return"object"==typeof e&&null!==e}function Nu(){}var Nh=Object.defineProperty,Np=Object.defineProperties,Nf=Object.getOwnPropertyDescriptors,Nm=Object.getOwnPropertySymbols,Ng=Object.prototype.hasOwnProperty,Ny=Object.prototype.propertyIsEnumerable,Nw=(e,t,r)=>t in e?Nh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Nv=(e,t)=>{for(var r in t||(t={}))Ng.call(t,r)&&Nw(e,r,t[r]);if(Nm)for(var r of Nm(t))Ny.call(t,r)&&Nw(e,r,t[r]);return e},Nb=(e,t)=>Np(e,Nf(t));function Nx(e,t,r){var n;let i=kA(e);return(null==(n=t.rpcMap)?void 0:n[i.reference])||`${j5}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function N_(e){return e.includes(":")?e.split(":")[1]:e}function Nk(e){return e.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function NE(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>{var r,n;return(null==(r=t?.chains)?void 0:r.length)&&(null==(n=t?.chains)?void 0:n.length)>0}))}function NC(e={},t={}){return function(e,...t){return function(e,...t){let r=t.slice(0,-1),n=t[t.length-1],i=e;for(let e=0;e<r.length;e++)i=function e(t,r,n,i){if(j9(t)&&(t=Object(t)),null==r||"object"!=typeof r)return t;if(i.has(r))return function(e){if(j9(e))return e;if(Array.isArray(e)||Na(e)||e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let t=new r(e);return t.lastIndex=e.lastIndex,t}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let t=new r(e.message);return t.stack=e.stack,t.name=e.name,t.cause=e.cause,t}return"u">typeof File&&e instanceof File?new r([e],e.name,{type:e.type,lastModified:e.lastModified}):"object"==typeof e?Object.assign(Object.create(t),e):e}(i.get(r));if(i.set(r,t),Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]=r[e]??void 0}let a=[...Object.keys(r),...j7(r)];for(let o=0;o<a.length;o++){let s=a[o],l=r[s],c=t[s];if(Nc(l)&&(l={...l}),Nc(c)&&(c={...c}),"u">typeof V.Buffer&&V.Buffer.isBuffer(l)&&(l=Nl(l)),Array.isArray(l))if("object"==typeof c&&null!=c){let e=[],t=Reflect.ownKeys(c);for(let r=0;r<t.length;r++){let n=t[r];e[n]=c[n]}c=e}else c=[];let d=n(c,l,s,t,r,i);null!=d?t[s]=d:Array.isArray(l)||Nd(c)&&Nd(l)?t[s]=e(c,l,n,i):null==c&&function(e){if("object"!=typeof e||null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){let t=e[Symbol.toStringTag];return null!=t&&!!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable&&e.toString()===`[object ${t}]`}let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(l)?t[s]=e({},l,n,i):null==c&&Na(l)?t[s]=Nl(l):(void 0===c||void 0!==l)&&(t[s]=l)}return t}(i,r[e],n,new Map);return i}(e,...t,Nu)}(NE(NA(e)),NE(NA(t)))}function NA(e){var t,r,n,i,a;let o={};if(!Se(e))return o;for(let[s,l]of Object.entries(e)){let e=I1(s)?[s]:l.chains,c=l.methods||[],d=l.events||[],u=l.rpcMap||{},h=I2(s);o[h]=Nb(Nv(Nv({},o[h]),l),{chains:k5(e,null==(t=o[h])?void 0:t.chains),methods:k5(c,null==(r=o[h])?void 0:r.methods),events:k5(d,null==(n=o[h])?void 0:n.events)}),(Se(u)||Se((null==(i=o[h])?void 0:i.rpcMap)||{}))&&(o[h].rpcMap=Nv(Nv({},u),null==(a=o[h])?void 0:a.rpcMap))}return o}function NI(e){return e.includes(":")?e.split(":")[2]:e}function NS(e){let t={};for(let[r,n]of Object.entries(e)){let e=n.methods||[],i=n.events||[],a=n.accounts||[],o=I1(r)?[r]:n.chains?n.chains:Nk(n.accounts);t[r]={chains:o,methods:e,events:i,accounts:a}}return t}function NT(e){return"number"==typeof e?e:e.includes("0x")?parseInt(e,16):isNaN(Number(e=e.includes(":")?e.split(":")[1]:e))?e:Number(e)}let NP={},Nj=e=>NP[e],NN=(e,t)=>{NP[e]=t};var NO=Object.defineProperty,N$=Object.getOwnPropertySymbols,NR=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,NU=(e,t,r)=>t in e?NO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NL=(e,t)=>{for(var r in t||(t={}))NR.call(t,r)&&NU(e,r,t[r]);if(N$)for(var r of N$(t))NM.call(t,r)&&NU(e,r,t[r]);return e};let NF="eip155",ND=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],NB=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,NW=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,Nq=e=>Object.keys(e).filter(e=>ND.includes(e)).reduce((t,r)=>(t[r]=e[r],t),{});var Nz=Object.defineProperty,NV=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Nz(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class NH{constructor(e){NV(this,"name","polkadot"),NV(this,"client"),NV(this,"httpProviders"),NV(this,"events"),NV(this,"namespace"),NV(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${e}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=N_(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var NG=Object.defineProperty,NK=Object.defineProperties,NJ=Object.getOwnPropertyDescriptors,NY=Object.getOwnPropertySymbols,NZ=Object.prototype.hasOwnProperty,NQ=Object.prototype.propertyIsEnumerable,NX=(e,t,r)=>t in e?NG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N0=(e,t)=>{for(var r in t||(t={}))NZ.call(t,r)&&NX(e,r,t[r]);if(NY)for(var r of NY(t))NQ.call(t,r)&&NX(e,r,t[r]);return e},N1=(e,t,r)=>NX(e,"symbol"!=typeof t?t+"":t,r);class N2{constructor(e){N1(this,"name","eip155"),N1(this,"client"),N1(this,"chainId"),N1(this,"namespace"),N1(this,"httpProviders"),N1(this,"events"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(j8,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){let r=t||Nx(`${this.name}:${e}`,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.HttpConnection(r,Nj("disableProviderPing")))}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=parseInt(N_(t));e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}getHttpProvider(){let e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,r;let n=e.request.params?null==(t=e.request.params[0])?void 0:t.chainId:"0x0",i=parseInt(n=n.startsWith("0x")?n:`0x${n}`,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`);else throw Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,r,n,i,a;let o,s=null==(r=null==(t=e.request)?void 0:t.params)?void 0:r[0],l=(null==(i=null==(n=e.request)?void 0:n.params)?void 0:i[1])||[];if(!s)throw Error("Missing address parameter in `wallet_getCapabilities` request");let c=this.client.session.get(e.topic),d=(null==(a=c?.sessionProperties)?void 0:a.capabilities)||{},u=`${s}${l.join(",")}`,h=d?.[u];if(h)return h;try{o=((e,t,r)=>{let{sessionProperties:n={},scopedProperties:i={}}=e,a={};if(!Se(i)&&!Se(n))return;let o=Nq(n);for(let e of r){let r=NB(e);if(!r)continue;a[NW(r)]=o;let n=i?.[`${NF}:${r}`];if(n){let e=n?.[`${NF}:${r}:${t}`];a[NW(r)]=NL(NL({},a[NW(r)]),Nq(e||n))}}for(let[e,t]of Object.entries(a))0===Object.keys(t).length&&delete a[e];return Object.keys(a).length>0?a:void 0})(c,s,l)}catch(e){console.warn("Failed to extract capabilities from session",e)}if(o)return o;let p=await this.client.request(e);try{let t,r,n,i;await this.client.session.update(e.topic,{sessionProperties:(n=N0({},c.sessionProperties||{}),i={capabilities:(t=N0({},d||{}),r={[u]:p},NK(t,NJ(r)))},NK(n,NJ(i)))})}catch(e){console.warn("Failed to update session with capabilities",e)}return p}async getCallStatus(e){var t,r;let n=this.client.session.get(e.topic),i=null==(t=n.sessionProperties)?void 0:t.bundler_name;if(i){let t=this.getBundlerUrl(e.chainId,i);try{return await this.getUserOperationReceipt(t,e)}catch(e){console.warn("Failed to fetch call status from bundler",e,t)}}let a=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(e){console.warn("Failed to fetch call status from custom bundler",e,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var r;let n=new URL(e),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify((0,Sq.formatJsonRpcRequest)("eth_getUserOperationReceipt",[null==(r=t.request.params)?void 0:r[0]]))});if(!i.ok)throw Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(e,t){return`${j6}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var N3=Object.defineProperty,N5=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?N3(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class N4{constructor(e){N5(this,"name","solana"),N5(this,"client"),N5(this,"httpProviders"),N5(this,"events"),N5(this,"namespace"),N5(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=N_(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var N6=Object.defineProperty,N8=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?N6(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class N9{constructor(e){N8(this,"name","cosmos"),N8(this,"client"),N8(this,"httpProviders"),N8(this,"events"),N8(this,"namespace"),N8(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=N_(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var N7=Object.defineProperty,Oe=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?N7(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Ot{constructor(e){Oe(this,"name","algorand"),Oe(this,"client"),Oe(this,"httpProviders"),Oe(this,"events"),Oe(this,"namespace"),Oe(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){let r=t||Nx(`${this.name}:${e}`,this.namespace,this.client.core.projectId);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(j8,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Or=Object.defineProperty,On=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Or(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Oi{constructor(e){On(this,"name","cip34"),On(this,"client"),On(this,"httpProviders"),On(this,"events"),On(this,"namespace"),On(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{let r=this.getCardanoRPCUrl(t),n=N_(t);e[n]=this.createHttpProvider(n,r)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){let t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||this.getCardanoRPCUrl(e);if(!r)throw Error(`No RPC url provided for chainId: ${e}`);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Oa=Object.defineProperty,Oo=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Oa(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Os{constructor(e){Oo(this,"name","elrond"),Oo(this,"client"),Oo(this,"httpProviders"),Oo(this,"events"),Oo(this,"namespace"),Oo(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=N_(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Ol=Object.defineProperty,Oc=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Ol(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Od{constructor(e){Oc(this,"name","multiversx"),Oc(this,"client"),Oc(this,"httpProviders"),Oc(this,"events"),Oc(this,"namespace"),Oc(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;let n=N_(t);e[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Ou=Object.defineProperty,Oh=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Ou(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Op{constructor(e){Oh(this,"name","near"),Oh(this,"client"),Oh(this,"httpProviders"),Oh(this,"events"),Oh(this,"namespace"),Oh(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||Nx(`${this.name}:${e}`,this.namespace);this.setHttpProvider(e,r)}this.events.emit(j8,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{var r;e[t]=this.createHttpProvider(t,null==(r=this.namespace.rpcMap)?void 0:r[t])}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace);return typeof r>"u"?void 0:new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Of=Object.defineProperty,Om=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Of(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Og{constructor(e){Om(this,"name","tezos"),Om(this,"client"),Om(this,"httpProviders"),Om(this,"events"),Om(this,"namespace"),Om(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){let r=t||Nx(`${this.name}:${e}`,this.namespace);this.setHttpProvider(e,r)}this.events.emit(j8,`${this.name}:${this.chainId}`)}getAccounts(){let e=this.namespace.accounts;return e&&e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2])||[]}createHttpProviders(){let e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){let e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace);return typeof r>"u"?void 0:new SW.JsonRpcProvider(new j1.default(r))}}var Oy=Object.defineProperty,Ow=(e,t,r)=>{let n;return(n="symbol"!=typeof t?t+"":t)in e?Oy(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r};class Ov{constructor(e){Ow(this,"name",j4),Ow(this,"client"),Ow(this,"httpProviders"),Ow(this,"events"),Ow(this,"namespace"),Ow(this,"chainId"),this.namespace=e.namespace,this.events=Nj("events"),this.client=Nj("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(j8,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){let e=this.namespace.chains[0];if(!e)throw Error("ChainId not found");return kA(e).namespace}getAccounts(){let e=this.namespace.accounts;return e?[...new Set(e.filter(e=>e.split(":")[1]===this.chainId.toString()).map(e=>e.split(":")[2]))]:[]}createHttpProviders(){var e,t;let r={};return null==(t=null==(e=this.namespace)?void 0:e.accounts)||t.forEach(e=>{r[kA(e).reference]=this.createHttpProvider(e)}),r}getHttpProvider(e){let t=this.httpProviders[e];if(typeof t>"u")throw Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){let r=this.createHttpProvider(e,t);r&&(this.httpProviders[e]=r)}createHttpProvider(e,t){let r=t||Nx(e,this.namespace,this.client.core.projectId);return new SW.JsonRpcProvider(new j1.default(r,Nj("disableProviderPing")))}}var Ob=Object.defineProperty,Ox=Object.defineProperties,O_=Object.getOwnPropertyDescriptors,Ok=Object.getOwnPropertySymbols,OE=Object.prototype.hasOwnProperty,OC=Object.prototype.propertyIsEnumerable,OA=(e,t,r)=>t in e?Ob(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,OI=(e,t)=>{for(var r in t||(t={}))OE.call(t,r)&&OA(e,r,t[r]);if(Ok)for(var r of Ok(t))OC.call(t,r)&&OA(e,r,t[r]);return e},OS=(e,t,r)=>OA(e,"symbol"!=typeof t?t+"":t,r);class OT{constructor(e){OS(this,"client"),OS(this,"namespaces"),OS(this,"optionalNamespaces"),OS(this,"sessionProperties"),OS(this,"scopedProperties"),OS(this,"events",new _i.default),OS(this,"rpcProviders",{}),OS(this,"session"),OS(this,"providerOpts"),OS(this,"logger"),OS(this,"uri"),OS(this,"disableProviderPing",!1),this.providerOpts=e,this.logger="u">typeof e?.logger&&"string"!=typeof e?.logger?e.logger:(0,Sx.pino)((0,Sb.getDefaultLoggerOptions)({level:e?.logger||j2})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){let t=new OT(e);return await t.initialize(),t}async request(e,t,r){let[n,i]=this.validateChain(t);if(!this.session)throw Error("Please call connect() before request()");return await this.getProvider(n).request({request:OI({},e),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(e,t,r,n){let i=new Date().getTime();this.request(e,r,n).then(e=>t(null,(0,Sq.formatJsonRpcResult)(i,e))).catch(e=>t(e,void 0))}async enable(){if(!this.client)throw Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(e=this.session)?void 0:e.topic,reason:I9("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();let{uri:r,response:n}=await this.client.authenticate(e,t);r&&(this.uri=r,this.events.emit("display_uri",r));let i=await n();if(this.session=i.session,this.session){let e=NS(this.session.namespaces);this.namespaces=NC(this.namespaces,e),await this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){let{uri:t,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));let n=await r();this.session=n;let i=NS(n.namespaces);return this.namespaces=NC(this.namespaces,i),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;let[r,n]=this.validateChain(e);this.getProvider(r).setDefaultChain(n,t)}catch(e){if(!/Please call connect/.test(e.message))throw e}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");let t=this.client.pairing.getAll();if(!I7(t))return;for(let r of t)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}catch(e){this.logger.warn("Failed to cleanup pending pairings",e)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await j0.init({core:this.providerOpts.core,logger:this.providerOpts.logger||j2,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),Error(`The provided session: ${null==(t=null==(e=this.providerOpts)?void 0:e.session)?void 0:t.topic} doesn't exist in the Sign client`)}else{let e=this.client.session.getAll();this.session=e[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw Error("Sign Client not initialized");if(!this.session)throw Error("Session not initialized. Please call connect() before enable()");let e=[...new Set(Object.keys(this.session.namespaces).map(e=>I2(e)))];NN("client",this.client),NN("events",this.events),NN("disableProviderPing",this.disableProviderPing),e.forEach(e=>{if(!this.session)return;let t=function(e,t){let r=Object.keys(t.namespaces).filter(t=>t.includes(e));if(!r.length)return[];let n=[];return r.forEach(e=>{let r=t.namespaces[e].accounts;n.push(...r)}),n}(e,this.session);if(t?.length===0)return;let r=Nk(t),n=Ox(OI({},NC(this.namespaces,this.optionalNamespaces)[e]),O_({accounts:t,chains:r}));switch(e){case"eip155":this.rpcProviders[e]=new N2({namespace:n});break;case"algorand":this.rpcProviders[e]=new Ot({namespace:n});break;case"solana":this.rpcProviders[e]=new N4({namespace:n});break;case"cosmos":this.rpcProviders[e]=new N9({namespace:n});break;case"polkadot":this.rpcProviders[e]=new NH({namespace:n});break;case"cip34":this.rpcProviders[e]=new Oi({namespace:n});break;case"elrond":this.rpcProviders[e]=new Os({namespace:n});break;case"multiversx":this.rpcProviders[e]=new Od({namespace:n});break;case"near":this.rpcProviders[e]=new Op({namespace:n});break;case"tezos":this.rpcProviders[e]=new Og({namespace:n});break;default:this.rpcProviders[e]=new Ov({namespace:n})}})}registerEventListeners(){if(typeof this.client>"u")throw Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;let{topic:r}=e;r===(null==(t=this.session)?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;let{params:r,topic:n}=e;if(n!==(null==(t=this.session)?void 0:t.topic))return;let{event:i}=r;if("accountsChanged"===i.name){let e=i.data;e&&I7(e)&&this.events.emit("accountsChanged",e.map(NI))}else if("chainChanged"===i.name){let e=r.chainId,t=r.event.data,n=I2(e),i=NT(e)!==NT(t)?`${n}:${NT(t)}`:e;this.onChainChanged(i)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var r,n;if(e!==(null==(r=this.session)?void 0:r.topic))return;let{namespaces:i}=t,a=null==(n=this.client)?void 0:n.session.get(e);this.session=Ox(OI({},a),O_({namespaces:i})),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===(null==(t=this.session)?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",Ox(OI({},I9("USER_DISCONNECTED")),O_({data:e.topic}))))}),this.on(j8,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[j4]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace(null==(t=this.session)?void 0:t.namespaces[e])})}setNamespaces(e){let{namespaces:t={},optionalNamespaces:r={},sessionProperties:n,scopedProperties:i}=e;this.optionalNamespaces=NC(t,r),this.sessionProperties=n,this.scopedProperties=i}validateChain(e){let[t,r]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,r];if(t&&!Object.keys(this.namespaces||{}).map(e=>I2(e)).includes(t))throw Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&r)return[t,r];let n=I2(Object.keys(this.namespaces)[0]),i=this.rpcProviders[n].getDefaultChain();return[n,i]}async requestAccounts(){let[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;let[r,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(r,n);let i=this.getProvider(r).getDefaultChain();t?(this.events.emit("chainChanged",n),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:i,newChainId:e})):this.getProvider(r).setDefaultChain(n),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:r}){var n,i;try{if(t===r)return;let a=null==(i=null==(n=this.session)?void 0:n.namespaces[e])?void 0:i.accounts;if(!a)return;let o=a.filter(e=>e.includes(`${r}:`)).map(NI);if(!I7(o))return;this.events.emit("accountsChanged",o)}catch(e){this.logger.warn("Failed to emit accountsChanged on chain change",e)}}updateNamespaceChain(e,t){if(!this.namespaces)return;let r=this.namespaces[e]?e:`${e}:${t}`;this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=t):this.namespaces[r]={chains:[],methods:[],events:[],defaultChain:t}}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var r;let n=(null==(r=this.session)?void 0:r.topic)||"";await this.client.core.storage.setItem(`${j3}/${e}${n}`,t)}async getFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${j3}/${e}${r}`)}async deleteFromStore(e){var t;let r=(null==(t=this.session)?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${j3}/${e}${r}`)}async cleanupStorage(){var e;try{if((null==(e=this.client)?void 0:e.session.length)>0)return;for(let e of(await this.client.core.storage.getKeys()))e.startsWith(j3)&&await this.client.core.storage.removeItem(e)}catch(e){this.logger.warn("Failed to cleanup storage",e)}}}let OP=["eth_sendTransaction","personal_sign"],Oj=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],ON=["chainChanged","accountsChanged"],OO=["chainChanged","accountsChanged","message","disconnect","connect"],O$=async()=>{let{createAppKit:t}=await e.A(139347);return t};var OR=Object.defineProperty,OM=Object.defineProperties,OU=Object.getOwnPropertyDescriptors,OL=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,OD=Object.prototype.propertyIsEnumerable,OB=(e,t,r)=>t in e?OR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,OW=(e,t)=>{for(var r in t||(t={}))OF.call(t,r)&&OB(e,r,t[r]);if(OL)for(var r of OL(t))OD.call(t,r)&&OB(e,r,t[r]);return e},Oq=(e,t,r)=>OB(e,"symbol"!=typeof t?t+"":t,r);function Oz(e){return Number(e[0].split(":")[1])}function OV(e){return`0x${e.toString(16)}`}class OH{constructor(){Oq(this,"events",new _i.EventEmitter),Oq(this,"namespace","eip155"),Oq(this,"accounts",[]),Oq(this,"signer"),Oq(this,"chainId",1),Oq(this,"modal"),Oq(this,"rpc"),Oq(this,"STORAGE_KEY","wc@2:ethereum_provider:"),Oq(this,"on",(e,t)=>(this.events.on(e,t),this)),Oq(this,"once",(e,t)=>(this.events.once(e,t),this)),Oq(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),Oq(this,"off",(e,t)=>(this.events.off(e,t),this)),Oq(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){let t=new OH;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,r){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);let{required:r,optional:n}=function(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:i,events:a,optionalEvents:o,rpcMap:s}=e;if(!I7(t))throw Error("Invalid chains");let l={chains:t,methods:n||OP,events:a||ON,rpcMap:OW({},t.length?{[Oz(t)]:s[Oz(t)]}:{})},c=a?.filter(e=>!ON.includes(e)),d=n?.filter(e=>!OP.includes(e));if(!r&&!o&&!i&&!(null!=c&&c.length)&&!(null!=d&&d.length))return{required:t.length?l:void 0};let u={chains:[...new Set(c?.length&&d?.length||!r?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(null!=i&&i.length?i:Oj))],events:[...new Set(l.events.concat(null!=o&&o.length?o:OO))],rpcMap:s};return{required:t.length?l:void 0,optional:r.length?u:void 0}}(this.rpc);try{let t=await new Promise(async(t,i)=>{var a,o;let s,l;this.rpc.showQrModal&&(null==(a=this.modal)||a.open(),null==(o=this.modal)||o.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),i(Error("Connection request reset. Please try again.")))}));let c=null!=e&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect((s=OW({namespaces:OW({},r&&{[this.namespace]:r})},n&&{optionalNamespaces:{[this.namespace]:n}}),l={pairingTopic:e?.pairingTopic,scopedProperties:c},OM(s,OU(l)))).then(e=>{t(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),i(Error(e.message))})});if(!t)return;let i=kI(t.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:OV(this.chainId)})}catch(e){throw this.signer.logger.error(e),e}finally{null==(t=this.modal)||t.close()}}async authenticate(e,t){var r;if(!this.signer.client)throw Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{let r=await new Promise(async(r,n)=>{var i,a;let o,s;this.rpc.showQrModal&&(null==(i=this.modal)||i.open(),null==(a=this.modal)||a.subscribeState(e=>{e.open||this.signer.session||(this.signer.abortPairingAttempt(),n(Error("Connection request reset. Please try again.")))})),await this.signer.authenticate((o=OW({},e),s={chains:this.rpc.chains},OM(o,OU(s))),t).then(e=>{r(e)}).catch(e=>{var t;null==(t=this.modal)||t.showErrorMessage("Unable to connect"),n(Error(e.message))})}),n=r.session;if(n){let e=kI(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:e),this.setAccounts(e),this.events.emit("connect",{chainId:OV(this.chainId)})}return r}catch(e){throw this.signer.logger.error(e),e}finally{null==(r=this.modal)||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{let{params:t}=e,{event:r}=t;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{let t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",OV(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",OM(OW({},I9("USER_DISCONNECTED")),OU({data:e.topic,name:"USER_DISCONNECTED"})))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return"string"==typeof e&&e.startsWith(`${this.namespace}:`)}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){let t=e.filter(e=>this.isCompatibleChainId(e)).map(e=>this.parseChainId(e));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",OV(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){let t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){let[t,r,n]=e.split(":");return{chainId:`${t}:${r}`,address:n}}setAccounts(e){this.accounts=e.filter(e=>this.parseChainId(this.parseAccountId(e).chainId)===this.chainId).map(e=>this.parseAccountId(e).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,r;let n=null!=(t=e?.chains)?t:[],i=null!=(r=e?.optionalChains)?r:[],a=n.concat(i);if(!a.length)throw Error("No chains specified in either `chains` or `optionalChains`");let o=n.length?e?.methods||OP:[],s=n.length?e?.events||ON:[],l=e?.optionalMethods||[],c=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(a,e.projectId),u=e?.qrModalOptions||void 0;return{chains:n?.map(e=>this.formatChainId(e)),optionalChains:i.map(e=>this.formatChainId(e)),methods:o,events:s,optionalMethods:l,optionalEvents:c,rpcMap:d,showQrModal:!!(null!=e&&e.showQrModal),qrModalOptions:u,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){let r={};return e.forEach(e=>{r[e]=this.getRpcUrl(e,t)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?Oz(this.rpc.chains):Oz(this.rpc.optionalChains),this.signer=await OT.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let e;try{let t,r,n,i,a=await O$(),{convertWCMToAppKitOptions:o}=await Promise.resolve().then(function(){return O3}),s=o((t=OW({},this.rpc.qrModalOptions),r={chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId},OM(t,OU(r))));if(!s.networks.length)throw Error("No networks found for WalletConnect");e=a((n=OW({},s),i={universalProvider:this.signer,manualWCControl:!0},OM(n,OU(i))))}catch(e){throw console.warn(e),Error("To use QR modal, please install @reown/appkit package")}if(e)try{this.modal=e}catch(e){throw this.signer.logger.error(e),Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;let{chains:t,optionalChains:r,rpcMap:n}=e;t&&I7(t)&&(this.rpc.chains=t.map(e=>this.formatChainId(e)),t.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)})),r&&I7(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map(e=>this.formatChainId(e)),r.forEach(e=>{this.rpc.rpcMap[e]=n?.[e]||this.getRpcUrl(e)}))}getRpcUrl(e,t){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[e])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(e=>this.signer.logger.warn(e))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return"string"==typeof e||e instanceof String?[this.parseAccount(e)]:e.map(e=>this.parseAccount(e))}}var OG=Object.defineProperty,OK=Object.defineProperties,OJ=Object.getOwnPropertyDescriptors,OY=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,OQ=Object.prototype.propertyIsEnumerable,OX=(e,t,r)=>t in e?OG(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,O0=(e,t)=>{for(var r in t||(t={}))OZ.call(t,r)&&OX(e,r,t[r]);if(OY)for(var r of OY(t))OQ.call(t,r)&&OX(e,r,t[r]);return e};let O1=e=>{let[t,r]=e.split(":");return O2({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function O2(e){return O0({formatters:void 0,fees:void 0,serializers:void 0},e)}var O3=Object.freeze({__proto__:null,convertWCMToAppKitOptions:function(e){var t,r,n,i,a,o,s;let l=null==(t=e.chains)?void 0:t.map(O1).filter(Boolean);if(0===l.length)throw Error("At least one chain must be specified");let c=l.find(t=>{var r;return t.id===(null==(r=e.defaultChain)?void 0:r.id)}),d={projectId:e.projectId,networks:l,themeMode:e.themeMode,themeVariables:function(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:c,metadata:OK(O0({},e.metadata),OJ({name:(null==(r=e.metadata)?void 0:r.name)||"WalletConnect",description:(null==(n=e.metadata)?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:(null==(i=e.metadata)?void 0:i.url)||"https://walletconnect.org",icons:(null==(a=e.metadata)?void 0:a.icons)||["https://walletconnect.org/walletconnect-logo.png"]})),showWallets:!0,featuredWalletIds:"NONE"===e.explorerRecommendedWalletIds?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:"ALL"===e.explorerExcludedWalletIds?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if(null!=(o=e.mobileWallets)&&o.length||null!=(s=e.desktopWallets)&&s.length){let t=[...(e.mobileWallets||[]).map(e=>({id:e.id,name:e.name,links:e.links})),...(e.desktopWallets||[]).map(e=>({id:e.id,name:e.name,links:{native:e.links.native,universal:e.links.universal}}))],r=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],n=t.filter(e=>!r.includes(e.id));n.length&&(d.customWallets=n)}return d},defineChain:O2}),O5=e.i(950542);function O4(e){return crypto.getRandomValues(new Uint8Array(e))}function O6(){let[e]=O4(1);return e}function O8(){let[e,t]=O4(2);return(e<<8)+t}let O9=Object.freeze(Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]).filter(e=>!e.includes("-"))),O7=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),$e=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}),$t=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}),$r=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}),$n=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))});e.s(["default",0,$n],924568);let $i=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))}),$a=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M9 1.5H5.625c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5Zm6.61 10.936a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 14.47a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}),G.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}),$o=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}),$s=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});e.s(["default",0,$s],181392);let $l=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),$c=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))});function $d(e,t,r){let n,i=r.initialDeps??[],a=!0;function o(){var o,s,l;let c,d;r.key&&(null==(o=r.debug)?void 0:o.call(r))&&(c=Date.now());let u=e();if(!(u.length!==i.length||u.some((e,t)=>i[t]!==e)))return n;if(i=u,r.key&&(null==(s=r.debug)?void 0:s.call(r))&&(d=Date.now()),n=t(...u),r.key&&(null==(l=r.debug)?void 0:l.call(r))){let e=Math.round((Date.now()-c)*100)/100,t=Math.round((Date.now()-d)*100)/100,n=t/16,i=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info(`%c ${i(t,5)} /${i(e,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*n,120))}deg 100% 31%);`,null==r?void 0:r.key)}return(null==r?void 0:r.onChange)&&!(a&&r.skipInitialOnChange)&&r.onChange(n),a=!1,n}return o.updateDeps=e=>{i=e},o}function $u(e,t){if(void 0!==e)return e;throw Error(`Unexpected undefined${t?`: ${t}`:""}`)}let $h=e=>{let{offsetWidth:t,offsetHeight:r}=e;return{width:t,height:r}},$p=e=>e,$f=e=>{let t=Math.max(e.startIndex-e.overscan,0),r=Math.min(e.endIndex+e.overscan,e.count-1),n=[];for(let e=t;e<=r;e++)n.push(e);return n},$m=(e,t)=>{let r=e.scrollElement;if(!r)return;let n=e.targetWindow;if(!n)return;let i=e=>{let{width:r,height:n}=e;t({width:Math.round(r),height:Math.round(n)})};if(i($h(r)),!n.ResizeObserver)return()=>{};let a=new n.ResizeObserver(t=>{let n=()=>{let e=t[0];if(null==e?void 0:e.borderBoxSize){let t=e.borderBoxSize[0];if(t)return void i({width:t.inlineSize,height:t.blockSize})}i($h(r))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(n):n()});return a.observe(r,{box:"border-box"}),()=>{a.unobserve(r)}},$g={passive:!0},$y="undefined"==typeof window||"onscrollend"in window,$w=(e,t)=>{var r,n;let i,a=e.scrollElement;if(!a)return;let o=e.targetWindow;if(!o)return;let s=0,l=e.options.useScrollendEvent&&$y?()=>void 0:(r=()=>{t(s,!1)},n=e.options.isScrollingResetDelay,function(...e){o.clearTimeout(i),i=o.setTimeout(()=>r.apply(this,e),n)}),c=r=>()=>{let{horizontal:n,isRtl:i}=e.options;s=n?a.scrollLeft*(i&&-1||1):a.scrollTop,l(),t(s,r)},d=c(!0),u=c(!1);u(),a.addEventListener("scroll",d,$g);let h=e.options.useScrollendEvent&&$y;return h&&a.addEventListener("scrollend",u,$g),()=>{a.removeEventListener("scroll",d),h&&a.removeEventListener("scrollend",u)}},$v=(e,t,r)=>{if(null==t?void 0:t.borderBoxSize){let e=t.borderBoxSize[0];if(e)return Math.round(e[r.options.horizontal?"inlineSize":"blockSize"])}return e[r.options.horizontal?"offsetWidth":"offsetHeight"]},$b=(e,{adjustments:t=0,behavior:r},n)=>{var i,a;null==(a=null==(i=n.scrollElement)?void 0:i.scrollTo)||a.call(i,{[n.options.horizontal?"left":"top"]:e+t,behavior:r})};class $x{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.laneAssignments=new Map,this.pendingMeasuredCacheIndexes=[],this.prevLanes=void 0,this.lanesChangedFlag=!1,this.lanesSettling=!1,this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null,t=()=>e||(this.targetWindow&&this.targetWindow.ResizeObserver?e=new this.targetWindow.ResizeObserver(e=>{e.forEach(e=>{let t=()=>{this._measureElement(e.target,e)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(t):t()})}):null);return{disconnect:()=>{var r;null==(r=t())||r.disconnect(),e=null},observe:e=>{var r;return null==(r=t())?void 0:r.observe(e,{box:"border-box"})},unobserve:e=>{var r;return null==(r=t())?void 0:r.unobserve(e)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([t,r])=>{void 0===r&&delete e[t]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:$p,rangeExtractor:$f,onChange:()=>{},measureElement:$v,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var t,r;null==(r=(t=this.options).onChange)||r.call(t,this,e)},this.maybeNotify=$d(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;let t=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==t){if(this.cleanup(),!t)return void this.maybeNotify();this.scrollElement=t,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(null==(e=this.scrollElement)?void 0:e.window)??null,this.elementsCache.forEach(e=>{this.observer.observe(e)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,e=>{this.scrollRect=e,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(e,t)=>{this.scrollAdjustments=0,this.scrollDirection=t?this.getScrollOffset()<e?"forward":"backward":null,this.scrollOffset=e,this.isScrolling=t,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??("function"==typeof this.options.initialOffset?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,t)=>{let r=new Map,n=new Map;for(let i=t-1;i>=0;i--){let t=e[i];if(r.has(t.lane))continue;let a=n.get(t.lane);if(null==a||t.end>a.end?n.set(t.lane,t):t.end<a.end&&r.set(t.lane,!0),r.size===this.options.lanes)break}return n.size===this.options.lanes?Array.from(n.values()).sort((e,t)=>e.end===t.end?e.index-t.index:e.end-t.end)[0]:void 0},this.getMeasurementOptions=$d(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled,this.options.lanes],(e,t,r,n,i,a)=>(void 0!==this.prevLanes&&this.prevLanes!==a&&(this.lanesChangedFlag=!0),this.prevLanes=a,this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:i,lanes:a}),{key:!1,skipInitialOnChange:!0,onChange:()=>{this.notify(this.isScrolling)}}),this.getMeasurements=$d(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:t,scrollMargin:r,getItemKey:n,enabled:i,lanes:a},o)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),[];if(this.laneAssignments.size>e)for(let t of this.laneAssignments.keys())t>=e&&this.laneAssignments.delete(t);this.lanesChangedFlag&&(this.lanesChangedFlag=!1,this.lanesSettling=!0,this.measurementsCache=[],this.itemSizeCache.clear(),this.laneAssignments.clear(),this.pendingMeasuredCacheIndexes=[]),0===this.measurementsCache.length&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(e=>{this.itemSizeCache.set(e.key,e.size)}));let s=this.lanesSettling?0:this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[],this.lanesSettling&&this.measurementsCache.length===e&&(this.lanesSettling=!1);let l=this.measurementsCache.slice(0,s),c=Array(a).fill(void 0);for(let e=0;e<s;e++){let t=l[e];t&&(c[t.lane]=e)}for(let i=s;i<e;i++){let e,a,s=n(i),d=this.laneAssignments.get(i);if(void 0!==d&&this.options.lanes>1){let n=c[e=d],i=void 0!==n?l[n]:void 0;a=i?i.end+this.options.gap:t+r}else{let n=1===this.options.lanes?l[i-1]:this.getFurthestMeasurement(l,i);a=n?n.end+this.options.gap:t+r,e=n?n.lane:i%this.options.lanes,this.options.lanes>1&&this.laneAssignments.set(i,e)}let u=o.get(s),h="number"==typeof u?u:this.options.estimateSize(i),p=a+h;l[i]={index:i,start:a,size:h,end:p,key:s,lane:e},c[e]=i}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=$d(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,t,r,n)=>this.range=e.length>0&&t>0?function({measurements:e,outerSize:t,scrollOffset:r,lanes:n}){let i=e.length-1;if(e.length<=n)return{startIndex:0,endIndex:i};let a=$_(0,i,t=>e[t].start,r),o=a;if(1===n)for(;o<i&&e[o].end<r+t;)o++;else if(n>1){let s=Array(n).fill(0);for(;o<i&&s.some(e=>e<r+t);){let t=e[o];s[t.lane]=t.end,o++}let l=Array(n).fill(r+t);for(;a>=0&&l.some(e=>e>=r);){let t=e[a];l[t.lane]=t.start,a--}a=Math.max(0,a-a%n),o=Math.min(i,o+(n-1-o%n))}return{startIndex:a,endIndex:o}}({measurements:e,outerSize:t,scrollOffset:r,lanes:n}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=$d(()=>{let e=null,t=null,r=this.calculateRange();return r&&(e=r.startIndex,t=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,t]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,t]},(e,t,r,n,i)=>null===n||null===i?[]:e({startIndex:n,endIndex:i,overscan:t,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{let t=this.options.indexAttribute,r=e.getAttribute(t);return r?parseInt(r,10):(console.warn(`Missing attribute name '${t}={index}' on measured element.`),-1)},this._measureElement=(e,t)=>{let r=this.indexFromElement(e),n=this.measurementsCache[r];if(!n)return;let i=n.key,a=this.elementsCache.get(i);a!==e&&(a&&this.observer.unobserve(a),this.observer.observe(e),this.elementsCache.set(i,e)),e.isConnected&&this.resizeItem(r,this.options.measureElement(e,t,this))},this.resizeItem=(e,t)=>{let r=this.measurementsCache[e];if(!r)return;let n=t-(this.itemSizeCache.get(r.key)??r.size);0!==n&&((void 0!==this.shouldAdjustScrollPositionOnItemSizeChange?this.shouldAdjustScrollPositionOnItemSizeChange(r,n,this):r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=n,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,t)),this.notify(!1))},this.measureElement=e=>{e?this._measureElement(e,void 0):this.elementsCache.forEach((e,t)=>{e.isConnected||(this.observer.unobserve(e),this.elementsCache.delete(t))})},this.getVirtualItems=$d(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,t)=>{let r=[];for(let n=0,i=e.length;n<i;n++){let i=t[e[n]];r.push(i)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{let t=this.getMeasurements();if(0!==t.length)return $u(t[$_(0,t.length-1,e=>$u(t[e]).start,e)])},this.getOffsetForAlignment=(e,t,r=0)=>{let n=this.getSize(),i=this.getScrollOffset();return"auto"===t&&(t=e>=i+n?"end":"start"),"center"===t?e+=(r-n)/2:"end"===t&&(e-=n),Math.max(Math.min(this.getTotalSize()+this.options.scrollMargin-n,e),0)},this.getOffsetForIndex=(e,t="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));let r=this.measurementsCache[e];if(!r)return;let n=this.getSize(),i=this.getScrollOffset();if("auto"===t)if(r.end>=i+n-this.options.scrollPaddingEnd)t="end";else{if(!(r.start<=i+this.options.scrollPaddingStart))return[i,t];t="start"}let a="end"===t?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,t,r.size),t]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(e,{align:t="start",behavior:r}={})=>{"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,t),{adjustments:void 0,behavior:r})},this.scrollToIndex=(e,{align:t="auto",behavior:r}={})=>{"smooth"===r&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),e=Math.max(0,Math.min(e,this.options.count-1));let n=0,i=t=>{if(!this.targetWindow)return;let n=this.getOffsetForIndex(e,t);if(!n)return void console.warn("Failed to get offset for index:",e);let[i,o]=n;this._scrollToOffset(i,{adjustments:void 0,behavior:r}),this.targetWindow.requestAnimationFrame(()=>{let t=this.getScrollOffset(),r=this.getOffsetForIndex(e,o);r?1.01>Math.abs(r[0]-t)||a(o):console.warn("Failed to get offset for index:",e)})},a=t=>{this.targetWindow&&(++n<10?this.targetWindow.requestAnimationFrame(()=>i(t)):console.warn(`Failed to scroll to index ${e} after 10 attempts.`))};i(t)},this.scrollBy=(e,{behavior:t}={})=>{"smooth"===t&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:t})},this.getTotalSize=()=>{var e;let t,r=this.getMeasurements();if(0===r.length)t=this.options.paddingStart;else if(1===this.options.lanes)t=(null==(e=r[r.length-1])?void 0:e.end)??0;else{let e=Array(this.options.lanes).fill(null),n=r.length-1;for(;n>=0&&e.some(e=>null===e);){let t=r[n];null===e[t.lane]&&(e[t.lane]=t.end),n--}t=Math.max(...e.filter(e=>null!==e))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:t,behavior:r})=>{this.options.scrollToFn(e,{behavior:r,adjustments:t},this)},this.measure=()=>{this.itemSizeCache=new Map,this.laneAssignments=new Map,this.notify(!1)},this.setOptions(e)}}let $_=(e,t,r,n)=>{for(;e<=t;){let i=(e+t)/2|0,a=r(i);if(a<n)e=i+1;else{if(!(a>n))return i;t=i-1}}return e>0?e-1:0},$k="undefined"!=typeof document?G.useLayoutEffect:G.useEffect;var $E=e.i(698870);let $C=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}),$A=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}),$I=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}),$S=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}),$T=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}),$P=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),$j=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}),$N=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}),$O=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}),$$=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}),$R=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}),$M=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}),$U=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),$L=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}),$F=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}),$D=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}),$B=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}),$W="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,$q=function e(t={}){let{fetch:r=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:i=globalThis.AbortController}=t;async function a(e){let t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:+!dv(e.options.method);let r=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(r):dk.has(r))){let r="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return r>0&&await new Promise(e=>setTimeout(e,r)),o(e.request,{...e.options,retry:t-1})}}let r=function(e){let t=e.error?.message||e.error?.toString()||"",r=e.request?.method||e.options?.method||"GET",n=e.request?.url||String(e.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,a=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",o=new dy(`${i}: ${a}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(let t of["request","options","response"])Object.defineProperty(o,t,{get:()=>e[t]});for(let[t,r]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,t,{get:()=>e.response&&e.response[r]});return o}(e);throw Error.captureStackTrace&&Error.captureStackTrace(r,o),r}let o=async function(e,o={}){var s,l,c,d;let u,h,p,f={request:e,options:(s=t.defaults,p=function(e,t,r){if(!t)return new r(e);let n=new r(t);if(e)for(let[t,i]of Symbol.iterator in e||Array.isArray(e)?e:new r(e))n.set(t,i);return n}(o?.headers??e?.headers,s?.headers,n),(s?.query||s?.params||o?.params||o?.query)&&(h={...s?.params,...s?.query,...o?.params,...o?.query}),{...s,...o,query:h,params:h,headers:p}),response:void 0,error:void 0};if(f.options.method&&(f.options.method=f.options.method.toUpperCase()),f.options.onRequest&&(await d_(f,f.options.onRequest),f.options.headers instanceof n||(f.options.headers=new n(f.options.headers||{}))),"string"==typeof f.request){if(f.options.baseURL&&(f.request=function(e,t){var r;if(!(r=t)||"/"===r||df(e))return e;let n=function(e="",t){return(!function(e="",t){return e.endsWith("/")}(e)?e:e.slice(0,-1))||"/"}(t);return e.startsWith(n)?e:function(e,...t){let r=e||"";for(let e of t.filter(e=>e&&"/"!==e))if(r){let t=e.replace(dp,"");r=function(e="",t){return e.endsWith("/")?e:e+"/"}(r)+t}else r=e;return r}(n,e)}(f.request,f.options.baseURL)),f.options.query){let e,t,r,n,i,a,o;l=f.request,c=f.options.query,t={...function(e=""){let t=Object.create(null);for(let r of("?"===e[0]&&(e=e.slice(1)),e.split("&"))){let e=r.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let n=dl(e[1].replace(de," "));if("__proto__"===n||"constructor"===n)continue;let i=dl((e[2]||"").replace(de," "));void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}return t}((e=function e(t="",r){let n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){let[,e,t=""]=n;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!df(t,{acceptRelative:!0}))return r?e(r+t):dg(t);let[,i="",a,o=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,s="",l=""]=o.match(/([^#/?]*)(.*)?/)||[];"file:"===i&&(l=l.replace(/\/(?=[A-Za-z]:)/,""));let{pathname:c,search:d,hash:u}=dg(l);return{protocol:i.toLowerCase(),auth:a?a.slice(0,Math.max(0,a.length-1)):"",host:s,pathname:c,search:d,hash:u,[dm]:!i}}(l)).search),...c},e.search=Object.keys(t).filter(e=>void 0!==t[e]).map(e=>{var r;return(("number"==typeof(r=t[e])||"boolean"==typeof r)&&(r=String(r)),r)?Array.isArray(r)?r.map(t=>`${ds(e)}=${da(t)}`).join("&"):`${ds(e)}=${da(r)}`:ds(e)}).filter(Boolean).join("&"),r=(d=e).pathname||"",n=d.search?(d.search.startsWith("?")?"":"?")+d.search:"",i=d.hash||"",a=d.auth?d.auth+"@":"",o=d.host||"",f.request=(d.protocol||d[dm]?(d.protocol||"")+"//":"")+a+o+r+n+i,delete f.options.query}"query"in f.options&&delete f.options.query,"params"in f.options&&delete f.options.params}if(f.options.body&&dv(f.options.method))if(function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!(e.buffer||e instanceof FormData||e instanceof URLSearchParams)&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(f.options.body)){let e=f.options.headers.get("content-type");"string"!=typeof f.options.body&&(f.options.body="application/x-www-form-urlencoded"===e?new URLSearchParams(f.options.body).toString():JSON.stringify(f.options.body)),e||f.options.headers.set("content-type","application/json"),f.options.headers.has("accept")||f.options.headers.set("accept","application/json")}else("pipeTo"in f.options.body&&"function"==typeof f.options.body.pipeTo||"function"==typeof f.options.body.pipe)&&!("duplex"in f.options)&&(f.options.duplex="half");if(!f.options.signal&&f.options.timeout){let e=new i;u=setTimeout(()=>{let t=Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},f.options.timeout),f.options.signal=e.signal}try{f.response=await r(f.request,f.options)}catch(e){return f.error=e,f.options.onRequestError&&await d_(f,f.options.onRequestError),await a(f)}finally{u&&clearTimeout(u)}if((f.response.body||f.response._bodyInit)&&!dE.has(f.response.status)&&"HEAD"!==f.options.method){let e=(f.options.parseResponse?"json":f.options.responseType)||function(e=""){if(!e)return"json";let t=e.split(";").shift()||"";return dx.test(t)?"json":"text/event-stream"===t?"stream":db.has(t)||t.startsWith("text/")?"text":"blob"}(f.response.headers.get("content-type")||"");switch(e){case"json":{let e=await f.response.text(),t=f.options.parseResponse||c4.default;f.response._data=t(e);break}case"stream":f.response._data=f.response.body||f.response._bodyInit;break;default:f.response._data=await f.response[e]()}}return(f.options.onResponse&&await d_(f,f.options.onResponse),!f.options.ignoreResponseError&&f.response.status>=400&&f.response.status<600)?(f.options.onResponseError&&await d_(f,f.options.onResponseError),await a(f)):f.response},s=async function(e,t){return(await o(e,t))._data};return s.raw=o,s.native=(...e)=>r(...e),s.create=(r={},n={})=>e({...t,...n,defaults:{...t.defaults,...n.defaults,...r}}),s}({fetch:$W.fetch?(...e)=>$W.fetch(...e):()=>Promise.reject(Error("[ofetch] global.fetch is not supported!")),Headers:$W.Headers,AbortController:$W.AbortController}),$z=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}),$V=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}),$H=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}),$G=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),$K=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}),$J=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}),$Y=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}),$Z=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}),$Q=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}),$X=G.forwardRef(function({title:e,titleId:t,...r},n){return G.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?G.createElement("title",{id:t},e):null,G.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))});function $0(e){return e?{"privy-ui":"t"}:void 0}class $1{async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new dI("Email and email code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless/authenticate",{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new dI("Email and email code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless/link",{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw dP(e)}}async sendCodeEmail({email:e,captchaToken:t,withPrivyUi:r}){if(!this.api)throw new dI("Auth flow has no API instance");if(e&&(this.meta.email=e),t&&(this.meta.captchaToken=t),!this.meta.email)throw new dI("Email must be set when initialzing authentication.");let n=$0(r);try{return await this.api.post("/api/v1/passwordless/init",{email:this.meta.email,token:this.meta.captchaToken},{headers:{...n}})}catch(e){throw dP(e)}}constructor({email:e,captchaToken:t,disableSignup:r}){this.meta={email:e,captchaToken:t,disableSignup:r??!1}}}class $2 extends $1{async link(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new dI("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post("/api/v1/passwordless/update",{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw dP(e)}}constructor(e,t,r){super({email:t,captchaToken:r}),this.meta={email:t,captchaToken:r,oldAddress:e,disableSignup:!1}}}class $3{get(e){let t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}put(e,t){void 0!==t?localStorage.setItem(e,JSON.stringify(t)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}}function $5(){try{let e="privy:__session_storage__test",t=new $3;return t.put(e,"blobby"),t.del(e),!0}catch(e){return!1}}var $4="undefined"!=typeof window&&window.localStorage?new $3:new class{get(e){return this._cache[e]}put(e,t){void 0!==t?this._cache[e]=t:this.del(e)}del(e){delete this._cache[e]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function $6(e){return{name:e.metadata?.shortName||e.name||"",universalLink:e.mobile.universal,deepLink:e.mobile.native}}function $8(e,t){let r=$6(t);if(r.universalLink)return Rt(r.universalLink,e)}let $9="WALLETCONNECT_DEEPLINK_CHOICE";function $7(e){return e.startsWith("http://")||e.startsWith("https://")}function Re(e,t){if($7(e))return Rt(e,t);let r=e;return r.includes("://")||(r=e.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(t)}`,href:r}}function Rt(e,t){if(!$7(e))return Re(e,t);let r=e;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(t)}`,href:r}}function Rr(e,t){window.open(e,t,"noreferrer noopener")}class Rn{execute(e){return null===this.promise&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}}class Ri{get meta(){return this._meta}async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.channelToken)throw new dI("Auth flow must be initialized first");try{let e=await this.api.post("/api/v1/farcaster/authenticate",{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new dI("No response from authentication");return e}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/farcaster/link",{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw dP(e)}}async _startChannelOnce(){if(!this.api)throw new dI("Auth flow has no API instance");let e=await this.api.post("/api/v1/farcaster/init",{token:this.captchaToken});K.isMobile&&!K.isIOS&&e.connect_uri&&Rr(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new dI("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.channelToken)throw new dI("Auth flow must be initialized first");let e=await this.api.get("/api/v1/farcaster/status",{headers:{"farcaster-channel-token":this.meta.channelToken}});return"completed"===e.state&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,t=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new Rn(this._startChannelOnce.bind(this)),this.pollForReady=new Rn(this._pollForReady.bind(this)),this._meta.disableSignup=t}}let Ra="https://auth.privy.io",Ro="privy:token",Rs="privy-token",Rl="privy:refresh_token",Rc="privy:pat",Rd="privy:id_token",Ru="privy-id-token",Rh="privy-session",Rp="privy:caid",Rf=e=>`privy:guest:${e}`,Rm=e=>`privy:cross-app:${e}`,Rg="privy:state_code",Ry="privy:code_verifier",Rw="privy:headless_oauth",Rv="privy:oauth_disable_signup",Rb=e=>`privy:wallet:${e}`,Rx="privy:connectors",R_="privy:connections";function Rk(e){return crypto.getRandomValues(new Uint8Array(e))}function RE(){return oo.encode(Rk(36))}async function RC(e,t="S256"){if("S256"!=t)return e;{let t=await async function(e){let t=(new TextEncoder).encode(e);return new Uint8Array(await crypto.subtle.digest("SHA-256",t))}(e);return oo.encode(t)}}class RA{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new dI("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if("undefined"===this.meta.authorizationCode)throw new dI("User denied confirmation during OAuth flow");let e=function(){let e=$4.get(Ry);if(!e)throw new dI("Authentication error.");return e}();try{let t=await this.api.post(dD,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return $4.del(Ry),$4.del(Rw),$4.del(Rv),t}catch(t){let e=dP(t);if(e.privyErrorCode)throw new dI(e.message||"Invalid code during OAuth flow.",void 0,e.privyErrorCode);if("User denied confirmation during OAuth flow"===e.message)throw new dI("Invalid code during oauth flow.",void 0,dN.OAUTH_USER_DENIED);throw new dI("Invalid code during OAuth flow.",void 0,dN.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new dI("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if("undefined"===this.meta.authorizationCode)throw new dI("User denied confirmation during OAuth flow");let e=$4.get(Ry);if(!e)throw new dI("Authentication error.");try{let t=await this.api.post(dB,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return $4.del(Ry),t}catch(e){throw dP(e)}}async getAuthorizationUrl(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.provider)throw new dI("Provider must be set when initializing OAuth authentication.");let e=RE();$4.put(Ry,e);let t=RE();$4.put(Rg,t);let r=await RC(e);this.meta.withPrivyUi||$4.put(Rw,!0),this.meta.disableSignup?$4.put(Rv,!0):$4.del(Rv);let n=$0(this.meta.withPrivyUi);try{return await this.api.post(dF,{provider:this.meta.provider,redirect_to:window.location.href,token:this.meta.captchaToken,code_challenge:r,state_code:t},{headers:{...n}})}catch(e){throw dP(e)}}constructor(e){this.meta=e}}function RI(e){return e.charAt(0).toUpperCase()+e.slice(1)}let RS=({style:e,...t})=>(0,H.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 24 24",style:{height:"24px",...e},...t,children:[(0,H.jsx)("path",{d:"M17.0722 11.6888C17.0471 8.90571 19.3263 7.56847 19.429 7.50274C18.1466 5.60938 16.153 5.35154 15.4417 5.3212C13.7461 5.14678 12.1306 6.32982 11.269 6.32982C10.4074 6.32982 9.08004 5.34648 7.67246 5.37429C5.82158 5.40209 4.11595 6.45874 3.16171 8.13218C1.24068 11.4942 2.6708 16.4817 4.54423 19.2143C5.46091 20.549 6.55041 22.0531 7.98554 21.9975C9.36803 21.9419 9.88905 21.095 11.5571 21.095C13.2251 21.095 13.696 21.9975 15.1537 21.9697C16.6389 21.9393 17.5806 20.6046 18.4897 19.2648C19.5392 17.7153 19.9725 16.2137 19.9975 16.1354C19.965 16.1228 17.1022 15.0155 17.0722 11.6888Z",fill:"currentColor"}),(0,H.jsx)("path",{d:"M14.3295 3.51373C15.0909 2.58347 15.6043 1.28921 15.4641 0C14.3671 0.0455014 13.0396 0.738135 12.2532 1.66838C11.5494 2.48994 10.9307 3.80695 11.0986 5.07089C12.3183 5.16694 13.5681 4.44145 14.3295 3.51373Z",fill:"currentColor"})]}),RT=({style:e,...t})=>(0,H.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 71 55",style:{height:"24px",...e},...t,children:[(0,H.jsx)("g",{clipPath:"url(#clip0)",children:(0,H.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z",fill:"#5865F2"})}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0",children:(0,H.jsx)("rect",{width:"71",height:"55",fill:"white"})})})]}),RP=({style:e,...t})=>(0,H.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"24",y:"24",viewBox:"0 0 98 96",style:{height:"24px",...e},...t,children:(0,H.jsx)("path",{d:"M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z",fill:"currentColor"})}),Rj=({style:e})=>(0,H.jsx)($B,{style:{color:"var(--privy-color-error)",...e}}),RN=({style:e,...t})=>(0,H.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,H.jsx)("path",{d:"M22.56 12.25C22.56 11.47 22.49 10.72 22.36 10H12V14.255H17.92C17.665 15.63 16.89 16.795 15.725 17.575V20.335H19.28C21.36 18.42 22.56 15.6 22.56 12.25Z",fill:"#4285F4"}),(0,H.jsx)("path",{d:"M12 23C14.97 23 17.46 22.015 19.28 20.335L15.725 17.575C14.74 18.235 13.48 18.625 12 18.625C9.13504 18.625 6.71004 16.69 5.84504 14.09H2.17004V16.94C3.98004 20.535 7.70004 23 12 23Z",fill:"#34A853"}),(0,H.jsx)("path",{d:"M5.845 14.09C5.625 13.43 5.5 12.725 5.5 12C5.5 11.275 5.625 10.57 5.845 9.91V7.06H2.17C1.4 8.59286 0.999321 10.2846 1 12C1 13.775 1.425 15.455 2.17 16.94L5.845 14.09Z",fill:"#FBBC05"}),(0,H.jsx)("path",{d:"M12 5.375C13.615 5.375 15.065 5.93 16.205 7.02L19.36 3.865C17.455 2.09 14.965 1 12 1C7.70004 1 3.98004 3.465 2.17004 7.06L5.84504 9.91C6.71004 7.31 9.13504 5.375 12 5.375Z",fill:"#EA4335"})]});function RO(e){return(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...e,children:[(0,H.jsxs)("defs",{children:[(0,H.jsxs)("linearGradient",{id:"b",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#3771c8"}),(0,H.jsx)("stop",{stopColor:"#3771c8",offset:".128"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),(0,H.jsxs)("linearGradient",{id:"a",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#fd5"}),(0,H.jsx)("stop",{offset:".1",stopColor:"#fd5"}),(0,H.jsx)("stop",{offset:".5",stopColor:"#ff543e"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#c837ab"})]}),(0,H.jsx)("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),(0,H.jsx)("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),(0,H.jsx)("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,H.jsx)("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),(0,H.jsx)("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function R$(e){return(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 320",width:24,height:24,...e,children:(0,H.jsx)("g",{children:(0,H.jsxs)("g",{children:[(0,H.jsx)("rect",{fill:"#06c755",width:"320",height:"320",rx:"72.14"}),(0,H.jsx)("path",{fill:"#fff",d:"M266.66,144.92c0-47.74-47.86-86.58-106.69-86.58S53.28,97.18,53.28,144.92c0,42.8,38,78.65,89.22,85.42,3.48.75,8.21,2.29,9.4,5.26,1.08,2.7.71,6.93.35,9.65,0,0-1.25,7.53-1.52,9.13-.47,2.7-2.15,10.55,9.24,5.76s61.44-36.18,83.82-61.95h0C259.25,181.24,266.66,164,266.66,144.92Z"}),(0,H.jsx)("path",{fill:"#06c755",d:"M231.16,172.49h-30a2,2,0,0,1-2-2v0h0V123.94h0v0a2,2,0,0,1,2-2h30a2,2,0,0,1,2,2v7.57a2,2,0,0,1-2,2H210.79v7.85h20.37a2,2,0,0,1,2,2V151a2,2,0,0,1-2,2H210.79v7.86h20.37a2,2,0,0,1,2,2v7.56A2,2,0,0,1,231.16,172.49Z"}),(0,H.jsx)("path",{fill:"#06c755",d:"M120.29,172.49a2,2,0,0,0,2-2v-7.56a2,2,0,0,0-2-2H99.92v-37a2,2,0,0,0-2-2H90.32a2,2,0,0,0-2,2v46.53h0v0a2,2,0,0,0,2,2h30Z"}),(0,H.jsx)("rect",{fill:"#06c755",x:"128.73",y:"121.85",width:"11.64",height:"50.64",rx:"2.04"}),(0,H.jsx)("path",{fill:"#06c755",d:"M189.84,121.85h-7.56a2,2,0,0,0-2,2v27.66l-21.3-28.77a1.2,1.2,0,0,0-.17-.21v0l-.12-.12,0,0-.11-.09-.06,0-.11-.08-.06,0-.11-.06-.07,0-.11,0-.07,0-.12,0-.08,0-.12,0h-.08l-.11,0h-7.71a2,2,0,0,0-2,2v46.56a2,2,0,0,0,2,2h7.57a2,2,0,0,0,2-2V142.81l21.33,28.8a2,2,0,0,0,.52.52h0l.12.08.06,0,.1.05.1,0,.07,0,.14,0h0a2.42,2.42,0,0,0,.54.07h7.52a2,2,0,0,0,2-2V123.89A2,2,0,0,0,189.84,121.85Z"})]})})})}function RR({style:e,...t}){return(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0,0,256,256",style:{height:"26px",width:"26px",...e},...t,children:(0,H.jsx)("g",{fill:"#0077b5",strokeWidth:"1",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:"10",style:{mixBlendMode:"normal"},children:(0,H.jsx)("g",{transform:"scale(5.12,5.12)",children:(0,H.jsx)("path",{d:"M41,4h-32c-2.76,0 -5,2.24 -5,5v32c0,2.76 2.24,5 5,5h32c2.76,0 5,-2.24 5,-5v-32c0,-2.76 -2.24,-5 -5,-5zM17,20v19h-6v-19zM11,14.47c0,-1.4 1.2,-2.47 3,-2.47c1.8,0 2.93,1.07 3,2.47c0,1.4 -1.12,2.53 -3,2.53c-1.8,0 -3,-1.13 -3,-2.53zM39,39h-6c0,0 0,-9.26 0,-10c0,-2 -1,-4 -3.5,-4.04h-0.08c-2.42,0 -3.42,2.06 -3.42,4.04c0,0.91 0,10 0,10h-6v-19h6v2.56c0,0 1.93,-2.56 5.81,-2.56c3.97,0 7.19,2.73 7.19,8.26z"})})})})}function RM(e){return(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...e,children:[(0,H.jsx)("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),(0,H.jsx)("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function RU(e){return(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",imageRendering:"optimizeQuality",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 293768 333327",width:24,height:24,...e,children:[(0,H.jsx)("path",{fill:"#26f4ee",d:"M204958 0c5369 45832 32829 78170 77253 81022v43471l-287 27V87593c-44424-2850-69965-30183-75333-76015l-47060-1v192819c6791 86790-60835 89368-86703 56462 30342 18977 79608 6642 73766-68039V0h58365zM78515 319644c-26591-5471-50770-21358-64969-44588-34496-56437-3401-148418 96651-157884v54345l-164 27v-40773C17274 145544 7961 245185 33650 286633c9906 15984 26169 27227 44864 33011z"}),(0,H.jsx)("path",{fill:"#fb2c53",d:"M218434 11587c3505 29920 15609 55386 35948 70259-27522-10602-43651-34934-47791-70262l11843 3zm63489 82463c3786 804 7734 1348 11844 1611v51530c-25770 2537-48321-5946-74600-21749l4034 88251c0 28460 106 41467-15166 67648-34260 58734-95927 63376-137628 35401 54529 22502 137077-4810 136916-103049v-96320c26279 15803 48830 24286 74600 21748V94050zm-171890 37247c5390-1122 11048-1985 16998-2548v54345c-21666 3569-35427 10222-41862 22528-20267 38754 5827 69491 35017 74111-33931 5638-73721-28750-49999-74111 6434-12304 18180-18959 39846-22528v-51797zm64479-119719h1808-1808z"}),(0,H.jsx)("path",{d:"M206590 11578c5369 45832 30910 73164 75333 76015v51528c-25770 2539-48321-5945-74600-21748v96320c206 125717-135035 135283-173673 72939-25688-41449-16376-141089 76383-155862v52323c-21666 3569-33412 10224-39846 22528-39762 76035 98926 121273 89342-1225V11577l47060 1z",fill:"#000000"})]})}let RL=({style:e,...t})=>(0,H.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",width:"24px",...e},...t,children:(0,H.jsx)("path",{d:"M 14.285156 10.171875 L 23.222656 0 L 21.105469 0 L 13.34375 8.832031 L 7.148438 0 L 0 0 L 9.371094 13.355469 L 0 24.019531 L 2.117188 24.019531 L 10.308594 14.691406 L 16.851562 24.019531 L 24 24.019531 M 2.878906 1.5625 L 6.132812 1.5625 L 21.101562 22.535156 L 17.851562 22.535156",fill:"currentColor"})}),RF={google:{name:"Google",component:RN},discord:{name:"Discord",component:RT},github:{name:"Github",component:RP},linkedin:{name:"LinkedIn",component:RR},twitter:{name:"Twitter",component:RL},spotify:{name:"Spotify",component:RM},instagram:{name:"Instagram",component:RO},tiktok:{name:"Tiktok",component:RU},line:{name:"LINE",component:R$},apple:{name:"Apple",component:RS}},RD=e=>e in RF?RF[e]:{name:"Unknown",component:Rj};function RB(){let e=new URL(window.location.href);e.searchParams.delete("privy_oauth_code"),e.searchParams.delete("privy_oauth_provider"),e.searchParams.delete("privy_oauth_state"),$4.del(Rg),window.history.replaceState({},"",e)}class RW{async initRegisterFlow(e){if(!this.api)throw new dI("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new dI("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new dI("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){let t=await e.A(719321);if(!this.api)throw new dI("Auth flow has no API instance");if(!t.browserSupportsWebAuthn())throw new dI("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let e=this.meta.initRegisterResponse.options,r=await t.startRegistration(this._transformInitLinkOptionsToCamelCase(e));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/register",{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(e){if("NotAllowedError"===e.name)throw new dI("Passkey request timed out or rejected by user.",void 0,dN.PASSKEY_NOT_ALLOWED);throw dP(e)}}async authenticate(){if(this.authenticateForRegistration)return this.register();let t=await e.A(719321);if(!this.api)throw new dI("Auth flow has no API instance");if(!t.browserSupportsWebAuthn())throw new dI("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=this.meta.allowedCredentialsIds?.map(e=>({type:"public-key",id:e}))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let e=await t.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/authenticate",{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)})}catch(e){if("NotAllowedError"===e.name)throw new dI("Passkey request timed out or rejected by user.",void 0,dN.PASSKEY_NOT_ALLOWED);throw dP(e)}}async link(){let t=await e.A(719321);if(!this.api)throw new dI("Auth flow has no API instance");if(!t.browserSupportsWebAuthn())throw new dI("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let e=this.meta.initLinkResponse.options,r=await t.startRegistration(this._transformInitLinkOptionsToCamelCase(e));return this.meta.setPasskeyAuthState?.({status:"submitting-response"}),await this.api.post("/api/v1/passkeys/link",{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(r)})}catch(e){if("NotAllowedError"===e.name)throw new dI("Passkey request timed out or rejected by user.",void 0,dN.PASSKEY_NOT_ALLOWED);throw dP(e)}}async _initRegisterOnce(e){if(!this.api)throw new dI("Auth flow has no API instance");let t=$0(e);return await this.api.post("/api/v1/passkeys/register/init",{token:this.meta.captchaToken},{headers:{...t}})}async _initAuthenticateOnce(e){if(!this.api)throw new dI("Auth flow has no API instance");let t=$0(e);return await this.api.post("/api/v1/passkeys/authenticate/init",{token:this.meta.captchaToken},{headers:{...t}})}async _initLinkOnce(){if(!this.api)throw new dI("Auth flow has no API instance");return await this.api.post("/api/v1/passkeys/link/init",{})}_transformInitLinkOptionsToCamelCase(e){return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(e=>({type:e.type,alg:e.alg})),timeout:e.timeout,excludeCredentials:e.exclude_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports})),authenticatorSelection:{authenticatorAttachment:e.authenticator_selection?.authenticator_attachment,requireResidentKey:e.authenticator_selection?.require_resident_key,residentKey:e.authenticator_selection?.resident_key,userVerification:e.authenticator_selection?.user_verification},attestation:e.attestation,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props?.rk,hmacCreateSecret:e.extensions?.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:t}){this.authenticateForRegistration=!1,this.initRegisterOnce=new Rn(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new Rn(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new Rn(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:t}}}let Rq=({address:e,chainId:t,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${e}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${t}
Nonce: ${r}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`;class Rz{get meta(){return{connectorType:this.wallet?.connectorType,walletClientType:this.wallet?.walletClientType,chainId:this.wallet?.chainId,address:this.wallet?.address,disableSignup:this._meta.disableSignup}}async authenticate(){if(!this.client)throw new dI("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:this.wallet?.chainId,walletClientType:this.wallet?.walletClientType,connectorType:this.wallet?.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new dI("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw dP(e)}}async link(){if(!this.client)throw new dI("SiweFlow has no client instance");try{if(!this.wallet)throw new dI("SiweFlow has no wallet instance");let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:t,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw dP(e)}}async sign(){if(!this.client)throw new dI("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new dI("Could not prepare SIWE message");if(!this.wallet)throw new dI("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new dI("SiweFlow has no client instance");if(!this.wallet)throw new dI("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new dI("SiweFlow has no client instance");if(!this.wallet)throw new dI("SiweFlow has no wallet instance");let e=this.wallet.address,t=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=Rq({address:e,chainId:t,nonce:this.nonce}),this.preparedMessage}constructor(e,t,r,n=!1,i){this._meta={disableSignup:!1},this.getNonceOnce=new Rn(this._getNonceOnce.bind(this)),this.wallet=t,this.captchaToken=r,this.client=e,this._meta.disableSignup=n,this.preparedMessage=i?.message,this.signature=i?.signature}}let RV=(...e)=>{if(void 0===V.Buffer)throw new dI("Buffer is not defined.",void 0,dN.BUFFER_NOT_DEFINED);return V.Buffer.from(...e)};class RH{get meta(){return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:this.wallet?.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new dI("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw dP(e)}}async link(){if(!this.client)throw new dI("SiwsFlow has no client instance");try{let{message:e,signature:t}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:t,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw dP(e)}}async sign(){let e,t;if(!this.client)throw new dI("SiwsFlow has no client instance");await this.buildMessage();let r="transaction"===this.meta.messageType;if(!this.preparedMessage)throw new dI("Could not prepare SIWS message");if(!r&&!this.wallet.signMessage||r&&!this.wallet.signTransaction)throw new dI("Wallet does not support the necessary signing methods");if(r&&this._siwsTransactionMethods){let r=await this.wallet.signTransaction(this._siwsTransactionMethods.deserializeTransactionFromB64String(this.preparedMessage));e=r.serialize().toString("base64"),t=RV(r.signatures[0]?.signature??V.Buffer.from("missing signature")).toString("base64")}else e=this.preparedMessage,t=RV(await this.wallet.signMessage(RV(this.preparedMessage))).toString("base64");return{message:e,signature:t}}async _getNonceOnce(){if(!this.client)throw new dI("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new dI("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),"transaction"===this.meta.messageType&&this._siwsTransactionMethods?this.preparedMessage=this._siwsTransactionMethods.prepareSiwsTransactionWithMemo({address:e,nonce:this.nonce}):this.preparedMessage=(({address:e,nonce:t})=>`${window.location.host} wants you to sign in with your Solana account:
${e}

You are proving you own ${e}.

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${t}
Issued At: ${(new Date).toISOString()}
Resources:
- https://privy.io`)({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,t,r,n=!1,i="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new Rn(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=r,this.client=t,this._meta.disableSignup=n,this._meta.messageType=i,this._siwsTransactionMethods=a}}class RG{async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new dI("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless_sms/authenticate",{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new dI("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post("/api/v1/passwordless_sms/link",{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw dP(e)}}async sendSmsCode({phoneNumber:e,captchaToken:t,withPrivyUi:r}){if(!this.api)throw new dI("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),t&&(this.meta.captchaToken=t),!this.meta.phoneNumber)throw new dI("phone nNumber must be set when initialzing authentication.");let n=$0(r);try{return await this.api.post("/api/v1/passwordless_sms/init",{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...n}})}catch(e){throw dP(e)}}constructor({phoneNumber:e,captchaToken:t,disableSignup:r}){this.meta={phoneNumber:e,captchaToken:t,disableSignup:r??!1}}}class RK extends RG{async link(){if(!this.api)throw new dI("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new dI("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post("/api/v1/passwordless_sms/update",{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw dP(e)}}constructor(e,t,r){super({phoneNumber:t,captchaToken:r}),this.meta={phoneNumber:t,captchaToken:r,oldPhoneNumber:e,disableSignup:!1}}}let RJ=e=>e.isApexWallet?"Apex Wallet":e.isAvalanche?"Core Wallet":e.isBackpack?"Backpack":e.isBifrost?"Bifrost Wallet":e.isBitKeep?"BitKeep":e.isBitski?"Bitski":e.isBlockWallet?"BlockWallet":e.isBraveWallet?"Brave Wallet":e.isClover?"Clover":e.isCoin98?"Coin98 Wallet":e.isCoinbaseWallet?"Coinbase Wallet":e.isDawn?"Dawn Wallet":e.isDefiant?"Defiant":e.isDesig?"Desig Wallet":e.isEnkrypt?"Enkrypt":e.isExodus?"Exodus":e.isFordefi?"Fordefi":e.isFrame?"Frame":e.isFrontier?"Frontier Wallet":e.isGamestop?"GameStop Wallet":e.isHaqqWallet?"HAQQ Wallet":e.isHyperPay?"HyperPay Wallet":e.isImToken?"ImToken":e.isHaloWallet?"Halo Wallet":e.isKuCoinWallet?"KuCoin Wallet":e.isMathWallet?"MathWallet":e.isNovaWallet?"Nova Wallet":e.isOkxWallet||e.isOKExWallet?"OKX Wallet":e.isOneInchIOSWallet||e.isOneInchAndroidWallet?"1inch Wallet":e.isOneKey?"OneKey Wallet":e.isOpera?"Opera":e.isPhantom||"isPhantom"in e?"Phantom":e.isPortal?"Ripio Portal":e.isRabby?"Rabby Wallet":e.isRainbow?"Rainbow":e.isSafePal?"SafePal Wallet":e.isStatus?"Status":e.isSubWallet?"SubWallet":e.isTalisman?"Talisman":e.isTally||e.isTaho?"Taho":e.isTokenPocket?"TokenPocket":e.isTokenary?"Tokenary":e.isTrust||e.isTrustWallet?"Trust Wallet":e.isTTWallet?"TTWallet":e.isXDEFI?"XDEFI Wallet":e.isZeal?"Zeal":e.isZerion?"Zerion":e.isMetaMask?"MetaMask":void 0,RY=(e,t)=>{if(!e.isMetaMask)return!1;if(e.isMetaMask&&!t)return!0;if(e.isBraveWallet&&!e._events&&!e._state||"MetaMask"!==RJ(e))return!1;if(e.providers){for(let t of e.providers)if(!RY(t))return!1}return!0},RZ=()=>{let e=window;if(!e.ethereum)return!1;if(e.ethereum.isCoinbaseWallet)return!0;if(e.ethereum.providers){for(let t of e.ethereum.providers)if(t&&t.isCoinbaseWallet)return!0}return!1},RQ=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new dT(`Unsupported chainId ${e}`,4901);return(0,dG.createPublicClient)({transport:(0,dK.http)(RX(a,r,n.appId)),chain:a})},RX=(e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new dT(`No RPC url found for ${i}`);return n},R0=e=>!!String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),R1=(e,t=3,r=4,n="ethereum")=>{if(!e)return"";let i=2*("ethereum"===n);return t+r+i+3>=e.length?e:`${e.slice(0,i+t)}...${e.slice(e.length-r,e.length)}`},R2=e=>new Promise(t=>setTimeout(t,e)),R3=(e,t={})=>{let r=t.delayMs||150,n=t.maxAttempts||270;return new Promise(async(i,a)=>{let o=!1,s=0;for(;!o&&s<n;){if(t.abortSignal?.aborted)return;e().then(e=>{o=!0,i(e)},(...e)=>{o=!0,a(...e)}),s+=1,await R2(r)}o||a(Error("Exceeded max attempts before resolving function"))})},R5=(e,t,r={},n={})=>{let i=new URL(t,e);for(let[e,t]of Object.entries(r))void 0!==t&&i.searchParams.set(e,t);let a=Object.entries(n);if(a.length>0){let e=new URLSearchParams;for(let[t,r]of a)e.append(t,r);i.hash=e.toString()}return i.href},R4=e=>"string"==typeof e?e:"0x"+e.toString(16);async function R6({store:e,walletList:t,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let a=!1,o=window;return new Promise(s=>{function l(){if(a)return;a=!0,window.removeEventListener("ethereum#initialized",l);let i=e.getProviders();console.debug("Detected injected providers:",i.map(e=>e.info));let o=[];for(let e of i)t.includes("coinbase_wallet")&&"com.coinbase.wallet"===e.info.rdns||"solana-only"===n&&"app.phantom"===e.info.rdns||o.push({type:e.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:e});if("solana-only"!==n)for(let e of function(){let e=window,t=e.ethereum;if(!t)return[];let r=[];if(t.providers?.length)for(let e of t.providers)e&&r.push(e);return r.push(e.ethereum),r}()){let t=RJ(e);if(!i.some(e=>e.info.name===t)){if(RY(e,!0)&&!o.find(e=>"metamask"===e.type)){o.push({type:"metamask",legacyInjectedProvider:e});continue}if("Phantom"===t&&!o.find(e=>"phantom"===e.type)){o.push({type:"phantom",legacyInjectedProvider:e});continue}if("Coinbase Wallet"===t&&!o.find(e=>"coinbase_wallet"===e.type&&"smartWalletOnly"!==r.coinbaseWallet?.config?.preference?.options)){o.push({type:"coinbase_wallet",legacyInjectedProvider:e});continue}o.find(e=>"unknown_browser_extension"===e.type)||o.push({type:"unknown_browser_extension",legacyInjectedProvider:e})}}s(o)}o.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function R8(e){return`eip155:${String(Number(e))}`}let R9=(e,t,r,n)=>{let i=Number(e),a=t.find(e=>e.id===i);if(!a)throw new dT(`Unsupported chainId ${e}`,4901);return RX(a,r,n)},R7=e=>{let t={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=e.types.EIP712Domain??Object.entries(e.domain).map(([e,r])=>{if(null!=r&&"string"==typeof e&&e in t)return{name:e,type:t[e]}}).filter(e=>void 0!==e);return{...e,types:{...e.types,EIP712Domain:r}}},Me=(0,G.createContext)({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:dq,setError:dq,setExecuting:dq,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:dq,reset:dq,execute:dq});class Mt extends dC{constructor(e,t,r){super(e||"Captcha failed"),this.type="Captcha",t instanceof Error&&(this.cause=t),this.privyErrorCode=r}}let Mr=({children:e,id:t,captchaSiteKey:r,captchaEnabled:n})=>{let i=(0,G.useRef)(null),[a,o]=(0,G.useState)(),[s,l]=(0,G.useState)(),[c,d]=(0,G.useState)(!1),u=(0,G.useMemo)(()=>n?c||a||s?!c||a||s?a&&!s?{status:"success",token:a}:s?{status:"error",error:s}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,a,s,c]);return(0,H.jsx)(Me.Provider,{value:{...u,ref:i,enabled:n,siteKey:r,appId:t,setToken:o,setError:l,setExecuting:d,remove(){n&&(i.current?.remove(),d(!1),l(void 0),o(void 0))},reset(){n&&(i.current?.reset(),d(!1),l(void 0),o(void 0))},execute(){n&&(d(!0),i.current?.execute())},async waitForResult(){if(!n)return"";try{return await function(e,{interval:t=100,timeout:r=5e3}={}){return new Promise((n,i)=>{let a,o=0,s=()=>{o>=r?i("Max attempts reached without result"):(a=e(),o+=t,null==a?setTimeout(s,t):n(a))};s()})}(()=>i.current?.getResponse(),{interval:200,timeout:2e4})}catch(e){throw new Mt("Captcha failed",null,dN.CAPTCHA_TIMEOUT)}}},children:e})},Mn=()=>(0,G.useContext)(Me);class Mi{async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/telegram/authenticate",{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/telegram/link",{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw dP(e)}}constructor(e,t=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=t}}function Ma(e){let t={detail:"",retryable:!1};return e?.privyErrorCode===dN.LINKED_TO_ANOTHER_USER&&(t.detail="This account has already been linked to another user."),e?.privyErrorCode===dN.DISALLOWED_LOGIN_METHOD&&(t.detail="Login with Telegram not allowed."),e?.privyErrorCode===dN.INVALID_DATA&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===dN.INVALID_CREDENTIALS&&(t.retryable=!0,t.detail="Something went wrong. Try again."),e?.privyErrorCode===dN.TOO_MANY_REQUESTS&&(t.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===dN.TOO_MANY_REQUESTS&&e.message.includes("rate limit")&&(t.detail="Request limit reached for Telegram. Please wait a moment and try again."),e instanceof Mt&&(t.retryable=!0,t.detail="Something went wrong. Try again."),t}function Mo(e){return Object.fromEntries(decodeURIComponent(e).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function Ms(){let e=new URL(window.location.href);e.searchParams.delete("id"),e.searchParams.delete("hash"),e.searchParams.delete("auth_date"),e.searchParams.delete("first_name"),e.searchParams.delete("last_name"),e.searchParams.delete("username"),e.searchParams.delete("photo_url"),e.hash="",window.history.replaceState({},"",e)}class Ml{static parse(e){try{return new Ml(e)}catch(e){return null}}static throwIfNotWellFormedJwt(e){return es(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=es(e)}}class Mc extends Ml{static parse(e){try{return new Mc(e)}catch(e){return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let Md=e=>{if("ethereum"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier"};if("solana"===e.chainType)return{entropyId:e.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")},Mu=(e,t)=>{if(t?.imported)return Md(t);let r=u0(e);if(!r)throw Error("Failed to find primary wallet");return Md(r)},Mh=({style:e,...t})=>(0,H.jsxs)("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,H.jsx)("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),Mp="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",Mf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class Mm extends dT{constructor(){super("Wallet timeout"),this.type="wallet_error"}}class Mg extends dT{constructor(){super("User rejected connection"),this.type="wallet_error"}}let My=e=>e instanceof dT?e:e?.code?new Mv(e):new dT("Unknown connector error",e);class Mw extends dC{constructor(e,t,r){super(e),this.type="provider_error",this.code=t,this.data=r}}class Mv extends Mw{constructor(e){super(e.message,e.code,e.data);let t=Object.values(ez).find(t=>t.eipCode===e.code);this.details=t||ez.UNKNOWN_ERROR,-32002===e.code&&(e.message?.includes("already pending for origin")?e.message?.includes("wallet_requestPermissions")?this.details=ez.E32002_CONNECTION_ALREADY_PENDING:this.details=ez.E32002_REQUEST_ALREADY_PENDING:e.message?.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=ez.E32002_WALLET_LOCKED))}}let Mb={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_REJECTED_CONNECTION:{message:"You rejected the request",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...ez};function Mx(e){return"ethereum"===e.type}function M_(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n?.address!==i?.address||n&&i&&Mx(n)&&Mx(i)&&n?.chainId!==i?.chainId||n?.connectorType!==i?.connectorType||n?.connectedAt!==i?.connectedAt||n?.walletClientType!==i?.walletClientType||n?.isConnected!==i?.isConnected||n?.linked!==i?.linked)return!1}return!0}class Mk extends u6.default{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}let ME=(e,t)=>e.rpcTimeouts&&e.rpcTimeouts[t]||12e4;function MC(e){return"ethereum"===e.chainType}class MA extends Mk{buildConnectedWallet(e,t,r,n){let i=async()=>!!this.wallets.find(t=>(0,J.getAddress)(t.address)===(0,J.getAddress)(e));return{type:"ethereum",address:(0,J.getAddress)(e),chainId:t,meta:r,imported:n,switchChain:async r=>{let n,i,a=this.wallets.find(t=>(0,J.getAddress)(t.address)===(0,J.getAddress)(e))?.chainId;if(!a)throw new dT("Unable to determine current chainId.");if("number"==typeof r?(n=`0x${r.toString(16)}`,i=r):(n=r,i=Number(r)),a===R8(n))return;let o=this.chains.find(e=>e.id===i);if(!o)throw new dT(`Unsupported chainId: ${r}`);let s=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]})};try{return await s()}catch(e){if(((e,t)=>{switch(t){case"coinbase_wallet":case"base_account":return e.message.includes("addEthereumChain");case"rabby_wallet":return e.message.includes("Unrecognized chain ID");default:return 4902===e.code||e.message?.includes("4902")}})(e,this.walletClientType))return"rabby_wallet"===this.walletClientType&&await R2(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:[o.rpcUrls.default?.http[0]??""],blockExplorerUrls:[o.blockExplorers?.default.url??""]}]}),s();if("rainbow"===this.walletClientType&&e.message?.includes("wallet_switchEthereumChain"))throw new dT(`Rainbow does not support the chainId ${t}`);throw e}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:i,getEthereumProvider:async()=>{if(!await i())throw new dT("Wallet is not currently connected.");return this.proxyProvider},sign:async e=>{if(!await i())throw new dT("Wallet is not currently connected.");return await this.sign(e)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let t,r=e;try{if(void 0===r){let e=await R3(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,e),Array.isArray(e)&&(r=e)}}catch(e){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",e)}if(!r||!Array.isArray(r)||r.length<=0||!r[0])return;let n=r[0],i=(0,J.getAddress)(n),a=[];if("privy"===this.walletClientType){let e=$4.get(Rb(i));this.chains.find(t=>t.id===Number(e))||($4.del(Rb(i)),e=null),t=e||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(e){console.warn(`Unable to switch embedded wallet to chain ID ${t} on initialization`)}}else try{let e=await R3(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,e),"string"==typeof e)t=e;else{if("number"!=typeof e)throw Error("Invalid chainId returned from provider");t=`0x${e.toString(16)}`}}catch(e){console.warn("Failed to get chainId from provider, defaulting to 0x1",e),t="0x1"}let o=R8(t);if(!a.find(e=>(0,J.getAddress)(e.address)===i)){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet((0,J.getAddress)(n),o,e,"embedded_imported"===this.connectorType))}M_(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt).find(t=>e.find(e=>(0,J.getAddress)(e)===(0,J.getAddress)(t.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[(0,Y.toHex)(e),this.wallets[0]?.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,t,r,n){super(e),this.chainType="ethereum",this.onAccountsChanged=e=>{0===e.length?this.onDisconnect():this.syncAccounts(e)},this.onChainChanged=e=>{this.wallets.forEach(t=>{t.chainId=R8(e),"privy"===this.walletClientType&&$4.put(Rb(t.address),e)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{"base_account"===this.connectorType&&this.connected||(this.connected=!0,"coinbase_wallet"===this.connectorType&&await R2(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=t,this.defaultChain=r,this.rpcConfig=n,this.rpcTimeoutDuration=ME(n,e),this.connected=!1,this.initialized=!1}}class MI{on(e,t){if(this.walletProvider)return this.walletProvider.on(e,t);this._subscriptions.push({eventName:e,listener:t})}async request(e){if(!this.walletProvider)throw new dT(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(e=>{throw My(e)})}constructor(e,t){this.removeListener=(e,t)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(e,t)}catch(e){console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(e=new Mm,t=this.rpcTimeoutDuration)=>new Promise((r,n)=>setTimeout(()=>{n(e)},t)),this.setWalletProvider=e=>{this.walletProvider&&this._subscriptions.forEach(e=>{this.removeListener(e.eventName,e.listener)}),this.walletProvider=e,this._subscriptions.forEach(e=>{this.walletProvider?.on(e.eventName,e.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=t||12e4,this._subscriptions=[]}}class MS extends MA{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Mf,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new dT("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw My(e)}}constructor(r,n,i,a,o){super("base_account",r,n,i),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=o,this.proxyProvider=new MI(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...a,appChainIds:[n.id].concat(r.map(e=>e.id))},t?(this.proxyProvider.setWalletProvider(t.getProvider()),this.setBaseAccountSdk(t),console.log("Base Account SDK Initialized")):this.importPromise=e.A(739348).then(({createBaseAccountSDK:e})=>{t=e(this.baseAccountConfig),this.proxyProvider.setWalletProvider(t.getProvider()),this.setBaseAccountSdk(t),console.log("Base Account SDK Initialized")}).catch(console.error)}}let MT=[1,0xaa36a7,137,10,8453,84532,42161,7777777,43114,56];class MP extends MA{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Mp,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new dT("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw My(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType="smartWalletOnly"===e?"coinbase_smart_wallet":"coinbase_wallet",r=fY({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(r.getProvider())}constructor(e,t,n,i){if(super("coinbase_wallet",e,t,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new MI(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[t.id].concat(e.map(e=>e.id))},this.walletClientType="smartWalletOnly"===this.coinbaseWalletConfig.preference?.options?"coinbase_smart_wallet":"coinbase_wallet","coinbase_smart_wallet"===this.walletClientType&&(this.displayName="Coinbase Smart Wallet"),!r){let e="eoaOnly"!==this.coinbaseWalletConfig.preference?.options?(this.coinbaseWalletConfig.appChainIds??[]).filter(e=>!MT.includes(e)):[];e.length>0&&!e.every(e=>eN.has(e))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${e.join(", ")}`),r=fY(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(r.getProvider())}}let Mj=({...e})=>(0,H.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:e.color||"var(--privy-color-foreground-3)"})});class MN extends MA{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[R4(e?.chainId||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:Mj,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:t,defaultChain:r,rpcConfig:n,imported:i,walletIndex:a}){super("privy",t,r,n),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,i&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}let MO=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class M$ extends Error{constructor(e,t,r){super(e),this.code=t,this.data=r}}class MR extends u6.default{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new M$(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await J2()||!this.address)throw new M$("Disconnected",4900);let{hash:r}=await J6(t,{address:this.address});return r}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new M$(`Invalid params for ${e.method}`,4200);let t=e.params[0];if(!await J2()||!this.address)throw new M$("Disconnected",4900);let{signature:r}=await J4(t,{address:this.address});return r}handleSwitchEthereumChain(e){let t;if(!e.params||!Array.isArray(e.params))throw new M$(`Invalid params for ${e.method}`,4200);if("string"==typeof e.params[0])t=e.params[0];else{if(!("chainId"in e.params[0])||"string"!=typeof e.params[0].chainId)throw new M$(`Invalid params for ${e.method}`,4200);t=e.params[0].chainId}this.chainId=Number(t),this.publicClient=RQ(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",t)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let t=e.params[0],r=e.params[1],{signature:n}=await J3({message:t},{address:r});return n}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let t=e.params[0],r="string"==typeof e.params[1]?JSON.parse(e.params[1]):e.params[1],{signature:n}=await J5(R7(r),{address:t});return n}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let t={...e.params[0],chainId:R4(this.chainId)};return await this.publicClient.estimateGas({account:t.from??this.address,...f0(t)})}async request(e){let t;switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return R4(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(t=e.method,!MO.includes(t))return this.publicClient.request({method:e.method,params:e.params});{let t=await J2();if(await J8({address:this.address}),!t||!this.address)throw new M$("Disconnected",4900);try{let r={method:e.method,params:e.params},n=this.walletAccount;return n&&u2(n)?this.handleWalletApiRequest(r,n,t):(await this.walletProxy.rpc({accessToken:t,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:r})).response.data}catch(e){throw console.error(e),new M$("Disconnected",4900)}}}async handleWalletApiRequest(e,t,r){let n=this.privyClient;if(!n)throw new M$("Disconnected",4900);if("secp256k1_sign"===e.method){let i=await aF(n,async({message:e})=>this.walletProxy.signWithUserSigner({accessToken:r,message:e}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:t.id,params:{hash:e.params[0]}});if("secp256k1_sign"!==i.method)throw new M$(`Invalid params for ${e.method}`,4200);return i.data.signature}throw new M$(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:t,entropyId:r,entropyIdVerifier:n,rpcConfig:i,chains:a,appId:o,chainId:s=1,walletIndex:l,privyClient:c,walletAccount:d}){super(),this.walletProxy=e,this.address=t,this.entropyId=r,this.entropyIdVerifier=n,this.chainId=s,this.rpcConfig=i,this.chains=a,this.publicClient=RQ(s,this.chains,i,{appId:o}),this.rpcTimeoutDuration=ME(i,"privy"),this.appId=o,this.walletIndex=l,this.privyClient=c,this.walletAccount=d}}class MM extends MA{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:t,icon:r,walletClientType:n,defaultChain:i}){super(n,[],i,{}),this.connectorType="null",this.proxyProvider=new MI(void 0,12e4),this.id=e,this.name=t,this.icon=r,this.connectorType=n}}let MU=({style:e,...t})=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...e},...t,children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),ML=({style:e,...t})=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",x:0,y:0,viewBox:"0 0 318.6 318.6",width:"28",height:"28",style:{height:"28px",width:"28px",...e},...t,children:[(0,H.jsx)("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),(0,H.jsx)("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),(0,H.jsx)("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),(0,H.jsx)("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),(0,H.jsx)("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),(0,H.jsx)("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),(0,H.jsx)("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),(0,H.jsx)("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),(0,H.jsx)("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),(0,H.jsx)("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),(0,H.jsx)("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),(0,H.jsx)("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),(0,H.jsx)("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]}),MF=({style:e,...t})=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...e},...t,children:[(0,H.jsx)("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]});function MD(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e}var MB=0;class MW extends MA{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new dT("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw My(e)}}constructor(e,t,r,n,i){super(i||"unknown",e,t,r),this.connectorType="injected",this.proxyProvider=new MI(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=n;let a=n.provider;this.proxyProvider.setWalletProvider(a)}}var Mq="__private_"+MB+++"__walletBranding";class Mz extends MA{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return MD(this,Mq)[Mq]??{name:"Browser Extension",icon:MU,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new dT("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw My(e)}}constructor(e,t,r,n,i){super(i??"unknown",e,t,r),Object.defineProperty(this,Mq,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new MI(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(n),"metamask"===i?MD(this,Mq)[Mq]={name:"MetaMask",icon:ML,id:"io.metamask"}:"phantom"===i&&(MD(this,Mq)[Mq]={name:"Phantom",icon:MF,id:"phantom"})}}class MV extends MW{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{K.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||0===e.length||!e[0])throw new dT("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw My(e)}}}let MH=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack"],MG=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:K.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){if("phantom"in window){let e=window;if(e?.phantom?.ethereum?.isPhantom&&e?.phantom?.ethereum?.chainId||e?.phantom?.solana?.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=MJ({client:this.client,isSolana:t,connectOnly:r});return`${e?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:K.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){return"solflare"in window&&!!window?.solflare?.isSolflare},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=MJ({client:this.client,isSolana:t,connectOnly:r});return`${e?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){return!(!("backpack"in window)||!window?.backpack?.ethereum?.isBackpack&&!window?.backpack?.solana?.isBackpack)},getMobileRedirect({useUniversalLink:e,isSolana:t,connectOnly:r}){let n=MJ({client:this.client,isSolana:t,connectOnly:r});return`${e?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){return"okxwallet"in window&&!!window?.okxwallet?.isOkxWallet},getMobileRedirect({isSolana:e,connectOnly:t}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+MJ({client:this.client,isSolana:e,connectOnly:t}))}}});function MK({connectorType:e,walletClientType:t}){for(let r of MH)if(e===r||t===r)return MG[r]}function MJ({client:e,isSolana:t,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",t?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",e),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}let MY=()=>{let e=$4.get(R_);return e&&Array.isArray(e)&&e.map(e=>e&&"string"==typeof e.address&&"string"==typeof e.connectorType&&"string"==typeof e.walletClientType&&"number"==typeof e.connectedAt).every(Boolean)?e:[]},MZ=["phantom","glow","solflare","backpack","okx_wallet","walletconnect"];function MQ(e){return"solana"===e.chainType}function MX(e){return"solana"===e.type}class M0 extends Mk{get isInstalled(){return"Installed"===this.adapter.readyState}get wallet(){return this.adapter.wallet}buildConnectedWallet(e,t){let r,n,i,a;if("Installed"!==e.readyState||!e.publicKey)throw Error("Wallet is not connected.");return"signMessage"in e&&(r=async(...t)=>{if(!e.connected)throw Error("Wallet is not connected.");return await e.signMessage(t[0])}),"sendTransaction"in e&&(n=async(...t)=>await e.sendTransaction(t[0],t[1],t[2])),"signTransaction"in e&&(i=async t=>await e.signTransaction(t)),"signAllTransactions"in e&&(a=async t=>await e.signAllTransactions(t)),{type:"solana",address:e.publicKey.toBase58(),meta:t,imported:!1,connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:async()=>e.connected,disconnect:()=>{try{e.disconnect()}catch(e){console.error("Wallet does not support programmatic disconnect")}},getProvider:dz(`${this.walletClientType||""} wallet does not support 'getProvider'`),signMessage:r??dz(`${this.walletClientType||""} wallet does not support 'signMessage'`),sendTransaction:n??dz(`${this.walletClientType||""} wallet does not support 'sendTransaction'`),signTransaction:i??dz(`${this.walletClientType||""} wallet does not support 'signTransaction'`),signAllTransactions:a??dz(`${this.walletClientType||""} wallet does not support 'signAllTransactions'`)}}async syncAccounts(){if("Installed"===this.adapter.readyState&&this.adapter.publicKey){let e={name:this.walletBranding.name,icon:"string"==typeof this.walletBranding.icon?this.walletBranding.icon:void 0,id:this.walletBranding.id};this.wallets.find(e=>this.adapter.publicKey&&e.address===this.adapter.publicKey.toBase58())||(this.wallets=[this.buildConnectedWallet(this.adapter,e)],this.emit("walletsUpdated"))}else this.wallets.length>0&&(this.wallets=[],this.emit("walletsUpdated"))}get walletBranding(){return{id:this.adapter.name,name:this.adapter.name,icon:this.adapter.icon}}async initialize(){this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await this.adapter.autoConnect().catch(()=>{}),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,t)=>t.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this.adapter.connected&&["Installed"].includes(this.adapter.readyState)}subscribeListeners(){this.adapter.addListener("disconnect",this.onDisconnect),this.adapter.addListener("connect",this.onConnect),this.adapter.addListener("error",this.onError),this.adapter.addListener("readyStateChange",this.onReadyStateChange)}unsubscribeListeners(){this.adapter.removeAllListeners()}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!MZ.includes(this.walletClientType))&&("phantom"!==this.walletClientType||MY().some(({walletClientType:e})=>"phantom"===e))}constructor(e,t){super(e.name.toLowerCase().split(" ").join("_")),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{this.adapter.disconnect().then(()=>this.onDisconnect()).catch(e=>console.error("Error disconnecting",e))},this.promptConnection=async()=>{try{await this.adapter.connect()}catch(e){throw My(e)}},this.onDisconnect=()=>{this.syncAccounts()},this.onConnect=e=>{this.syncAccounts()},this.onError=e=>{this.syncAccounts()},this.onReadyStateChange=e=>{"Installed"!==e&&(this.connected=!1),this.syncAccounts()},this.adapter=e,this.autoConnectEnabled=t,this.wallets=[]}}class M1 extends M0{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:t,icon:r}){super({name:t},!1),this.connectorType="null",this.proxyProvider=new MI(void 0,12e4),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=t,this.icon=r}}let M2=(0,yB.create)(()=>({listings:[]})),M3=M2.setState,M5=e=>{let t;try{t=new URL(e).hostname}catch(e){return}return M2.getState().listings.find(({homepage:e})=>{let r;try{r=new URL(e).hostname}catch(e){return!1}return t.includes(r)})},M4=e=>M2(({listings:t})=>t.find(({slug:t})=>M6(t)===M6(e)));function M6(e){return"cryptocom"===e?"cryptocom-defi":"binance"===e?"binance-defi":e.replace(/[-_]wallet$/,"")}function M8({src:e,...t}){return(0,H.jsx)("img",{src:e,...t,style:{display:"none"}})}let M9="Log in or sign up",M7="light",Ue="#676FFF",Ut=["detected_wallets","metamask","coinbase_wallet","rainbow","wallet_connect"],Ur={connectionOptions:"all"},Un=!1,Ui={moonpay:{useSandbox:!1}},Ua=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_wallets","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus"]),Uo=e=>Ua.has(e),Us=(e,t,r)=>r.indexOf(e)===t,Ul="11111111111111111111111111111111";function Uc(e){return e.includes("testnet")?"testnet":e.includes("devnet")?"devnet":"mainnet-beta"}let Ud="#FFFFFF";function Uu(e,t){let r=Math.max(0,Math.min(1,e.toHsl().l+t));return yn({...e.toHsl(),l:r})}function Uh(e,t,r,n){let i,a,o,s,l,c,d,u,h,p,f,m,g,y,w,v,b=r?console.warn:()=>{};t?.loginMethods?(i=t.loginMethods.includes("email"),a=t.loginMethods.includes("sms"),s=t.loginMethods.includes("wallet"),l=t.loginMethods.includes("google"),c=t.loginMethods.includes("twitter"),d=t.loginMethods.includes("discord"),p=t.loginMethods.includes("spotify"),f=t.loginMethods.includes("instagram"),u=t.loginMethods.includes("tiktok"),h=t.loginMethods.includes("line"),g=t.loginMethods.includes("github"),m=t.loginMethods.includes("linkedin"),y=t.loginMethods.includes("apple"),w=t.loginMethods.includes("farcaster"),v=t.loginMethods.includes("telegram"),o=t.loginMethods.includes("passkey")):(i=e.email_auth,a=e.sms_auth,s=e.wallet_auth||e.solana_wallet_auth,l=e.google_oauth,c=e.twitter_oauth,d=e.discord_oauth,g=e.github_oauth,p=e.spotify_oauth,f=e.instagram_oauth,u=e.tiktok_oauth,h=e.line_oauth,m=e.linkedin_oauth,y=e.apple_oauth,w=e.farcaster_auth,v=e.telegram_auth,o=e.passkey_auth),e.passkey_auth&&(o=!0),"undefined"!=typeof window&&"function"!=typeof window.PublicKeyCredential&&(o=!1);let x=[i,a].filter(Boolean),_=[l,c,d,g,p,f,u,h,m,y,w,v].filter(Boolean),k=[s].filter(Boolean),E=t?.loginMethods?.includes("passkey")??!1,C=e.passkeys_for_signup_enabled??!1,A=[o&&(C||E)].filter(Boolean);if(x.length+_.length+k.length+A.length===0)throw Error("You must enable at least one login method");let I=void 0!==t?.appearance?.showWalletLoginFirst?t?.appearance?.showWalletLoginFirst:e.show_wallet_login_first;I&&0===k.length?(b("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),I=!1):I||_.length+x.length!==0||(b("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),I=!0);let S=t?.externalWallets?.walletConnect?.enabled??!0;t?.loginMethods&&t.loginMethodsAndOrder&&b("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let T=(({input:e,overrides:t})=>t?t.primary.concat(t.overflow??[]).filter(Uo).filter(Us):e?e.filter(Uo).filter(Us):Ut)({input:t?.appearance?.walletList,overrides:t?.loginMethodsAndOrder}),P=(({input:e})=>{if(!e||!e.primary[0])return;let t=[e.primary[0]],r=[];for(let r of(e.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),e.primary.slice(1)))t.includes(r)?console.warn(`Duplicated login method: ${r}`):t.push(r);for(let n of e.overflow??[])t.includes(n)||r.includes(n)?console.warn(`Duplicated login method: ${n}`):r.push(n);return{primary:t,overflow:r}})({input:t?.loginMethodsAndOrder}),j=t?.intl?.defaultCountry??"US",{chains:N,defaultChain:O}=function({supportedChains:e,defaultChainFromConfig:t}){let r;if(e){if(0===e.length)throw Error("`supportedChains` must contain at least one chain");r=eO(e)}else r=[...ej];let n=e?r[0]:e_,i=t??n;if(!r.find(e=>e.id===i.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:r,defaultChain:i}}({supportedChains:t?.supportedChains,defaultChainFromConfig:t?.defaultChain}),$=!!t?.defaultChain,R=t?.customAuth?.getCustomAccessToken&&!1!==t?.customAuth?.enabled,M=t?.embeddedWallets?.requireUserPasswordOnCreate,U=t?.embeddedWallets?.createOnLogin,L=R?"all-users":e.embedded_wallet_config.ethereum.create_on_login,F=e.embedded_wallet_config.solana.create_on_login,D={"mainnet-beta":{rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://explorer.solana.com"},testnet:{rpcUrl:"https://api.testnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=testnet"},devnet:{rpcUrl:"https://api.devnet.solana.com",blockExplorerUrl:"https://explorer.solana.com/?cluster=devnet"}};if(t?.solanaClusters)for(let e of t.solanaClusters){let{name:t,rpcUrl:r,blockExplorerUrl:n}=e;D[t]={rpcUrl:r??D[t].rpcUrl,blockExplorerUrl:n??D[t].blockExplorerUrl}}e.solana_wallet_auth&&!t?.externalWallets?.solana?.connectors&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let B=e.telegram_auth_config?{botId:e.telegram_auth_config.bot_id,botName:e.telegram_auth_config.bot_name,linkEnabled:e.telegram_auth_config.link_enabled,seamlessAuthEnabled:e.telegram_auth_config.seamless_auth_enabled}:void 0,W=e.funding_config?{methods:e.funding_config.methods,options:e.funding_config.options,defaultRecommendedAmount:e.funding_config.default_recommended_amount,defaultRecommendedCurrency:e.funding_config.default_recommended_currency,promptFundingOnWalletCreation:e.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:e.funding_config.cross_chain_bridging_enabled}:void 0;return{id:e.id,name:e.name,allowlistConfig:{errorTitle:e.allowlist_config.error_title,errorDetail:e.allowlist_config.error_detail,errorCtaText:e.allowlist_config.cta_text,errorCtaLink:e.allowlist_config.cta_link},legacyWalletUiConfig:e.legacy_wallet_ui_config,appearance:{logo:t?.appearance?.logo??e.logo_url??void 0,landingHeader:t?.appearance?.landingHeader??M9,loginMessage:"string"==typeof t?.appearance?.loginMessage?t?.appearance?.loginMessage.slice(0,100):t?.appearance?.loginMessage,footerLogo:t?.appearance?.footerLogo,palette:function({backgroundTheme:e,accentHex:t}){var r;let n;switch(e){case"light":n=Ud;break;case"dark":n="#1E1E1D";break;default:n=e}let i=yn(n),a=yn(t),o=yn("#51BA81"),s=yn("#FFB74D"),l=yn("#EC6351"),c=((r=i.getLuminance())<.8&&r>.2&&console.warn("Background color is not light or dark enough, which could lead to accessibility issues."),r>.5?"light":"dark"),d=Uu(i,"light"===c?-.04:.11),u=Uu(i,"light"===c?-.08:.16),h=Uu(i,"light"===c?-.88:.87),p=Uu(i,"light"===c?-.7:.75),f=Uu(i,"light"===c?-.43:.45).desaturate("light"===c?60:20),m=Uu(i,"light"===c?-.08:.25).desaturate("light"===c?60:20),g=Uu(a,.15),y=Uu(a,.25),w=Uu(a,-.06),v=Uu(a,-.6),b=Uu(l,.3),x=Uu(s,.3),_=yn(a.getLuminance()>.5?"#040217":Ud),k=Uu(o,-.16),E=Uu(o,.4);return{colorScheme:c,background:i.toHslString(),background2:d.toHslString(),background3:u.toHslString(),foreground:h.toHslString(),foreground2:p.toHslString(),foreground3:f.toHslString(),foreground4:m.toHslString(),accent:a.toHslString(),accentLight:g.toHslString(),accentLightest:y.toHslString(),accentDark:w.toHslString(),accentDarkest:v.toHslString(),foregroundAccent:_.toHslString(),success:o.toHslString(),successDark:k.toHslString(),successLight:E.toHslString(),error:l.toHslString(),errorLight:b.toHslString(),warn:s.toHslString(),warnLight:x.toHslString()}}({backgroundTheme:t?.appearance?.theme??M7,accentHex:t?.appearance?.accentColor??e.accent_color??Ue}),loginGroupPriority:I?"web3-first":"web2-first",hideDirectWeb2Inputs:!!t?.appearance?.hideDirectWeb2Inputs,walletList:T,walletChainType:t?.appearance?.walletChainType??(({evmWalletAuth:e,solanaWalletAuth:t})=>e&&t?"ethereum-and-solana":e?"ethereum-only":t?"solana-only":"ethereum-only")({evmWalletAuth:e.wallet_auth??!1,solanaWalletAuth:e.solana_wallet_auth??!1})},loginMethods:{wallet:s,email:i,sms:a,passkey:o,google:l,twitter:c,discord:d,github:g,spotify:p,instagram:f,tiktok:u,line:h,linkedin:m,apple:y,farcaster:w,telegram:v},disablePlusEmails:e.disable_plus_emails,loginMethodsAndOrder:P,legal:{termsAndConditionsUrl:t?.legal?.termsAndConditionsUrl??e.terms_and_conditions_url,privacyPolicyUrl:t?.legal?.privacyPolicyUrl??e.privacy_policy_url,requireUsersAcceptTerms:e.require_users_accept_terms??!1},walletConnectCloudProjectId:t?.walletConnectCloudProjectId??e.wallet_connect_cloud_project_id??"34357d3c125c2bcf2ce2bc3309d98715",rpcConfig:{rpcUrls:{},rpcTimeouts:t?.externalWallets?.signatureRequestTimeouts??{}},chains:N,solanaClusters:D,defaultChain:O,intl:{defaultCountry:j},shouldEnforceDefaultChainOnConnect:$,captchaEnabled:e.captcha_enabled??!1,captchaSiteKey:e.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:e.name,appLogoUrl:e.logo_url,preference:{options:t?.externalWallets?.coinbaseWallet?.connectionOptions??Ur.connectionOptions,...t?.externalWallets?.coinbaseWallet?.config?.preference},...t?.externalWallets?.coinbaseWallet?.config}},baseAccount:{config:{appName:e.name,appLogoUrl:e.logo_url,...t?.externalWallets?.baseAccount?.config,preference:{...t?.externalWallets?.baseAccount?.config?.preference,telemetry:!1}}},walletConnect:{enabled:S,appKit:t?.externalWallets?.walletConnect?.appKit},solana:{connectors:t?.externalWallets?.solana?.connectors},disableAllExternalWallets:t?.externalWallets?.disableAllExternalWallets??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:M??(!R&&(e.embedded_wallet_config.require_user_owned_recovery_on_create??!1)),userOwnedRecoveryOptions:R?["user-passcode"]:e.embedded_wallet_config.user_owned_recovery_options,priceDisplay:t?.embeddedWallets?.priceDisplay??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:U??t?.embeddedWallets?.ethereum?.createOnLogin??L},solana:{createOnLogin:t?.embeddedWallets?.solana?.createOnLogin??F},disableAutomaticMigration:t?.embeddedWallets?.disableAutomaticMigration??!1,mode:e.embedded_wallet_config.mode,showWalletUIs:t?.embeddedWallets?.showWalletUIs??e.enforce_wallet_uis??!0,extendedCalldataDecoding:t?.embeddedWallets?.extendedCalldataDecoding??!1,transactionScanning:{enabled:t?.embeddedWallets?.transactionScanning?.enabled??!1,domain:t?.embeddedWallets?.transactionScanning?.domain??n??"https://auth.privy.io"}},mfa:{methods:e.mfa_methods??[],noPromptOnMfaRequired:t?.mfa?.noPromptOnMfaRequired??!1},passkeys:{shouldUnlinkOnUnenrollMfa:t?.passkeys?.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:t?.passkeys?.shouldUnenrollMfaOnUnlink},customAuth:R?{enabled:!0,...t.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:B,passkeysForSignupEnabled:e.passkeys_for_signup_enabled},headless:!!t?.headless,render:{standalone:t?._render?.standalone??Un},fundingConfig:W,fundingMethodConfig:{...t?.fundingMethodConfig??Ui,moonpay:{...t?.fundingMethodConfig?.moonpay??Ui.moonpay,useSandbox:t?.fundingMethodConfig?.moonpay.useSandbox??t?.fiatOnRamp?.useSandbox??Ui.moonpay.useSandbox}},whatsAppEnabled:!!e.whatsapp_enabled}}let Up={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},fiat_on_ramp_enabled:!1,captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Uf=Uh(Up,void 0,!1),Um=(0,G.createContext)({appConfig:Uf,isServerConfigLoaded:!1}),Ug=({children:e,client:t,legacyClient:r,clientConfig:n})=>{let[i,a]=(0,G.useState)(null),o=(0,G.useMemo)(()=>Uh(i??Up,n,!!i,"undefined"!=typeof window?window.location.origin:void 0),[i,n]);return(0,G.useEffect)(()=>{if(!i)return;let e=function(e){if(!e)return{};let{appearance:t,supportedChains:r,defaultChain:n,externalWallets:i,...a}=e;return{...a,...r?{supportedChains:r.map(e=>e.id)}:void 0,...n?{defaultChain:n.id}:void 0,...i?{walletConnect:i.walletConnect?{enabled:i.walletConnect.enabled}:void 0,coinbaseWallet:i.coinbaseWallet,solana:{connectors:i.solana?.connectors?.get().map(e=>e.walletClientType)}}:void 0}}(n),t=(function(e,t=0){let r=0xdeadbeef^t,n=0x41c6ce57^t;for(let t,i=0;i<e.length;i++)r=Math.imul(r^(t=e.charCodeAt(i)),0x9e3779b1),n=Math.imul(n^t,0x5f356495);return r=Math.imul(r^r>>>16,0x85ebca6b)^Math.imul(n^n>>>13,0xc2b2ae35),0x100000000*(2097151&(n=Math.imul(n^n>>>16,0x85ebca6b)^Math.imul(r^r>>>13,0xc2b2ae35)))+(r>>>0)})(JSON.stringify(e)).toString(),a=`privy:sent:${i.id}:${t}`;localStorage.getItem(a)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:e}),localStorage.setItem(a,"t"))},[n,i]),(0,G.useEffect)(()=>{i||(async()=>{try{await t.initialize();let e=t.app.getConfig();e.custom_api_url&&r.updateApiUrl(e.custom_api_url),a(e)}catch(e){console.warn("Error generating app config: ",e)}})()},[]),(0,H.jsx)(Um.Provider,{value:{appConfig:o,isServerConfigLoaded:!!i},children:e})},Uy=()=>{let{appConfig:e}=(0,G.useContext)(Um);return e},Uw=()=>{let{isServerConfigLoaded:e}=(0,G.useContext)(Um);return e},Uv=(0,G.createContext)({app:Uf,currentScreen:null,lastScreen:null,navigate:dq,navigateBack:dq,resetNavigation:dq,setModalData:dq,onUserCloseViaDialogOrKeybindRef:void 0}),Ub=e=>{let t=Uy(),r=e.authenticated,[n,i]=(0,G.useState)(e.initialScreen);(0,G.useEffect)(()=>{r||!e.initialScreen||e.initialScreen.isUnauthenticatedScreem||e.setInitialScreen(null)},[r]);let a=(0,G.useRef)(null);(0,G.useEffect)(()=>{e.open||(a.current=null)},[e.open]),(0,G.useEffect)(()=>{a.current=null},[e.initialScreen]);let o={app:t,data:e.data,setModalData:e.setModalData,currentScreen:e.initialScreen,lastScreen:n,navigate:(t,r=!0)=>{e.setInitialScreen(t),r&&i(e.initialScreen)},navigateBack:()=>{e.setInitialScreen(n)},resetNavigation:()=>{e.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:a};return(0,H.jsxs)(Uv.Provider,{value:o,children:[("string"==typeof t.appearance.logo||"img"===t.appearance.logo?.type)&&(0,H.jsx)(M8,{src:"string"==typeof t.appearance.logo?t.appearance.logo:t.appearance.logo.props.src}),e.children]})},Ux=()=>(0,G.useContext)(Uv),U_=({style:e,...t})=>{let{app:r}=Ux();return(0,H.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...e},...t,children:[(0,H.jsx)("rect",{width:"28",height:"28",rx:"3",fill:"dark"===r?.appearance.palette.colorScheme?"#3396ff":"#141414"}),(0,H.jsx)("g",{clipPath:"url(#clip0_1765_9946)",children:(0,H.jsx)("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0_1765_9946",children:(0,H.jsx)("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Uk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class UE extends MA{async initialize(){let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&(this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=M5(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized"),this.modal?.subscribeState(e=>{e.open||this.walletProvider?.session||!this.onQrModalClosed||this.onQrModalClosed()})}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){return!!this.walletProvider?.connected}get walletBranding(){let e=this.walletProvider?.session?.peer.metadata.icons?.[0];return{name:(this.walletProvider?.session?.peer.metadata.name||"").replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,"")||"WalletConnect",icon:"string"==typeof e?e:Uk,id:this.walletProvider?.session?.peer.metadata.name.toLowerCase()||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem($9)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,t)=>{this.onQrModalClosed=()=>{t(new Mg)},(async()=>{let t="",r=await Promise.race([this.walletProvider?.enable(),this.proxyProvider.walletTimeout()]);if(r?.length&&(t=r[0]),!t||""===t)throw new dT("Unable to retrieve address");this.walletProvider?.session?.peer.metadata.url&&(this.walletEntry=M5(this.walletProvider?.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown",this.proxyProvider.rpcTimeoutDuration=ME(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(r),e()})().catch(e=>{t(e?My(e):new dT("Unknown error during connection"))}).finally(()=>this.modal?.close())})}disconnect(){this.walletProvider?.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let t of this.chains){let r=R9(t.id,this.chains,this.rpcConfig,this.privyAppId);r&&(e[t.id]=r)}let t=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],r=this.chains.map(e=>e.id),n=await OH.init({projectId:this.walletConnectCloudProjectId,chains:t,optionalChains:r,optionalEvents:OO,optionalMethods:Oj,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return n.on("display_uri",e=>{if(n.signer.abortPairingAttempt(),function(){try{localStorage.removeItem($9)}catch{}}(),!this.showPrivyQrModal){if(!this.modal)throw new dT("Unable to open connect modal");return this.modal?.open({uri:e})}if(K.isMobile&&this.walletEntry){let{redirect:t,href:r}=function(e,t){let r=$6(t);if(r.deepLink)return Re(r.deepLink,e);if(r.universalLink)return Rt(r.universalLink,e);throw new dI(`Unsupported wallet ${t.id}`)}(e,this.walletEntry);Rr(t,"_self"),function({href:e,name:t}){try{localStorage.setItem($9,JSON.stringify({href:e,name:t}))}catch{}}({href:r,name:this.walletEntry.metadata?.shortName||this.walletEntry.name});let n=$8(e,this.walletEntry);return this.redirectUri=t,this.fallbackUniversalRedirectUri=n?.redirect,this.showPrivyQrModal({native:t,universal:t})}if(this.redirectUri=void 0,this.walletEntry){let t=$8(e,this.walletEntry);this.fallbackUniversalRedirectUri=t?.redirect}this.showPrivyQrModal({native:e,universal:void 0})}),n.on("connect",()=>{this.modal?.close(),n.session?.peer.metadata.url&&(this.walletEntry=M5(n.session?.peer.metadata.url),this.walletClientType=this.walletEntry?.slug||"unknown")}),n}async enableProvider(){return this.walletProvider?.connected?Promise.resolve(this.walletProvider.accounts):await this.walletProvider?.enable()}setWalletEntry(e,t){this.walletEntry=e,this.showPrivyQrModal=t}constructor({walletConnectCloudProjectId:e,rpcConfig:t,chains:r,defaultChain:n,shouldEnforceDefaultChainOnConnect:i,privyAppId:a,privyAppName:o,walletClientType:s,appKit:l}){super(s||"unknown",r,n,t),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=t,this.shouldEnforceDefaultChainOnConnect=i,this.proxyProvider=new MI(void 0,this.rpcTimeoutDuration),this.modal=l,s&&(this.walletEntry=M2.getState().listings.find(({slug:e})=>M6(e)===M6(s)),this.walletClientType=s)}}class UC extends u6.default{get wallets(){let e=new Set,t=this.walletConnectors.flatMap(e=>e.wallets).sort((e,t)=>e.connectedAt&&t.connectedAt?t.connectedAt-e.connectedAt:0).filter(t=>{let r=`${t.address}${t.walletClientType}${t.connectorType}${t.meta.id}`;return!e.has(r)&&(e.add(r),!0)}),r=t.findIndex(e=>e.address===(this.activeWallet?this.activeWallet:"unknown"));return r>=0&&t.unshift(t.splice(r,1)[0]),t}async initialize(e){if(this.initialized&&!e||(e&&this.removeAllConnectors(),$4.get(Rx)&&($4.getKeys().forEach(e=>{e.startsWith("walletconnect")&&$4.del(e)}),$4.del(Rx)),this.externalWalletConfig.disableAllExternalWallets))return;let t=R6({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(e=>{e.forEach(({type:e,eip6963InjectedProvider:t,legacyInjectedProvider:r})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:e,providers:{eip6963InjectedProvider:t,legacyInjectedProvider:r}})})});for(let e of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(MG)))!e.isInstalled&&this.walletList.includes(e.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&e.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:e.client,walletConfig:e}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&e.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new M1({id:e.client,name:e.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),this.externalWalletConfig.solana.connectors?.get().forEach(this.addSolanaWalletConnector),this.externalWalletConfig.solana.connectors?._setOnConnectorsUpdated?.(e=>{e?.forEach(this.addSolanaWalletConnector)}),await t,this.initialized=!0}findWalletConnector(e,t){return"wallet_connect_v2"===e?this.walletConnectors.filter(MC).find(t=>t.connectorType===e)??null:this.walletConnectors.filter(MC).find(r=>r.connectorType===e&&r.walletClientType===t)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(MQ).find(t=>"unknown"===t.walletClientType?t.walletBranding.id===e:t.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>"embedded"===e.connectorType)}onInitialized(e){e.wallets.forEach(e=>{let t=this.storedConnections.find(t=>t.address===e.address&&t.connectorType===e.connectorType&&("solana"===e.type&&"unknown"===t.walletClientType&&"unknown"===e.walletClientType?e.meta.id===t.id:t.walletClientType===e.walletClientType));t&&(e.connectedAt=t.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:t,embeddedWallets:r,defaultChain:n,appId:i,privyClient:a}){let{entropyId:o,entropyIdVerifier:s}=Mu(t);for(let t of r){let r=this.findEmbeddedWalletConnectors().find(e=>e.walletIndex===t.walletIndex);if(r&&MC(r))r.proxyProvider.walletProxy=e;else{let r=new MN({provider:new MR({walletProxy:e,address:t.address,entropyId:o,entropyIdVerifier:s,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id,walletIndex:t.walletIndex,privyClient:a,walletAccount:t}),chains:this.chains,defaultChain:n,rpcConfig:this.rpcConfig,imported:!1,walletIndex:t.walletIndex});this.addWalletConnector(r)}}}addImportedWalletConnector(e,t,r,n){let i=this.findWalletConnector("embedded_imported","privy");if(i&&MC(i))i.proxyProvider.walletProxy=e;else{let i=new MN({provider:new MR({walletProxy:e,address:t,entropyId:t,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:n,chainId:r.id}),chains:this.chains,walletIndex:0,defaultChain:r,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(i)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>"embedded"!==e.connectorType),this.storedConnections=MY(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let t=this.walletConnectors.indexOf(e);this.walletConnectors.splice(t,1),this.storedConnections=MY(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:t,providers:r,walletConfig:n}){let i=this.findWalletConnector(e,t);if(i&&MC(i))return i instanceof UE&&i.resetConnection(t),i;let a="injected"!==e?"coinbase_wallet"===e?new MP(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):"base_account"===e?new MS(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):"null"!==e?new UE({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:t,appKit:this.appKit}):n?new MM({id:n.client,name:n.name,defaultChain:this.defaultChain,walletClientType:n.client}):null:"metamask"===t&&r?.eip6963InjectedProvider?new MV(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,"metamask"):"metamask"===t&&r?.legacyInjectedProvider?new Mz(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"metamask"):"phantom"===t&&r?.legacyInjectedProvider?new Mz(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider,"phantom"):r?.legacyInjectedProvider&&"unknown_browser_extension"===t?new Mz(this.chains,this.defaultChain,this.rpcConfig,r?.legacyInjectedProvider):r?.eip6963InjectedProvider?new MW(this.chains,this.defaultChain,this.rpcConfig,r?.eip6963InjectedProvider,t):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(e=>{console.debug("Failed to initialize connector",e)})}async activeWalletSign(e){let t=this.wallets,r=t.length>0?t[0]:null;return r&&Mx(r)?r.sign(e):null}setActiveWallet(e){this.activeWallet=(0,J.getAddress)(e),this.emit("walletsUpdated")}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,t,r,n,i,a,o,s,l,c,d,u,h){super(),this.addSolanaWalletConnector=async e=>{let t=this.findSolanaWalletConnector(e.walletClientType);if(!t||"null"===t.connectorType){if("null"===t?.connectorType){let e=this.walletConnectors.indexOf(t);this.walletConnectors.splice(e,1)}this.addWalletConnector(e)}},this.getEthereumProvider=()=>{let e=this.wallets[0],t=this.walletConnectors.find(t=>t.wallets.find(t=>t.address===e?.address));return e&&t?t.proxyProvider:new MI},this.privyAppId=e,this.walletConnectCloudProjectId=t,this.rpcConfig=r,this.chains=n,this.defaultChain=i,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=s,this.externalWalletConfig=l,this.privyAppName=c,this.walletChainType=u||"ethereum-only",this.appKit=h,this.setBaseAccountSdk=d,this.storedConnections=MY()}}let UA=[dU,dL,dW];class UI{async get(e,t){try{return await this.baseFetch(e,t)}catch(e){throw dP(e)}}async post(e,t,r){try{return await this.baseFetch(e,{method:"POST",...t?{body:t}:{},...r})}catch(e){throw dP(e)}}async delete(e,t){try{return await this.baseFetch(e,{method:"DELETE",...t})}catch(e){throw dP(e)}}constructor({appId:e,appClientId:t,client:r,defaults:n}){this.appId=e,this.appClientId=t,this.clientAnalyticsId=r.clientAnalyticsId,this.sdkVersion="2.21.4",this.client=r,this.defaults=n,this.fallbackApiUrl=r.fallbackApiUrl,this.baseFetch=$q.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:e,options:t})=>{let r=new Headers(t.headers);r.set("privy-app-id",this.appId),this.appClientId&&r.set("privy-client-id",this.appClientId),r.set("privy-ca-id",this.clientAnalyticsId||""),r.set("privy-client",`react-auth:${this.sdkVersion}`);let n=UA.includes(e.toString());if(!r.has("authorization")){let e=await this.client.getAccessToken({disableAutoRefresh:n});null!==e&&r.set("authorization",`Bearer ${e}`)}t.headers=r,t.retryDelay&&"number"==typeof t.retryDelay&&(t.retryDelay=3*t.retryDelay)},onRequestError:({error:e})=>{if(e instanceof DOMException&&"AbortError"===e.name)throw new dS}})}}let US=/paymaster\.biconomy\.io\/api/i,UT={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};class UP{async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/custom_jwt_account/authenticate",{token:this.meta.token})}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/custom_jwt_account/link",{token:this.meta.token})}catch(e){throw dP(e)}}constructor(e){this.meta={token:e}}}class Uj{getOrCreateGuestCredential(e){let t=Rf(e);if($5()){if($4.get(t))return $4.get(t);{let e=oo.encode(Rk(32));return $4.put(t,e),e}}return oo.encode(Rk(32))}async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post("/api/v1/guest/authenticate",{guest_credential:this.meta.guestCredential})}catch(e){throw dP(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function UN(){return!(K.isSafari&&window.location.origin.startsWith("http://localhost"))}let UO=(0,yB.create)(()=>({identityToken:null}));var U$,UR,UM,UU,UL,UF,UD,UB,UW,Uq,Uz,UV,UH,UG=((UH={}).PRIVY="privy_access_token",UH.CUSTOMER="customer_access_token",UH);class UK{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return"privy_access_token"===e?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(Ro)}get privyAccessToken(){return this._getToken(Rc)}_getToken(e){try{let t=$4.get(e);return"string"==typeof t?Ml.throwIfNotWellFormedJwt(t):null}catch(e){return console.error(e),this.destroyLocalState(),null}}get refreshToken(){try{let e=$4.get(Rl);return"string"==typeof e?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let t=$4.get(Rm(e));if("string"!=typeof t)return null;{let r=new Ml(t);return r.isExpired()?($4.del(Rm(e)),null):r.value}}catch(e){return console.error(e),null}}get mightHaveServerCookies(){try{let e=ol.get(Rh);return void 0!==e&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let t="string"==typeof this.getToken(e),r="string"==typeof this.refreshToken&&"deprecated"!==this.refreshToken;return this.mightHaveServerCookies||t&&r}hasActiveAccessToken(e){let t=Ml.parse(this.getToken(e));return null!==t&&!t.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,t){"string"==typeof t?$4.put(Rm(e),t):$4.del(Rm(e))}updateIdentityToken(e){"string"==typeof e?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let t=await e.authenticate(),{user:r,is_new_user:n,oauth_tokens:i}=t;this.handleTokenResponse(t);let a=i?{provider:i.provider,accessToken:i.access_token,accessTokenExpiresInSeconds:i.access_token_expires_in_seconds,refreshToken:i.refresh_token,refreshTokenExpiresInSeconds:i.refresh_token_expires_in_seconds,scopes:i.scopes}:void 0;return this._trackAuthenticateEvents(e,n),{user:u1(r),isNewUser:n,oAuthTokens:a}}catch(e){throw console.warn("Error authenticating session"),dj(e)}}_trackAuthenticateEvents(e,t){let r=e instanceof $1?"email":e instanceof RG?"sms":e instanceof Rz?"siwe":e instanceof Uj?"guest":e instanceof UP?"custom_auth":e instanceof RA?e.meta.provider:null;r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:r,isNewUser:t}}),"siwe"===r&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let t=await e.link(),r=t.oauth_tokens,n=r?{provider:r.provider,accessToken:r.access_token,accessTokenExpiresInSeconds:r.access_token_expires_in_seconds,refreshToken:r.refresh_token,refreshTokenExpiresInSeconds:r.refresh_token_expires_in_seconds,scopes:r.scopes}:void 0;return{user:u1(t),oAuthTokens:n}}catch(e){throw console.warn("Error linking account"),dj(e)}}async _refresh(){if(!this.api)throw new dI("Session has no API instance");if(!this.client)throw new dI("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,t=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let r;if(!(e&&t||this.mightHaveServerCookies))return null;{let n={};e&&(n.authorization=`Bearer ${e}`),r=await this.api.post(dU,t?{refresh_token:t}:{},{headers:n})}return this.handleTokenResponse(r),u1(r.user)}catch(e){if(e instanceof dA&&e.privyErrorCode===dN.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw dj(e)}}handleTokenResponse(e){e.session_update_action&&"set"!==e.session_update_action?"clear"===e.session_update_action?this.destroyLocalState():"ignore"===e.session_update_action&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){try{await this.api?.post(dL,{refresh_token:this.refreshToken})}catch(e){console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){if("string"==typeof e){let t=$4.get(Ro);if($4.put(Ro,e),!this.client?.useServerCookies){let t=Ml.parse(e)?.expiration;ol.set(Rs,e,{sameSite:"Strict",secure:UN(),expires:t?new Date(1e3*t):void 0})}t!==e&&this.client?.onStoreCustomerAccessToken?.(e)}else $4.del(Ro),ol.remove(Rs),this.client?.onDeleteCustomerAccessToken?.()}storeRefreshToken(e){"string"==typeof e?($4.put(Rl,e),this.client?.useServerCookies||ol.set(Rh,"t",{sameSite:"Strict",secure:UN(),expires:30})):($4.del(Rl),ol.remove("privy-refresh-token"),ol.remove(Rh))}storePrivyAccessToken(e){"string"==typeof e?$4.put(Rc,e):$4.del(Rc)}storeIdentityToken(e){if(UO.setState({identityToken:e}),this.client?.useServerCookies)return;$4.put(Rd,e);let t=Ml.parse(e)?.expiration;ol.set(Ru,e,{sameSite:"Strict",secure:UN(),expires:t?new Date(1e3*t):void 0})}clearIdentityToken(){$4.del(Rd),UO.setState({identityToken:null}),ol.remove(Ru)}constructor(){this.authenticateOnce=new Rn(async e=>this._authenticate(e)),this.linkOnce=new Rn(async e=>this._link(e)),this.refreshOnce=new Rn(this._refresh.bind(this)),this.destroyOnce=new Rn(this._destroy.bind(this))}}var UJ=0,UY="__private_"+UJ+++"__getOrGenerateClientAnalyticsId";class UZ{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:t,chains:r,defaultChain:n,store:i,walletList:a,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:s,appName:l,walletChainType:c,setBaseAccountSdk:d,appKit:u}){this.connectors||(this.connectors=new UC(this.appId,e,t,r,n,i,a,o,s,l,d,c,u))}generateApi(){let e=new UI({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new dI("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new dI("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,t){this.session.storeProviderAccessToken(e,t)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(e=>"cross_app"===e.type).forEach(e=>{this.storeProviderAccessToken(e.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post("/api/v1/mfa/passwordless_sms/init",{action:"verify"})}catch(e){throw dP(e)}}async initMfaPasskeyVerification(){try{let e;return{rpId:(e=(await this.api.post("/api/v1/mfa/passkeys/init",{})).options).rp_id,challenge:e.challenge,allowCredentials:e.allow_credentials?.map(e=>({id:e.id,type:e.type,transports:e.transports}))||[],timeout:e.timeout,extensions:{appid:e.extensions?.app_id,credProps:e.extensions?.cred_props,hmacCreateSecret:e.extensions?.hmac_create_secret},userVerification:e.user_verification}}catch(e){throw dP(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(e){console.error("Error fetching cross app provider details",e)}}async acceptTerms(){try{let e=await this.api.post("/api/v1/users/me/accept_terms",{});return u1(e)}catch(e){throw dj(e)}}async unlinkEmail(e){try{let t=await this.api.post("/api/v1/passwordless/unlink",{address:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async unlinkPhone(e){try{let t=await this.api.post("/api/v1/passwordless_sms/unlink",{phoneNumber:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async unlinkEthereumWallet(e){try{let t=await this.api.post("/api/v1/siwe/unlink",{address:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async unlinkSolanaWallet(e){try{let t=await this.api.post("/api/v1/siws/unlink",{address:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async unlinkOAuth(e,t){try{let r=await this.api.post("/api/v1/oauth/unlink",{provider:e,subject:t});return await this.getAuthenticatedUser()??u1(r)}catch(e){throw dj(e)}}async unlinkFarcaster(e){try{let t=await this.api.post("/api/v1/farcaster/unlink",{fid:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async unlinkTelegram(e){try{let t=await this.api.post("/api/v1/telegram/unlink",{telegram_user_id:e});return await this.getAuthenticatedUser()??u1(t)}catch(e){throw dj(e)}}async revokeDelegatedWallet(){try{await this.api.post("/api/v1/wallets/revoke",{})}catch(e){throw dj(e)}}async createAnalyticsEvent({eventName:e,payload:t,timestamp:r,options:n}){if("undefined"!=typeof window)try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(dW,{event_name:e,client_id:this.clientAnalyticsId,payload:{...t||{},clientTimestamp:r?r.toISOString():(new Date).toISOString()}},{retry:-1,keepalive:n?.keepAlive??!1})}catch(e){console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post("/api/v1/plugins/moonpay_on_ramp/sign",e)}catch(e){throw dj(e)}}async initCoinbaseOnRamp(e){try{return this.api.post("/api/v1/funding/coinbase_on_ramp/init",e)}catch(e){throw dj(e)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`/api/v1/funding/coinbase_on_ramp/status?partnerUserId=${e}`)}catch(e){throw dj(e)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(UG.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(UG.PRIVY,e)}async _getToken(e,t){return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?Mc.parse(this.session.getToken(e))?.appId!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!t?.disableAutoRefresh&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},t=this.session.token;t&&(e.authorization=`Bearer ${t}`);let r=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return r.enabled?{enabled:r.enabled,smartWalletVersion:r.smart_wallet_version,smartWalletType:r.smart_wallet_type,configuredNetworks:r.configured_networks.map(e=>{let t,r;return{chainId:e.chain_id,bundlerUrl:e.bundler_url,paymasterUrl:e.paymaster_url,paymasterContext:(t=e.paymaster_url,r=e.paymaster_context,t&&US.test(t)?UT:r&&r.policy_id?{policyId:r.policy_id}:void 0)}})}:{enabled:r.enabled}}catch(e){throw dj(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch(t){return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch(e){return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:t}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${t}`)}catch(r){return void console.error(`Unable to fetch token metadata for ${t}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(e){throw console.error("Unable to fetch Farcaster signer status"),e}}async generateSiweNonce({address:e,captchaToken:t}){try{return(await this.api.post("/api/v1/siwe/init",{address:e,token:t})).nonce}catch(e){throw dj(e)}}async authenticateWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i,mode:a}){return await this.api.post("/api/v1/siwe/authenticate",{message:e,signature:t,chainId:r,walletClientType:n,connectorType:i,mode:a})}async linkWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i}){return await this.api.post("/api/v1/siwe/link",{message:e,signature:t,chainId:r,walletClientType:n,connectorType:i})}async linkSmartWallet({message:e,signature:t,smartWalletType:r,smartWalletVersion:n}){try{let i=await this.api.post("/api/v1/siwe/link_smart_wallet",{message:e,signature:t,smart_wallet_type:r,smart_wallet_version:n});return u1(i)}catch(e){throw dj(e)}}async linkWithSiwe({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i}){try{let a=await this.linkWithSiweInternal({message:e,signature:t,chainId:r,walletClientType:n,connectorType:i});return u1(a)}catch(e){throw dj(e)}}async generateSiwsNonce({address:e,captchaToken:t}){try{return(await this.api.post("/api/v1/siws/init",{address:e,token:t})).nonce}catch(e){throw dj(e)}}async authenticateWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,mode:i,messageType:a="plain"}){return await this.api.post("/api/v1/siws/authenticate",{message:e,signature:t,walletClientType:r,connectorType:n,mode:i,message_type:a})}async sendAccountTransferRequest({nonce:e,account:t,accountType:r,externalWalletMetadata:n,telegramAuthResult:i,telegramWebAppData:a,farcasterEmbeddedAddress:o,oAuthUserInfo:s}){try{let l,c;switch(r){case"email":l="/api/v1/passwordless/transfer",c={nonce:e,email:t};break;case"sms":l="/api/v1/passwordless_sms/transfer",c={nonce:e,phoneNumber:t};break;case"siwe":if(l="/api/v1/siwe/transfer",!n)throw Error("Wallet parameters must be defined");c={nonce:e,address:t,...n};break;case"farcaster":l="/api/v1/farcaster/transfer",c={nonce:e,farcaster_id:t,farcaster_embedded_address:o};break;case"telegram":l="/api/v1/telegram/transfer",c={nonce:e,telegram_auth_result:i,telegram_web_app_data:a};break;case"siws":l="/api/v1/siws/transfer",c={nonce:e,address:t,...n};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:l="/api/v1/oauth/transfer",c={nonce:e,userInfo:s}}let d=await this.api.post(l,c);return await this.getAuthenticatedUser()??u1(d)}catch(e){throw dj(e)}}async linkWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i="plain"}){return await this.api.post("/api/v1/siws/link",{message:e,signature:t,walletClientType:r,connectorType:n,message_type:i})}async linkWithSiws({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:t,walletClientType:r,connectorType:n,messageType:i});return u1(a)}catch(e){throw dj(e)}}async updateUserAndIdToken(){try{let e=await this.api.get("/api/v1/users/me");return this.session.updateIdentityToken(e.identity_token),u1(e.user)}catch(e){throw dj(e)}}async scanTransaction(e){try{return await this.api.post("/api/v1/scan/transaction",e)}catch(e){throw dj(e)}}constructor({apiUrl:e=Ra,appId:t,appClientId:r,timeout:i=2e4}){Object.defineProperty(this,UY,{value:UQ}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==Ra&&e.startsWith("https://privy."),this.timeout=i,this.appId=t,this.appClientId=r,this.clientAnalyticsId=(function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw TypeError("attempted to use private field on non-instance");return e})(this,UY)[UY](),n||(n=new UK),this.session=n,this.api=this.generateApi(),this.session.client=this}}function UQ(){if("undefined"==typeof window)return null;try{let e=$4.get(Rp);if("string"==typeof e&&e.length>0)return e}catch(e){}let e=(0,a7.v4)();try{return $4.put(Rp,e),e}catch(t){return e}}let UX=({delayedExecution:e,...t})=>{let{enabled:r,siteKey:n,appId:i,setError:a,setToken:o,setExecuting:s,ref:l}=Mn(),[,c]=(0,G.useMemo)(()=>n?.split("t:")||[],[n]);if((0,G.useEffect)(()=>l.current?.remove,[]),!r)return null;if(!c)throw Error("Unsupported captcha site key");return(0,H.jsx)("div",{className:"hidden h-0 w-0",children:(0,H.jsx)(f4,{...t,ref:l,siteKey:c,options:{action:i,size:"invisible",...e?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{t.onUnsupported?.(),console.warn("Browser does not support Turnstile.")},onError:()=>{t.onError?.(),a("Captcha failed"),s(!1)},onSuccess:e=>{t.onSuccess?.(e),o(e),s(!1)},onExpire:()=>{t.onExpire?.();try{l.current?.reset(),a(void 0),o(void 0)}catch(e){a("expired_and_failed_reset")}}})})},U0={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},signSolanaTransaction:{onSuccess:[],onError:[]},signSolanaMessage:{onSuccess:[],onError:[]},sendSolanaTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},U1=(0,G.createContext)(void 0),U2=()=>(0,G.useContext)(U1);function U3(e,t){if(!t)return;let r=U2().current[e];return(0,G.useEffect)(()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]?.push(i);return()=>{for(let[n,i]of Object.entries(t))Object.prototype.hasOwnProperty.call(r,n)||console.warn(`Invalid event type "${n}" for action "${e}"`),r[n]=r[n]?.filter(e=>e!==i)}},[t])}function U5(e,t,r,...n){for(let i of e.current[t][r])i(...n)}function U4(){let e=U2();return(t,r,...n)=>U5(e,t,r,...n)}let U6=g4.div.withConfig({displayName:"Grow",componentId:"sc-ddbf22b4-0"})(["text-align:left;flex-grow:1;"]),U8=g4.div.withConfig({displayName:"AlignBottom",componentId:"sc-ddbf22b4-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),U9=g4.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-ddbf22b4-2"})(["display:flex;flex-direction:column;gap:12px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),U7=g4(U9).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-ddbf22b4-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:2px;"],e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),Le=g5(["&&{width:100%;font-size:16px;line-height:24px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;padding:12px 16px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-mdlg);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}svg{height:24px;max-height:24px;max-width:24px;}}"]),Lt=g4.div.withConfig({displayName:"Subtitle",componentId:"sc-ddbf22b4-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),Lr=g4.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-ddbf22b4-5"})(["",""],Le),Ln=g4.a.withConfig({displayName:"LoginMethodButtonLink",componentId:"sc-ddbf22b4-6"})(["",""],Le),Li=g4.div.withConfig({displayName:"Hide",componentId:"sc-ddbf22b4-7"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],e=>e.$if?"display: none;":""),La=g4.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-ddbf22b4-8"})(["width:100%;height:100%;padding:",";"],e=>e.$withPadding?"64px 0px":"0px"),Lo=g4.div.withConfig({displayName:"Header",componentId:"sc-ddbf22b4-9"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function Ls(e){return(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...e,children:(0,H.jsx)("g",{fill:e.color||"var(--privy-color-foreground)",children:(0,H.jsx)("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let Ll=g4.div.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-bdb69ecc-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);&& > a{color:var(--privy-color-accent);}"]);function Lc({app:{legal:{privacyPolicyUrl:e,termsAndConditionsUrl:t,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!e||!t);return(!r||n)&&(t||e)?(0,H.jsxs)(Ll,{children:["By logging in I agree to the"," ",t&&(0,H.jsx)("a",{href:t,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",e&&(0,H.jsx)("a",{href:e,target:"_blank",children:"Privacy Policy"})]}):(0,H.jsx)(Ll,{})}let Ld=()=>{let{appearance:e}=Uy();return(0,H.jsx)(Lu,{children:e.footerLogo??(0,H.jsx)("a",{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:(0,H.jsx)(Ls,{height:13,width:150})})})},Lu=g4.div.withConfig({displayName:"ModalFooter",componentId:"sc-bdb69ecc-1"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Lh=({backFn:e})=>(0,H.jsx)("div",{children:(0,H.jsx)(Lg,{onClick:e,children:(0,H.jsx)(yR,{height:"16px",width:"16px",strokeWidth:2})})}),Lp=({infoFn:e})=>(0,H.jsx)("div",{children:(0,H.jsx)(Ly,{"aria-label":"info",onClick:e,children:(0,H.jsx)(yM,{height:"22px",width:"22px",strokeWidth:2})})}),Lf=e=>(0,H.jsx)("div",{children:(0,H.jsx)(Lg,{"aria-label":"close modal",onClick:e.onClose,children:(0,H.jsx)(yU,{height:"16px",width:"16px",strokeWidth:2})})}),Lm=({backFn:e,infoFn:t,onClose:r,title:n,closeable:i=!0})=>{let{closePrivyModal:a}=dH(),o=Uy();return(0,H.jsxs)(Lw,{children:[(0,H.jsxs)(Lv,{children:[e&&(0,H.jsx)(Lh,{backFn:e}),t&&(0,H.jsx)(Lp,{infoFn:t})]}),n&&(0,H.jsx)(Lx,{id:"privy-dialog-title",children:n}),(0,H.jsx)(Lb,{children:!o.render.standalone&&i&&(0,H.jsx)(Lf,{onClose:r||(()=>a())})})]})},Lg=g4.button.withConfig({displayName:"StyledButton",componentId:"sc-f295093d-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),Ly=g4(Lg).withConfig({displayName:"TransparentStyledButton",componentId:"sc-f295093d-1"})(["&&{background-color:transparent;}"]),Lw=g4.div.withConfig({displayName:"StyledHeader",componentId:"sc-f295093d-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Lv=g4.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-f295093d-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),Lb=g4.div.withConfig({displayName:"RightActionContainer",componentId:"sc-f295093d-4"})(["flex:1;display:flex;justify-content:flex-end;"]),Lx=g4.div.withConfig({displayName:"TitleContainer",componentId:"sc-f295093d-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]),L_=g4.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Lk=g4.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),LE=g4.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),LC=g4.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),LA=g4.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),LI=g4.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),LS=g4.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),LT=g4.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),LP=g4.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),Lj=g4.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),LN=g4.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),LO=g4.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),L$=g4.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],e=>e.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),LR=g4.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),LM=g4.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),LU=g4.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],e=>"dark"===e.theme?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),LL=g4.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),LF=g4.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),LD=({handleClose:e,user:t,onSelect:r})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:e},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(y$,{})}),(0,H.jsx)(Lk,{children:"Verify your identity"}),(0,H.jsx)(LE,{children:"Choose a verification method"}),(0,H.jsxs)(LP,{children:[t.mfaMethods.includes("totp")&&(0,H.jsxs)(Lr,{onClick:()=>r("totp"),children:[(0,H.jsx)(yj,{}),"Authenticator app"]},"totp"),t.mfaMethods.includes("sms")&&(0,H.jsxs)(Lr,{onClick:()=>r("sms"),children:[(0,H.jsx)(yO,{}),"SMS"]},"sms"),t.mfaMethods.includes("passkey")&&(0,H.jsxs)(Lr,{onClick:()=>r("passkey"),children:[(0,H.jsx)(yN,{}),"Passkey"]},"passkey")]}),(0,H.jsx)(Lu,{})]}),LB=({success:e,fail:t})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(LW,{className:e?"success":t?"fail":""}),(0,H.jsx)(Lq,{className:e?"success":t?"fail":""})]}),LW=g4.span.withConfig({displayName:"Loader",componentId:"sc-ce7792e2-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-success);border-bottom-color:var(--privy-color-success);}&&&.fail{border-color:var(--privy-color-error);border-bottom-color:var(--privy-color-error);}"],e=>e.color??"var(--privy-color-accent)"),Lq=g4(LW).withConfig({displayName:"LoaderFaint",componentId:"sc-ce7792e2-1"})(["&&{border-bottom-color:",";animation:none;opacity:0.5;}"],e=>e.color??"var(--privy-color-accent)"),Lz=e=>(0,H.jsx)(LV,{color:e.color||"var(--privy-color-foreground-3)"}),LV=g4(LW).withConfig({displayName:"StyledButtonLoader",componentId:"sc-ce7792e2-2"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]),LH=g4.button.withConfig({displayName:"Button",componentId:"sc-172643dd-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{padding:12px 16px;}"]),LG=({children:e,loading:t,disabled:r,success:n,loadingText:i="Loading...",...a})=>(0,H.jsx)(LZ,{disabled:t||r,$success:n,...a,children:t?(0,H.jsxs)("span",{children:[(0,H.jsx)(Lz,{}),i?(0,H.jsx)("span",{children:i}):null]}):e}),LK=({children:e,loading:t,disabled:r,...n})=>(0,H.jsx)(LJ,{disabled:r,...n,children:t?(0,H.jsx)(Lz,{color:"var(--privy-color-foreground-accent)"}):e}),LJ=g4(LH).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-172643dd-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;pointer-events:none;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent-dark);}"]),LY=({children:e,loading:t,disabled:r,loadingText:n="Loading...",...i})=>(0,H.jsx)(LZ,{as:"a",disabled:t||r,...i,children:t?(0,H.jsxs)("span",{children:[(0,H.jsx)(Lz,{}),n?(0,H.jsx)("span",{children:n}):null]}):e}),LZ=g4(LH).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-172643dd-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}"," > span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent)",e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",e=>e.$warn?"var(--privy-color-error)":e.$success?"var(--privy-color-success)":"var(--privy-color-accent-dark)",e=>e.disabled?g5(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;pointer-events:none;}"]):""),LQ=({children:e,loading:t,disabled:r,loadingText:n="Loading...",...i})=>(0,H.jsx)(LX,{disabled:t||r,...i,children:t?(0,H.jsxs)("span",{children:[(0,H.jsx)(Lz,{}),n?(0,H.jsx)("span",{children:n}):null]}):e}),LX=g4(LH).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-172643dd-3"})(["&&{border-width:1px;border-color:",";color:var(--privy-color-foreground);transition:border-color 200ms ease;}&:hover,&:active{border-color:",";}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-3);cursor:not-allowed;}> span{display:flex;align-items:center;gap:8px;opacity:1;animation:fadein 200ms ease;}"],e=>e.$warn?"var(--privy-color-error)":"var(--privy-color-foreground-4)",e=>e.$warn?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),L0=g4.button.withConfig({displayName:"SoftCtaButton",componentId:"sc-172643dd-4"})(["&&{padding:12px 16px;font-weight:500;text-align:center;color:var(--privy-color-foreground-accent);background-color:var(--privy-color-accent);border-radius:var(--privy-border-radius-sm);min-width:144px;opacity:",";transition:opacity 200ms ease,background-color 200ms ease,color 200ms ease;user-select:none;"," &:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],e=>e.invisible?"0":"1",e=>e.invisible&&g5(["pointer-events:none;"])),L1=({children:e,onClick:t,disabled:r,isSubmitting:n,...i})=>(0,H.jsxs)(L2,{$isSubmitting:n,onClick:t,disabled:r,...i,children:[(0,H.jsx)("span",{children:e}),(0,H.jsx)("span",{children:(0,H.jsx)(Lz,{})})]}),L2=g4.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-172643dd-6"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-3);cursor:not-allowed;}}"],e=>+!e.$isSubmitting,e=>+!!e.$isSubmitting),L3=({label:e,children:t,valueStyles:r})=>(0,H.jsxs)(L5,{children:[(0,H.jsx)("div",{children:e}),(0,H.jsx)(L4,{style:{...r},children:t})]}),L5=g4.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),L4=g4.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),L6=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),L8=(e,t)=>{let r,n=(r=t*parseFloat(e),L6.format(r));return"$0.00"!==n?n:"<$0.01"},L9=(e,t)=>{let r,n=(r=t*parseFloat((0,cY.formatEther)(e)),L6.format(r));return"$0.00"===n?"<$0.01":n},L7=(e,t,r=6,n=!1)=>`${Fe(e,r,n)} ${t}`,Fe=(e,t=6,r=!1)=>{let n=parseFloat((0,cY.formatEther)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${"0"===n?"<0.001":n}`},Ft=e=>e.reduce((e,t)=>e+t,0n);async function Fr(e,t){try{return await e}catch{return t}}let Fn="11111111111111111111111111111111",Fi=["CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C","CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"],Fa=["JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"],Fo=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function Fs(e,t=6,r=!1,n=!1){let i=(parseFloat(e.toString())/1e9).toFixed(t).replace(/0+$/,"").replace(/\.$/,""),a=n?"":" SOL";return r?`${i}${a}`:`${"0"===i?"<0.001":i}${a}`}function Fl(e,t){let r=parseFloat(e.toString())/1e9,n=Fo.format(t*r);return"$0.00"===n?"<$0.01":n}function Fc({amount:e,fee:t,tokenPrice:r,isUsdc:n}){let i=BigInt(Math.floor(parseFloat(e)*10**(n?6:9))),a=n?i:i+t;return{fundingAmountInBaseUnit:i,fundingAmountInUsd:r?Fl(i,r):void 0,totalPriceInUsd:r?Fl(a,r):void 0,totalPriceInNativeCurrency:Fs(a),feePriceInNativeCurrency:Fs(t),feePriceInUsd:r?Fl(t,r):void 0}}let Fd={"mainnet-beta":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},devnet:{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},testnet:{}};async function Fu(e,t,r){let n=Fd[e];if(!n[r]){let i=await t.getSplTokenMetadata({mintAddress:r,cluster:e});i&&(n[r]={address:r,symbol:i.symbol,decimals:i.decimals})}return n[r]}function Fh(e){return"version"in e}function Fp(e,t){let r=(Fh(e)?e.message:e.compileMessage()).staticAccountKeys.find(e=>e.toBase58()===t);if(!r)throw Error(`Transaction does not contain public key ${t}`);return r}function Ff(e,t,r){return{signature:e,parsedTransaction:r??null,signedTransaction:t,fees:BigInt(r?.meta?.fee||0)}}async function Fm(e,t){let{value:r}=await t.simulateTransaction(e);if("BlockhashNotFound"===r.err)throw Error("Simulation failed: Blockhash not found");return null==r.err&&r.logs?.every(e=>!/insufficient funds/gi.test(e))}async function Fg({tx:e,connection:t,client:r,checkFunds:n}){let i=Fh(e)?e.message:e.compileMessage(),a=i.staticAccountKeys[0]?.toBase58()??"",o=await async function(e,t){return BigInt((Fh(e)?(await t.getFeeForMessage(e.message)).value:await e.getEstimatedFee(t))??0)}(e,t),s=!n||await Fr(Fm(e,t),!0),l={},c=[],d=await async function(e,t){return[...e.staticAccountKeys.map(e=>e),...(await Promise.all(e.addressTableLookups.map(async e=>t.getAddressLookupTable(e.accountKey).then(({value:e})=>e)))).map((t,r)=>[...e.addressTableLookups[r]?.writableIndexes.map(e=>{let n=t?.state.addresses[e];if(n)return{key:n,isWritable:!0,altIdx:r}})??[],...e.addressTableLookups[r]?.readonlyIndexes.map(e=>{let n=t?.state.addresses[e];if(n)return{key:n,isWritable:!1,altIdx:r}})??[]]).flat().filter(e=>!!e).sort((e,t)=>e.isWritable!==t.isWritable?e.isWritable?-1:1:e.altIdx-t.altIdx).map(({key:e})=>e)]}(i,t);for(let e of i.compiledInstructions){let n=i.staticAccountKeys[e.programIdIndex]?.toBase58()||"";if("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"!==n&&"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"!==n)if(n!==Fn){if("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"===n){let t=await Fr(function(e,t,r){let[n,i,a,o]=e.accountKeyIndexes.map(e=>t[e]);return{type:"ata-creation",program:r,payer:n?.toBase58(),ata:i?.toBase58(),owner:a?.toBase58(),mint:o?.toBase58()}}(e,d,n));if(!t){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}if(c.push(t),t.ata&&t.owner&&t.mint){l[t.ata]={owner:t.owner,mint:t.mint};continue}}if(Fi.includes(n)){let i=await Fr(Fb(e,d,t,r,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i)}else if(Fa.includes(n)){let i=await Fr(Fx(e,d,t,r,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i)}else c.push({type:"unknown",program:n,discriminator:e.data[0]})}else{let t=await Fr(Fv(e,d));if(!t){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(t)}else{let i=await Fr(Fw(e,d,t,r,l,n));if(!i){c.push({type:"unknown",program:n,discriminator:e.data[0]});continue}c.push(i),"spl-transfer"===i.type&&(i.fromAta&&i.fromAccount&&i.token.address&&(l[i.fromAta]??={owner:i.fromAccount,mint:i.token.address}),i.toAta&&i.toAccount&&i.token.address&&(l[i.toAta]??={owner:i.toAccount,mint:i.token.address}))}}return{spender:a,fee:o,instructions:c,hasFunds:!!s}}function Fy(e,t=0){try{return function(e,t=0){let r=0n;for(let n=0;n<8;n++)r|=BigInt(e[t+n])<<BigInt(8*n);return r}(e,t)}catch{}try{return e.readBigInt64LE(t)}catch{}let r=RV(e);try{return((e,t=0)=>{let r=e[t],n=e[t+7];if(!r||!n)throw Error(`Buffer offset out of range: first: ${r}, last: ${n}.`);return(BigInt(e[t+4]+256*e[t+5]+65536*e[t+6]+(n<<24))<<32n)+BigInt(r+256*e[++t]+65536*e[++t]+0x1000000*e[++t])})(r)}catch{}try{return r.subarray(t).readBigInt64LE()}catch{}try{return r.readBigInt64LE(t)}catch{}return 0n}async function Fw(e,t,r,n,i,a){let o=e.data[0],s=e.accountKeyIndexes.map(e=>t[e]);if(1===o){let[e,t,r]=s;return{type:"spl-init-account",program:a,account:e?.toBase58(),mint:t?.toBase58(),owner:r?.toBase58()}}if(3===o){let t,o,[l,c,d]=s,u="",h=c?i[c.toBase58()]:void 0;if(h)t=h.owner,u=h.mint;else if(c){let e=await r.getParsedAccountInfo(c,"confirmed"),n=e.value?.data;t=n?.parsed?.info?.owner,u=n?.parsed?.info?.mint??"",o=n?.parsed?.info?.tokenAmount?.decimals}if(!u&&l){let e=await r.getParsedAccountInfo(l,"confirmed"),t=e.value?.data;u=t?.parsed?.info?.mint??""}let p=Uc(r.rpcEndpoint),f=await Fu(p,n,u),m=f?.symbol??"";return o??=f?.decimals??9,{type:"spl-transfer",program:a,fromAta:l?.toBase58(),fromAccount:d?.toBase58(),toAta:c?.toBase58(),toAccount:t,value:Fy(e.data,1),token:{symbol:m,decimals:o,address:u}}}if(9===o){let[e,t,r]=s;return{type:"spl-close-account",program:a,source:e?.toBase58(),destination:t?.toBase58(),owner:r?.toBase58()}}if(17===o)return{type:"spl-sync-native",program:a};throw Error(`Token program instruction type ${o} not supported`)}async function Fv(e,t){let r=e.data[0],n=e.accountKeyIndexes.map(e=>t[e]);if(0===r){let[,t]=n;return{type:"create-account",program:Fn,account:t?.toBase58(),value:Fy(e.data,4),withSeed:!1}}if(2===r){let[t,r]=n;return{type:"sol-transfer",program:Fn,fromAccount:t?.toBase58(),toAccount:r?.toBase58(),token:{symbol:"SOL",decimals:9},value:Fy(e.data,4),withSeed:!1}}if(3===r){let[,t]=n,r=Fy(e.data.slice(e.data.length-32-8-8));return{type:"create-account",program:Fn,account:t?.toBase58(),withSeed:!0,value:r}}if(11===r){let[t,r]=n;return{type:"sol-transfer",program:Fn,fromAccount:t?.toBase58(),toAccount:r?.toBase58(),value:Fy(e.data,4),token:{symbol:"SOL",decimals:9},withSeed:!0}}throw Error(`System program instruction type ${r} not supported`)}async function Fb(e,t,r,n,i){let a=e.accountKeyIndexes.map(e=>t[e]?.toBase58()),o=e.data[0],s=Uc(r.rpcEndpoint);if(143===o){let t=a[10],r=a[11];return{type:"raydium-swap-base-input",program:i,mintIn:t,mintOut:r,tokenIn:t?await Fu(s,n,t):void 0,tokenOut:r?await Fu(s,n,r):void 0,amountIn:Fy(e.data,8),minimumAmountOut:Fy(e.data,16)}}if(55===o){let t=a[10],r=a[11];return{type:"raydium-swap-base-output",program:i,mintIn:t,mintOut:r,tokenIn:t?await Fu(s,n,t):void 0,tokenOut:r?await Fu(s,n,r):void 0,maxAmountIn:Fy(e.data,8),amountOut:Fy(e.data,16)}}throw Error(`Raydium swap program instruction type ${o} not supported`)}async function Fx(e,t,r,n,i){let a=e.data[0],o=e.accountKeyIndexes.map(e=>t[e]),s=Uc(r.rpcEndpoint);if([208,51,239,151,123,43,237,92].includes(a)){let t=o[5]?.toBase58(),r=o[6]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Fu(s,n,t):void 0,tokenOut:r?await Fu(s,n,r):void 0,outAmount:Fy(e.data,e.data.length-1-2-8-8),quotedInAmount:Fy(e.data,e.data.length-1-2-8)}}if([176,209,105,168,154,125,69,62].includes(a)){let t=o[7]?.toBase58(),r=o[8]?.toBase58();return{type:"jupiter-swap-exact-out-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Fu(s,n,t):void 0,tokenOut:r?await Fu(s,n,r):void 0,outAmount:Fy(e.data,e.data.length-1-2-8-8),quotedInAmount:Fy(e.data,e.data.length-1-2-8)}}if([193,32,155,51,65,214,156,129].includes(a)){let t=o[7]?.toBase58(),r=o[8]?.toBase58();return{type:"jupiter-swap-shared-accounts-route",program:i,mintIn:t,mintOut:r,tokenIn:t?await Fu(s,n,t):void 0,tokenOut:r?await Fu(s,n,r):void 0,inAmount:Fy(e.data,e.data.length-1-2-8-8),quotedOutAmount:Fy(e.data,e.data.length-1-2-8)}}throw[62,198,214,193,213,159,108,210].includes(a)&&console.warn("Jupiter swap program instruction 'claim' not implemented"),[116,206,27,191,166,19,0,73].includes(a)&&console.warn("Jupiter swap program instruction 'claim_token' not implemented"),[26,74,236,151,104,64,183,249].includes(a)&&console.warn("Jupiter swap program instruction 'close_token' not implemented"),[229,194,212,172,8,10,134,147].includes(a)&&console.warn("Jupiter swap program instruction 'create_open_orders' not implemented"),[28,226,32,148,188,136,113,171].includes(a)&&console.warn("Jupiter swap program instruction 'create_program_open_orders' not implemented"),[232,242,197,253,240,143,129,52].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_ledger' not implemented"),[147,241,123,100,244,132,174,118].includes(a)&&console.warn("Jupiter swap program instruction 'create_token_account' not implemented"),[229,23,203,151,122,227,173,42].includes(a)&&console.warn("Jupiter swap program instruction 'route' not implemented"),[150,86,71,116,167,93,14,104].includes(a)&&console.warn("Jupiter swap program instruction 'route_with_token_ledger' not implemented"),[228,85,185,112,78,79,77,2].includes(a)&&console.warn("Jupiter swap program instruction 'set_token_ledger' not implemented"),[230,121,143,80,119,159,106,170].includes(a)&&console.warn("Jupiter swap program instruction 'shared_accounts_route_with_token_ledger' not implemented"),Error(`Jupiter swap program instruction type ${a} not supported`)}let F_=({weiQuantities:e,tokenPrice:t,tokenSymbol:r})=>{let n=Ft(e),i=t?L9(n,t):void 0,a=L7(n,r);return(0,H.jsx)(FC,{children:i||a})},Fk=({weiQuantities:e,tokenPrice:t,tokenSymbol:r})=>{let n=Ft(e),i=t?L9(n,t):void 0,a=L7(n,r);return(0,H.jsx)(FC,{children:i?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(FA,{children:"USD"}),"<$0.01"===i?(0,H.jsxs)(FS,{children:[(0,H.jsx)(FI,{children:"<"}),"$0.01"]}):i]}):a})},FE=({quantities:e,tokenPrice:t,tokenSymbol:r="SOL",tokenDecimals:n=9})=>{let i=e.reduce((e,t)=>e+t,0n),a=t&&"SOL"===r&&9===n?Fl(i,t):void 0,o="SOL"===r&&9===n?Fs(i):`${(0,cZ.formatUnits)(i,n)} ${r}`;return(0,H.jsx)(FC,{children:a?(0,H.jsx)(H.Fragment,{children:"<$0.01"===a?(0,H.jsxs)(FS,{children:[(0,H.jsx)(FI,{children:"<"}),"$0.01"]}):a}):o})},FC=g4.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-596cd423-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),FA=g4.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-596cd423-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),FI=g4.span.withConfig({displayName:"TinyLessThan",componentId:"sc-596cd423-2"})(["font-size:10px;"]),FS=g4.span.withConfig({displayName:"FlexCenter",componentId:"sc-596cd423-3"})(["display:flex;align-items:center;"]),FT=g4.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),FP=g4.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),Fj=g4.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),FN=g4(FP).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),FO=g4(FP).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),F$=g4.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),FR=g4.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),FM=g4.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),FU=g4.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),FL=g4.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),FF=g4.div.withConfig({displayName:"RelativeContainer",componentId:"sc-cb963810-11"})(["position:relative;"]),FD=g4.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],e=>e.height??"12"),FB=g4.div.withConfig({displayName:"Circle",componentId:"sc-cb963810-13"})(["background-color:var(--privy-color-accent);display:flex;justify-content:center;align-items:center;border-radius:50%;border-color:white;border-width:2px !important;"]),FW=({gas:e,tokenPrice:t,tokenSymbol:r})=>(0,H.jsxs)(F$,{style:{paddingBottom:"12px"},children:[(0,H.jsxs)(Fz,{children:[(0,H.jsx)(FH,{children:"Est. Fees"}),(0,H.jsx)("div",{children:(0,H.jsx)(Fk,{weiQuantities:[BigInt(e)],tokenPrice:t,tokenSymbol:r})})]}),t&&(0,H.jsx)(FV,{children:`${L7(BigInt(e),r)}`})]}),Fq=({value:e,gas:t,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(e??0)+BigInt(t);return(0,H.jsxs)(F$,{children:[(0,H.jsxs)(Fz,{children:[(0,H.jsx)(FH,{children:"Total (including fees)"}),(0,H.jsx)("div",{children:(0,H.jsx)(Fk,{weiQuantities:[BigInt(e||0),BigInt(t)],tokenPrice:r,tokenSymbol:n})})]}),r&&(0,H.jsx)(FV,{children:L7(i,n)})]})},Fz=g4.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),FV=g4.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),FH=g4.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]),FG=(0,G.createContext)(void 0),FK=(0,G.createContext)(void 0),FJ=({defaultValue:e,children:t})=>{let[r,n]=(0,G.useState)(e||null);return(0,H.jsx)(FG.Provider,{value:{activePanel:r,togglePanel:e=>{n(r===e?null:e)}},children:(0,H.jsx)(F0,{children:t})})},FY=({value:e,children:t})=>{let{activePanel:r,togglePanel:n}=(0,G.useContext)(FG),i=r===e;return(0,H.jsx)(FK.Provider,{value:{onToggle:()=>n(e),value:e},children:(0,H.jsx)(F5,{isActive:i?"true":"false","data-open":String(i),children:t})})},FZ=({children:e})=>{let{activePanel:t}=(0,G.useContext)(FG),{onToggle:r,value:n}=(0,G.useContext)(FK),i=t===n;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(F1,{onClick:r,"data-open":String(i),children:[(0,H.jsx)(F3,{children:e}),(0,H.jsx)(F8,{isactive:i?"true":"false",children:(0,H.jsx)(yD,{height:"16px",width:"16px",strokeWidth:"2"})})]}),(0,H.jsx)(F2,{})]})},FQ=({children:e})=>{let{activePanel:t}=(0,G.useContext)(FG),{value:r}=(0,G.useContext)(FK);return(0,H.jsx)(F4,{"data-open":String(t===r),children:(0,H.jsx)(F6,{children:e})})},FX=({children:e})=>{let{activePanel:t}=(0,G.useContext)(FG),{value:r}=(0,G.useContext)(FK);return(0,H.jsx)(F6,{children:"function"==typeof e?e({isActive:t===r}):e})},F0=g4.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),F1=g4.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),F2=g4.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),F3=g4.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),F5=g4.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),F4=g4.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),F6=g4.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),F8=g4.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],e=>"true"===e.isactive?"rotate(180deg)":"rotate(0deg)"),F9=({walletAddress:e,chainId:t=1,network:r,rpcEndpoint:n})=>{var i;return(0,H.jsx)(F7,{href:"ethereum"===r?((e,t)=>{let{chains:r}=dH(),n=`https://etherscan.io/address/${t}`,i=`${((e,t)=>{let r=Number(e),n=t.find(e=>e.id===r);if(!n)throw new dT(`Unsupported chainId ${e}`,4901);return n.blockExplorers?.default.url})(e,r)}/address/${t}`;try{new URL(i)}catch{return n}return i})(t,e):(i=Uc(n||""),`https://explorer.solana.com/account/${e}?cluster=${i}`),target:"_blank",children:R1(e)})},F7=g4.a.withConfig({displayName:"StyledLink",componentId:"sc-adda23e5-0"})(["&:hover{text-decoration:underline;}"]),De=({from:e,to:t,txn:r,transactionInfo:n,tokenPrice:i,gas:a,tokenSymbol:o})=>{let s=BigInt(r?.value||0);return(0,H.jsx)(FJ,{...Uy().render.standalone?{defaultValue:"details"}:{},children:(0,H.jsxs)(FY,{value:"details",children:[(0,H.jsx)(FZ,{children:(0,H.jsxs)(Dt,{children:[(0,H.jsx)("div",{children:n?.title||"Details"}),(0,H.jsx)(Dr,{children:(0,H.jsx)(F_,{weiQuantities:[s],tokenPrice:i,tokenSymbol:o})})]})}),(0,H.jsxs)(FQ,{children:[(0,H.jsx)(L3,{label:"From",children:(0,H.jsx)(F9,{walletAddress:e,chainId:r.chainId||1,network:"ethereum"})}),(0,H.jsx)(L3,{label:"To",children:(0,H.jsx)(F9,{walletAddress:t,chainId:r.chainId||1,network:"ethereum"})}),n&&n.action&&(0,H.jsx)(L3,{label:"Action",children:n.action}),a&&(0,H.jsx)(FW,{value:r.value,gas:a,tokenPrice:i,tokenSymbol:o})]}),(0,H.jsx)(FX,{children:({isActive:e})=>(0,H.jsx)(Fq,{value:r.value,displayFee:e,gas:a||"0x0",tokenPrice:i,tokenSymbol:o})})]})})},Dt=g4.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-e1259f7b-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),Dr=g4.div.withConfig({displayName:"TotalText",componentId:"sc-e1259f7b-1"})(["flex-shrink:0;padding-left:8px;"]),Dn=({enabled:e=!0}={})=>{let{showFiatPrices:t,getUsdPriceForSol:r}=dH(),[n,i]=(0,G.useState)(!0),[a,o]=(0,G.useState)(void 0),[s,l]=(0,G.useState)(void 0);return(0,G.useEffect)(()=>{(async()=>{if(t&&e)try{i(!0);let e=await r();e?l(e):o(Error("Unable to fetch SOL price"))}catch(e){o(e)}finally{i(!1)}else i(!1)})()},[]),{solPrice:s,isSolPriceLoading:n,solPriceError:a}};function Di(e){let{tokenPrice:t,isTokenPriceLoading:r,tokenPriceError:n}=(e=>{let{showFiatPrices:t,getUsdTokenPrice:r,chains:n}=dH(),[i,a]=(0,G.useState)(!0),[o,s]=(0,G.useState)(void 0),[l,c]=(0,G.useState)(void 0);return(0,G.useEffect)(()=>{e||=1;let i=sq(n).find(t=>t.id===Number(e));(async()=>{if(t){if(!i)return a(!1),s(Error(`Unable to fetch token price on chain id ${e}`));try{a(!0);let e=await r(i);e?c(e):s(Error(`Unable to fetch token price on chain id ${i.id}`))}catch(e){s(e)}finally{a(!1)}}else a(!1)})()},[e]),{tokenPrice:l,isTokenPriceLoading:i,tokenPriceError:o}})("solana"===e?-1:e),{solPrice:i,isSolPriceLoading:a,solPriceError:o}=Dn({enabled:"solana"===e});return"solana"===e?{tokenPrice:i,isTokenPriceLoading:a,tokenPriceError:o}:{tokenPrice:t,isTokenPriceLoading:r,tokenPriceError:n}}let Da=(0,G.createContext)(null);function Do(){let e=(0,G.useContext)(Da);return null===e?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):e}async function Ds(e,t,r,n){let i=f0(e),a=await (async()=>n?await n():await t.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...a,type:fQ[a.type]}}let Dl=({pendingTransaction:e})=>{let{wallets:t}=Do(),{walletProxy:r,rpcConfig:n,chains:i,appId:a,nativeTokenSymbolForChainId:o}=dH(),[s,l]=(0,G.useState)(null),[c,d]=(0,G.useState)(e),{tokenPrice:u}=Di(c.chainId),h=o(e.chainId)||"ETH",p=(0,G.useMemo)(()=>t.find(e=>"privy"===e.walletClientType),[t]);return(0,G.useEffect)(()=>{(async function(){if(!r||!p)return c;let e=RQ(c.chainId,i,n,{appId:a}),t=await Ds(c,e,p.address);return l((0,Y.toHex)(BigInt(t.gas??0))),t})().then(d).catch(console.error)},[r]),p?(0,H.jsx)(Dc,{children:(0,H.jsx)(De,{from:p.address,to:c.to,txn:c,gas:s??void 0,tokenPrice:u,tokenSymbol:h})}):null},Dc=g4.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]),Dd=g4.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),Du=({style:e,...t})=>(0,H.jsx)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),Dh=({hasBlockingError:e,error:t,onClose:r,onBack:n,handleSubmit:i,account:a,submitSuccess:o})=>{let{pendingTransaction:s}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:r},"header"),(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:o,fail:!!t}),(0,H.jsx)(t?yF:Du,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsx)(Lk,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),(0,H.jsxs)(LA,{children:[(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)(y$,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)(yL,{})}),"You last added a passkey on"," ",a?.firstVerifiedAt?.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),s&&(0,H.jsx)(LC,{children:(0,H.jsx)(Dl,{pendingTransaction:s})}),t&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(LF,{style:{marginTop:"1.25rem"},children:t.message}),(0,H.jsx)(LG,{disabled:e,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&(0,H.jsx)(LU,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),(0,H.jsx)(Lu,{})]})},Dp=Array(6).fill("");var Df,Dm=((Df=Dm||{})[Df.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Df[Df.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Df);function Dg(e){return/^[0-9]{1}$/.test(e)}function Dy(e){return 6===e.length&&e.every(Dg)}let Dw=({onChange:e,disabled:t,errorReasonOverride:r,success:n})=>{let[i,a]=(0,G.useState)(Dp),[o,s]=(0,G.useState)(null),[l,c]=(0,G.useState)(null),d=async t=>{t.preventDefault();let r=t.currentTarget.value.replace(/\s+/g,"");if(""===r)return;let n=i.reduce((e,t)=>e+Number(Dg(t)),0),o=r.split(""),l=!o.every(Dg),d=o.length+n>6;if(l)return s("Passcode can only be numbers"),void c(1);if(d)return s("Passcode must be exactly 6 numbers"),void c(1);s(null),c(null);let u=Number(t.currentTarget.name?.charAt(4)),h=[...r||[""]].slice(0,6-u),p=[...i.slice(0,u),...h,...i.slice(u+h.length)];a(p);let f=Math.min(Math.max(u+h.length,0),5),m=document.querySelector(`input[name=pin-${f}]`);if(m?.focus(),Dy(p))try{await e(p.join(""));let t=document.querySelector(`input[name=pin-${f}]`);t?.blur()}catch(e){c(1),s(e.message)}else try{await e(null)}catch(e){c(1),s(e.message)}},u=n?"success":r||o?"fail":"";return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(Dv,{children:[(0,H.jsx)("div",{children:i.map((r,n)=>(0,H.jsx)("input",{name:`pin-${n}`,type:"text",value:i[n],onChange:d,onKeyUp:t=>{"Backspace"===t.key&&(t=>{1===l&&(s(null),c(null));let r=[...i.slice(0,t),"",...i.slice(t+1)];if(a(r),t>0){let e=document.querySelector(`input[name=pin-${t-1}]`);e?.focus()}Dy(r)?e(r.join("")):e(null)})(n)},inputMode:"numeric",autoFocus:0===n,pattern:"[0-9]",className:u,autoComplete:K.isMobile?"one-time-code":"off",disabled:t},n))}),(0,H.jsx)("div",{children:(0,H.jsx)(Db,{$fail:!!r||!!o,children:r||o})})]})})},Dv=g4.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Db=g4.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),Dx=({selectedMethod:e,submitSuccess:t,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:a})=>{let{app:o}=Ux(),{pendingTransaction:s}=dH();switch(e){case"sms":return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:n},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yO,{})}),(0,H.jsx)(Lk,{children:"Enter verification code"}),(0,H.jsxs)(LC,{children:[(0,H.jsx)(Dw,{success:t,disabled:r,onChange:a}),(0,H.jsxs)(LE,{children:["To continue, please enter the 6-digit code sent to your ",(0,H.jsx)("strong",{children:"mobile device"})]}),s&&(0,H.jsx)(Dl,{pendingTransaction:s})]}),i&&(0,H.jsx)(LU,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,H.jsx)(LQ,{onClick:n,children:"Cancel"}),(0,H.jsx)(Lu,{})]});case"totp":return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:n},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yj,{})}),(0,H.jsx)(Lk,{children:"Enter verification code"}),(0,H.jsxs)(LC,{children:[(0,H.jsx)(Dw,{success:t,disabled:r,onChange:a}),(0,H.jsxs)(LE,{children:["To continue, please enter the 6-digit code generated from your"," ",(0,H.jsx)("strong",{children:"authenticator app"})]}),s&&(0,H.jsx)(Dl,{pendingTransaction:s})]}),i&&(0,H.jsx)(LU,{theme:o?.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),(0,H.jsx)(LQ,{onClick:n,children:"Cancel"}),(0,H.jsx)(Lu,{})]});default:return null}},D_=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];class Dk extends Error{constructor(e,t){super(t),this.type=e}}function DE(e){let t=e.type;return"string"==typeof t&&D_.includes(t)}function DC(e){return DE(e)&&"wallet_not_on_device"===e.type}function DA(e){return!!DE(e)&&"mfa_timeout"===e.type}function DI(e){return!!DE(e)&&"missing_or_invalid_mfa"===e.type}function DS(e){return!(!DE(e)||!e.message.includes("code 429"))}function DT(e){let t;return"string"==typeof(t=e.type)&&"client_error"===t&&"MFA canceled"===e.message}let DP=e=>DE(e)&&"mfa_verification_max_attempts_reached"===e.type?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:DI(e)?{isBlocking:!1,error:Error("The code you entered is not valid")}:DA(e)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(e),{isBlocking:!1,error:Error("Something went wrong.")}),Dj=()=>{let{user:e}=u5(),{data:t}=Ux(),[r,n]=(0,G.useState)(e?.mfaMethods[0]),[i,a]=(0,G.useState)(!1),[o,s]=(0,G.useState)(),[l,c]=(0,G.useState)();if((0,G.useEffect)(()=>{n(e?.mfaMethods[0])},[e?.mfaMethods]),!t?.mfaVerify)throw Error("Missing modal data for MFA verification screen.");let{onFailure:d,onSuccess:u,generateOptions:h,verifyTotpCode:p,verifyPasskey:f,verifySmsCode:m,sendSmsCode:g}=t.mfaVerify,y=async e=>{if("passkey"!==e)try{n(e),"sms"===e&&(n(e),await g()),"totp"===e&&n(e)}catch(e){console.error(e)}else try{n(e);let t=await h();if(!t)throw Error("something went wrong");s(t),await f(t),a(!0),c(void 0),u()}catch(e){c(DP(e))}},w=async e=>{c(void 0);try{if(!e||!r)return;if("passkey"===r){if(!o)throw Error("Missing passkey challenge");await f(o)}else"sms"===r?await m(e):"totp"===r&&await p(e);c(void 0),a(!0),u()}catch(e){throw DP(e).error}},v=()=>{l||!i?d(l?.error??Error("Canceled MFA verification.")):u()},b=(0,G.useRef)(!1);return(0,G.useEffect)(()=>{!b.current&&r&&(b.current=!0,y(r).finally(()=>{b.current=!1}))},[open]),e?"passkey"===r?(0,H.jsx)(Dh,{account:e.linkedAccounts.filter(e=>"passkey"===e.type&&e.enrolledInMfa).sort((e,t)=>t.firstVerifiedAt.valueOf()-e.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:l?.isBlocking??!1,error:l?.error,onClose:v,onBack:()=>{n(void 0),c(void 0)},handleSubmit:()=>w(o).catch(c)}):"sms"===r||"totp"===r?(0,H.jsx)(Dx,{selectedMethod:r,submitSuccess:i,hasBlockingError:l?.isBlocking??!1,handleSubmitCode:w,onClose:v,onBack:e.mfaMethods.length>1?()=>n(void 0):void 0}):(0,H.jsx)(LD,{user:e,onSelect:y,handleClose:v}):null};function DN(){let{promptMfa:e,init:t,submit:r,cancel:n,mfaMethods:i}=(0,G.useContext)(u3);return{promptMfa:e,init:t,submit:r,cancel:n,mfaMethods:i}}let DO=({onClose:e})=>{let{user:t}=u5(),[r,n]=(0,G.useState)(t?.mfaMethods[0]??null),{init:i,cancel:a,submit:o}=DN(),[s,l]=(0,G.useState)(!1),[c,d]=(0,G.useState)(null),[u,h]=(0,G.useState)();(0,G.useEffect)(()=>{n(t?.mfaMethods[0]??null)},[t?.mfaMethods]);let p=(0,G.useRef)(!1);async function f(t){h(void 0);try{if(!t||!r)return;await o(r,t),l(!0),h(void 0),e()}catch(e){throw DP(e).error}}async function m(t){if("passkey"!==t)try{n(t),await i(t)}catch(e){console.error(e)}else try{n(t);let r=await i(t);if(!r)throw Error("something went wrong");d(r),await o(t,r),l(!0),h(void 0),e()}catch(e){h(DP(e))}}(0,G.useEffect)(()=>{!p.current&&r&&(p.current=!0,m(r).finally(()=>{p.current=!1}))},[]);let g=()=>{n(null),h(void 0),a(),e()};return t?"passkey"===r?(0,H.jsx)(Dh,{account:t.linkedAccounts.filter(e=>"passkey"===e.type&&e.enrolledInMfa).sort((e,t)=>t.firstVerifiedAt.valueOf()-e.firstVerifiedAt.valueOf())[0],submitSuccess:s,hasBlockingError:u?.isBlocking??!1,error:u?.error,onClose:g,onBack:()=>{n(null),h(void 0)},handleSubmit:()=>f(c).catch(h)}):r?(0,H.jsx)(Dx,{submitSuccess:s,hasBlockingError:u?.isBlocking??!1,handleSubmitCode:f,selectedMethod:r,onClose:g,onBack:t.mfaMethods.length>1?()=>n(null):void 0}):(0,H.jsx)(LD,{user:t,onSelect:m,handleClose:g}):null},D$=(0,yB.create)(()=>({inProgressMfaFlow:void 0})),DR=g8([":root{--privy-border-radius-sm:6px;--privy-border-radius-md:12px;--privy-border-radius-mdlg:16px;--privy-border-radius-lg:24px;--privy-border-radius-full:9999px;--privy-color-background:",";--privy-color-background-2:",";--privy-color-background-3:",";--privy-color-foreground:",";--privy-color-foreground-2:",";--privy-color-foreground-3:",";--privy-color-foreground-4:",";--privy-color-foreground-accent:",";--privy-color-accent:",";--privy-color-accent-light:",";--privy-color-accent-lightest:",";--privy-color-accent-dark:",";--privy-color-accent-darkest:",";--privy-color-success:",";--privy-color-success-dark:",";--privy-color-success-light:",";--privy-color-error:",";--privy-color-error-light:",";--privy-color-warn:",";--privy-color-warn-light:",";--privy-height-modal-full:620px;--privy-height-modal-compact:480px;};"],e=>e.theme.background,e=>e.theme.background2,e=>e.theme.background3,e=>e.theme.foreground,e=>e.theme.foreground2,e=>e.theme.foreground3,e=>e.theme.foreground4,e=>e.theme.foregroundAccent,e=>e.theme.accent,e=>e.theme.accentLight,e=>e.theme.accentLightest,e=>e.theme.accentDark,e=>e.theme.accentDarkest,e=>e.theme.success,e=>e.theme.successDark,e=>e.theme.successLight,e=>e.theme.error,e=>e.theme.errorLight,e=>e.theme.warn,e=>e.theme.warnLight),DM=g4.div.withConfig({displayName:"StylesWrapper",componentId:"sc-bc1e45b4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 1px var(--privy-color-accent-light);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],"\n  *,\n  ::before,\n  ::after {\n    box-sizing: border-box;\n    border-width: 0;\n    border-style: solid;\n  }\n\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -moz-tab-size: 4;\n  tab-size: 4;\n  font-feature-settings: normal;\n\n  margin: 0;\n  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n\n  hr {\n    height: 0;\n    color: inherit;\n    border-top-width: 1px;\n  }\n\n  abbr:where([title]) {\n    text-decoration: underline dotted;\n  }\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6 {\n    font-size: inherit;\n    font-weight: inherit;\n    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,\n    'Apple Color Emoji', 'Segoe UI Emoji';\n    display: inline;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: inherit;\n  }\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  code,\n  kbd,\n  samp,\n  pre {\n    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;\n    font-size: 1em;\n  }\n\n  small {\n    font-size: 80%;\n  }\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  table {\n    text-indent: 0;\n    border-color: inherit;\n    border-collapse: collapse;\n  }\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit;\n    font-size: 100%;\n    font-weight: inherit;\n    line-height: inherit;\n    color: inherit;\n    margin: 0;\n    padding: 0;\n  }\n\n  button,\n  select {\n    text-transform: none;\n  }\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n    background-color: transparent;\n    background-image: none;\n  }\n\n  ::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  :-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  :-moz-ui-invalid {\n    box-shadow: none;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  ::-webkit-inner-spin-button,\n  ::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  [type='search'] {\n    -webkit-appearance: textfield;\n    outline-offset: -2px;\n  }\n\n  ::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button;\n    font: inherit;\n  }\n\n  summary {\n    display: list-item;\n  }\n\n  blockquote,\n  dl,\n  dd,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  hr,\n  figure,\n  p,\n  pre {\n    margin: 0;\n  }\n\n  fieldset {\n    margin: 0;\n    padding: 0;\n  }\n\n  legend {\n    padding: 0;\n  }\n\n  ol,\n  ul,\n  menu {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n  }\n\n  textarea {\n    resize: vertical;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    opacity: 1;\n    color: #9ca3af;\n  }\n\n  button,\n  [role='button'] {\n    cursor: pointer;\n  }\n\n  :disabled {\n    cursor: default;\n  }\n\n  img,\n  svg,\n  video,\n  canvas,\n  audio,\n  iframe,\n  embed,\n  object {\n    display: block;\n  }\n\n  img,\n  video {\n    max-width: 100%;\n    height: auto;\n  }\n\n  [hidden] {\n    display: none;\n  }\n"),DU=({children:e,open:t,onClick:r,...n})=>(0,H.jsx)(wk,{show:t,as:G.default.Fragment,children:(0,H.jsxs)(be,{onClose:r,...n,as:DF,children:[(0,H.jsx)(w_,{as:G.default.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,H.jsx)(DL,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),(0,H.jsx)(DD,{children:(0,H.jsx)(w_,{as:G.default.Fragment,enterFrom:"entering",leaveTo:"leaving",children:(0,H.jsx)(v7,{as:DB,children:e})})})]})}),DL=g4.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),DF=g4.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),DD=g4.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]),DB=g4.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),DW=g4.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]),Dq=()=>{let{ready:e,isModalOpen:t}=u5(),{headless:r}=Uy(),{currentScreen:n}=Ux(),{status:i,execute:a,reset:o,enabled:s}=Mn(),l=D$(e=>e.inProgressMfaFlow),c=()=>D$.setState({inProgressMfaFlow:void 0}),d=t&&n&&n.isCaptchaRequired&&!r&&"ready"===i;return(0,G.useEffect)(()=>{d&&a()},[d]),(0,G.useEffect)(()=>{!t&&s&&o()},[t,s]),n&&!e&&n.isShownBeforeReady?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsx)(FU,{}),(0,H.jsx)(DW,{children:(0,H.jsx)(LW,{})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Lu,{})]}):n||"txn"!==l?n?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Li,{$if:!!l,children:(0,H.jsx)(n.component,{})}),"txn"===l&&(0,H.jsx)(DO,{onClose:c}),"auth"===l&&(0,H.jsx)(Dj,{})]}):null:(0,H.jsx)(DO,{onClose:c})},Dz=()=>{let e=(0,G.useRef)(null);return(0,H.jsx)(DG,{style:{height:(e=>{let[t,r]=(0,G.useState)("auto");return(0,G.useEffect)(()=>{let t=new ResizeObserver(e=>{r(e[0]?.contentRect.height??"auto")});return e.current&&t.observe(e.current),()=>{e.current&&t.unobserve(e.current)}},[e.current]),t})(e)},id:"privy-modal-content",children:(0,H.jsx)("div",{ref:e,children:(0,H.jsx)(Dq,{})})})},DV=({open:e})=>{let t=Uy(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:e}=dH(),{onUserCloseViaDialogOrKeybindRef:t}=Ux();return{gracefulClosePrivyModal:(0,G.useCallback)(()=>{if(!t?.current)return e({shouldCallAuthOnSuccess:!1});t.current()},[e])}})(),n=D$(e=>e.inProgressMfaFlow);return U3("configureMfa",{onMfaRequired:()=>{t.mfa.noPromptOnMfaRequired||D$.setState({inProgressMfaFlow:"txn"})}}),t.render.standalone?(0,H.jsx)(DM,{children:(0,H.jsx)(DH,{id:"privy-modal-content",children:(0,H.jsx)(Dq,{})})}):(0,H.jsx)(DU,{open:!(!e&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:(0,H.jsx)(DM,{children:(0,H.jsx)(Dz,{})})})},DH=g4.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),DG=g4(DH).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function DK(e){let t=(0,G.useRef)(null),r=(0,G.useRef)();return(0,G.useEffect)(()=>{r.current?.remove(),r.current=function({botUsername:e,scriptHost:t}){let r=document.createElement("script"),{origin:n}=new URL(t);return r.async=!0,r.src=`${n}/js/telegram-login.js`,r.setAttribute("data-telegram-login",e),r.setAttribute("data-request-access","write"),r.setAttribute("data-lang","en"),r}(e),t.current?.after(r.current)},[e]),(0,H.jsx)("div",{ref:t,hidden:!0})}let DJ=({address:e,showCopyIcon:t,url:r,className:n})=>{let[i,a]=(0,G.useState)(!1);function o(t){t.stopPropagation(),navigator.clipboard.writeText(e).then(()=>a(!0)).catch(console.error)}return(0,G.useEffect)(()=>{if(i){let e=setTimeout(()=>a(!1),2e3);return()=>clearTimeout(e)}},[i]),r?(0,H.jsxs)(DQ,{children:[(0,H.jsx)("a",{title:e,className:n,href:`${r}/address/${e}`,target:"_blank",children:R1(e)}),!!t&&(i?(0,H.jsx)(DZ,{}):(0,H.jsx)(DY,{onClick:o}))]}):(0,H.jsxs)("button",{title:e,className:n,onClick:o,children:[R1(e),!!t&&(0,H.jsx)(i?DZ:DY,{})]})},DY=g4(_n).withConfig({displayName:"StyledSquare2StackIcon",componentId:"sc-ffd38c92-0"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-foreground-3);cursor:pointer;"]),DZ=g4(_r).withConfig({displayName:"StyledCheckIcon",componentId:"sc-ffd38c92-1"})(["&&{display:inline;}stroke-width:2;height:0.875rem;width:0.875rem;margin-left:0.125rem;color:var(--privy-color-success);"]),DQ=g4.span.withConfig({displayName:"Link",componentId:"sc-ffd38c92-2"})(["display:inline-flex;align-items:center;gap:0.25rem;"]),DX=()=>{let{solanaWallets:e}=dH(),{ready:t,wallets:r}=Do();return(0,G.useEffect)(()=>{if(t){let t=[...r,...e].map(e=>({address:e.address,connectorType:e.connectorType,walletClientType:e.walletClientType,connectedAt:e.connectedAt,id:e.meta.id}));$4.put(R_,t)}},[t,r,e]),null};async function D0(e,t,r,n,i,a=!1){let o=a,s=async s=>{if(o&&t&&t.length>0){s===+!a?i("configureMfa","onMfaRequired",{mfaMethods:t}):n.current?.reject(new Dk("missing_or_invalid_mfa","MFA verification failed, retry."));let o=await new Promise((e,t)=>{r.current={resolve:e,reject:t},setTimeout(()=>{let e=new Dk("mfa_timeout","Timed out waiting for MFA code");n.current?.reject(e),t(e)},3e5)});return await e(o)}return await e()},l=null;for(let e=0;e<4;e++)try{l=await s(e),n.current?.resolve(void 0);break}catch(e){if("missing_or_invalid_mfa"!==e.type)throw n.current?.resolve(void 0),e;o=!0}if(null===l){let e=new Dk("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw n.current?.reject(e),e}return l}let D1=(Vu=0,()=>"id-"+Vu++);function D2(e){return void 0!==e.error}let D3=new class{enqueue(e,t){this.callbacks[e]=t}dequeue(e,t){let r=this.callbacks[t];if(!r)throw Error(`cannot dequeue ${e} event: no event found for id ${t}`);switch(delete this.callbacks[t],e){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}},D5=new Map,D4=(e,t)=>"bigint"==typeof t?t.toString():t;function D6(e,t,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let a=`${e}${JSON.stringify(t,D4)}`;if("privy:wallet:create"===e){let e=D5.get(a);if(e)return e}let o=new Promise((r,a)=>{let o=D1();D3.enqueue(o,{resolve:r,reject:a}),i.postMessage({id:o,event:e,data:t},n)}).finally(()=>{D5.delete(a)});return D5.set(a,o),o}function D8(e){let t=Uw(),r=(0,G.useRef)(null),n=(0,G.useRef)(e.mfaMethods),i=U4(),[a,o]=(0,G.useState)(!1);return(0,G.useEffect)(()=>{n.current=e.mfaMethods},[e.mfaMethods]),(0,G.useEffect)(()=>{if(!a)return;let t=r.current;if(!t)return;function o(t){var r;t&&t.origin===e.origin&&"string"==typeof(r=t.data).event&&/^privy:.+/.test(r.event)&&function(e){switch(e.event){case"privy:iframe:ready":let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data);case"privy:user-signer:sign":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:add":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:set-recovery":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:connect":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:recover":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallets:rpc":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:wallet:create":let r=D3.dequeue(e.event,e.id);return D2(e)?r.reject(new Dk(e.error.type,e.error.message)):r.resolve(e.data);case"privy:wallets:import":let n=D3.dequeue(e.event,e.id);return D2(e)?n.reject(new Dk(e.error.type,e.error.message)):n.resolve(e.data);case"privy:mfa:verify":let i=D3.dequeue(e.event,e.id);return D2(e)?i.reject(new Dk(e.error.type,e.error.message)):i.resolve(e.data);case"privy:mfa:init-enrollment":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:submit-enrollment":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:unenroll":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:mfa:clear":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:auth:unlink-passkey":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:solana-wallet:create":let a=D3.dequeue(e.event,e.id);return D2(e)?a.reject(new Dk(e.error.type,e.error.message)):a.resolve(e.data);case"privy:farcaster:init-signer":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:farcaster:sign":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}case"privy:delegated-actions:consent":{let t=D3.dequeue(e.event,e.id);return D2(e)?t.reject(new Dk(e.error.type,e.error.message)):t.resolve(e.data)}default:console.warn("Unsupported wallet proxy method:",e)}}(t.data)}let s={signWithUserSigner:r=>D0(n=>D6("privy:user-signer:sign",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),addWallet:r=>D0(n=>D6("privy:wallets:add",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),setRecovery:r=>D0(n=>D6("privy:wallets:set-recovery",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),connect:r=>D0(n=>D6("privy:wallets:connect",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),recover:r=>D0(n=>D6("privy:wallets:recover",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i,!r.recoveryAccessToken&&!r.recoveryPassword&&!r.recoverySecretOverride),rpc:r=>D0(n=>D6("privy:wallets:rpc",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),create:r=>D6("privy:wallet:create",r,t,e.origin),importWallet:r=>D6("privy:wallets:import",r,t,e.origin),createSolana:r=>D0(n=>D6("privy:solana-wallet:create",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),createDelegatedAction:r=>D6("privy:delegated-actions:consent",r,t,e.origin),verifyMfa:r=>D0(n=>D6("privy:mfa:verify",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i,!0),initEnrollMfa:r=>D0(n=>D6("privy:mfa:init-enrollment",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),submitEnrollMfa:r=>D0(n=>D6("privy:mfa:submit-enrollment",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),unenrollMfa:r=>D0(n=>D6("privy:mfa:unenroll",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),clearMfa:r=>D6("privy:mfa:clear",r,t,e.origin),unlinkPasskeyAccount:r=>D0(n=>D6("privy:auth:unlink-passkey",{...r,...n},t,e.origin),n.current,e.mfaPromise,e.mfaSubmitPromise,i),initFarcasterSigner:r=>D6("privy:farcaster:init-signer",r,t,e.origin),signFarcasterMessage:r=>D6("privy:farcaster:sign",r,t,e.origin)};window.addEventListener("message",o);let l=new AbortController;return R3(()=>D6("privy:iframe:ready",{},t,e.origin),{abortSignal:l.signal}).then(()=>e.onLoad(s),(...t)=>{console.warn("Privy iframe failed to load: ",...t),e.onLoadFailed()}),()=>{window.removeEventListener("message",o),l.abort()}},[a]),t?(0,H.jsx)("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>o(!0),src:R5(e.origin,`/apps/${e.appId}/embedded-wallets`,{caid:e.clientAnalyticsId,client_id:e.appClientId})}):null}function D9(e){return["ethereum","solana"].includes(e.chainType)}let D7=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&e.delegated);function Be(e){let t=e.replace("eip155:","");if(t)return parseInt(t);throw Error("Chain ID not compatible with CAIP-2 format.")}let Bt="popup-privy-oauth",Br="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class Bn{async authenticate(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post(dD,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw dP(e)}}async link(){if(!this.api)throw new dI("Auth flow has no API instance");try{return await this.api.post(dB,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw dP(e)}}constructor({authorizationCode:e,stateCode:t,codeVerifier:r,provider:n}){this.meta={authorizationCode:e,stateCode:t,codeVerifier:r,provider:n}}}async function Bi({api:e,requesterAppId:t,providerAppId:r}){let n=(await e.get(`/api/v1/apps/${t}/cross-app/connections`)).connections.find(e=>e.provider_app_id===r);if(!n)throw new dI("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only}}let Ba=()=>window.open(void 0,void 0,Bo({w:440,h:680})),Bo=({w:e,h:t})=>{let r=void 0!==window.screenLeft?window.screenLeft:window.screenX,n=void 0!==window.screenTop?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,a=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${t},width=${e},popup=1,left=${(i-e)/2/(i/window.screen.availWidth)+r},top=${(a-t)/2/(a/window.screen.availHeight)+n}`},Bs=async({user:e,address:t,client:r,request:n,requesterAppId:i,reconnect:a})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:t,method:n.method}});let o=e?.linkedAccounts.find(e=>"cross_app"===e.type&&(e.embeddedWallets.some(e=>e.address===t)||e.smartWallets.some(e=>e.address===t)));if(!e||!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:t}}),new dI("Cannot request a signature with this wallet address");let s=r.getProviderAccessToken(o.providerApp.id),l=await Bi({api:r.api,requesterAppId:i,providerAppId:o.providerApp.id});if(!s){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new dI("Cannot transact against a read-only provider app");await a({appId:o.providerApp.id,action:"link"})&&(s=r.getProviderAccessToken(o.providerApp.id))}if(!s)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:t}}),new dI("Transactions require a valid token");let c=Ba();if(!c)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:t}}),new dI("Failed to initialize signature request");let d=new URL(`${l.apiUrl}/oauth/transact`);return d.searchParams.set("token",s||""),d.searchParams.set("request",Bl(n)),c.location=d.href,new Promise((e,i)=>{let a=setTimeout(()=>{d(),i(new dI("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:t}})},12e4),s=setInterval(()=>{c.closed&&(d(),i(new dI("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:t}}))},300),l=a=>{a.data&&("set"===a.data.token?.action&&void 0!==a.data.token?.value?r.storeProviderAccessToken(o.providerApp.id,a.data.token.value):"clear"===a.data.token?.action&&r.storeProviderAccessToken(o.providerApp.id,null),"PRIVY_CROSS_APP_ACTION_RESPONSE"===a.data.type&&a.data.result&&(d(),e(a.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:t,method:n.method}})),"PRIVY_CROSS_APP_ACTION_ERROR"===a.data.type&&a.data.error&&(d(),i(a.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:a.data.error,address:t}})))};window.addEventListener("message",l);let d=()=>{c.close(),clearInterval(s),clearTimeout(a),window.removeEventListener("message",l)}})},Bl=e=>JSON.stringify({content:{request:{request:Bc(e,Y.toHex)}},timestamp:Date.now(),callbackUrl:window.origin}),Bc=(e,t)=>"bigint"==typeof e?t(e):Array.isArray(e)?e.map(e=>Bc(e,t)):e&&"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[e,Bc(r,t)])):e,Bd=({title:e,description:t,children:r,...n})=>(0,H.jsx)(Bp,{...n,children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("h3",{children:e}),"string"==typeof t?(0,H.jsx)("p",{children:t}):t,r]})}),Bu=g4(Bd).withConfig({displayName:"PaddedScreenHeader",componentId:"sc-523a75d6-0"})(["margin-bottom:24px;"]),Bh=({title:e,description:t,icon:r,children:n,...i})=>(0,H.jsxs)(Bf,{...i,children:[r||null,(0,H.jsx)("h3",{children:e}),t&&"string"==typeof t?(0,H.jsx)("p",{children:t}):t,n]}),Bp=g4.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),Bf=g4(Bp).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]),Bm=e=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...e,children:[(0,H.jsx)("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),(0,H.jsx)("defs",{children:(0,H.jsxs)("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[(0,H.jsx)("stop",{stopColor:"#3E82F4"}),(0,H.jsx)("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),Bg=({style:e,...t})=>(0,H.jsxs)("svg",{width:"16",height:"14",style:e,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,H.jsxs)("g",{clipPath:"url(#clip0_2115_829)",children:[(0,H.jsx)("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),(0,H.jsx)("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),(0,H.jsx)("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),(0,H.jsx)("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),(0,H.jsx)("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),(0,H.jsx)("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0_2115_829",children:(0,H.jsx)("rect",{width:"16",height:"14",fill:"white"})})})]});async function By({url:e,popup:t,provider:r}){return t.location=e,new Promise((e,r)=>{function n(){t?.close(),window.removeEventListener("message",i)}function i(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(e(t.data),n()),"https://cdn.apple-cloudkit.com"===t.origin&&t.data.ckSession&&(e({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:t.data.ckSession}),n()),"PRIVY_OAUTH_ERROR"===t.data.type&&(r(t.data.error),n()))}window.addEventListener("message",i)})}async function Bw({api:e,provider:t,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new dI("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===i)throw new dI("User denied confirmation during OAuth flow");try{return(await e.post("/api/v1/recovery/oauth/authenticate",{authorization_code:i,state_code:r,code_verifier:n,provider:t})).access_token}catch(t){let e=dP(t);if(e.privyErrorCode)throw new dI(e.message||"Invalid code during OAuth flow.",void 0,e.privyErrorCode);if("User denied confirmation during OAuth flow"===e.message)throw new dI("Invalid code during oauth flow.",void 0,dN.OAUTH_USER_DENIED);throw new dI("Invalid code during OAuth flow.",void 0,dN.UNKNOWN_AUTH_ERROR)}}async function Bv({api:e,provider:t}){let r=RE(),n=RE(),i=await RC(r);try{return"icloud"===t?{url:(await e.post("/api/v1/recovery/oauth/init_icloud",{client_type:"web"})).url}:{url:(await e.post("/api/v1/recovery/oauth/init",{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:t}}catch(e){throw dP(e)}}let Bb=(e,{chainType:t,walletIndex:r}={})=>e?.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&(void 0===r||e.walletIndex===r)&&(void 0===t||e.chainType===t))??[],Bx=async({user:e,accessToken:t,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:a,recoverEmbeddedWallet:o,setUser:s,walletIndex:l,chainType:c,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})=>{if(0===l)if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await eH(i,{request:{chain_type:c}});else if("ethereum"===c){let n=uK(e);n&&await o({address:n.address}),await r.create({accessToken:t,solanaAddress:n?.address,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}else{if("solana"!==c)throw Error("Invalid input to create wallet");{let n=uz(e);n&&await o({address:n.address}),await r.createSolana({accessToken:t,ethereumAddress:n?.address,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}}else if("user-controlled-server-wallets-only"===a.embeddedWallets.mode)await eH(i,{request:{chain_type:c}});else{let{entropyId:n,entropyIdVerifier:i}=Mu(e);await o(),await r.addWallet({accessToken:t,entropyId:n,entropyIdVerifier:i,chainType:c,hdWalletIndex:l})}let p=await n(),f=Bb(p,{chainType:c,walletIndex:l})[0];return s(p),{user:p,account:f}},B_=()=>{let{walletProxy:e,recoverEmbeddedWallet:t,setUser:r,refreshSessionAndUser:n,privy:i,client:a}=dH(),o=Uy();return{create:async({walletIndex:s,chainType:l,latestUser:c,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})=>{let p=c;p||(p=await n());let f=await a.getAccessToken();if(!p||!f||!e)throw Error("User must be authenticated before creating a Privy wallet");return await Bx({appConfig:o,user:p,refreshSessionAndUser:n,privy:i,accessToken:f,proxy:e,recoverEmbeddedWallet:t,setUser:r,walletIndex:s,chainType:l,recoveryMethod:d,recoveryPassword:u,recoveryAccessToken:h})}}},Bk={component:()=>{let{user:e}=u5(),{closePrivyModal:t,isNewUserThisSession:r,updateWallets:n}=dH(),{app:i,data:a,onUserCloseViaDialogOrKeybindRef:o}=Ux(),{onSuccess:s,onFailure:l,callAuthOnSuccessOnClose:c}=a.createWallet,d=()=>{let r=uz(e)??uK(e);e&&r?(n(),s({user:e,account:r})):l(Error("Failed to create wallet")),t({shouldCallAuthOnSuccess:c})};return(0,G.useEffect)(()=>{let e=setTimeout(d,2500);return()=>clearTimeout(e)},[]),o.current=d,(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:d}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($s,{fill:"var(--privy-color-accent)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:r?"Welcome"+(i?.name?` to ${i?.name}`:""):"All set!",description:r?"Youve successfully created an account.":"Your account is secured."})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},BE=g4.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),BC=g4.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]),BA={"google-drive":{name:"Google Drive",component:Bg},icloud:{name:"iCloud",component:Bm}},BI={component:()=>{let{logout:e}=u5(),{navigate:t,setModalData:r,data:n}=Ux(),{closePrivyModal:i,createAnalyticsEvent:a}=dH(),{execute:o}=(()=>{let{client:e,walletProxy:t,refreshSessionAndUser:r}=dH(),{data:n}=Ux(),{user:i}=u5(),a=U4(),{create:o}=B_();return{execute:async({provider:s,action:l,popup:c,shouldCreateEth:d,shouldCreateSol:u})=>{let h,p;if(!e)throw new dI("Missing client");function f(t){if(!t&&e)throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:s}}),new dI("Recovery OAuth failed")}switch(s){case"google-drive":{let t,r,{url:n,codeVerifier:i,stateCode:a}=await Bv({api:e.api,provider:s});f(n);try{let i=await By({url:n,popup:c,provider:s});if(t=i.stateCode,r=i.authorizationCode,t!==a)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:s,storedStateCode:a??"",returnedStateCode:t??""}}),new dI("Unexpected auth flow. This may be a phishing attempt.",void 0,dN.OAUTH_UNEXPECTED)}catch(t){throw e.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:t.toString(),provider:s}}),new dI("Recovery OAuth failed")}[h,p]=await Promise.all([e.getAccessToken(),Bw({api:e.api,provider:s,codeVerifier:i,stateCode:t,authorizationCode:r})]);break}case"icloud":{let{url:t}=await Bv({api:e.api,provider:s});f(t);let{ckWebAuthToken:r}=await By({url:t,popup:c,provider:s});p=r,h=await e.getAccessToken()}}if(!t)throw new dI("Cannot connect to wallet proxy");if(!h)throw new dI("Unable to authorize user");switch(l){case"recover":{let r=n?.recoverWallet?.entropyId,i=n?.recoverWallet?.entropyIdVerifier;if(!r||!i)throw new dI("Recovery OAuth failed");e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:r,recoveryMethod:s}}),await t.recover({accessToken:h,entropyId:r,entropyIdVerifier:i,recoveryAccessToken:p}),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:r,recoveryMethod:s}});break}case"create-wallet":{let t;if(e.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),d&&u)t=await o({recoveryMethod:s,recoveryAccessToken:p,chainType:"ethereum",walletIndex:0,latestUser:i}),t=await o({chainType:"solana",walletIndex:0,latestUser:t.user});else if(u)t=await o({recoveryMethod:s,recoveryAccessToken:p,chainType:"solana",walletIndex:0,latestUser:i});else{if(!d)throw Error("Invalid args to create wallet");t=await o({recoveryMethod:s,recoveryAccessToken:p,chainType:"ethereum",walletIndex:0,latestUser:i})}if(!t)throw a("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:t.account.address}}),a("createWallet","onSuccess",{wallet:t.account});break}case"set-recovery":{let n=u0(i);if(!n)throw a("setWalletRecovery","onError",dN.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:n.address,existingRecoveryMethod:n.recoveryMethod,targetRecoveryMethod:s}});let{entropyId:o,entropyIdVerifier:l}=Mu(i);await t.setRecovery({accessToken:h,entropyId:o,entropyIdVerifier:l,recoveryMethod:s,recoveryAccessToken:p});let c=u0(await r());if(!c)throw a("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");e.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:n.address,existingRecoveryMethod:n.recoveryMethod,targetRecoveryMethod:s}}),a("setWalletRecovery","onSuccess",{method:s,wallet:c});break}default:throw new dI("Unsupported recovery action")}}}})(),[s,l]=(0,G.useState)(!1),{provider:c,action:d,isInAccountCreateFlow:u,shouldCreateEth:h,shouldCreateSol:p}=n?.recoveryOAuthStatus,[f,m]=(0,G.useState)(void 0),[g,y]=(0,G.useState)("create-wallet"===d);if("user-passcode"===c)throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let w=BA[c].name,v=BA[c].component,b=n?.recoverWallet?.onCompleteNavigateTo,x=new Rn(async(e="create-wallet")=>(y(!0),new Promise((t,r)=>{setTimeout(async()=>{try{let r=window.open();await o({provider:c,action:e,popup:r,shouldCreateEth:h,shouldCreateSol:p}),l(!0),t()}catch(t){m({message:`${"recover"===e?"Recovery":"Back up"} with ${w} unsuccessful`,detail:"recover"===d?`Please verify that you are selecting the ${w} account associated with your backup.`:"",retryable:!0}),r()}},0)})));(0,G.useEffect)(()=>{"recover"!==d&&x.execute(u?"create-wallet":"set-recovery")},[]),(0,G.useEffect)(()=>{if(!s)return;let n=setTimeout(()=>{u?(r({createWallet:{onSuccess:()=>{},onFailure:t=>{a({eventName:"embedded_wallet_creation_failure_logout",payload:{error:t,screen:"RecoveryOAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),t(Bk)):i({shouldCallAuthOnSuccess:!1})},1400);return()=>clearTimeout(n)},[s]);let _=(0,G.useCallback)(async()=>{await x.execute("recover"),b?t(b):l(!0)},[]),k="google-drive"===c?"Google Drive":"Apple iCloud",E=s&&`Successfully ${"recover"===d?"recovered":"backed up"} with ${k}.`||f&&f.message||`${"recover"===d?"Recovering":"Backing up"} with ${k}...`,C=f?f.detail:"";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),g?(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(BE,{children:[(0,H.jsx)(Bh,{title:E,icon:(0,H.jsx)(v,{style:{width:"38px",height:"38px"}}),description:C}),f&&f?.retryable?(0,H.jsx)(LG,{onClick:()=>{RB(),m(void 0),"create-wallet"===d?x.execute("create-wallet"):_()},disabled:!s&&!f?.retryable,children:"Try again"}):null]})}):(0,H.jsxs)(BE,{children:[(0,H.jsx)(Bh,{title:"Confirm it's really you",icon:(0,H.jsx)(v,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${k} where your account is backed up.`}),(0,H.jsxs)(LG,{onClick:_,children:["Confirm with ",k]})]}),(0,H.jsx)(Ld,{})]})}},BS=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),BT={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},BP=({onClose:e})=>(0,H.jsxs)(BC,{children:[(0,H.jsx)(Bh,{title:"Why do I need to secure my account?",icon:(0,H.jsx)(yM,{width:48}),description:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),(0,H.jsx)("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),(0,H.jsx)(LG,{onClick:e,children:"Select backup method"})]}),Bj={component:()=>{let[e,t]=(0,G.useState)(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:a,data:o,onUserCloseViaDialogOrKeybindRef:s}=Ux(),{user:l}=u5(),{embeddedWallets:c}=Uy(),{closePrivyModal:d}=dH(),u=u0(l),h=null===u,{isInAccountCreateFlow:p,isResettingPassword:f,shouldCreateEth:m,shouldCreateSol:g}=o.recoverySelection,y=u&&"privy"!==u.recoveryMethod,w=y?(0,H.jsxs)("span",{children:["Your account is currently secured using"," ",(0,H.jsx)("strong",{children:BT[u?.recoveryMethod||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function v(e){a({recoveryOAuthStatus:{provider:e,action:h?"create-wallet":"set-recovery",isInAccountCreateFlow:p,shouldCreateEth:m,shouldCreateSol:g}}),r(BI)}function b(){o?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),d({shouldCallAuthOnSuccess:o?.setWalletPassword?.callAuthOnSuccessOnClose??!1})}return s.current=b,(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:b,backFn:e?()=>t(!1):n?i:void 0,infoFn:n||e?void 0:()=>t(!0)},"header"),e?(0,H.jsx)(BP,{onClose:()=>t(!1)}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Bh,{title:y?"Update backup method":"Secure your account",icon:(0,H.jsx)($I,{width:48}),description:w}),(0,H.jsx)(BE,{children:c.userOwnedRecoveryOptions.filter(e=>!["icloud","google-drive"].includes(u?.recoveryMethod||"")||e!==u?.recoveryMethod).sort().map(e=>{switch(e){case"google-drive":return(0,H.jsxs)(Lr,{onClick:()=>v("google-drive"),children:[(0,H.jsx)(BS,{children:(0,H.jsx)(Bg,{style:{width:18}})}),"Back up to Google Drive"]},e);case"icloud":return(0,H.jsxs)(Lr,{onClick:()=>v("icloud"),children:[(0,H.jsx)(BS,{children:(0,H.jsx)(Bm,{style:{width:24}})}),"Back up to Apple iCloud"]},e);case"user-passcode":return(0,H.jsxs)(Lr,{onClick:()=>{r(function({isCreatingWallet:e,skipSplashScreen:t}){return e?V6:t?VX:V0}({isCreatingWallet:h,skipSplashScreen:!0}))},children:[(0,H.jsx)(BS,{children:(0,H.jsx)($S,{style:{width:18}})}),f?"Reset your":"Set a"," password"]},e);default:return null}})})]}),(0,H.jsx)(Ld,{})]})}},BN=g5(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]),BO=g4.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],BN,({error:e})=>e?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:e})=>e?"":"capitalize"),B$=g4.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),BR=g4(LG).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:e})=>e&&g5(["&&{transition:none;}"])),BM=g5(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]),BU=g4.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],BM),BL=g4.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],BM),BF=g4.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:e})=>e?"center":"space-between"),BD=g4.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),BB=g4.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),BW=g4.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),Bq=g4(LH).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),Bz=g4.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),BV=g4($T).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),BH=g4($j).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),BG=g4($P).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),BK=g4.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:e})=>("Strong"===e?"#78dca6":"Medium"===e&&"var(--privy-color-warn)")||"var(--privy-color-error)"),BJ=({buttonHideAnimations:e,buttonLoading:t,password:r,onSubmit:n,onBack:i})=>{let[a,o]=(0,G.useState)(!0),[s,l]=(0,G.useState)(!1),[c,d]=(0,G.useState)(""),u=r===c;return(0,G.useEffect)(()=>{c&&!s&&l(!0)},[c]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!1,backFn:i}),(0,H.jsx)(FU,{}),(0,H.jsxs)(B$,{children:[(0,H.jsxs)(BD,{children:[(0,H.jsx)(yF,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,H.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),(0,H.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),(0,H.jsxs)(BF,{children:[(0,H.jsx)(BU,{value:c,onChange:e=>d(e.target.value),onKeyUp:e=>{"Enter"===e.key&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:a?"password":"text",style:{paddingRight:"2.3rem"}}),(0,H.jsx)(Bz,{style:{right:"0.75rem"},children:a?(0,H.jsx)(BH,{onClick:()=>o(!1)}):(0,H.jsx)(BG,{onClick:()=>o(!0)})})]}),(0,H.jsx)(BO,{"aria-hidden":!s||u,error:!0,children:"Passwords do not match"})]}),(0,H.jsx)(BR,{onClick:n,loading:t,disabled:!u,$hideAnimations:e,children:"Continue"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},BY=({className:e,checked:t,color:r="var(--privy-color-accent)",...n})=>(0,H.jsx)("label",{children:(0,H.jsxs)(BZ,{className:e,children:[(0,H.jsx)(BX,{checked:t,...n}),(0,H.jsx)(B0,{color:r,checked:t,children:(0,H.jsx)(BQ,{viewBox:"0 0 24 24",children:(0,H.jsx)("polyline",{points:"20 6 9 17 4 12"})})})]})}),BZ=g4.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),BQ=g4.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),BX=g4.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),B0=g4.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],e=>e.color,e=>e.checked?e.color:"var(--privy-color-background)",BX,e=>e.color,BQ,e=>e.checked?"visible":"hidden"),B1=({buttonHideAnimations:e,buttonLoading:t,onSubmit:r,onBack:n,config:i})=>{let[a,o]=(0,G.useState)(!1);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!1,backFn:n}),(0,H.jsx)(FU,{}),(0,H.jsxs)(B$,{children:[(0,H.jsxs)(BD,{children:[(0,H.jsx)(yF,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),(0,H.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),(0,H.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),(0,H.jsx)(BB,{children:(0,H.jsxs)(BW,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:e=>{e.preventDefault(),o(e=>!e)},children:[(0,H.jsx)(BY,{color:"var(--privy-color-error)",readOnly:!0,checked:a}),(0,H.jsx)(H.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),(0,H.jsxs)(B2,{children:["user"===i.initiatedBy&&(0,H.jsx)(LQ,{onClick:i.onCancel,disabled:t,children:"Cancel"}),(0,H.jsx)(BR,{onClick:r,loading:t,$hideAnimations:e,disabled:!a,children:"Set Password"})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},B2=g4.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),B3=/[a-z]/,B5=/[A-Z]/,B4=/[0-9]/,B6="!@#$%^&*()\\-_+.",B8=`a-zA-Z0-9${B6}`,B9=RegExp(`[${B6}]`),B7=RegExp(`[${B8}]`),We=RegExp(`^[${B8}]{6,}$`),Wt=()=>(function(e,t,r="-"){if(!Array.isArray(t)||t.length<2)throw Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if("string"!=typeof r)throw Error("Invalid argument: sep argument must be a string");return(function(e,t,r){!1;if("number"!=typeof r||r>65536)throw Error("Invalid argument: end must be a number less than or equal to 65536");if(r-0<2)throw Error("Invalid range: range must contain at least two values");let n=[];for(let e=0;e<4;e++)n[e]=0+function(e){if("number"!=typeof e||e<2||e>65536)throw Error("Invalid number: number must be at least two and at most 65536");let t=e>256,r=t?O8:O6,n=e*Math.floor((t?65536:256)/e);for(;;){let t=r();if(t<n)return t%e}}(r-0);return n})(4,0,t.length).reduce((e,n,i)=>{let a=t[n];return e+(0===i?a:r+a)},"")})(0,O9),Wr=({buttonHideAnimations:e,buttonLoading:t,password:r="",config:n,isResettingPassword:i,onSubmit:a,onClose:o,onBack:s,onPasswordChange:l,onPasswordGenerate:c})=>{let[d,u]=(0,G.useState)(!1),[h,p]=(0,G.useState)(!1);(0,G.useEffect)(()=>{r&&!h&&p(!0)},[r]);let f=(0,G.useMemo)(()=>h?6>(r?.length||0)?"Password must be at least 6 characters":We.test(r||"")?null:`Invalid characters used ( ${((e="")=>[...new Set(e.split("").filter(e=>!B7.test(e)).map(e=>e.replace(" ","SPACE")))])(r).join(" ")} )`:null,[r,h]),m=(0,G.useMemo)(()=>f?{value:0,label:"Weak"}:function(e=""){let t=function(e=""){return(.3*function(e){if(e.length<8)return 0;let t=0;return B3.test(e)&&(t+=1),B5.test(e)&&(t+=1),B4.test(e)&&(t+=1),B9.test(e)&&(t+=1),Math.max(0,Math.min(1,t/3))}(e)+(0,O5.default)(e)/95)/2}(e);return{value:t,label:t>.9?"Strong":t>.5?"Medium":"Weak"}}(r),[r,f]),g=(0,G.useMemo)(()=>!r?.length||!!f,[f,r]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:o,closeable:"user"===n.initiatedBy,backFn:s}),(0,H.jsx)(FU,{}),(0,H.jsxs)(B$,{children:[(0,H.jsxs)(BD,{children:[(0,H.jsx)($N,{height:48,width:48,stroke:"var(--privy-color-accent)"}),(0,H.jsxs)("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),(0,H.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),(0,H.jsxs)(BF,{children:[(0,H.jsx)(BU,{value:r,onChange:e=>l(e.target.value),onKeyUp:e=>{"Enter"===e.key&&a()},placeholder:"enter or generate a strong password",type:d?"password":"text",style:{paddingRight:"3.8rem"}}),(0,H.jsxs)(Bz,{style:{width:"3.5rem"},children:[d?(0,H.jsx)(BH,{onClick:()=>u(!1)}):(0,H.jsx)(BG,{onClick:()=>u(!0)}),(0,H.jsx)(BV,{onClick:c})]})]}),(0,H.jsx)(BK,{value:0===m.value?.01:m.value,label:m.label}),(0,H.jsx)(BO,{error:!!f,children:f||`Password Strength: ${h?m.label:"--"}`}),(0,H.jsxs)(Wi,{children:[(0,H.jsx)(Wn,{children:(0,H.jsxs)(BB,{children:[(0,H.jsxs)(BW,{children:[(0,H.jsx)($s,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),(0,H.jsxs)(BW,{children:[(0,H.jsx)($s,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),(0,H.jsx)(BR,{onClick:a,loading:t,disabled:g,$hideAnimations:e,children:"Continue"})]})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},Wn=g4(BB).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),Wi=g4.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]),Wa=({buttonHideAnimations:e,buttonLoading:t,appName:r,password:n,onSubmit:i,onBack:a})=>{let[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(!0),d=(0,G.useCallback)(()=>{s(!0),n&&navigator.clipboard.writeText(n)},[n]),u=(0,G.useCallback)(()=>{let e=document.createElement("a"),t=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),i=new Blob([Wo(r,n)],{type:"text/plain"}),a=URL.createObjectURL(i);e.href=a,e.target="_blank",e.download=`${t}-privy-wallet-recovery.txt`,document.body.appendChild(e),e.click(),setTimeout(()=>{e.remove(),URL.revokeObjectURL(a)},5e3)},[n]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:a,closeable:!1}),(0,H.jsx)(FU,{}),(0,H.jsxs)(B$,{children:[(0,H.jsxs)(BD,{children:[(0,H.jsx)(yF,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),(0,H.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),(0,H.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),(0,H.jsxs)(BF,{centered:!0,children:[(0,H.jsx)(BL,{children:l?"".repeat(n.length):n}),(0,H.jsx)(Bz,{style:{right:"0.75rem"},children:l?(0,H.jsx)(BH,{onClick:()=>c(!1)}):(0,H.jsx)(BG,{onClick:()=>c(!0)})})]}),(0,H.jsxs)("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[(0,H.jsx)(Bq,{onClick:d,children:(0,H.jsxs)(H.Fragment,o?{children:[(0,H.jsx)($$,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[(0,H.jsx)($R,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),(0,H.jsxs)(Bq,{onClick:u,children:[(0,H.jsx)($O,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),(0,H.jsx)(BR,{onClick:i,loading:t,$hideAnimations:e,children:"Continue"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},Wo=(e,t)=>`Your wallet recovery password for ${e} is

${t}

You will need this password to access your ${e} wallet on a new device. Please keep it somewhere safe.`,Ws=({error:e,onClose:t})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!1}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,e?{children:[(0,H.jsx)($o,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Something went wrong",description:e})]}:{children:[(0,H.jsx)($s,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Success"})]}),(0,H.jsx)(LG,{onClick:t,children:"Close"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}),Wl=(e,t)=>{switch(e){case"creating":return"back"===t?e:"saving";case"saving":return"back"===t?"creating":"confirming";case"confirming":return"back"===t?"saving":"finalizing";case"finalizing":return"back"===t?"confirming":"done";default:return e}},Wc=({onSubmit:e,...t})=>{let{lastScreen:r,navigate:n}=Ux(),{send:i,state:a}=(()=>{let[e,t]=(0,G.useReducer)(Wl,"creating");return{send:t,state:e}})(),o=(0,G.useCallback)(async()=>{"finalizing"===a&&await e(),i("next")},[a,i,e]);(0,G.useEffect)(()=>{let e;return"done"===a&&"automatic"===t.config.initiatedBy&&(e=setTimeout(()=>t.onClose?.(),1400)),()=>{e&&clearTimeout(e)}},[a,t.config.initiatedBy,t.onClose]);let s=(0,G.useCallback)(()=>{i("back")},[i]),l=(0,G.useCallback)(()=>{n(Bj)},[r,n]);return"creating"===a?(0,H.jsx)(Wr,{...t,onSubmit:o,onBack:r===Bj?l:void 0}):"saving"===a?(0,H.jsx)(Wa,{...t,onSubmit:o,onBack:s}):"confirming"===a?(0,H.jsx)(BJ,{...t,onSubmit:o,onBack:s}):"finalizing"===a?(0,H.jsx)(B1,{...t,onSubmit:o,onBack:s}):"done"===a?(0,H.jsx)(Ws,{...t,onSubmit:o}):null},Wd={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"},Wu=e=>{let t=Wd[e];return"wallet"===e||"phone"===e?{displayName:e,loginMethod:t}:{displayName:t,loginMethod:t}},Wh=(0,G.createContext)({}),Wp=({children:e})=>{let t=Uy(),[r,n]=(0,G.useState)({});return U3("login",{onComplete:({loginAccount:e})=>{e&&"passkey"!==e.type&&"cross_app"!==e.type&&("wallet"!==e.type||"privy"!==e.walletClientType)&&($4.put(Wf(t.id),e.type),"wallet"===e.type?($4.put(Wm(t.id),e.walletClientType),$4.put(Wg(t.id),e.chainType),n({accountType:e.type,walletClientType:e.walletClientType,chainType:e.chainType})):($4.del(Wm(t.id)),$4.del(Wg(t.id)),n({accountType:e.type})))}}),(0,G.useEffect)(()=>{if(!t.id)return;let e=$4.get(Wf(t.id)),r=$4.get(Wm(t.id)),i=$4.get(Wg(t.id));e&&n("wallet"===e?{accountType:e,walletClientType:r,chainType:i}:{accountType:e})},[t.id]),(0,H.jsx)(Wh.Provider,{value:r,children:e})},Wf=e=>`privy:${e}:recent-login-method`,Wm=e=>`privy:${e}:recent-login-wallet-client`,Wg=e=>`privy:${e}:recent-login-chain-type`,Wy=()=>(0,G.useContext)(Wh),Ww=()=>{let{app:e}=Ux(),t=e?.appearance?.logo,r=`${e?.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return t?"string"==typeof t?(0,H.jsx)("img",{src:t,alt:r,style:n}):"svg"===t.type||"img"===t.type?G.default.cloneElement(t,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},Wv=e=>{let{app:t}=Ux();return t?.appearance.logo?(0,H.jsx)(Wb,{...e,children:(0,H.jsx)(Ww,{})}):null},Wb=g4.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),Wx=({name:e,logoUrl:t,size:r="38px"})=>"string"==typeof t?(0,H.jsx)("img",{src:t,alt:`${e??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):(0,H.jsx)("span",{}),W_=({appId:e})=>{let[t,r]=(0,G.useState)(void 0),{startCrossAppAuthFlow:n,authenticated:i}=u5(),{client:a}=dH();return(0,G.useEffect)(()=>{(async()=>{a&&r(await a.getCrossAppProviderDetails(e))})()},[a]),(0,H.jsx)(Lr,{onClick:()=>n({appId:e,action:i?"link":"login"}),disabled:!t,children:t?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Wx,{name:t.name,logoUrl:t.icon_url||void 0,size:"24px"})," ",t.name]}):(0,H.jsx)(Lz,{})})},Wk=(e,t)=>!uz(e)&&("all-users"===t||"users-without-wallets"===t&&!WE(e).length),WE=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"ethereum"===e.chainType),WC=(e,t)=>!uK(e)&&("all-users"===t||"users-without-wallets"===t&&!WA(e).length),WA=e=>e.linkedAccounts.filter(e=>"wallet"===e.type&&"solana"===e.chainType),WI=(e,t)=>Wk(e,t.ethereum.createOnLogin)||WC(e,t.solana.createOnLogin),WS=g4.span.withConfig({displayName:"CircleBackground",componentId:"sc-c9f33cd-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";background-color:",";border-radius:50%;display:inline-block;box-sizing:border-box;}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)"),WT={component:()=>{let{navigate:e,app:t,setModalData:r,data:n}=Ux(),{getAuthMeta:i,client:a}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsxs)(WP,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(WS,{color:"var(--privy-color-warn-light)"}),(0,H.jsx)(yM,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-warn)"})]})}),(0,H.jsxs)(Wj,{children:[(0,H.jsx)("h3",{children:"Account not found"}),(0,H.jsxs)("p",{children:["Please try logging in again or go to ",t.name," to create an account."]})]}),(0,H.jsx)(U6,{}),(0,H.jsx)(LG,{onClick:()=>{let t=i();r({...n,login:{...n?.login,...t?.disableSignup?{disableSignup:!0}:{}}}),a?.authFlow&&(a.authFlow=void 0),e(VQ)},children:"Try logging in again"})]})]})}},WP=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-feca2100-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;margin-top:24px;"]),Wj=g4.div.withConfig({displayName:"GappedContainer",componentId:"sc-feca2100-1"})(["display:flex;flex-direction:column;gap:8px;"]),WN=g4.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],e=>e.color??"var(--privy-color-accent)",e=>e.color??"var(--privy-color-accent)");function WO(e){return(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...e,children:[(0,H.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,H.jsx)("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),(0,H.jsx)("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}let W$="0x0000000000000000000000000000000000000000",WR=({originCurrency:e,destinationCurrency:t,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:e??W$,destinationCurrency:t??W$,...r}),WM="https://api.relay.link",WU="https://api.testnets.relay.link",WL=async({input:e,isTestnet:t})=>{let r=await fetch((t?WU:WM)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await r.json();if(!(r.ok||"string"==typeof n.message&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},WF=e=>{let t=e.steps[0]?.items?.[0];if(t)return{from:t.data.from,to:t.data.to,value:Number(t.data.value),chainId:Number(t.data.chainId),data:t.data.data}};function WD({transactionHash:e,wallet:t,isTestnet:r,bridgingStatus:n,setBridgingStatus:i,onSuccess:a,onFailure:o}){(0,G.useEffect)(()=>{if(e&&t&&n){if(["delayed","waiting","pending"].includes(n)){let t=setInterval(async()=>{try{let t=await async function({transactionHash:e,isTestnet:t}){let r=await fetch((t?WU:WM)+"/requests/v2?hash="+e),n=await r.json();if(!r.ok){if("message"in n&&"string"==typeof n.message)throw Error(n.message);throw Error("Error fetching request from relay")}return n.requests.at(0)?.status??"pending"}({transactionHash:e,isTestnet:r});i(t)}catch(e){console.error(e)}},1e3);return()=>clearInterval(t)}"success"===n?a({transactionHash:e,wallet:t}):["refund","failure"].includes(n)&&o({error:new WB(e,r)})}},[n,e,r,t])}class WB extends dI{constructor(e,t){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,dN.TRANSACTION_FAILURE),this.relayLink=t?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}}let WW=({style:e,...t})=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...t,children:(0,H.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})}),Wq={component:()=>{let{navigate:e,navigateBack:t,data:r,lastScreen:n,currentScreen:i}=Ux(),a=r?.errorModalData?.previousScreen||(n===i?void 0:n);return(0,H.jsx)(Wz,{error:r?.errorModalData?.error||Error(),backFn:()=>a?e(a,!1):t(),onClick:()=>e(a||VQ,!1)})}},Wz=({error:e,backFn:t,onClick:r})=>{let{reset:n}=Mn(),{app:i}=Ux(),a=((e,t)=>{let r=(0,H.jsx)(yF,{height:38,width:38,stroke:"var(--privy-color-error)"});if(e instanceof WB)return{title:"Transaction failed",detail:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("p",{children:e.message}),(0,H.jsxs)("p",{children:["Check the"," ",(0,H.jsx)(WG,{href:e.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:r};if(e instanceof dI)switch(e.privyErrorCode){case dN.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:e.message,ctaText:"Try again",icon:r};case dN.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:e.message,ctaText:"Try again",icon:r};case dN.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:e.message,ctaText:"Try again",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}if(e instanceof Dk&&"twilio_verification_failed"===e.type)return{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:(0,H.jsx)(yO,{height:38,width:38,stroke:"var(--privy-color-error)"})};if(!(e instanceof dC))return e instanceof dA&&e.status&&[400,422].includes(e.status)?{title:"Something went wrong",detail:e.message,ctaText:"Try again",icon:r}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r};switch(e.privyErrorCode){case dN.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:r};case dN.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:e.message,ctaText:"Try another method",icon:r};case dN.ALLOWLIST_REJECTED:return{title:t.errorTitle||"You don't have access to this app",detail:t.errorDetail||"Have you been invited?",ctaText:t.errorCtaText||"Try another account",icon:(0,H.jsx)(WW,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})};case dN.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:(0,H.jsx)("span",{})};case dN.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:(0,H.jsx)("span",{})};case dN.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:r};case dN.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:r};case dN.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:r};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:r}}})(e,i.allowlistConfig);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:t}),(0,H.jsxs)(WV,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(WN,{color:"var(--privy-color-error)"}),a.icon]})}),(0,H.jsxs)(WH,{children:[(0,H.jsx)("h3",{children:a.title}),"string"==typeof a.detail?(0,H.jsx)("p",{children:a.detail}):a.detail]}),(0,H.jsx)(LG,{color:"var(--privy-color-error)",onClick:()=>{e instanceof dC&&(e.privyErrorCode===dN.INVALID_CAPTCHA&&n(),e.privyErrorCode===dN.ALLOWLIST_REJECTED&&i.allowlistConfig.errorCtaLink)?window.location.href=i.allowlistConfig.errorCtaLink:r?.()},children:a.ctaText})]})]})},WV=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-b0d5228e-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),WH=g4.div.withConfig({displayName:"GappedContainer",componentId:"sc-b0d5228e-1"})(["display:flex;flex-direction:column;gap:8px;"]),WG=g4.a.withConfig({displayName:"Link",componentId:"sc-b0d5228e-2"})(["color:var(--privy-color-accent) !important;font-weight:600;"]),WK=({onTransfer:e,isTransferring:t,transferSuccess:r})=>(0,H.jsx)(LG,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:t,onClick:e,children:"Transfer and delete account"}}),WJ=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),WY=g4.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),WZ=g4.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),WQ=g4($n).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:e})=>`${e}px`,({$iconSize:e})=>`${e}px`),WX=g4(_n).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),W0=g4.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),W1=g4.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),W2=g4.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),W3=()=>(0,H.jsx)(W2,{children:(0,H.jsx)(WQ,{$iconSize:60})}),W5=({address:e,onClose:t,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:a})=>{let{defaultChain:o}=Uy(),s=o.blockExplorers?.default.url??"https://etherscan.io";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:t,backFn:r}),(0,H.jsxs)(WJ,{children:[(0,H.jsx)(W3,{}),(0,H.jsxs)(WY,{children:[(0,H.jsx)("h3",{children:"Check account assets before transferring"}),(0,H.jsx)("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),(0,H.jsxs)(W0,{children:[(0,H.jsx)("p",{children:" To check your balance, you can:"}),(0,H.jsx)(W1,{children:"Log out and log back into the other account, or "}),(0,H.jsxs)(W1,{children:["Copy your wallet address and use a"," ",(0,H.jsx)("u",{children:(0,H.jsx)("a",{target:"_blank",href:s,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),(0,H.jsxs)(WZ,{onClick:()=>navigator.clipboard.writeText(e).catch(console.error),children:[(0,H.jsx)($r,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,H.jsx)(DJ,{address:e,showCopyIcon:!1}),(0,H.jsx)(WX,{})]}),(0,H.jsx)(WK,{onTransfer:n,isTransferring:i,transferSuccess:a})]})]}),(0,H.jsx)(Ld,{})]})},W4={component:()=>{let{initiateAccountTransfer:e,closePrivyModal:t}=dH(),{data:r,navigate:n,lastScreen:i,setModalData:a}=Ux(),[o,s]=(0,G.useState)(void 0),[l,c]=(0,G.useState)(!1),[d,u]=(0,G.useState)(!1),h=async()=>{try{if(!r?.accountTransfer?.nonce||!r?.accountTransfer?.account)throw Error("missing account transfer inputs");u(!0),await e({nonce:r?.accountTransfer?.nonce,account:r?.accountTransfer?.account,accountType:r?.accountTransfer?.linkMethod,externalWalletMetadata:r?.accountTransfer?.externalWalletMetadata,telegramWebAppData:r?.accountTransfer?.telegramWebAppData,telegramAuthResult:r?.accountTransfer?.telegramAuthResult,farcasterEmbeddedAddress:r?.accountTransfer?.farcasterEmbeddedAddress,oAuthUserInfo:r?.accountTransfer?.oAuthUserInfo}),c(!0),u(!1),setTimeout(t,1e3)}catch(e){a({errorModalData:{error:e,previousScreen:i||W4}}),n(Wq,!0)}};return o?(0,H.jsx)(W5,{address:o,onClose:t,onRetry:()=>s(void 0),onTransfer:h,isTransferring:d,transferSuccess:l}):(0,H.jsx)(W6,{onClose:t,onInfo:()=>s(r?.accountTransfer?.embeddedWalletAddress),onContinue:()=>s(r?.accountTransfer?.embeddedWalletAddress),onTransfer:h,isTransferring:d,transferSuccess:l,data:r})}},W6=({onClose:e,onContinue:t,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:a,data:o})=>{if(!o?.accountTransfer?.linkMethod||!o?.accountTransfer?.displayName)return;let s={method:o?.accountTransfer?.linkMethod,handle:o?.accountTransfer?.displayName,disclosedAccount:o?.accountTransfer?.embeddedWalletAddress?{type:"wallet",handle:o?.accountTransfer?.embeddedWalletAddress}:void 0};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!0}),(0,H.jsxs)(WJ,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(WN,{color:"var(--privy-color-error)"}),(0,H.jsx)(yF,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),(0,H.jsxs)(WY,{children:[(0,H.jsxs)("h3",{children:[function(e){switch(e){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${RI(e.replace("_oauth",""))} profile`;default:return e.startsWith("privy:")?"Cross-app account":e}}(s.method)," is associated with another account"]}),(0,H.jsxs)("p",{children:["Do you want to transfer",(0,H.jsx)("b",{children:s.handle?` ${s.handle}`:""})," to this account instead? This will delete your other account."]}),(0,H.jsx)(W8,{onClick:r,disclosedAccount:s.disclosedAccount})]}),(0,H.jsxs)(WY,{style:{gap:12,marginTop:12},children:[o?.accountTransfer?.embeddedWalletAddress?(0,H.jsx)(LG,{onClick:t,children:"Continue"}):(0,H.jsx)(WK,{onTransfer:n,transferSuccess:i,isTransferring:a}),(0,H.jsx)(LQ,{onClick:e,children:"No thanks"})]})]}),(0,H.jsx)(Ld,{})]})};function W8({disclosedAccount:e,onClick:t}){return e?(0,H.jsxs)(WZ,{onClick:t,children:[(0,H.jsx)($r,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),(0,H.jsx)(DJ,{address:e.handle,showCopyIcon:!1}),(0,H.jsx)(WO,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}let W9=()=>(0,H.jsx)(W7,{children:(0,H.jsxs)(qe,{children:[(0,H.jsx)(qt,{}),(0,H.jsx)(qr,{})]})}),W7=g4.div.withConfig({displayName:"LoadingContainer",componentId:"sc-85b54ede-0"})(["display:flex;justify-content:center;align-items:center;flex-grow:1;margin:12px;padding:16px;@media all and (display-mode:standalone){margin-bottom:30px;}"]),qe=g4.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-85b54ede-1"})(["position:relative;height:140px;width:140px;opacity:1;animation:fadein 200ms ease;"]),qt=g4.div.withConfig({displayName:"CircleFixed",componentId:"sc-85b54ede-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;&&{border:4px solid var(--privy-color-accent-light);border-radius:50%;}"]),qr=g4.div.withConfig({displayName:"CircleRotate",componentId:"sc-85b54ede-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:140px;height:140px;animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-accent) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),qn={component:()=>{let{app:e,setModalData:t,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=Ux(),[a,o]=(0,G.useState)(""),{embeddedWallets:s}=Uy(),{authenticated:l,user:c}=u5(),{closePrivyModal:d,walletProxy:u,client:h}=dH(),{onSuccess:p,onFailure:f,callAuthOnSuccessOnClose:m,shouldCreateEth:g,shouldCreateSol:y}=n.createWallet,w=!0===e?.embeddedWallets.requireUserOwnedRecoveryOnCreate,[v,b]=(0,G.useState)(null),{create:x}=B_(),_=g??(!!c&&Wk(c,e.embeddedWallets.ethereum.createOnLogin)),k=y??(!!c&&WC(c,e.embeddedWallets.solana.createOnLogin)),E=new Rn(async()=>{let e=await h.getAccessToken();if(c&&e&&u)try{let e;if(_&&k)e=await x({chainType:"ethereum",walletIndex:0,latestUser:c}),e=await x({chainType:"solana",walletIndex:0,latestUser:e.user});else if(k)e=await x({chainType:"solana",walletIndex:0,latestUser:c});else{if(!_)return void d({shouldCallAuthOnSuccess:m});e=await x({chainType:"ethereum",walletIndex:0,latestUser:c})}b(e),r(Bk)}catch(e){o(e.message)}});return(0,G.useEffect)(()=>l&&c?w?(t({...n,createWallet:{...n.createWallet,shouldCreateEth:_,shouldCreateSol:k},recoverySelection:{...n?.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:_,shouldCreateSol:k}}),r(He({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:s.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void E.execute():(r(VQ),void f(Error("User must be authenticated before creating a Privy wallet"))),[w,l]),i.current=()=>null,a?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!1}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($o,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Something went wrong",description:a})]}),(0,H.jsx)(LG,{onClick:()=>{v?(p(v),d({shouldCallAuthOnSuccess:m})):(f(new d$("User wallet creation failed")),d({shouldCallAuthOnSuccess:!1}))},children:"Close"}),(0,H.jsx)(qi,{})]}):(0,H.jsx)(W9,{})}},qi=g4.div.withConfig({displayName:"BottomSpacing",componentId:"sc-d765efce-0"})(["height:44px;"]),qa={component:()=>{let{user:e,logout:t}=u5(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:a}=Ux(),{acceptTerms:o,closePrivyModal:s,createAnalyticsEvent:l}=dH(),c=e=>{e?.preventDefault(),s({shouldCallAuthOnSuccess:!1}),t()};return n.current=c,(0,H.jsx)(qo,{termsAndConditionsUrl:r?.legal.termsAndConditionsUrl,privacyPolicyUrl:r?.legal.privacyPolicyUrl,onAccept:async n=>{n.preventDefault(),await o(),e&&WI(e,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AffirmativeConsentScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),a(qn)):s()},onDecline:c})}},qo=({termsAndConditionsUrl:e,privacyPolicyUrl:t,onAccept:r,onDecline:n})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{closeable:!1}),(0,H.jsx)($a,{width:56,height:56,fill:"var(--privy-color-accent)",style:{margin:"auto"}}),(0,H.jsx)(Lk,{style:{marginTop:24},children:"One last step"}),(0,H.jsx)(LE,{children:"By signing up, you agree to our terms and privacy policy."}),(0,H.jsxs)(U9,{style:{marginTop:24},children:[e&&(0,H.jsxs)(Ln,{target:"_blank",href:e,children:["View Terms ",(0,H.jsx)($i,{style:{marginLeft:"auto"}})]}),t&&(0,H.jsxs)(Ln,{target:"_blank",href:t,children:["View Privacy Policy ",(0,H.jsx)($i,{style:{marginLeft:"auto"}})]})]}),(0,H.jsxs)(qs,{style:{marginTop:24},children:[(0,H.jsx)(LQ,{onClick:n,children:"No thanks"}),(0,H.jsx)(LG,{onClick:r,children:"Accept"})]}),(0,H.jsx)(Ld,{})]}),qs=g4.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-9abb9a03-0"})(["display:flex;gap:10px;"]),ql=({color:e,...t})=>(0,H.jsx)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...t,children:(0,H.jsx)("g",{children:(0,H.jsx)("path",{fill:e||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})}),qc=g4.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),qd=g4.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),qu=g4(_r).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),qh=g4(ql).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]),qp=()=>(0,H.jsx)("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:(0,H.jsx)("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})}),qf=(e,t,r,n,i)=>{for(let a=t;a<t+n;a++)for(let t=r;t<r+i;t++){let r=e?.[t];r&&r[a]&&(r[a]=0)}return e},qm=({x:e,y:t,cellSize:r,bgColor:n,fgColor:i})=>(0,H.jsx)(H.Fragment,{children:[0,1,2].map(a=>(0,H.jsx)("circle",{r:r*(7-2*a)/2,cx:e+7*r/2,cy:t+7*r/2,fill:a%2!=0?n:i},`finder-${e}-${t}-${a}`))}),qg=({cellSize:e,matrixSize:t,bgColor:r,fgColor:n})=>(0,H.jsx)(H.Fragment,{children:[[0,0],[(t-7)*e,0],[0,(t-7)*e]].map(([t,i])=>(0,H.jsx)(qm,{x:t,y:i,cellSize:e,bgColor:r,fgColor:n},`finder-${t}-${i}`))}),qy=({matrix:e,cellSize:t,color:r})=>(0,H.jsx)(H.Fragment,{children:e.map((e,n)=>e.map((e,i)=>e?(0,H.jsx)("rect",{height:t-.4,width:t-.4,x:n*t+.1*t,y:i*t+.1*t,rx:.5*t,ry:.5*t,fill:r},`cell-${n}-${i}`):(0,H.jsx)(G.default.Fragment,{},`circle-${n}-${i}`)))}),qw=({cellSize:e,matrixSize:t,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return(0,H.jsx)(H.Fragment,{});let a=t*(n||.14),o=Math.floor(t/2-a/2),s=Math.floor(t/2+a/2);(s-o)%2!=t%2&&(s+=1);let l=(s-o)*e,c=l-.2*l,d=o*e;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("rect",{x:o*e,y:o*e,width:l,height:l,fill:i}),(0,H.jsx)(r,{x:d+.1*l,y:d+.1*l,height:c,width:c})]})},qv=e=>{var t,r;let n,i,a=e.outputSize,o=(t=e.url,r=e.errorCorrectionLevel,i=qf(i=((e,t)=>{let r=e.slice(0),n=[];for(;r.length;)n.push(r.splice(0,t));return n})(Array.from((n=$E.default.create(t,{errorCorrectionLevel:r}).modules).data),n.size),0,0,7,7),i=qf(i,i.length-7,0,7,7),qf(i,0,i.length-7,7,7)),s=a/o.length,l=function(e,{min:t,max:r}){return Math.min(Math.max(e,t),r)}(2*s,{min:.025*a,max:.036*a});return(0,H.jsxs)("svg",{height:e.outputSize,width:e.outputSize,viewBox:`0 0 ${e.outputSize} ${e.outputSize}`,style:{height:"100%",width:"100%",padding:`${l}px`},children:[(0,H.jsx)(qy,{matrix:o,cellSize:s,color:e.fgColor}),(0,H.jsx)(qg,{cellSize:s,matrixSize:o.length,fgColor:e.fgColor,bgColor:e.bgColor}),(0,H.jsx)(qw,{cellSize:s,element:e.logo?.element,bgColor:e.bgColor,matrixSize:o.length})]})},qb=g4.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],e=>`${e.$size}px`,e=>`${e.$size}px`,e=>e.$bgColor,e=>e.$borderColor),qx=e=>{let{appearance:t}=Uy(),r=e.bgColor||"#FFFFFF",n=e.fgColor||"#000000",i=e.size||160,a="dark"===t.palette.colorScheme?r:n;return(0,H.jsx)(qb,{$size:i,$bgColor:r,$fgColor:n,$borderColor:a,children:(0,H.jsx)(qv,{url:e.url,logo:{element:e.squareLogoElement??qp},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:e.errorCorrectionLevel||"Q"})})},q_=g4.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]),qk=g4.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-6423bc41-0"})(["display:block;position:relative;width:100%;> svg{position:absolute;margin:13px 17px;height:24px;width:24px;color:var(--privy-color-foreground-3);}&& > input{background-color:#f00;font-size:16px;line-height:24px;padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-mdlg);width:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:e})=>e?"none":"0 0 0 1px var(--privy-color-accent-light)"),qE=g4(qk).withConfig({displayName:"EmailUpdateForm",componentId:"sc-6423bc41-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),qC=g4(qk).withConfig({displayName:"EmailInputForm",componentId:"sc-6423bc41-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],e=>e.$stacked?"16px":"88px",({$error:e})=>e?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),qA=g4.div.withConfig({displayName:"InputContainerForm",componentId:"sc-6423bc41-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-mdlg);padding-bottom:5px;}"],q_),qI=g4.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),qS=e=>{let t=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses")?.split(" ").filter(e=>(0,Q.isHex)(e,{strict:!0})).map(e=>(0,J.getAddress)(e));return!!t?.length&&!!e?.linkedAccounts.filter(e=>"wallet"==e.type&&t.includes(e.address)).length},qT=(0,G.createContext)({plugins:{current:{}}}),qP=({children:e})=>{let t=(0,G.useRef)({});return(0,H.jsx)(qT.Provider,{value:{plugins:t},children:e})},qj=()=>{let{plugins:e}=(0,G.useContext)(qT);return(0,G.useCallback)(t=>e.current[t],[e])},qN=Symbol("solana-ledger-plugin"),qO={component:()=>{let{navigate:e,app:t}=Ux(),r=t?.allowlistConfig.errorTitle||"You don't have access to this app",n=t?.allowlistConfig.errorDetail||"Have you been invited?",i=t?.allowlistConfig.errorCtaText||"Try another account";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsxs)(q$,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(WN,{}),(0,H.jsx)(WW,{style:{width:"38px",height:"38px",strokeWidth:"1",stroke:"var(--privy-color-accent)",fill:"var(--privy-color-accent)"}})]})}),(0,H.jsxs)(qR,{children:[(0,H.jsx)("string"==typeof r?"h3":H.Fragment,{children:r}),(0,H.jsx)("string"==typeof n?"p":H.Fragment,{children:n})]}),t?.allowlistConfig.errorCtaLink?(0,H.jsx)(LG,{as:"a",href:t.allowlistConfig.errorCtaLink,children:i}):(0,H.jsx)(LG,{onClick:()=>{e(VQ)},children:i})]})]})}},q$=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-274cb2fe-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-bottom:16px;"]),qR=g4.div.withConfig({displayName:"GappedContainer",componentId:"sc-274cb2fe-1"})(["display:flex;flex-direction:column;gap:8px;"]),qM=({icon:e})=>(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(qU,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{}),"string"==typeof e?(0,H.jsx)("span",{style:{background:`url('${e}')`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"cover"}}):e?(0,H.jsx)(e,{style:{width:"38px",height:"38px"}}):(0,H.jsx)("span",{})]})})}),qU=g4.div.withConfig({displayName:"StackedContainer",componentId:"sc-26c1d9b9-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),qL={component:()=>{let{lastScreen:e,currentScreen:t,data:r,navigateBack:n,navigate:i,setModalData:a}=Ux(),{status:o,token:s,waitForResult:l,reset:c,execute:d}=Mn(),u=(0,G.useRef)([]),h=e=>{u.current=[e,...u.current]},[p,f]=(0,G.useState)(!0);(0,G.useEffect)(()=>(h(setTimeout(f,1e3,!1)),()=>{u.current.forEach(e=>clearTimeout(e)),u.current=[]}),[]);let[m,g]=(0,G.useState)(""),[y,w]=(0,G.useState)("Checking that you are a human..."),[v,b]=(0,G.useState)((0,H.jsx)(LG,{onClick:()=>{},disabled:!0,children:"Continue"})),[x,_]=(0,G.useState)(!1),[k,E]=(0,G.useState)(3),C=r?.captchaModalData,A=async t=>{try{await C?.callback(t),C?.onSuccessNavigateTo&&i(C?.onSuccessNavigateTo,!1)}catch(t){if(t instanceof Mt)return;a({errorModalData:{error:t,previousScreen:e||VQ}}),i(C?.onErrorNavigateTo||Wq,!1)}};(0,G.useEffect)(()=>{"success"===o?h(setTimeout(async()=>{let e=await l();!e||C?.userIntentRequired||A(e)},1e3)):"ready"===o&&h(setTimeout(()=>{"ready"===o&&d()},500))},[o]),(0,G.useEffect)(()=>{if(!p)switch(o){case"success":g("Success!"),w("CAPTCHA passed successfully."),b((0,H.jsx)(LG,{onClick:()=>{_(!0),A(s)},disabled:!C?.userIntentRequired,loading:x,children:C?.userIntentRequired?"Continue":"Continuing..."})),setTimeout(()=>{_(!0),A(s)},2e3);break;case"loading":g(""),w("Checking that you are a human..."),b((0,H.jsx)(LG,{onClick:()=>{},disabled:!0,children:"Continue"}));break;case"error":g("Something went wrong"),k<=0?(w("If you use an adblocker or VPN, try disabling and re-attempting."),b(null)):(w("You did not pass CAPTCHA. Please try again."),b((0,H.jsx)(LG,{onClick:I,children:"Retry"})))}},[o,p,x]);let I=async()=>{if(k<=0)return;E(e=>e-1),c(),d();let e=await l();!e||C?.userIntentRequired||A(e)};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:e&&t!==e?n:void 0}),(0,H.jsxs)(qF,{children:["success"===o?(0,H.jsx)($s,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}):"error"===o?(0,H.jsx)($o,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,H.jsx)(qM,{}),(0,H.jsxs)(FR,{children:[m?(0,H.jsx)("h3",{children:m}):null,(0,H.jsx)("p",{children:y})]}),v]}),(0,H.jsx)(Lu,{})]})}},qF=g4.div.withConfig({displayName:"CaptchaContainer",componentId:"sc-1be5b3b9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),qD=e=>(0,H.jsx)("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...e,children:(0,H.jsx)("g",{children:(0,H.jsx)("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),qB={component:function(){let{data:e,setModalData:t,navigateBack:r,lastScreen:n,navigate:i}=Ux();function a(r){t("wallet"===r?{...e,login:{...e?.login,isSigningInWithLedgerSolana:!1}}:{...e,login:{...e?.login,isSigningInWithLedgerSolana:!0}}),i(q0)}return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:n&&n!==q0?r:void 0}),(0,H.jsxs)(qW,{children:[(0,H.jsxs)(qq,{children:[(0,H.jsx)(MF,{style:{width:"48px",height:"48px"}}),(0,H.jsx)($C,{width:24,height:24}),(0,H.jsx)(qD,{style:{width:"48px",height:"48px"}})]}),(0,H.jsxs)(qz,{children:[(0,H.jsx)(qV,{children:"Phantom supports Ledger"}),(0,H.jsxs)(qH,{children:["Are you using a Ledger hardware wallet?",(0,H.jsx)("br",{}),"Continue to sign with Ledger"]})]}),(0,H.jsxs)(qG,{children:[(0,H.jsx)(LQ,{onClick:()=>a("wallet"),children:"Continue without Ledger"}),(0,H.jsx)(LG,{onClick:()=>a("ledger"),children:"Continue with Ledger"})]})]}),(0,H.jsx)(Ld,{})]})}},qW=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8c598100-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),qq=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-8c598100-1"})(["display:flex;align-items:center;justify-content:center;gap:8px;"]),qz=g4.div.withConfig({displayName:"TextContainer",componentId:"sc-8c598100-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;"]),qV=g4.p.withConfig({displayName:"Title",componentId:"sc-8c598100-3"})(["&&{font-size:18px;font-weight:600;}"]),qH=g4.p.withConfig({displayName:"Subtitle",componentId:"sc-8c598100-4"})(["&&{font-size:14px;}"]),qG=g4.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-8c598100-5"})(["width:100%;display:flex;flex-direction:column;gap:10px;margin-top:24px;"]),qK=({style:e,...t})=>(0,H.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...e},...t,children:(0,H.jsx)("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),qJ={component:()=>{let{navigate:e}=Ux();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsxs)(qY,{children:[(0,H.jsx)(qZ,{children:(0,H.jsx)(qK,{})}),(0,H.jsxs)(qQ,{children:[(0,H.jsx)("h3",{children:"Unable to sign in"}),(0,H.jsx)("p",{children:"This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production."})]}),(0,H.jsx)(LG,{onClick:()=>{e(VQ)},children:"Go back"})]}),(0,H.jsx)(Ld,{})]})}},qY=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-35ceef4d-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;padding-top:8px;padding-bottom:32px;"]),qZ=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-35ceef4d-1"})(["display:flex;align-items:center;justify-content:center;height:72px;aspect-ratio:1;color:var(--privy-color-error);background-color:var(--privy-color-error-light);border-radius:50%;"]),qQ=g4.div.withConfig({displayName:"GappedContainer",componentId:"sc-35ceef4d-2"})(["display:flex;flex-direction:column;gap:8px;"]),qX=e=>e?.privyErrorCode===dN.LINKED_TO_ANOTHER_USER?Mb.ERROR_USER_EXISTS:e instanceof Mv&&!e.details.default?e.details:e instanceof Mm?Mb.ERROR_TIMED_OUT:e instanceof Mg?Mb.ERROR_USER_REJECTED_CONNECTION:e?.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE?Mb.ERROR_USER_LIMIT_REACHED:Mb.ERROR_WALLET_CONNECTION,q0={component:()=>{var e,t;let r,n,[i,a]=(0,G.useState)(!1),[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(void 0),{authenticated:d,logout:u}=u5(),{app:h,navigate:p,navigateBack:f,lastScreen:m,currentScreen:g,setModalData:y,data:w}=Ux(),{getAuthFlow:v,walletConnectionStatus:b,closePrivyModal:x,initLoginWithWallet:_,loginWithWallet:k,updateWallets:E,createAnalyticsEvent:C}=dH(),{walletConnectors:A}=u5(),[I,S]=(0,G.useState)(0),{user:T}=u5(),P=qj(),[j]=(0,G.useState)(T?.linkedAccounts.length||0),[N,O]=(0,G.useState)(""),[$,R]=(0,G.useState)(""),[M,U]=(0,G.useState)(!1),{hasTabbedAway:L}=function(){let[e,t]=(0,G.useState)(!1),r=(0,G.useCallback)(()=>{document.hidden&&t(!0)},[]);return(0,G.useEffect)(()=>(document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)),[r]),{hasTabbedAway:e,reset:()=>t(!1)}}(),{enabled:F,token:D}=Mn(),B=M4(b?.connector?.walletClientType||"unknown"),W=K.isMobile&&"wallet_connect_v2"===b?.connector?.connectorType||K.isMobile&&"coinbase_wallet"===b?.connector?.connectorType||K.isMobile&&"base_account"===b?.connector?.connectorType||K.isMobile&&"injected"===b?.connector?.connectorType&&"phantom"===b?.connector?.walletClientType,q="connected"===b?.status,z="switching_to_supported_chain"===b?.status;(0,G.useEffect)(()=>{let e=v(),t=e instanceof Rz||e instanceof RH?e:void 0;q&&"solana"===b.connector?.chainType&&"phantom"===b.connector?.walletClientType&&P(qN)&&void 0===w?.login?.isSigningInWithLedgerSolana?p(qB,!1):(q&&!t&&(!F||D||d?_(b.connectedWallet,D,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{U(!0)}):(y({captchaModalData:{callback:e=>_(b.connectedWallet,e,w?.login?.disableSignup,w?.login?.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{U(!0)}),userIntentRequired:!1,onSuccessNavigateTo:q0,onErrorNavigateTo:Wq}}),p(qL,!1))),t instanceof RH&&w?.login?.isSigningInWithLedgerSolana&&(t.messageType="transaction"),t&&W&&q&&!t.preparedMessage?t.buildMessage():t&&!W&&q&&(o||(async()=>{s(!0),c(void 0);try{"wallet_connect_v2"===b?.connector?.connectorType&&"metamask"===b?.connector?.walletClientType&&await R2(2500),await J()}catch(e){console.warn("Auto-prompted signature failed",e)}finally{s(!1)}})()))},[I,q,M]),(0,G.useEffect)(()=>{if(T&&i){if(h?.legal.requireUsersAcceptTerms&&!T.hasAcceptedTerms){let e=setTimeout(()=>{p(qa)},900);return()=>clearTimeout(e)}if(WI(T,h.embeddedWallets)){let e=setTimeout(()=>{y({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),C({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"ConnectionStatusScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),p(qn)},900);return()=>clearTimeout(e)}E();let e=setTimeout(()=>x({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(e)}},[T,i]);let V=e=>{if(e?.privyErrorCode!==dN.ALLOWLIST_REJECTED){if(e?.privyErrorCode===dN.USER_LIMIT_REACHED)return console.error(new dM(e).toString()),void p(qJ);if(e?.privyErrorCode!==dN.USER_DOES_NOT_EXIST)return e?.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce?(y({accountTransfer:{nonce:e.data?.data?.nonce,account:v()?.meta.address,displayName:e.data?.data?.account?.displayName,externalWalletMetadata:{walletClientType:v()?.meta.walletClientType,chainId:v()?.meta.chainId,connectorType:v()?.meta.connectorType},linkMethod:v()instanceof Rz?"siwe":"siws",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void p(W4)):void c(qX(e));p(WT)}else p(qO)};async function J(){try{await k(),a(!0)}catch(e){V(e)}finally{s(!1)}}(0,G.useEffect)(()=>{b?.connectError&&V(b?.connectError)},[b]),e=()=>{let e="wallet_connect_v2"===Y&&b?.connector instanceof UE?b.connector.redirectUri:void 0;e&&O(e);let t="wallet_connect_v2"===Y&&b?.connector instanceof UE?b.connector.fallbackUniversalRedirectUri:void 0;t&&R(t)},t=b?.connector instanceof UE&&!N?500:null,r=(0,G.useRef)(()=>{}),(0,G.useEffect)(()=>{r.current=e}),(0,G.useEffect)(()=>{if(null!==t){let e=setInterval(()=>r.current(),t||0);return()=>clearInterval(e)}},[t]);let Y=b?.connector?.connectorType||"injected",Z=b?.connector?.walletClientType||"unknown",Q=B?.metadata?.shortName||B?.name||b?.connector?.walletBranding.name||"Browser Extension",X=B?.image_url?.md||b?.connector?.walletBranding.icon||(e=>(0,H.jsx)(MU,{...e})),ee="Browser Extension"===Q?Q.toLowerCase():Q;n=i?`Successfully connected with ${ee}`:l?l.message:z?"Switching networks":q?o&&W?"Signing":"Sign to verify":`Waiting for ${ee}`;let et="Dont see your wallet? Check your other browser windows.";i?et=j===(T?.linkedAccounts.length||0)?"Wallet was already linked.":"Youre good to go!":I>=2&&l?et="Unable to connect wallet":l?et=l.detail:z?et="Switch your wallet to the requested network.":q&&W?et="Sign the message in your wallet to verify it belongs to you.":"metamask"===Z&&K.isMobile?et="Click continue to open and connect MetaMask.":"metamask"===Z?et="For the best experience, connect only one wallet at a time.":"wallet_connect"===Y?et="Open your mobile wallet app to continue":"coinbase_wallet"===Y?RZ()||(et=qS(T)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):w?.login?.isSigningInWithLedgerSolana&&(et="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let er=A?.walletConnectors?.find(e=>"coinbase_wallet"===e.walletClientType),en="coinbase_wallet"===Z&&(qS(T)||l===Mb.ERROR_USER_EXISTS);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:m&&g!==m?f:void 0}),(0,H.jsxs)(q1,{children:[(0,H.jsx)(q3,{walletLogo:X,success:i,fail:!!l}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:n}),(0,H.jsx)("p",{children:et}),q||!N||L?null:(0,H.jsxs)("p",{children:["Still here?"," ",(0,H.jsx)("a",{href:N,target:"_blank",style:{textDecoration:"underline"},children:"Try connecting again"}),$&&(0,H.jsxs)(H.Fragment,{children:[" ","or"," ",(0,H.jsx)("a",{href:$,target:"_blank",style:{textDecoration:"underline"},children:"use this different link"})]})]})]}),en?(0,H.jsx)(LG,{onClick:()=>er&&er?.disconnect(),disabled:i,children:"Use a different wallet"}):l==Mb.ERROR_USER_EXISTS&&g!==m?(0,H.jsx)(LG,{onClick:f,children:"Use a different wallet"}):q&&!i&&W?(0,H.jsx)(LG,{onClick:()=>{s(!0),J()},disabled:o,children:o?"Signing":"Sign with your wallet"}):!i&&l?.retryable&&I<2?(0,H.jsx)(LG,{onClick:()=>{S(I+1),c(void 0),q?(s(!0),J()):b?.connectRetry()},disabled:!i&&(!l?.retryable||I>=2),children:"Retry"}):i||l?null:(0,H.jsx)(LG,{onClick:()=>{},disabled:!0,children:"Connecting"})]}),(0,H.jsx)(Lu,{})]})}},q1=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-f8d47c4f-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),q2=g4.div.withConfig({displayName:"StackedContainer",componentId:"sc-f8d47c4f-1"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]),q3=e=>{let t=e.walletLogo;return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(q2,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:e.success,fail:e.fail}),"string"==typeof t?(0,H.jsx)("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):(0,H.jsx)(t,{style:{width:"38px",height:"38px"}})]})})})};class q5{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(e=>e.startsWith("eip155:"))}isSol(e){return e.chains.some(e=>e.startsWith("solana:"))}inAllowList(e,t){if(!this.normalizedAllowList||0===this.normalizedAllowList.length||"listing"===t&&this.includeWalletConnect)return!0;let r=q5.normalize(e);return this.normalizedAllowList.some(e=>r===q5.normalize(e))}chainMatches(e){return"ethereum-only"===this.chainFilter?"ethereum"===e:"solana-only"!==this.chainFilter||"solana"===e}connectorOk(e){return!!("null"!==e.connectorType&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||("injected"===e.connectorType||"solana_adapter"===e.connectorType)&&(this.detectedGeneric||"ethereum"===e.chainType&&this.detectedEth||"solana"===e.chainType&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if("ethereum-only"===this.chainFilter){if(!this.isEth(e))return!1}else if("solana-only"===this.chainFilter&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,t){let r=new Map,n=e=>{let t=r.get(e.id);if(t){t.chainType!==e.chainType&&(t.chainType="multi");let r=new Set(t.chains);e.chains.forEach(e=>r.add(e)),t.chains=Array.from(r),!t.icon&&e.icon&&(t.icon=e.icon),!t.url&&e.url&&(t.url=e.url),!t.listing&&e.listing&&(t.listing=e.listing)}else r.set(e.id,e)};e.filter(e=>this.connectorOk(e)).forEach(e=>{let t=q5.normalize(e.walletClientType);n({id:t,label:e.walletBranding?.name??t,source:"connector",connector:e,chainType:e.chainType,icon:"string"==typeof e.walletBranding?.icon?e.walletBranding.icon:void 0,url:void 0,chains:["ethereum"===e.chainType?"eip155":"solana"]})}),t.filter(e=>this.listingOk(e)).forEach(e=>{let t=this.isEth(e),r=this.isSol(e),i=q5.normalize(e.slug);n({id:i,label:e.name||i,source:"listing",listing:e,chainType:t&&r?"multi":t?"ethereum":"solana",icon:e.image_url?.sm,url:e.homepage,chains:e.chains})});let i=e.find(e=>"wallet_connect_v2"===e.connectorType);this.includeWalletConnectQr&&i&&n({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:i,chainType:"ethereum",icon:Uk,url:void 0,chains:["ethereum"===i.chainType?"eip155":"solana"]});let a=Array.from(r.values()),o=new Map;return this.normalizedAllowList?.forEach((e,t)=>{o.set(q5.normalize(e),t)}),{wallets:a.slice().sort((e,t)=>{let r=q5.normalize(e.id),n=q5.normalize(t.id);"binance-defi"===r?r="binance":"universalprofiles"===r?r="universal_profile":"cryptocom-defi"===r&&(r="cryptocom"),"binance-defi"===n?n="binance":"universalprofiles"===n?n="universal_profile":"cryptocom-defi"===n&&(n="cryptocom");let i=o.has(r),a=o.has(n);return i&&a?o.get(r)-o.get(n):i?-1:a?1:"connector"===e.source&&"listing"===t.source?-1:"listing"===e.source&&"connector"===t.source?1:e.label.toLowerCase().localeCompare(t.label.toLowerCase())}),walletCount:a.length}}constructor(e,t){this.chainFilter=e,t&&t.length>0&&(this.normalizedAllowList=t.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedGeneric=this.normalizedAllowList?.includes("detected_wallets")??!1,this.detectedEth=this.normalizedAllowList?.includes("detected_ethereum_wallets")??!1,this.detectedSol=this.normalizedAllowList?.includes("detected_solana_wallets")??!1,this.includeWalletConnect=this.normalizedAllowList?.includes("wallet_connect")??!1,this.includeWalletConnectQr=this.normalizedAllowList?.includes("wallet_connect_qr")??!1}}let q4=({...e})=>(0,H.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,H.jsx)("path",{d:"M4 12L12 4M4 4L12 12",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),q6={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}}};var q8=e=>(0,H.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),(0,H.jsx)("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),(0,H.jsx)("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),(0,H.jsx)("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),(0,H.jsx)("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),(0,H.jsx)("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),(0,H.jsx)("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),q9=e=>(0,H.jsxs)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsxs)("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#9945ff"}),(0,H.jsx)("stop",{offset:".2",stopColor:"#7962e7"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#00d18c"})]}),(0,H.jsx)("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),(0,H.jsx)("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});let q7=g4.div.withConfig({displayName:"Header",componentId:"sc-5622aaf1-0"})(["display:flex;justify-content:space-between;align-items:center;"]),ze=g4.button.withConfig({displayName:"CloseButton",componentId:"sc-5622aaf1-1"})(["padding:0.25rem;height:30px;width:30px;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background:var(--privy-color-background-2);"]),zt=g4.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-5622aaf1-2"})(["position:relative;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-success);position:absolute;right:-3px;bottom:-3px;}"]),zr=g4.img.withConfig({displayName:"WalletIcon",componentId:"sc-5622aaf1-3"})(["width:1.5rem;height:1.5rem;border-radius:0.25rem;object-fit:contain;"]),zn=g4.span.withConfig({displayName:"Chip",componentId:"sc-5622aaf1-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-3);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),zi=g4.div.withConfig({displayName:"ScrollContainer",componentId:"sc-5622aaf1-5"})(["display:flex;flex-direction:column;gap:0.5rem;max-height:24rem;overflow-y:scroll;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],e=>"light"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":"dark"===e.$colorScheme?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),za=(0,yB.create)(()=>({isModalOpen:!1,resolvers:null})),zo=(0,yB.create)(()=>({})),zs=async()=>{let e,t,r=new Promise((r,n)=>{e=r,t=n});return zo.setState({}),za.setState({isModalOpen:!0,resolvers:{resolve:e,reject:t}}),await r},zl=({address:e,client:t,appId:r})=>{let n=`${t}:${e}`;r&&$4.put(zc(r),n),za.setState({wallet:n})},zc=e=>`privy:${e}:active-wallet-connection`;function zd({walletList:e,walletChainType:t}){let r=Uy(),{connectors:n}=dH(),i=M2(e=>e.listings),a=t??r.appearance.walletChainType,o=e??r.appearance?.walletList,s=(0,G.useMemo)(()=>new q5(a,o),[a,o]),{wallets:l,walletCount:c}=(0,G.useMemo)(()=>s.getWallets(n,i),[s,n,i]),[d,u]=(0,G.useState)(""),h=(0,G.useMemo)(()=>d?l.filter(e=>e.label.toLowerCase().includes(d.toLowerCase())):l,[d,l]),[p,f]=(0,G.useState)();return{selected:p,setSelected:f,search:d,setSearch:u,wallets:h,walletCount:c}}let zu=e=>!e||"string"!=typeof e&&(e instanceof MM||e instanceof M1),zh=({index:e,style:t,data:r,recent:n})=>{let i=r.wallets[e],{walletChainType:a,handleWalletClick:o}=r,s={...t,boxSizing:"border-box"};return i?(0,H.jsxs)(zf,{style:s,onClick:()=>o(i),children:[i.icon&&(i.connector&&!zu(i.connector)?(0,H.jsx)(zt,{children:(0,H.jsx)(zr,{src:i.icon})}):(0,H.jsx)(zr,{src:i.icon})),(0,H.jsx)(zv,{children:i.label}),n?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(zm,{children:(0,H.jsxs)(H.Fragment,{children:["ethereum-only"===a&&(0,H.jsx)(q8,{}),"solana-only"===a&&(0,H.jsx)(q9,{})]})}),(0,H.jsx)(zn,{children:"Recent"})]}):(0,H.jsx)(zm,{children:"ethereum-only"!==a&&"solana-only"!==a&&(0,H.jsxs)(H.Fragment,{children:[i.chains?.some(e=>e.startsWith("eip155"))&&(0,H.jsx)(q8,{}),i.chains?.some(e=>e.startsWith("solana"))&&(0,H.jsx)(q9,{})]})})]}):null};var zp=({showHeader:e=!0,className:t,suggestedAddress:r,customDescription:n,connectOnly:i,preSelectedWalletId:a,...o})=>{let s=Uy(),{connectors:l}=dH(),c=o.walletChainType||s.appearance.walletChainType,d=o.walletList||s.appearance?.walletList,{onBack:u,onClose:h,app:p}=o,{selected:f,setSelected:m,qrUrl:g,setQrUrl:y,connecting:w,uiState:v,wallets:b,handleConnect:x,handleBack:_,showSearchBar:k,isInitialConnectView:E,title:C,search:A,setSearch:I}=function({onConnect:e,onBack:t,onClose:r,onConnectError:n,walletList:i,walletChainType:a,app:o}){let s=Uy(),{connectors:l}=dH(),{wallets:c,walletCount:d,search:u,setSearch:h,selected:p,setSelected:f}=zd({walletList:i,walletChainType:a}),[m,g]=(0,G.useState)(),[y,w]=(0,G.useState)(),[v,b]=(0,G.useState)(),x=!p&&!y&&!v,_=x&&(d>6||u.length>0),k=l.find(e=>"wallet_connect_v2"===e.connectorType),E=(0,G.useCallback)(async(t,r)=>{if(t){if(g("loading"),"string"==typeof t)return b({connector:t,name:r?.name??"Wallet",icon:r?.icon}),void window.open(t,"_blank");b({connector:t,name:r?.name??t.walletBranding.name??"Wallet",icon:r?.icon??t.walletBranding.icon});try{let r=await t.connect({showPrompt:!0});if(!r)return g("error"),void n?.(new dT("Unable to connect wallet"));g("success"),zl({address:r.address,client:r.walletClientType,appId:s.id}),setTimeout(()=>{e({connector:t,wallet:r})},1400)}catch(e){g("error"),n?.(new dT("Unable to connect wallet"))}}},[s.id,e]),C=(0,G.useCallback)(()=>y?(g(void 0),b(void 0),void w(void 0)):v?(g(void 0),void b(void 0)):p?(g(void 0),b(void 0),void f(void 0)):"error"===m||"loading"===m?(g(void 0),void b(void 0)):void t?.(),[y,v,p,m,t]),A=(0,G.useMemo)(()=>v?.connector===k&&y&&K.isMobile?`Go to ${v.name} to continue`:v?.connector===k&&y?`Scan code to connect to ${v.name}`:"string"==typeof v?.connector?`Open or install ${v.name}`:p&&!v?"Select network":v?null:"Connect wallet",[v,y,p,k]);return{selected:p,setSelected:f,qrUrl:y,setQrUrl:w,connecting:v,uiState:m,search:u,setSearch:h,wallets:c,walletCount:d,wc:k,isInitialConnectView:x,showSearchBar:_,title:A,handleConnect:E,handleBack:C,onClose:r,onConnect:e,app:o}}({...o,walletList:d,walletChainType:c}),S=l.find(e=>"wallet_connect_v2"===e.connectorType),T=b.length>0,P=(0,G.useRef)(null),j=function(e){let t=G.useReducer(()=>({}),{})[1],r={...e,onChange:(r,n)=>{var i;n?(0,vz.flushSync)(t):t(),null==(i=e.onChange)||i.call(e,r,n)}},[n]=G.useState(()=>new $x(r));return n.setOptions(r),$k(()=>n._didMount(),[]),$k(()=>n._willUpdate()),n}({observeElementRect:$m,observeElementOffset:$w,scrollToFn:$b,...{count:b.length,getScrollElement:()=>P.current,estimateSize:()=>54,overscan:6,gap:5}}),N=(0,G.useCallback)(async e=>{let t,r="solana-only"!==c&&e.chains?.some(e=>e.startsWith("eip155")),n="ethereum-only"!==c&&e.chains?.some(e=>e.startsWith("solana")),a=MG[e.id];if(n&&a)t=a.getMobileRedirect({isSolana:!0,connectOnly:!!i,useUniversalLink:!1});else{let r=e.listing?.mobile?.native;t=e.listing?.mobile?.universal||r||e.url}if(r&&n){let r=q5.normalize(e.id),n=l.filter(e=>q5.normalize(e.walletClientType)===r&&!("ethereum"===e.chainType&&e instanceof MM||"solana"===e.chainType&&e instanceof M1)),i=n.find(e=>"ethereum"===e.chainType),a=n.find(e=>"solana"===e.chainType);if(!i&&e.listing){let t=q6[e.listing.slug]?{...e.listing,...q6[e.listing.slug]}:e.listing;S.setWalletEntry(t,y),await S.resetConnection(e.id),i=S}if(!a&&t&&(a=t),i||a)return void m({eth:i,sol:a,name:e.label,icon:e.icon})}if(!zu(e.connector))return"wallet_connect_v2"===e.connector?.connectorType&&(await S.resetConnection(e.id),S.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},y)),void await x(e.connector,{name:e.label,icon:e.icon});if(r||n||e.url||e.listing){if(r&&e.listing){let t=q6[e.listing.slug]?{...e.listing,...q6[e.listing.slug]}:e.listing;S.setWalletEntry(t,y),await S.resetConnection(e.id)}if(r&&n)return void m({eth:S,sol:t,name:e.label,icon:e.icon});if(n)return void await x(t,{name:e.label,icon:e.icon});if(r)return void(e.listing?await x(S,{name:e.label,icon:e.icon}):e.url?await x(e.url,{name:e.label,icon:e.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",e.label));if(e.url)return void await x(e.url,{name:e.label,icon:e.icon})}},[S,x,m,y,_,h,p,E,C,n,r,s,l]),O=a?u:_;return(0,G.useEffect)(()=>{if(!a)return;let e=b.find(({id:e})=>e===a);e&&N(e).catch(console.error)},[a]),(0,H.jsxs)("div",{className:t,children:[e&&(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(q7,{children:[u||!E?(0,H.jsx)(ze,{onClick:O,children:(0,H.jsx)(yR,{height:"1rem",width:"1rem",strokeWidth:1.5})}):(0,H.jsx)("div",{}),(0,H.jsx)(ze,{onClick:h,children:(0,H.jsx)(q4,{})})]})}),(0,H.jsx)(zb,{title:e&&C||"",description:w&&!g&&"string"==typeof w.connector?`To connect to ${w.name}, install and open the app. Then confirm the connection when prompted.`:E?n??(r?(0,H.jsxs)("span",{children:["Connect the wallet with address ",(0,H.jsx)(DJ,{address:r})," ",p?.name?`to ${p.name}.`:"."]}):p?`Connect a wallet to your ${p.name} account`:null):null}),k&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(qE,{style:{marginTop:"0.5rem",background:"transparent"},children:[(0,H.jsx)($l,{}),(0,H.jsx)("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:e=>I(e.target.value),value:A})]}),(0,H.jsx)(zy,{})]}),(0,H.jsxs)(zi,{ref:P,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:g?"0.5rem":void 0},children:[g&&(0,H.jsxs)(H.Fragment,{children:[K.isMobile?(0,H.jsxs)(zg,{children:[w?.icon?(0,H.jsx)(q3,{walletLogo:w.icon,success:"success"===v,fail:"error"===v}):null,(0,H.jsxs)("h3",{children:["Waiting for ",w?.name??"connection"]})]}):(0,H.jsx)(qx,{size:280,url:g.universal??g.native,squareLogoElement:w?.icon?"string"==typeof w.icon?e=>(0,H.jsx)("svg",{...e,children:(0,H.jsx)("image",{href:w.icon,height:e.height,width:e.width})}):w.icon:U_}),K.isMobile&&"loading"===v&&(0,H.jsx)(LG,{style:{marginTop:"0.5rem"},onClick:()=>window.open(g.universal??g.native,"_blank"),children:"Open in app"}),!K.isMobile&&"loading"===v&&(0,H.jsx)(zx,{value:g.universal??g.native,iconOnly:!0,children:"Copy link"})]}),w&&!g&&"string"!=typeof w.connector&&(0,H.jsxs)(zg,{children:[w.icon?(0,H.jsx)(q3,{walletLogo:w.icon,success:"success"===v,fail:"error"===v}):null,(0,H.jsxs)("h3",{children:["Waiting for ",w.name]}),(0,H.jsx)(qI,{children:"error"===v?"Please try connecting again.":"For the best experience, connect only one wallet at a time."}),"error"===v&&(0,H.jsx)(LG,{style:{marginTop:"1.5rem"},onClick:()=>x(w.connector,{name:w.name,icon:w.icon}),children:"Retry"})]}),w&&!g&&"string"==typeof w.connector&&(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(zf,{onClick:()=>window.open(w.connector,"_blank"),children:[w.icon&&("string"==typeof w.icon?(0,H.jsx)(zr,{src:w.icon}):(0,H.jsx)(w.icon,{})),(0,H.jsx)(zv,{children:w.name})]})}),f?.eth&&!w&&(0,H.jsxs)(zf,{onClick:()=>x(f.eth,{name:f.name,icon:f.icon}),children:[f.icon&&("string"==typeof f.icon?(0,H.jsx)(zr,{src:f.icon}):(0,H.jsx)(f.icon,{})),(0,H.jsx)(zv,{children:f.name}),(0,H.jsx)(zm,{children:(0,H.jsx)(q8,{})})]}),f?.sol&&!w&&(0,H.jsxs)(zf,{onClick:()=>x(f.sol,{name:f.name,icon:f.icon}),children:[f.icon&&("string"==typeof f.icon?(0,H.jsx)(zr,{src:f.icon}):(0,H.jsx)(f.icon,{})),(0,H.jsx)(zv,{children:f.name}),(0,H.jsx)(zm,{children:(0,H.jsx)(q9,{})})]}),E&&(0,H.jsxs)(H.Fragment,{children:[!T&&(0,H.jsx)(zw,{children:"No wallets found. Try another search."}),b.length>0&&(0,H.jsx)("div",{style:{maxHeight:54*Math.min(b.length+1,5),width:"100%"},children:(0,H.jsx)("div",{style:{height:`${j.getTotalSize()}px`,width:"100%",position:"relative"},children:j.getVirtualItems().map(e=>(0,H.jsx)(zh,{index:e.index,style:{position:"absolute",top:0,left:0,height:`${e.size}px`,transform:`translateY(${e.start}px)`},data:{wallets:b,walletChainType:c,handleWalletClick:N}},e.key))})})]})]})]})};let zf=g4.button.withConfig({displayName:"Button",componentId:"sc-50b42a65-0"})(["button&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-mdlg);margin:0 2px;padding:1em;border:1px solid var(--privy-color-foreground-4);}svg{stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}&:hover{background:var(--privy-color-background-2);}"]),zm=g4.span.withConfig({displayName:"ButtonBadge",componentId:"sc-50b42a65-1"})(["display:flex;align-items:center;justify-content:end;margin-left:auto;position:relative;& > svg{border-radius:var(--privy-border-radius-full);}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),zg=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-50b42a65-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;h3{margin-top:1.5rem;font-size:1rem;font-weight:500;line-height:1.5rem;}"]),zy=g4.div.withConfig({displayName:"SearchDivider",componentId:"sc-50b42a65-3"})(["width:100%;height:0.5rem;"]),zw=g4.div.withConfig({displayName:"EmptyContainer",componentId:"sc-50b42a65-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),zv=g4.span.withConfig({displayName:"WalletName",componentId:"sc-50b42a65-5"})(["text-overflow:ellipsis;white-space:nowrap;"]),zb=g4(Bh).withConfig({displayName:"StyledCenteredScreenHeader",componentId:"sc-50b42a65-6"})(["gap:8px;margin-bottom:8px;h3{margin-bottom:0;}"]),zx=g4(function({children:e,iconOnly:t,value:r,hideCopyIcon:n,...i}){let[a,o]=(0,G.useState)(!1);return(0,H.jsxs)(qc,{...i,onClick:()=>{navigator.clipboard.writeText(r||e).catch(console.error),o(!0),setTimeout(()=>o(!1),1500)},children:[e," ",a?(0,H.jsxs)(qd,{children:[(0,H.jsx)(qu,{})," ",!t&&"Copied"]}):!n&&(0,H.jsx)(qh,{})]})}).withConfig({displayName:"StyledCopyableText",componentId:"sc-50b42a65-7"})(["&&{margin:0.5rem auto 0 auto;}"]),z_=({...e})=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...e,children:[(0,H.jsxs)("g",{clipPath:"url(#clip0_2856_1743)",children:[(0,H.jsx)("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,H.jsx)("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0_2856_1743",children:(0,H.jsx)("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),zk={component:()=>{let{setWalletConnectionStatus:e,closePrivyModal:t,inProgressAuthFlowRef:r}=dH(),{app:n,data:i,navigate:a}=Ux(),o=U4(),s=i?.externalConnectWallet?.description,l=(0,G.useRef)(i?.externalConnectWallet?.suggestedAddress).current,c=(0,G.useRef)(i?.externalConnectWallet?.walletList??n.appearance.walletList),d=(0,G.useRef)(i?.externalConnectWallet?.walletChainType??n.appearance.walletChainType),u=c.current,h=d.current,p="link"===r.current?void 0:()=>a(VQ);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(zE,{walletList:u,walletChainType:h,onClose:t,onConnect:(0,G.useCallback)(({connector:t,wallet:r})=>{o("connectWallet","onSuccess",{wallet:r}),e({status:"connected",connectedWallet:r,connector:t,connectError:null,connectRetry:()=>null}),a(q0,!i?.externalConnectWallet?.preSelectedWalletId)},[e,a,i?.externalConnectWallet?.preSelectedWalletId]),onConnectError:e=>{e instanceof dC?(console.warn(e.cause?e.cause:e.message),o("connectWallet","onError",e.privyErrorCode||dN.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),o("connectWallet","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:p,suggestedAddress:l,customDescription:s||"",preSelectedWalletId:i?.externalConnectWallet?.preSelectedWalletId,app:n}),n&&(0,H.jsx)(Lc,{app:n}),(0,H.jsx)(Ld,{})]})},isUnauthenticatedScreem:!0},zE=g4(zp).withConfig({displayName:"StyledConnectWalletView",componentId:"sc-979fd6b6-0"})(["padding:0;padding-top:1em;"]),zC={component:()=>{let{closePrivyModal:e}=dH(),{app:t,data:r}=Ux(),n=U4(),i=r?.externalConnectWallet?.description,a=(0,G.useRef)(r?.externalConnectWallet?.suggestedAddress).current,o=(0,G.useRef)(r?.externalConnectWallet?.walletList??t.appearance.walletList),s=(0,G.useRef)(r?.externalConnectWallet?.walletChainType??t.appearance.walletChainType);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(zA,{connectOnly:!0,walletList:o.current,walletChainType:s.current,onClose:()=>{n("connectWallet","onError",dN.GENERIC_CONNECT_WALLET_ERROR),e().catch(console.error)},onConnect:({wallet:t})=>{n("connectWallet","onSuccess",{wallet:t}),e().catch(console.error)},onConnectError:e=>{e instanceof dC?(console.warn(e.cause?e.cause:e.message),n("connectWallet","onError",e.privyErrorCode||dN.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),n("connectWallet","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR))},suggestedAddress:a,customDescription:i,app:t}),t&&(0,H.jsx)(Lc,{app:t,alwaysShowImplicitConsent:!0}),(0,H.jsx)(Ld,{})]})},isUnauthenticatedScreem:!0},zA=g4(zp).withConfig({displayName:"StyledConnectWalletView",componentId:"sc-6059beb7-0"})(["padding:0;padding-top:1em;"]),zI=({chainType:e,withPadding:t})=>{let r="";return r="ethereum-only"===e||"ethereum-and-solana"===e?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",(0,H.jsx)(La,{$withPadding:t,children:(0,H.jsxs)(Lo,{children:[(0,H.jsx)(yM,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),(0,H.jsx)("h3",{children:"No wallets available"}),(0,H.jsxs)("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")},zS=g9(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]),zT=g5(["",""],e=>e.$isLoading?g5(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],zS):""),zP=({children:e,color:t,isLoading:r,isPulsing:n,...i})=>(0,H.jsx)(zj,{$color:t,$isLoading:r,$isPulsing:n,...i,children:e}),zj=g4.span.withConfig({displayName:"StyledSpan",componentId:"sc-eba15c9-0"})(["padding:0.125rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);display:flex;align-items:center;"," ",""],e=>{let t,r;"green"===e.$color&&(t="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),"red"===e.$color&&(t="var(--privy-color-error)",r="var(--privy-color-error-light)"),"gray"===e.$color&&(t="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=g9(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return g5(["color:",";background-color:",";",";"],t,r,e.$isPulsing&&g5(["animation:"," 3s linear infinite;"],n))},zT),zN=({style:e,...t})=>(0,H.jsxs)("svg",{width:"1000",height:"1000",viewBox:"0 0 1000 1000",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...e},...t,children:[(0,H.jsx)("rect",{width:"1000",height:"1000",rx:"200",fill:"#855DCD"}),(0,H.jsx)("path",{d:"M257.778 155.556H742.222V844.444H671.111V528.889H670.414C662.554 441.677 589.258 373.333 500 373.333C410.742 373.333 337.446 441.677 329.586 528.889H328.889V844.444H257.778V155.556Z",fill:"white"}),(0,H.jsx)("path",{d:"M128.889 253.333L157.778 351.111H182.222V746.667C169.949 746.667 160 756.616 160 768.889V795.556H155.556C143.283 795.556 133.333 805.505 133.333 817.778V844.444H382.222V817.778C382.222 805.505 372.273 795.556 360 795.556H355.556V768.889C355.556 756.616 345.606 746.667 333.333 746.667H306.667V253.333H128.889Z",fill:"white"}),(0,H.jsx)("path",{d:"M675.556 746.667C663.283 746.667 653.333 756.616 653.333 768.889V795.556H648.889C636.616 795.556 626.667 805.505 626.667 817.778V844.444H875.556V817.778C875.556 805.505 865.606 795.556 853.333 795.556H848.889V768.889C848.889 756.616 838.94 746.667 826.667 746.667V351.111H851.111L880 253.333H702.222V746.667H675.556Z",fill:"white"})]}),zO=({style:e,color:t,...r})=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:t||"currentColor",style:{height:"1.5rem",width:"1.5rem",...e},...r,children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),z$=e=>{let[t,r]=(0,G.useState)(!1);return(0,H.jsxs)(zR,{color:e.color,onClick:()=>{r(!0),navigator.clipboard.writeText(e.text),setTimeout(()=>r(!1),1500)},$justCopied:t,children:[t?(0,H.jsx)(zO,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):(0,H.jsx)(ql,{style:{height:"14px",width:"14px"}}),t?"Copied":"Copy"," ",e.itemName?e.itemName:"to Clipboard"]})},zR=g4.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.$justCopied?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.$justCopied?"medium":"normal",e=>e.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"),zM=e=>{let[t,r]=(0,G.useState)(!1);return(0,H.jsx)(zU,{color:e.color,href:e.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:t,children:e.text})},zU=g4.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],e=>e.justOpened?"var(--privy-color-foreground)":e.color||"var(--privy-color-foreground-3)",e=>e.justOpened?"medium":"normal",e=>e.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)"),zL="#8a63d2",zF={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=u5(),{lastScreen:i,navigate:a,navigateBack:o,setModalData:s,app:l}=Ux(),{getAuthFlow:c,loginWithFarcaster:d,closePrivyModal:u,createAnalyticsEvent:h}=dH(),[p,f]=(0,G.useState)(void 0),[m,g]=(0,G.useState)(!1),[y,w]=(0,G.useState)(!1),v=(0,G.useRef)([]),b=c(),x=b?.meta.connectUri;return(0,G.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{let r=await b.pollForReady.execute(),n=Date.now()-e;if(r){clearInterval(t),g(!0);try{await d(),w(!0)}catch(t){let e={retryable:!1,message:"Authentication failed"};if(t?.privyErrorCode===dN.ALLOWLIST_REJECTED)return void a(qO);if(t?.privyErrorCode===dN.USER_LIMIT_REACHED)return console.error(new dM(t).toString()),void a(qJ);if(t?.privyErrorCode===dN.USER_DOES_NOT_EXIST)return void a(WT);if(t?.privyErrorCode===dN.LINKED_TO_ANOTHER_USER)e.detail=t.message??"This account has already been linked to another user.";else{if(t?.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&t.data?.data?.nonce)return s({accountTransfer:{nonce:t.data?.data?.nonce,account:t.data?.data?.subject,displayName:t.data?.data?.account?.displayName,linkMethod:"farcaster",embeddedWalletAddress:t.data?.data?.otherUser?.embeddedWalletAddress,farcasterEmbeddedAddress:t.data?.data?.otherUser?.farcasterEmbeddedAddress}}),void a(W4);t?.privyErrorCode===dN.INVALID_CREDENTIALS?(e.retryable=!0,e.detail="Something went wrong. Try again."):t?.privyErrorCode===dN.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again.")}f(e)}}else n>12e4&&(clearInterval(t),f({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(t),v.current.forEach(e=>clearTimeout(e))}},[]),(0,G.useEffect)(()=>{if(r&&e&&y&&n){if(l?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{a(qa)},1400);return()=>clearTimeout(e)}y&&(WI(n,l.embeddedWallets)?v.current.push(setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"FarcasterConnectStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),a(qn)},1400)):v.current.push(setTimeout(()=>u({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400)))}},[y,r,e,n]),(0,H.jsxs)(H.Fragment,K.isMobile||m?{children:[(0,H.jsx)(Lm,{backFn:i?o:void 0,onClose:u},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(H.Fragment,K.isIOS?{children:(0,H.jsxs)(zB,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:y,fail:!!p}),(0,H.jsx)(zN,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)(Lk,{children:p?p.message:"Sign in with Farcaster"}),(0,H.jsx)(LE,{children:p?p.detail:"To sign in with Farcaster, please open the Farcaster app."})]}),x&&(0,H.jsx)(LG,{onClick:e=>{e.preventDefault(),window.location.href=x},children:"Open Farcaster app"})]})}:{children:(0,H.jsxs)(zD,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:y,fail:!!p}),(0,H.jsx)(zN,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)(Lk,{children:p?p.message:"Signing in with Farcaster"}),(0,H.jsx)(LE,{children:p?p.detail:"This should only take a moment"}),(0,H.jsx)(FP,{children:x&&K.isMobile&&(0,H.jsx)(zM,{text:"Take me to Farcaster",url:x,color:zL})})]})]})}),(0,H.jsx)(Lu,{})]}:{children:[(0,H.jsx)(Lm,{backFn:i?o:void 0,onClose:u},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(zD,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(Lk,{children:"Sign in with Farcaster"}),(0,H.jsx)(LE,{children:"Scan with your phone's camera to continue."}),(0,H.jsx)(FN,{children:x?(0,H.jsx)(qx,{url:x,size:275,squareLogoElement:zN}):(0,H.jsx)(LW,{})}),(0,H.jsxs)(FP,{children:[(0,H.jsx)(LE,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),x&&(0,H.jsx)(z$,{text:x,itemName:"link",color:zL})]})]})}),(0,H.jsx)(Lu,{})]})}},zD=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-fb1f34c9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),zB=g4.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-fb1f34c9-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),zW=()=>{let[e,t]=(0,G.useState)(!1),{currentScreen:r,navigate:n,setModalData:i,data:a}=Ux(),{enabled:o,token:s}=Mn(),{initLoginWithFarcaster:l}=dH(),{accountType:c}=Wy();return(0,H.jsxs)(Lr,{onClick:async()=>{t(!0);try{o&&!s?(i({captchaModalData:{callback:e=>l(e,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:zF,onErrorNavigateTo:Wq}}),n(qL)):(await l(s,a?.login?.disableSignup),n(zF))}catch(e){i({errorModalData:{error:e,previousScreen:r||VQ}}),n(Wq)}finally{t(!1)}},disabled:!1,children:[(0,H.jsx)(zN,{})," Farcaster",e&&(0,H.jsx)(Lz,{}),"farcaster"===c&&(0,H.jsx)(zq,{color:"gray",children:"Recent"})]})},zq=g4(zP).withConfig({displayName:"StyledChip",componentId:"sc-30c9632d-0"})(["margin-left:auto;"]),zz=({style:e,...t})=>(0,H.jsxs)("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...e},xmlns:"http://www.w3.org/2000/svg",...t,children:[(0,H.jsxs)("g",{clipPath:"url(#clip0_113_33841)",children:[(0,H.jsx)("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),(0,H.jsx)("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),(0,H.jsx)("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),(0,H.jsx)("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),(0,H.jsx)("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),(0,H.jsx)("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),(0,H.jsx)("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),(0,H.jsx)("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),(0,H.jsx)("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),(0,H.jsx)("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),(0,H.jsx)("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),(0,H.jsx)("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),(0,H.jsx)("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),(0,H.jsx)("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),(0,H.jsx)("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),(0,H.jsx)("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),(0,H.jsx)("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),(0,H.jsx)("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),(0,H.jsx)("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),(0,H.jsx)("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),(0,H.jsx)("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),(0,H.jsx)("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0_113_33841",children:(0,H.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),zV={component:()=>{let{app:e,lastScreen:t,currentScreen:r,navigateBack:n,data:i,setModalData:a,navigate:o}=Ux(),{loginWithPasskey:s,signupWithPasskey:l,closePrivyModal:c,createAnalyticsEvent:d}=dH(),{user:u,logout:h}=u5(),{passkeySignupFlow:p}=i?.passkeyAuthModalData??{},[f,m]=(0,G.useState)("loading"),[g,y]=(0,G.useState)(null),w=(0,G.useRef)([]),v=e=>{w.current=[e,...w.current]};(0,G.useEffect)(()=>()=>{w.current.forEach(e=>clearTimeout(e)),w.current=[]},[]);let b=async()=>{m("loading");try{p?await l():await s(),m("success")}catch(e){y(e),m("error")}};return(0,G.useEffect)(()=>{if("success"===f&&u){if(e?.legal.requireUsersAcceptTerms&&!u.hasAcceptedTerms)return void v(setTimeout(()=>{o(qa)},900));if(!WI(u,e?.embeddedWallets))return void v(setTimeout(()=>{c({shouldCallAuthOnSuccess:!0,isSuccess:!0})},1400));v(setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),d({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"PasskeyStatusScreen"}}),h()},callAuthOnSuccessOnClose:!0}}),o(qn)},900))}},[u,f]),(0,G.useEffect)(()=>{b()},[]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:t&&r!==t?n:void 0}),(0,H.jsxs)(zH,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:"success"===f,fail:"error"===f}),(0,H.jsx)(zz,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:(()=>{switch(f){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})()}),(0,H.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:(()=>{switch(f){case"loading":return p?"Please follow prompts to register your passkey.":"Please follow prompts to verify your passkey.\nYou will have to sign up with another method first to register a passkey for your account.";case"success":return"You've successfully logged in with your passkey.";case"error":if(g instanceof dC){if(g.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(g.privyErrorCode===dN.PASSKEY_NOT_ALLOWED)return"Passkey request timed out or rejected by user.\nYou will have to sign up with another method first to register a passkey for your account."}return"An unknown error occurred.\nYou will have to sign up with another method first to register a passkey for your account."}})()})]}),(()=>{switch(f){case"loading":case"success":return(0,H.jsx)(LG,{onClick:()=>{},disabled:!0,children:"Continue"});case"error":return(0,H.jsx)(LG,{onClick:b,disabled:!1,children:"Retry"})}})()]}),(0,H.jsx)(Lu,{})]})}},zH=g4.div.withConfig({displayName:"Container",componentId:"sc-46c03a59-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),zG={component:()=>{let{enabled:e,token:t}=Mn(),{lastScreen:r,currentScreen:n,navigateBack:i,navigate:a,setModalData:o}=Ux(),{initSignupWithPasskey:s,initLoginWithPasskey:l}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:r&&n!==r?i:void 0}),(0,H.jsx)(L_,{children:(0,H.jsxs)(zK,{children:[(0,H.jsx)(Du,{}),(0,H.jsx)(zz,{})]})}),(0,H.jsx)(Lk,{children:"Log in or create a new account?"}),(0,H.jsx)(LE,{children:"Create a new account with a passkey or use a passkey to log in to an existing account."}),(0,H.jsxs)(LT,{children:[(0,H.jsx)(LG,{onClick:async()=>{e&&!t?(o({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:e=>s({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:zV,onErrorNavigateTo:Wq}}),a(qL)):(await s({withPrivyUi:!0}),o({passkeyAuthModalData:{passkeySignupFlow:!0}}),a(zV))},children:"Create new account"}),(0,H.jsx)(LU,{onClick:async()=>{e&&!t?(o({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>l({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:zV,onErrorNavigateTo:Wq}}),a(qL)):(await l({withPrivyUi:!0}),o({passkeyAuthModalData:{passkeySignupFlow:!1}}),a(zV))},children:"Log in with a passkey"})]}),(0,H.jsx)(Ld,{})]})}},zK=g4.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-f058c8a2-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent);stroke:var(--privy-color-accent);fill:var(--privy-color-accent);}"]),zJ=()=>{let{enabled:e,token:t}=Mn(),{navigate:r,setModalData:n,app:i,data:a}=Ux(),{initLoginWithPasskey:o}=dH(),s=()=>{i.loginConfig.passkeysForSignupEnabled?r(zG):(async()=>{e&&!t?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:e=>o({captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:zV,onErrorNavigateTo:Wq}}),r(qL)):(await o({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(zV))})()};return 0===(0,G.useMemo)(()=>{let e=a?.login?.loginMethods;return e?e.filter(e=>"passkey"!==e).length:Object.entries(i.loginMethods).filter(([e,t])=>t).filter(([e])=>"passkey"!==e).length},[i.loginMethods,a?.login])?(0,H.jsxs)(Lr,{onClick:s,children:[(0,H.jsx)(yN,{})," Continue with passkey"]}):(0,H.jsx)(zZ,{onClick:s,children:"I have a passkey"})},zY=g5(["&&{width:100%;font-size:0.875rem;line-height:1rem;display:flex;gap:0.5rem;justify-content:center;align-items:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]),zZ=g4.button.withConfig({displayName:"StyledLink",componentId:"sc-1c6127e5-0"})(["",""],zY),zQ=({value:e,onChange:t})=>(0,H.jsx)("select",{value:e,onChange:t,children:cG.map(e=>(0,H.jsxs)("option",{value:e.code,children:[e.code," +",e.callCode]},e.code))}),zX=(0,G.forwardRef)((e,t)=>{let r,{app:n}=Ux(),[i,a]=(0,G.useState)(!1),{accountType:o}=Wy(),[s,l]=(0,G.useState)(""),[c,d]=(0,G.useState)(n?.intl.defaultCountry??"US"),u=cV(s,c),h=new cq(c),p=(r=(function(){return sH(cz,arguments)})(c,sz)?.formatInternational(),r?.substring(r.indexOf(" ")+1)),f=ln(c),m=!u,[g,y]=(0,G.useState)(!1),w=f.length,v=t=>{let r=t.target.value;d(r),l(""),e.onChange&&e.onChange({rawPhoneNumber:s,qualifiedPhoneNumber:cH(s,r),countryCode:r,isValid:cV(s,c)})},b=(t,r)=>{try{let n=t.replace(/\D/g,"")===s.replace(/\D/g,"")?t:h.input(t);l(n),e.onChange&&e.onChange({rawPhoneNumber:n,qualifiedPhoneNumber:cH(t,r),countryCode:r,isValid:cV(t,r)})}catch(e){console.error("Error processing phone number:",e)}},x=()=>{y(!0);let t=cH(s,c);e.onSubmit({rawPhoneNumber:s,qualifiedPhoneNumber:t,countryCode:c,isValid:cV(s,c)}).finally(()=>y(!1))};return(0,G.useEffect)(()=>{if(e.defaultValue){var t;let r,n,i,a=(t=e.defaultValue,(r=new cq).input(t),n=r.getCountry()||"US",i=r.getCallingCode()||"1",{countryCode:n,phone:t.replace("+"+i,"")});h.reset(),v({target:{value:a.countryCode}}),b(a.phone,a.countryCode)}},[e.defaultValue]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(z0,{children:(0,H.jsxs)(z1,{$callingCodeLength:w,$stacked:e.stacked,children:[(0,H.jsx)(zQ,{value:c,onChange:v}),(0,H.jsx)("input",{ref:t,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:p,onFocus:()=>a(!0),onChange:e=>{b(e.target.value,c)},onKeyUp:e=>{"Enter"===e.key&&x()},value:s,autoComplete:"tel"}),"phone"!==o||i||e.hideRecent?e.stacked||e.noIncludeSubmitButton?(0,H.jsx)("span",{}):(0,H.jsx)(L1,{isSubmitting:g,onClick:x,disabled:m,children:"Submit"}):(0,H.jsx)(zP,{color:"gray",children:"Recent"})]})}),e.stacked&&!e.noIncludeSubmitButton?(0,H.jsx)(LG,{loading:g,loadingText:null,onClick:x,disabled:m,children:"Submit"}):null]})}),z0=g4.div.withConfig({displayName:"InputContainer",componentId:"sc-2a729487-0"})(["width:100%;"]),z1=g4.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-2a729487-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-mdlg);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$callingCodeLength,e=>e.$stacked?"16px":"88px"),z2=({isEditable:e,setIsEditable:t,defaultValue:r})=>{let n=(0,G.useRef)(null),{authenticated:i}=u5(),{navigate:a,setModalData:o,currentScreen:s,data:l}=Ux(),{initLoginWithSms:c}=dH(),{enabled:d,token:u}=Mn(),{whatsAppEnabled:h}=Uy();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Li,{$if:!e,children:(0,H.jsx)(zX,{ref:n,onSubmit:async function({qualifiedPhoneNumber:e}){if(!d||u||i)try{await c({phoneNumber:e,captchaToken:u,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),a(Vg)}catch(e){o({errorModalData:{error:e,previousScreen:s||VQ}}),a(Wq)}else o({captchaModalData:{callback:t=>c({phoneNumber:e,captchaToken:t,withPrivyUi:!0,disableSignup:l?.login?.disableSignup}),userIntentRequired:!1,onSuccessNavigateTo:Vg,onErrorNavigateTo:Wq}}),a(qL)},defaultValue:r})}),(0,H.jsx)(Li,{$if:e,children:(0,H.jsxs)(Lr,{onClick:()=>{t(),setTimeout(()=>{n.current?.focus()},0)},children:[(0,H.jsx)(yO,{})," Continue with ",h?"WhatsApp":"SMS"]})})]})},z3={apple:{logo:(0,H.jsx)(RS,{}),displayName:"Apple"},discord:{logo:(0,H.jsx)(RT,{}),displayName:"Discord"},github:{logo:(0,H.jsx)(RP,{}),displayName:"GitHub"},google:{logo:(0,H.jsx)(RN,{}),displayName:"Google"},linkedin:{logo:(0,H.jsx)(RR,{}),displayName:"LinkedIn"},spotify:{logo:(0,H.jsx)(RM,{}),displayName:"Spotify"},instagram:{logo:(0,H.jsx)(RO,{}),displayName:"Instagram"},twitter:{logo:(0,H.jsx)(RL,{}),displayName:"Twitter"},tiktok:{logo:(0,H.jsx)(RU,{}),displayName:"TikTok"},line:{logo:(0,H.jsx)(R$,{}),displayName:"LINE"}},z5=({provider:e})=>{let{enabled:t,token:r}=Mn(),{navigate:n,setModalData:i,data:a}=Ux(),[o,s]=(0,G.useState)(!1),{initLoginWithOAuth:l}=dH(),{accountType:c}=Wy(),d=(0,G.useMemo)(()=>c&&"guest"!==c&&"authorization_key"!==c&&"cross_app"!==c?Wu(c):null,[c]),{displayName:u,logo:h}=z3[e];return(0,H.jsxs)(Lr,{onClick:()=>{s(!0),setTimeout(()=>{s(!1)},2e3),t&&!r?(i({captchaModalData:{callback:t=>l(e,t,a?.login?.disableSignup),userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Wq}}),n(qL)):l(e,void 0,a?.login?.disableSignup)},disabled:o,children:[h," ",u,d?.loginMethod===e&&(0,H.jsx)(z4,{color:"gray",children:"Recent"})]})},z4=g4(zP).withConfig({displayName:"StyledChip",componentId:"sc-209315e7-0"})(["margin-left:auto;"]);function z6(e){return(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 240 240",...e,children:[(0,H.jsx)("defs",{children:(0,H.jsxs)("linearGradient",{x1:"120",y1:"240",x2:"120",gradientUnits:"userSpaceOnUse",id:"telegram-linear-gradient",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#1d93d2"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#38b0e3"})]})}),(0,H.jsx)("title",{children:"Telegram_logo"}),(0,H.jsx)("circle",{cx:"120",cy:"120",r:"120",fill:"url(#telegram-linear-gradient)"}),(0,H.jsx)("path",{d:"M81.229,128.772l14.237,39.406s1.78,3.687,3.686,3.687,30.255-29.492,30.255-29.492l31.525-60.89L81.737,118.6Z",fill:"#c8daea"}),(0,H.jsx)("path",{d:"M100.106,138.878l-2.733,29.046s-1.144,8.9,7.754,0,17.415-15.763,17.415-15.763",fill:"#a9c6d8"}),(0,H.jsx)("path",{d:"M81.486,130.178,52.2,120.636s-3.5-1.42-2.373-4.64c.232-.664.7-1.229,2.1-2.2,6.489-4.523,120.106-45.36,120.106-45.36s3.208-1.081,5.1-.362a2.766,2.766,0,0,1,1.885,2.055,9.357,9.357,0,0,1,.254,2.585c-.009.752-.1,1.449-.169,2.542-.692,11.165-21.4,94.493-21.4,94.493s-1.239,4.876-5.678,5.043A8.13,8.13,0,0,1,146.1,172.5c-8.711-7.493-38.819-27.727-45.472-32.177a1.27,1.27,0,0,1-.546-.9c-.093-.469.417-1.05.417-1.05s52.426-46.6,53.821-51.492c.108-.379-.3-.566-.848-.4-3.482,1.281-63.844,39.4-70.506,43.607A3.21,3.21,0,0,1,81.486,130.178Z",fill:"#fff"})]})}let z8={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=u5(),{app:i,setModalData:a,navigate:o,resetNavigation:s,data:l}=Ux(),{initLoginWithTelegram:c,loginWithTelegram:d,updateWallets:u,setReadyToTrue:h,closePrivyModal:p,createAnalyticsEvent:f,getAuthMeta:m}=dH(),[g,y]=(0,G.useState)(!1),[w,v]=(0,G.useState)(void 0),b=Mn();async function x(){try{let t=await async function(){let t;if(!e){if(b.enabled&&"error"===b.status)throw new Mt(b.error,null,dN.CAPTCHA_FAILURE);return b.enabled&&"success"!==b.status&&(b.execute(),t=await b.waitForResult()),t}}();await d({captchaToken:t}),y(!0),h(!0)}catch(r){if(r?.privyErrorCode===dN.ALLOWLIST_REJECTED)return v(void 0),s(),void o(qO);if(r?.privyErrorCode===dN.USER_LIMIT_REACHED)return console.error(new dM(r).toString()),v(void 0),s(),void o(qJ);if(r?.privyErrorCode===dN.USER_DOES_NOT_EXIST)return v(void 0),s(),void o(WT);if(r?.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&r.data?.data?.nonce)return v(void 0),s(),a({accountTransfer:{nonce:r.data?.data?.nonce,account:r.data?.data?.subject,telegramAuthResult:m()?.telegramAuthResult,telegramWebAppData:m()?.telegramWebAppData,displayName:r.data?.data?.account?.displayName,linkMethod:"telegram",embeddedWalletAddress:r.data?.data?.otherUser?.embeddedWalletAddress}}),void o(W4);let{retryable:e,detail:t}=Ma(r);v({retryable:e,detail:t,message:"Authentication failed"})}}(0,G.useEffect)(()=>{x()},[]),(0,G.useEffect)(()=>{if(!(r&&e&&g&&n))return;if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{o(qa)},1400);return()=>clearTimeout(e)}if(WI(n,i.embeddedWallets)){let e=setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:"telegram",screen:"TelegramAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),o(qn)},1400);return()=>clearTimeout(e)}u();let s=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(s)},[r,e,g,n]);let _=g?"Successfully connected with Telegram":w?w.message:"Verifying connection to Telegram",k="";return k=g?"Youre good to go!":w?w.detail:"Just a few moments more",(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(z9,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:g,fail:!!w}),(0,H.jsx)(z6,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:_}),(0,H.jsx)("p",{children:k})]}),w&&w?.retryable?(0,H.jsx)(L0,{onClick:async()=>{try{v(void 0),l?.telegramAuthModalData?.seamlessAuth||await c(void 0,l?.login?.disableSignup),await x()}catch(r){let{retryable:e,detail:t}=Ma(r);v({retryable:e,detail:t,message:"Authentication failed"})}},disabled:!g&&!w?.retryable,children:"Retry"}):null]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Lu,{})]})},isCaptchaRequired:!0},z9=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-491d0b9b-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),z7=()=>{let{enabled:e,token:t}=Mn(),{navigate:r,setModalData:n,data:i}=Ux(),[a,o]=(0,G.useState)(!1),{initLoginWithTelegram:s}=dH(),{accountType:l}=Wy();async function c(e){try{await s(e,i?.login?.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(z8)}catch(e){console.error(e),o(!1)}}return(0,H.jsxs)(Lr,{onClick:async function(){(o(!0),e&&!t)?(n({captchaModalData:{callback:c,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:Wq}}),r(qL)):await c(t)},disabled:a,children:[(0,H.jsx)(z6,{}),"Telegram","telegram"===l&&(0,H.jsx)(Ve,{color:"gray",children:"Recent"})]})},Ve=g4(zP).withConfig({displayName:"StyledChip",componentId:"sc-d81b85b5-0"})(["margin-left:auto;"]),Vt=({onClick:e,text:t})=>(0,H.jsxs)(Lr,{onClick:e,children:[(0,H.jsx)($r,{}),(0,H.jsx)(U6,{children:t}),(0,H.jsx)($A,{})]}),Vr=({onClick:e,text:t,icon:r})=>(0,H.jsxs)(Lr,{onClick:e,children:[r,(0,H.jsx)(U6,{children:t}),(0,H.jsx)($A,{})]}),Vn=({connectOnly:e})=>{let{closePrivyModal:t}=dH(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:a}=Ux(),o=Uy(),s=r?.login,l=o.appearance.walletList,c=s?.walletChainType??o.appearance.walletChainType,{accountType:d,walletClientType:u,chainType:h}=Wy(),{wallets:p}=zd({walletList:l,walletChainType:c}),f=(0,G.useMemo)(()=>d&&"guest"!==d&&"authorization_key"!==d&&"cross_app"!==d?Wu(d):null,[d]),{email:m,sms:g,google:y,twitter:w,discord:v,github:b,spotify:x,instagram:_,tiktok:k,line:E,linkedin:C,apple:A,wallet:I,farcaster:S,telegram:T}=(0,G.useMemo)(()=>s?.loginMethods?((e,t=!0)=>e.reduce((e,r)=>({...e,[r]:t}),{}))(s.loginMethods,!0):null,[s])??o.loginMethods,{passkey:P}=o.loginMethods,j=[m&&"email",g&&"sms",y&&"google",w&&"twitter",v&&"discord",b&&"github",x&&"spotify",_&&"instagram",k&&"tiktok",E&&"line",C&&"linkedin",A&&"apple",S&&"farcaster",T&&"telegram"].filter(e=>!!e),N=j.length>0,O=(0,G.useMemo)(()=>I&&!N?"web3-first":I&&o?.appearance.loginGroupPriority||"web2-first",[I,N,o?.appearance.loginGroupPriority]),$=o?.appearance.hideDirectWeb2Inputs,[R,M]=(0,G.useState)("default"),[U,L]=(0,G.useState)(Vl({mostRecentlyUsedAccountType:d,smsAvailable:g,emailAvailable:m,prefilledType:s?.prefill?.type}));(0,G.useEffect)(()=>{L(Vl({mostRecentlyUsedAccountType:d,smsAvailable:g,emailAvailable:m,prefilledType:s?.prefill?.type}))},[m,g,d]);let F=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{M("default")},150)};i.current=F;let D=[];u&&I?D.push(u):f?.loginMethod&&j.includes(f.loginMethod)&&D.push(f.loginMethod);let B=t=>{if("email"===t)return(0,H.jsx)(VI,{isEditable:"email"===U,setIsEditable:()=>{L("email")},defaultValue:"email"===s?.prefill?.type?s.prefill.value:void 0},t);if("sms"===t)return(0,H.jsx)(z2,{isEditable:"sms"===U,setIsEditable:()=>{L("sms")},defaultValue:"phone"===s?.prefill?.type?s.prefill.value:void 0},t);if("apple"===t)return(0,H.jsx)(z5,{provider:"apple"},t);if("discord"===t)return(0,H.jsx)(z5,{provider:"discord"},t);if("farcaster"===t)return(0,H.jsx)(zW,{},t);if("github"===t)return(0,H.jsx)(z5,{provider:"github"},t);if("google"===t)return(0,H.jsx)(z5,{provider:"google"},t);if("linkedin"===t)return(0,H.jsx)(z5,{provider:"linkedin"},t);if("tiktok"===t)return(0,H.jsx)(z5,{provider:"tiktok"},t);if("line"===t)return(0,H.jsx)(z5,{provider:"line"},t);if("spotify"===t)return(0,H.jsx)(z5,{provider:"spotify"},t);if("instagram"===t)return(0,H.jsx)(z5,{provider:"instagram"},t);if("twitter"===t)return(0,H.jsx)(z5,{provider:"twitter"},t);if("telegram"===t)return(0,H.jsx)(z7,{},t);let r=p.findIndex(({id:e})=>e===q5.normalize(t)),i="solana"===h?"solana-only":"ethereum-only";return(0,H.jsx)(zh,{recent:!0,index:r,data:{wallets:p,walletChainType:i,handleWalletClick(t){n(e=>({...e,externalConnectWallet:{walletList:l,walletChainType:i,preSelectedWalletId:t.id}})),a(e?zC:zk)}}})},W=p.filter(e=>e.id!==q5.normalize(u||"")),q=W.map((t,r)=>(0,H.jsx)(zh,{index:r,data:{walletChainType:c,wallets:W,handleWalletClick(t){n(e=>({...e,externalConnectWallet:{walletList:l,walletChainType:c,preSelectedWalletId:t.id}})),a(e?zC:zk)}}},t.id)),z=j.filter(e=>e!==f?.loginMethod).flatMap(B),V=D.flatMap(B);"web3-first"===O&&"default"===R?q.unshift(...V):"web2-first"===O&&z.unshift(...V);let K=j.filter(e=>"email"!==e&&"sms"!==e),J=Va({priority:O,email:m,sms:g,social:K}),Y=Vo({priority:O,email:m,sms:g,social:K}),Z=(0,H.jsx)(Vt,{text:Vs({priority:O}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:s?.walletChainType??o.appearance.walletChainType}}),a(zk)}}),Q=(0,H.jsx)(Vr,{text:J,icon:Y,onClick:()=>M("web2-overflow")}),X=+!$,ee=I&&q.length>0,et=0===z.length&&I&&0===q.length,er=5-!!ee;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{title:o.appearance.landingHeader,onClose:F,backFn:"default"===R?void 0:()=>{M("default")}}),"default"===R&&(0,H.jsx)(Vi,{}),"default"===R&&("string"==typeof o.appearance.loginMessage?(0,H.jsx)(Lt,{children:o.appearance.loginMessage}):o.appearance.loginMessage),(0,H.jsx)(U8,{style:{overflow:"hidden",padding:2},children:(0,H.jsxs)(U9,{children:["default"===R&&"web2-first"===O&&(0,H.jsxs)(H.Fragment,{children:[z.length>er?z.slice(0,er-1):z,z.length>er&&Q,ee&&Z,et&&(0,H.jsx)(zI,{chainType:o.appearance.walletChainType})]}),"default"===R&&"web3-first"===O&&(0,H.jsxs)(H.Fragment,{children:[I&&(0,H.jsxs)(H.Fragment,{children:[q.length>er?q.slice(0,er-1):q,q.length>er&&Z]}),z.length>X&&Q,z.length===X&&z[0],et&&(0,H.jsx)(zI,{chainType:o.appearance.walletChainType})]}),"web2-overflow"===R&&(0,H.jsx)(H.Fragment,{children:"web3-first"===O?z:z.slice(3)}),P&&"default"===R&&(0,H.jsx)(zJ,{})]})}),o&&(0,H.jsx)(Lc,{app:o}),(0,H.jsx)(Ld,{})]})},Vi=g4(Wv).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-75fbce5c-0"})(["margin-bottom:16px;"]),Va=({priority:e,email:t,sms:r,social:n})=>"web2-first"===e?"Other socials":t&&r&&n.length>0||t&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":t&&r?"Continue with email or sms":t?"Continue with email":r?"Continue with sms":"Log in with a social account",Vo=({priority:e,email:t,sms:r,social:n})=>"web2-first"===e||n.length>0?(0,H.jsx)(O7,{}):t&&r?(0,H.jsx)(z_,{}):t?(0,H.jsx)($e,{}):r?(0,H.jsx)(yO,{}):null,Vs=({priority:e})=>"web2-first"===e?"Continue with a wallet":"Other wallets",Vl=({mostRecentlyUsedAccountType:e,smsAvailable:t,emailAvailable:r,prefilledType:n})=>r&&("email"===e&&"phone"!==n||"email"===n)||!t||"phone"!==e&&"phone"!==n?"email":"sms",Vc={component:()=>{let{app:e}=Ux();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,H.jsx)(VJ,{connectOnly:!0}):(0,H.jsx)(Vn,{connectOnly:!0})}},Vd=Array(6).fill("");var Vu,Vh,Vp,Vf=((Vh=Vf||{})[Vh.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",Vh[Vh.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",Vh),Vm=((Vp=Vm||{})[Vp.EMAIL=0]="EMAIL",Vp[Vp.SMS=1]="SMS",Vp);let Vg={component:()=>{let{app:e,navigate:t,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:a}=Ux(),{closePrivyModal:o,resendEmailCode:s,resendSmsCode:l,getAuthMeta:c,loginWithCode:d,updateWallets:u,createAnalyticsEvent:h}=dH(),{authenticated:p,logout:f,user:m}=u5(),{whatsAppEnabled:g}=Uy(),[y,w]=(0,G.useState)(Vd),[v,b]=(0,G.useState)(!1),[x,_]=(0,G.useState)(null),[k,E]=(0,G.useState)(null),[C,A]=(0,G.useState)(0);a.current=()=>null;let I=+!c()?.email;(0,G.useEffect)(()=>{if(C){let e=setTimeout(()=>{A(C-1)},1e3);return()=>clearTimeout(e)}},[C]),(0,G.useEffect)(()=>{if(p&&v&&m){if(e?.legal.requireUsersAcceptTerms&&!m.hasAcceptedTerms){let e=setTimeout(()=>{t(qa)},900);return()=>clearTimeout(e)}if(WI(m,e.embeddedWallets)){let e=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),h({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,screen:"AwaitingPasswordlessCodeScreen"}}),f()},callAuthOnSuccessOnClose:!0}}),t(qn)},900);return()=>clearTimeout(e)}{u();let e=setTimeout(()=>o({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return()=>clearTimeout(e)}}},[p,v,m]),(0,G.useEffect)(()=>{if(x&&0===k){let e=setTimeout(()=>{w(Vd),_(null);let e=document.querySelector("input[name=code-0]");e?.focus()},1400);return()=>clearTimeout(e)}},[x]);let S=e=>{e.preventDefault();let n=e.currentTarget.value.replace(" ","");if(""===n)return;if(isNaN(Number(n)))return _("Code should be numeric"),void E(1);_(null),E(null);let a=Number(e.currentTarget.name?.charAt(5)),o=[...n||[""]].slice(0,6-a),s=[...y.slice(0,a),...o,...y.slice(a+o.length)];w(s);let l=Math.min(Math.max(a+o.length,0),5);if(!isNaN(Number(e.currentTarget.value))){let e=document.querySelector(`input[name=code-${l}]`);e?.focus()}if(s.every(e=>e&&!isNaN(+e))){let e=document.querySelector(`input[name=code-${l}]`);e?.blur(),d(s.join("")).then(()=>b(!0)).catch(e=>{if(e instanceof dA&&e.privyErrorCode===dN.INVALID_CREDENTIALS)_("Invalid or expired verification code");else if(e instanceof dA&&e.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE)_(e.message);else{if(e instanceof dA&&e.privyErrorCode===dN.USER_LIMIT_REACHED)return console.error(new dM(e).toString()),void t(qJ);if(e instanceof dA&&e.privyErrorCode===dN.USER_DOES_NOT_EXIST)return void t(WT);if(e instanceof dA&&e.privyErrorCode===dN.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:e,previousScreen:r??Vg}}),void t(Wq,!1);if(e instanceof dA&&e.privyErrorCode===dN.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:e}}),void t(Vc,!1);if(e instanceof dA&&e.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return i({accountTransfer:{nonce:e.data?.data?.nonce,account:0===I?c()?.email:c()?.phoneNumber,displayName:e.data?.data?.account?.displayName,linkMethod:0===I?"email":"sms",embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress}}),void t(W4);_("Issue verifying code")}E(0)})}},T=0==I?(0,H.jsx)($e,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"}):(0,H.jsx)(yO,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"}),P=(0,H.jsxs)("p",0==I?{children:["Please check ",(0,H.jsx)(Vk,{children:c()?.email})," for an email from privy.io and enter your code below."]}:{children:["Please check ",(0,H.jsx)(Vk,{children:c()?.phoneNumber})," for a",g?" WhatsApp":""," message from ",e?.name||"Privy"," and enter your code below."]});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:()=>n()},"header"),(0,H.jsxs)(Vy,{children:[(0,H.jsx)(Bh,{title:"Enter confirmation code",description:P,icon:T}),(0,H.jsxs)(Fj,{children:[(0,H.jsxs)(Vw,{children:[(0,H.jsx)(Vv,{$fail:!!x,$success:v,children:(0,H.jsx)("span",{children:x||(v?"Success!":"")})}),(0,H.jsx)("div",{children:y.map((e,t)=>(0,H.jsx)("input",{name:`code-${t}`,type:"text",value:y[t],onChange:S,onKeyUp:e=>{"Backspace"===e.key&&(e=>{if(1===k&&(_(null),E(null)),w([...y.slice(0,e),"",...y.slice(e+1)]),e>0){let t=document.querySelector(`input[name=code-${e-1}]`);t?.focus()}})(t)},inputMode:"numeric",autoFocus:0===t,pattern:"[0-9]",className:`${v?"success":""} ${x?"fail":""}`,autoComplete:K.isMobile?"one-time-code":"off"},t))})]}),(0,H.jsxs)(Vb,{children:[(0,H.jsxs)("span",{children:["Didn't get ",0==I?"an email":"a message","?"]}),C?(0,H.jsxs)(V_,{children:[(0,H.jsx)($t,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),(0,H.jsx)("span",{children:"Code sent"})]}):(0,H.jsx)(Vx,{children:(0,H.jsx)("button",{onClick:async()=>{A(30),0==I?await s():await l()},children:"Resend code"})})]})]})]}),(0,H.jsx)(Ld,{})]})}},Vy=g4.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-2171637e-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin:auto;gap:16px;flex-grow:1;"]),Vw=g4.div.withConfig({displayName:"CodeInput",componentId:"sc-2171637e-1"})(["display:flex;flex-direction:column;width:100%;gap:8px;> div:last-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),Vv=g4.div.withConfig({displayName:"InputHelp",componentId:"sc-2171637e-2"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-end;width:100%;"],e=>e.$success?"var(--privy-color-success)":e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),Vb=g4.div.withConfig({displayName:"HelpText",componentId:"sc-2171637e-3"})(["font-size:13px;color:var(--privy-color-foreground);display:flex;gap:8px;align-items:center;width:100%;margin-top:16px;padding-bottom:32px;"]),Vx=g4.div.withConfig({displayName:"ResendButtonContainer",componentId:"sc-2171637e-4"})(["color:var(--privy-color-accent);padding:2px 0;> button{text-decoration:underline;}"]),V_=g4.div.withConfig({displayName:"Badge",componentId:"sc-2171637e-5"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),Vk=g4.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-2171637e-6"})(["font-weight:500;word-break:break-all;"]),VE=(0,G.forwardRef)((e,t)=>{let[r,n]=(0,G.useState)(e.defaultValue||""),[i,a]=(0,G.useState)(""),[o,s]=(0,G.useState)(!1),{authenticated:l}=u5(),{initLoginWithEmail:c}=dH(),{navigate:d,setModalData:u,currentScreen:h,data:p}=Ux(),{enabled:f,token:m}=Mn(),[g,y]=(0,G.useState)(!1),{accountType:w}=Wy(),v=Uy();(0,G.useEffect)(()=>{!r&&v.disablePlusEmails&&p?.inlineError?.error instanceof dC&&p?.inlineError?.error.privyErrorCode===dN.DISALLOWED_PLUS_EMAIL&&!i&&a("Please enter a valid email address without a '+'."),i&&a("")},[r]);let b=R0(r),x=o||!b,_=()=>{u({login:p?.login,inlineError:void 0}),!f||m||l?(s(!0),c({email:r,captchaToken:m,disableSignup:p?.login?.disableSignup,withPrivyUi:!0}).then(()=>{d(Vg)}).catch(e=>{u({errorModalData:{error:e,previousScreen:h||VQ}}),d(Wq)}).finally(()=>{s(!1)})):(u({captchaModalData:{callback:e=>c({email:r,captchaToken:e,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Vg,onErrorNavigateTo:Wq}}),d(qL))};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(VC,{children:[i&&(0,H.jsx)(q_,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),(0,H.jsxs)(VA,{stacked:e.stacked,$error:!!i,children:[(0,H.jsx)($e,{}),(0,H.jsx)("input",{ref:t,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>y(!0),onChange:e=>n(e.target.value),onKeyUp:e=>{"Enter"===e.key&&_()},value:r,autoComplete:"email"}),"email"!==w||g?e.stacked?(0,H.jsx)("span",{}):(0,H.jsx)(L1,{isSubmitting:o,onClick:_,disabled:x,children:"Submit"}):(0,H.jsx)(zP,{color:"gray",children:"Recent"})]})]}),e.stacked?(0,H.jsx)(LG,{loadingText:null,loading:o,disabled:x,onClick:_,children:"Submit"}):null]})}),VC=qA,VA=qC,VI=({isEditable:e,setIsEditable:t,defaultValue:r})=>{let n=(0,G.useRef)(null);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Li,{$if:!e,children:(0,H.jsx)(VE,{ref:n,defaultValue:r})}),(0,H.jsx)(Li,{$if:e,children:(0,H.jsxs)(Lr,{onClick:()=>{t(),setTimeout(()=>{n.current?.focus()},0)},children:[(0,H.jsx)($e,{})," Continue with Email"]})})]})},VS=({icon:e,name:t})=>"string"==typeof e?(0,H.jsx)("img",{alt:`${t||"wallet"} logo`,src:e,style:{height:24,width:24,borderRadius:4}}):void 0===e?(0,H.jsx)($r,{}):e?(0,H.jsx)(e,{}):null;function VT(e){let t=e.toLowerCase();return!!window?.webkit?.messageHandlers?.ReactNativeWebView||!!window?.ReactNativeWebView||["fbav","fban","instagram","snapchat","linkedinapp"].some(e=>t.includes(e))}let VP={component:()=>{let e,{navigateBack:t,navigate:r,lastScreen:n,currentScreen:i,data:a,setModalData:o}=Ux(),{walletConnectionStatus:s,closePrivyModal:l}=dH(),[c,d]=(0,G.useState)(void 0),[u,h]=(0,G.useState)(0),p=M4(s?.connector?.walletClientType||"unknown"),f="connected"===s?.status,m="switching_to_supported_chain"===s?.status;(0,G.useEffect)(()=>{if(f){let e;if(a?.externalConnectWallet?.onCompleteNavigateTo){let t=a.externalConnectWallet.onCompleteNavigateTo,n=s.connectedWallet?.address;e=setTimeout(()=>{a.funding&&o({...a,funding:{...a.funding,connectedWalletAddress:n}}),r(t({walletChainType:s.connector?.chainType}))},1400)}else e=setTimeout(l,1400);return()=>clearTimeout(e)}},[f]),(0,G.useEffect)(()=>{s?.connectError&&d(qX(s?.connectError))},[s]);let g=s?.connector?.connectorType||"injected",y=s?.connector?.walletClientType||"unknown",w=p?.metadata?.shortName||p?.name||s?.connector?.walletBranding.name||"Browser Extension",v=p?.image_url?.md||s?.connector?.walletBranding.icon||(e=>(0,H.jsx)(MU,{...e})),b="Browser Extension"===w?w.toLowerCase():w;e=f?`Successfully connected with ${b}`:c?c.message:m?"Switching networks":`Waiting for ${b}`;let x="Dont see your wallet? Check your other browser windows.";return f?x="Youre good to go!":u>=2&&c?x="Unable to connect wallet":c?x=c.detail:m?x="Switch your wallet to the requested network.":"metamask"===y&&K.isMobile?x="Click to continue to open and connect MetaMask.":"metamask"===y?x="For the best experience, connect only one wallet at a time.":"wallet_connect_v2"===g?x="Open your mobile wallet app to continue":"coinbase_wallet"===g&&(x="Open the Coinbase app on your phone to continue."),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:i===n?void 0:t}),(0,H.jsxs)(Vj,{children:[(0,H.jsx)(q3,{walletLogo:v,success:f,fail:!!c}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:e}),(0,H.jsx)("p",{children:x})]}),c==Mb.ERROR_USER_EXISTS?(0,H.jsx)(LG,{onClick:t,children:"Use a different wallet"}):!f&&c?.retryable&&u<2?(0,H.jsx)(LG,{onClick:()=>{h(u+1),d(void 0),s?.connectRetry()},disabled:!f&&(!c?.retryable||u>=2),children:"Retry"}):!f&&c&&u>=2?(0,H.jsx)(LG,{onClick:t,children:"Use a different wallet"}):null]}),(0,H.jsx)(Lu,{})]})}},Vj=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-604d07cd-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),VN=({style:e,...t})=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"17",height:"17",viewBox:"0 0 17 17",style:{height:"1.25rem",width:"1.25rem",...e},...t,children:(0,H.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 8.67993C16.5 9.82986 15.853 10.8287 14.9032 11.3322C15.2188 12.3599 14.97 13.5237 14.1569 14.3368C13.3437 15.1499 12.18 15.3987 11.1523 15.0831C10.6488 16.0329 9.64993 16.6799 8.5 16.6799C7.35007 16.6799 6.35126 16.0329 5.84771 15.0831C4.82003 15.3987 3.65627 15.1499 2.84314 14.3368C2.03001 13.5237 1.78124 12.3599 2.09681 11.3322C1.14699 10.8287 0.5 9.82986 0.5 8.67993C0.5 7.53 1.14699 6.53119 2.0968 6.02764C1.78125 4.99996 2.03003 3.83621 2.84315 3.02309C3.65627 2.20997 4.82002 1.96119 5.8477 2.27675C6.35125 1.32692 7.35007 0.679932 8.5 0.679932C9.64992 0.679932 10.6487 1.32691 11.1523 2.27672C12.18 1.96115 13.3437 2.20993 14.1569 3.02305C14.97 3.83618 15.2188 4.99996 14.9032 6.02764C15.853 6.53119 16.5 7.53 16.5 8.67993ZM12.2659 6.68856C12.5654 6.40238 12.5761 5.92763 12.29 5.62818C12.0038 5.32873 11.529 5.31797 11.2296 5.60416C9.73022 7.03711 8.40877 8.65489 7.3018 10.4211L5.78033 8.89963C5.48744 8.60673 5.01256 8.60673 4.71967 8.89963C4.42678 9.19252 4.42678 9.66739 4.71967 9.96029L6.92031 12.1609C7.08544 12.3261 7.31807 12.4048 7.54957 12.374C7.78106 12.3432 7.98499 12.2064 8.1012 12.0038C9.23027 10.0356 10.6362 8.24613 12.2659 6.68856Z",fill:"var(--privy-color-accent)"})}),VO=g4.div.withConfig({displayName:"TodoList",componentId:"sc-491785d-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:4px;"]),V$=g4.div.withConfig({displayName:"TodoSpacer",componentId:"sc-491785d-1"})(["&&&{margin-left:7px;border-left:2px solid var(--privy-color-foreground-4);height:12px;}"]),VR=({children:e})=>(0,H.jsxs)(VM,{children:[(0,H.jsx)(VN,{style:{width:"16px",height:"16px"}}),e]}),VM=g4.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-491785d-2"})(["display:flex;justify-content:flex-start;justify-items:center;text-align:left;gap:8px;&&{a{text-decoration:underline;color:var(--privy-color-accent);}svg{margin-top:auto;margin-bottom:auto;}}"]),VU=({name:e,installLink:t})=>(0,H.jsxs)(FP,{children:[(0,H.jsx)(Bd,{title:`Create a ${e} wallet`.replace(/wallet wallet/gi,"wallet"),description:"Follow the instructions below to get started."}),(0,H.jsxs)(VO,{children:[(0,H.jsx)(VR,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)("span",{children:"Install the "})," ",(0,H.jsxs)("a",{href:t,target:"_blank",children:[e," browser extension"]})]})}),(0,H.jsx)(V$,{}),(0,H.jsx)(VR,{children:"Set up your first wallet"}),(0,H.jsx)(V$,{}),(0,H.jsx)(VR,{children:"Store your recovery phrase in a safe place!"})]}),(0,H.jsx)(L0,{onClick:()=>window.location.reload(),style:{marginTop:"20px"},children:"Reload the page to use your wallet"})]}),VL={component:()=>{let{navigateBack:e,data:t}=Ux();if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:r}=t.installWalletModalData;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:e},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(VU,{...r}),(0,H.jsx)(FL,{}),(0,H.jsxs)(Lu,{children:[(0,H.jsx)("span",{children:"Still not sure? "}),(0,H.jsx)("a",{target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]})]})}},VF={component:()=>{let{ready:e}=u5(),{data:t}=Ux(),[r,n]=(0,G.useState)(!1);if(!t?.installWalletModalData)throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:a,chainType:o}=t.installWalletModalData,s=i.getMobileRedirect({useUniversalLink:!r,isSolana:"solana"===o,connectOnly:a}),l=i.name.replace(/ wallet/gi,""),c={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return e&&(c.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,c.footnote="You can always return here to login via other methods."),r&&(c.title="Still here?",c.description=`You may need to install the ${i.name} mobile app.`,c.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Bu,{title:c.title,description:c.description}),(0,H.jsxs)(FT,{children:[(0,H.jsx)(LY,{href:s,onClick:()=>setTimeout(()=>n(!0),1e3),loading:e&&!s,children:r?"Go to App Store":"Continue"}),c.footnote?(0,H.jsx)("p",{children:c.footnote}):null]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},VD=({provider:e,displayName:t,logo:r,connectOnly:n,connector:i})=>{let a,{navigate:o,setModalData:s}=Ux(),{connectWallet:l}=dH(),c=Wy(),d=M4(e),u="wallet_connect_v2"===i.connectorType?e:i.walletClientType,h=window.matchMedia("(display-mode: standalone)").matches,p=MK({connectorType:i.connectorType,walletClientType:u});a=p&&p.chainTypes.includes(i.chainType)?()=>{p.isInstalled||"solana"===i.chainType&&"isInstalled"in i&&i.isInstalled?(l(i,u),o(n?VP:q0)):K.isMobile?(s({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(VF)):(s({installWalletModalData:{walletConfig:p,chainType:i.chainType,connectOnly:n}}),o(VL))}:"coinbase_wallet"!==i.connectorType||"eoaOnly"!==i.coinbaseWalletConfig.preference?.options||!K.isMobile||h||RZ()?()=>{(!VT(window.navigator.userAgent)||event?.isTrusted)&&(l(i,u),o(n?VP:q0))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let f=t||d?.metadata?.shortName||d?.name||i.walletClientType;return(0,H.jsxs)(VB,{onClick:a,children:[(0,H.jsx)(VS,{icon:r||d?.image_url?.md,name:f}),(0,H.jsx)("span",{children:f}),(0,H.jsxs)(Vq,{id:"chip-container",children:[c?.walletClientType===u&&c?.chainType===i.chainType?(0,H.jsx)(VW,{color:"gray",children:"Recent"}):(0,H.jsx)("span",{id:"connect-text",children:"Connect"}),"solana"===i.chainType&&(0,H.jsx)(VW,{color:"gray",children:"Solana"})]})]})},VB=g4(Lr).withConfig({displayName:"ConnectWalletButton",componentId:"sc-3baa344c-0"})(["> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),VW=g4(zP).withConfig({displayName:"StyledChip",componentId:"sc-3baa344c-1"})(["margin-left:auto;"]),Vq=g4.div.withConfig({displayName:"ChipContainer",componentId:"sc-3baa344c-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]),Vz=["coinbase_wallet","base_account"],VV=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"],VH=["safe"],VG=["phantom","backpack","solflare","universal_profile"],VK=({walletList:e,walletChainType:t,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:a,forceWallet:o})=>{let s=[],l=[],c=[],d=r.filter(e=>"ethereum-only"===t?"ethereum"===e.chainType:"solana-only"!==t||"solana"===e.chainType),u=d.find(e=>"wallet_connect_v2"===e.connectorType);for(let[r,h]of(o?[o.wallet]:e).entries()){if("detected_ethereum_wallets"===h||"detected_wallets"===h)for(let[e,t]of d.filter(({chainType:e,connectorType:t,walletClientType:r})=>"solana"!==e&&("uniswap_wallet_extension"===r||"uniswap_extension"===r?!i.includes("uniswap"):"crypto.com_wallet_extension"===r||"crypto.com_onchain"===r?!i.includes("cryptocom"):"injected"===t&&!i.includes(r))).entries()){let{walletClientType:i,walletBranding:a,chainType:o}=t;("unknown"===i?l:s).push((0,H.jsx)(VD,{connectOnly:n,provider:i,logo:a.icon,displayName:a.name,connector:t},`${r}-${h}-${i}-${o}-${e}`))}if("detected_solana_wallets"===h||"detected_wallets"===h)for(let[e,a]of d.filter(({chainType:e,walletClientType:r})=>{if("solana"===e)return"ethereum-only"!==t&&!i.includes(r)}).entries()){let{walletClientType:t,walletBranding:i,chainType:o}=a;("unknown"===t?l:s).push((0,H.jsx)(VD,{connectOnly:n,provider:t,logo:i.icon,displayName:i.name,connector:a},`${r}-${h}-${t}-${o}-${e}`))}if(VG.includes(h)){let e=d.find(e=>"injected"===e.connectorType&&e.walletClientType===h||e.connectorType===h);if(e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:e},`${r}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=d.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:e},`${h}-solana`))}}else if(VV.includes(h)){let e=d.find(e=>"uniswap"===h?"uniswap_wallet_extension"===e.walletClientType||"uniswap_extension"===e.walletClientType:"cryptocom"===h?"crypto.com_wallet_extension"===e.walletClientType||"crypto.com_onchain"===e.walletClientType:"injected"===e.connectorType&&e.walletClientType===h);if(a&&!e&&(e=u),e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:e,logo:"injected"===e.connectorType?e.walletBranding.icon:void 0,displayName:"injected"===e.connectorType?e.walletBranding.name:void 0},`${r}-${h}`)),"solana-only"===t||"ethereum-and-solana"===t){let e=d.find(({chainType:e,walletClientType:t})=>"solana"===e&&t===h);e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:e},`${h}-solana`))}}else if(Vz.includes(h)){let e=d.find(({connectorType:e})=>e===h);e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:e,displayName:"coinbase_wallet"===e.walletClientType?"Coinbase":"Base",logo:"coinbase_wallet"===e.walletClientType?Mp:Mf},`${r}-${h}`))}else if(VH.includes(h))u&&c.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:u},`${r}-${h}`));else if("wallet_connect"===h)u&&c.push((0,H.jsx)(VD,{connectOnly:n,provider:h,connector:u,logo:u.walletBranding.icon,displayName:"WalletConnect"},`${r}-${h}`));else if(h===o?.wallet){let t="ethereum"===o.chainType&&e.includes("detected_ethereum_wallets"),i="solana"===o.chainType&&e.includes("detected_solana_wallets");if(e.includes("detected_wallets")||t||i){let e=d.find(({walletClientType:e})=>e===h);e&&s.push((0,H.jsx)(VD,{connectOnly:n,provider:h,displayName:e.walletBranding?.name,logo:e.walletBranding?.icon,connector:e},`${r}-${h}`))}}}return[...l,...s,...c]},VJ=({connectOnly:e})=>{let{closePrivyModal:t,connectors:r}=dH(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:a}=Ux(),{appearance:{palette:{colorScheme:o}}}=Uy(),{accountType:s,walletClientType:l,chainType:c}=Wy(),d=(0,G.useMemo)(()=>s&&"guest"!==s&&"authorization_key"!==s&&"cross_app"!==s?Wu(s):null,[s]),u=n.loginMethodsAndOrder?.primary??[],h=n.loginMethodsAndOrder?.overflow??[],p=(0,G.useMemo)(()=>[...u,...h],[u,h]),f=n.loginMethods.passkey,m=a?.login,g=[];l&&p.includes(l)?g.push(l):s&&p.includes(d?.loginMethod)&&g.push(d?.loginMethod);let[y,w]=(0,G.useState)("default"),[v,b]=(0,G.useState)(Vl({mostRecentlyUsedAccountType:s,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:m?.prefill?.type}));(0,G.useEffect)(()=>{b(Vl({mostRecentlyUsedAccountType:s,smsAvailable:p.includes("sms"),emailAvailable:p.includes("email"),prefilledType:m?.prefill?.type}))},[p,s]),(0,G.useEffect)(()=>{"phone"===s&&b("sms");let e=p.indexOf("sms"),t=p.indexOf("email");e>-1&&e<t&&b("sms")},[s,u,h]);let x=()=>{t({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{w("default")},150)};i.current=x;let _=t=>"email"===t?(0,H.jsx)(VI,{isEditable:"email"===v,setIsEditable:()=>{b("email")},defaultValue:"email"===m?.prefill?.type?m.prefill.value:void 0},t):"sms"===t?(0,H.jsx)(z2,{isEditable:"sms"===v,setIsEditable:()=>{b("sms")},defaultValue:"phone"===m?.prefill?.type?m.prefill.value:void 0},t):"apple"===t?(0,H.jsx)(z5,{provider:"apple"},t):"discord"===t?(0,H.jsx)(z5,{provider:"discord"},t):"farcaster"===t?(0,H.jsx)(zW,{},t):"github"===t?(0,H.jsx)(z5,{provider:"github"},t):"google"===t?(0,H.jsx)(z5,{provider:"google"},t):"linkedin"===t?(0,H.jsx)(z5,{provider:"linkedin"},t):"spotify"===t?(0,H.jsx)(z5,{provider:"spotify"},t):"instagram"===t?(0,H.jsx)(z5,{provider:"instagram"},t):"tiktok"===t?(0,H.jsx)(z5,{provider:"tiktok"},t):"line"===t?(0,H.jsx)(z5,{provider:"line"},t):"twitter"===t?(0,H.jsx)(z5,{provider:"twitter"},t):"telegram"===t?(0,H.jsx)(z7,{},t):t.startsWith("privy:")?(0,H.jsx)(W_,{appId:t.replace("privy:","")},t):VK({walletList:n.appearance.walletList,walletChainType:m?.walletChainType??n.appearance.walletChainType,connectors:r,connectOnly:e,ignore:p,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:t,chainType:c??"ethereum"}}),k=g.flatMap(_),E=u.filter(e=>e!==l&&e!==d?.loginMethod).flatMap(_),C=h.filter(e=>e!==l&&e!==d?.loginMethod).flatMap(_),[A,I]=((e,t)=>{let r=[],n=[];for(let[i,a]of e.entries())i<t?r.push(a):n.push(a);return[r,n]})([...k,...E,...C],VY({primary:E.length+k.length,overflow:C.length}));return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{title:n.appearance.landingHeader,onClose:x,backFn:"default"===y?void 0:()=>{w("default")}}),"default"===y&&(0,H.jsx)(VZ,{}),"default"===y&&("string"==typeof n.appearance.loginMessage?(0,H.jsx)(Lt,{children:n.appearance.loginMessage}):n.appearance.loginMessage),(0,H.jsx)(U8,{style:{overflow:"hidden"},children:(0,H.jsxs)(U7,{$colorScheme:o,children:["default"===y&&(0,H.jsxs)(H.Fragment,{children:[A,I.length>0&&(0,H.jsx)(Vr,{text:"More options",icon:(0,H.jsx)(O7,{}),onClick:()=>w("overflow")})]}),"overflow"===y&&(0,H.jsx)(H.Fragment,{children:I}),f&&"default"===y&&(0,H.jsx)(zJ,{})]})}),n&&(0,H.jsx)(Lc,{app:n}),(0,H.jsx)(Ld,{})]})},VY=({primary:e,overflow:t})=>e<5?e:5===e&&0===t?5:4,VZ=g4(Wv).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-d846420a-0"})(["margin-bottom:16px;"]),VQ={component:()=>{let{app:e}=Ux();return e.loginMethodsAndOrder&&e.loginMethodsAndOrder.primary.length>0?(0,H.jsx)(VJ,{connectOnly:!1}):(0,H.jsx)(Vn,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},VX={component:()=>{let[e,t]=(0,G.useState)(null),[r,n]=(0,G.useState)(!1),[i,a]=(0,G.useState)(null),[o,s]=(0,G.useState)(""),{authenticated:l,user:c}=u5(),{client:d,walletProxy:u,refreshSessionAndUser:h,closePrivyModal:p,createAnalyticsEvent:f}=dH(),{app:m,navigate:g,data:y,onUserCloseViaDialogOrKeybindRef:w}=Ux(),{onSuccess:v,onFailure:b}=y.setWalletPassword,x=u0(c),_="user-passcode"===e?.recoveryMethod,k="user-passcode"===x?.recoveryMethod;(0,G.useEffect)(()=>{l||(g(VQ),b(new dR("User must be authenticated before setting a password on a Privy wallet")))},[l]);let E=()=>(i?b(i):_?v(e):b(new d$("Exited before password was added to wallet")),void p({shouldCallAuthOnSuccess:!1}));return w.current=E,(0,H.jsx)(Wc,{appName:m?.name||"privy",config:{initiatedBy:"user",onCancel:E},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:o,isResettingPassword:k,onPasswordGenerate:()=>s(Wt()),onPasswordChange:s,onSubmit:async()=>{_?(v(e),p({shouldCallAuthOnSuccess:!1})):(n(!0),a(null),await (async()=>{let e=await d.getAccessToken();if(e&&c&&x?.address&&o&&u)try{f({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}});let{entropyId:r,entropyIdVerifier:n}=Mu(c);if(!(await u.setRecovery({accessToken:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:o,recoveryMethod:"user-passcode"})).entropyId)return a(new d$("Error setting password on privy wallet")),void f({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"error setting password"}});let i=await h(),s=u0(i);if(!s)return a(new d$("Error setting password on privy wallet")),void f({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k,reason:"wallet disconnected"}});t(s),f({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:x.address,existingRecoveryMethod:x.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:k}})}catch(e){console.warn(e),a(e instanceof Error?e:Error("Error setting password on privy wallet")),f({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:x.address,reason:e}})}})(),n(!1))},onClose:E})}},V0={component:()=>{let{closePrivyModal:e}=dH(),{data:t,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=Ux(),{onFailure:i}=t.setWalletPassword,a=()=>{i(new d$("Exited before password was added to wallet")),e({shouldCallAuthOnSuccess:!1})};return n.current=a,(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:a}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsxs)(FF,{children:[(0,H.jsx)(O7,{stroke:"var(--privy-color-accent)",width:"64px",height:"64px"}),(0,H.jsx)(FB,{style:{width:24,height:24,position:"absolute",bottom:0,right:0},children:(0,H.jsx)($M,{width:"12px",height:"12px",fill:"white"})})]}),(0,H.jsxs)(Bh,{title:"Secure Your Account",children:["Please set a password to secure your account.",(0,H.jsx)("p",{children:"Losing access to this password and this device will make your account inaccessible."})]})]}),(0,H.jsx)(LG,{onClick:()=>{r(VX)},children:"Add password"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},V1={component:()=>{let[e,t]=(0,G.useState)(!0),{authenticated:r,user:n}=u5(),{walletProxy:i,closePrivyModal:a,createAnalyticsEvent:o,client:s}=dH(),{navigate:l,data:c,onUserCloseViaDialogOrKeybindRef:d}=Ux(),[u,h]=(0,G.useState)(void 0),[p,f]=(0,G.useState)(""),[m,g]=(0,G.useState)(!1),{entropyId:y,entropyIdVerifier:w,onCompleteNavigateTo:v,onSuccess:b,onFailure:x}=c.recoverWallet,_=(e="User exited before their wallet could be recovered")=>{a({shouldCallAuthOnSuccess:!1}),x("string"==typeof e?new d$(e):e)};return d.current=_,(0,G.useEffect)(()=>{if(!r)return _("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:_}),(0,H.jsx)(FU,{}),(0,H.jsxs)(V3,{children:[(0,H.jsxs)(V2,{children:[(0,H.jsx)(y$,{height:48,width:48,stroke:"var(--privy-color-accent)"}),(0,H.jsx)("h3",{style:{color:"var(--privy-color-foreground)"},children:"Enter your password"}),(0,H.jsx)("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please provision your account on this new device. To continue, enter your recovery password."})]}),(0,H.jsxs)("div",{children:[(0,H.jsxs)(BF,{children:[(0,H.jsx)(BU,{type:e?"password":"text",onChange:e=>{var t;(t=e.target.value)&&h(t)},disabled:m,style:{paddingRight:"2.3rem"}}),(0,H.jsx)(Bz,{style:{right:"0.75rem"},children:e?(0,H.jsx)(BH,{onClick:()=>t(!1)}):(0,H.jsx)(BG,{onClick:()=>t(!0)})})]}),!!p&&(0,H.jsx)(V5,{children:p})]}),(0,H.jsxs)("div",{children:[(0,H.jsxs)(FM,{children:[(0,H.jsx)("h4",{children:"Why is this necessary?"}),(0,H.jsx)("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]}),(0,H.jsx)(V4,{loading:m||!i,disabled:!u,onClick:async()=>{g(!0);let e=await s.getAccessToken(),t=uQ(n,y);if(!e||!t||null===u)return _("User must be authenticated and have a Privy wallet before it can be recovered");try{o({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:t.address}}),await i?.recover({accessToken:e,entropyId:y,entropyIdVerifier:w,recoveryPassword:u}),f(""),v?l(v):a({shouldCallAuthOnSuccess:!1}),b?.(t),o({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:t.address}})}catch(e){DE(e)&&("invalid_recovery_pin"===e.type||"invalid_request_arguments"===e.type)?f("Invalid recovery password, please try again."):f("An error has occurred, please try again.")}finally{g(!1)}},$hideAnimations:!y&&m,children:"Recover your account"})]})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},V2=g4.div.withConfig({displayName:"Header",componentId:"sc-96cbd7b-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:20px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),V3=g4.div.withConfig({displayName:"Content",componentId:"sc-96cbd7b-1"})(["display:flex;flex-direction:column;justify-content:space-between;"]),V5=g4.div.withConfig({displayName:"ErrorMessage",componentId:"sc-96cbd7b-2"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),V4=g4(LG).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-96cbd7b-3"})(["",""],({$hideAnimations:e})=>e&&g5(["&&{transition:none;}"])),V6={component:()=>{let{app:e,navigate:t,data:r,onUserCloseViaDialogOrKeybindRef:n}=Ux(),[i,a]=(0,G.useState)(""),[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(),[d,u]=(0,G.useState)(null),{create:h}=B_(),{authenticated:p,user:f}=u5(),{closePrivyModal:m,isNewUserThisSession:g,initializeWalletProxy:y}=dH(),{onSuccess:w,onFailure:v,callAuthOnSuccessOnClose:b,shouldCreateEth:x,shouldCreateSol:_}=r.createWallet,[k,E]=(0,G.useState)(null),C=new Rn(async()=>{try{let e;if(x&&_)e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:f}),e=await h({chainType:"solana",walletIndex:0,latestUser:e.user});else if(_)e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:f});else{if(!x)throw Error("Invalid args to create wallet");e=await h({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:f})}E(e),g?t(Bk):(w(e),m({shouldCallAuthOnSuccess:b}))}catch(e){a(e.message)}});return(0,G.useEffect)(()=>{d||y(3e4).then(e=>u(e))},[d]),(0,G.useEffect)(()=>{if(!p||!f)return t(VQ),void v(Error("User must be authenticated before creating a Privy wallet"))},[p]),n.current=()=>null,(0,H.jsx)(Wc,{config:{initiatedBy:"automatic"},appName:e?.name||"privy",loading:!d,buttonLoading:o,buttonHideAnimations:!k&&o,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{k&&"user-passcode"!==k.account.recoveryMethod?(v(new d$("User created a wallet but failed to set a password for it")),m({shouldCallAuthOnSuccess:!1})):k?(w(k),m({shouldCallAuthOnSuccess:b})):(v(new d$("User wallet creation failed")),m({shouldCallAuthOnSuccess:!1}))},onPasswordChange:c,onPasswordGenerate:()=>c(Wt()),onSubmit:async()=>(s(!0),C.execute().then(()=>new Promise(e=>setTimeout(e,250))).finally(()=>s(!1)))})}},V8=g4.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],e=>e.$color??"var(--privy-color-accent)"),V9=g4.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),V7={component:()=>{let{user:e}=u5(),{client:t,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=dH(),a=Ux(),{entropyId:o,entropyIdVerifier:s}=a.data?.recoverWallet,[l,c]=(0,G.useState)(!1),[d,u]=(0,G.useState)(null),[h,p]=(0,G.useState)(null);function f(){if(!l){if(h)return a.data?.setWalletPassword?.onFailure(h),void i();if(!d)return a.data?.setWalletPassword?.onFailure(Error("User exited set recovery flow")),void i()}}return a.onUserCloseViaDialogOrKeybindRef.current=f,(0,H.jsxs)(H.Fragment,h?{children:[(0,H.jsx)(Lm,{onClose:f},"header"),(0,H.jsx)(V8,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:(0,H.jsx)(yF,{height:38,width:38,stroke:"var(--privy-color-error)"})}),(0,H.jsx)(V9,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),(0,H.jsx)(U6,{style:{minHeight:"2rem"}}),(0,H.jsx)(LK,{onClick:()=>p(null),children:"Try again"}),(0,H.jsx)(Ld,{})]}:{children:[(0,H.jsx)(Lm,{onClose:f},"header"),(0,H.jsx)($I,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),(0,H.jsx)(V9,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),(0,H.jsx)(qI,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),(0,H.jsx)(U6,{style:{minHeight:"2rem"}}),(0,H.jsx)(LK,{loading:l,disabled:!(!l&&!d),onClick:()=>(async function(){c(!0);try{let l=await t.getAccessToken(),c=uQ(e,o);if(!l||!r||!c)return;if(!(await r.setRecovery({accessToken:l,entropyId:o,entropyIdVerifier:s,existingRecoveryMethod:c.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let d=await n();if(!d)throw Error("Unable to set recovery on wallet");let h=uQ(d,c.address);if(!h)throw Error("Unabled to set recovery on wallet");u(!!d),setTimeout(()=>{a.data?.setWalletPassword?.onSuccess(h),i()},1400)}catch(e){p(e)}finally{c(!1)}})(),children:d?"Success":"Confirm"}),(0,H.jsx)(Ld,{})]})}};function He({walletAction:e,availableRecoveryMethods:t,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?V7:r||1===t.length?function({isCreatingWallet:e,skipSplashScreen:t}){return e?V6:t?VX:V0}({isCreatingWallet:"create"===e,skipSplashScreen:n}):Bj}function Ht(e){switch(e){case"user-passcode":return V1;case"google-drive":case"icloud":return BI;default:throw Error("Recovery method not supported")}}let Hr=({children:e,theme:t})=>(0,H.jsxs)(Hn,{$theme:t,children:[(0,H.jsx)($L,{width:"1.25rem",color:"dark"===t?"var(--privy-color-accent-light)":"var(--privy-color-accent-dark)",style:{minWidth:"1.25rem"}}),e]}),Hn=g4.div.withConfig({displayName:"Container",componentId:"sc-b706148c-0"})(["display:flex;gap:0.5rem;background-color:",";color:var(--privy-color-foreground);align-items:flex-start;text-align:left;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"],({$theme:e})=>"dark"===e?"var(--privy-color-background-2)":"var(--privy-color-warn-light)"),Hi=g4.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]),Ha=g4.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]),Ho=g5(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],e=>"error"===e.$state?"border-color: var(--privy-color-error);":""),Hs=g4.div.withConfig({displayName:"Box",componentId:"sc-1660059c-0"})(["",""],Ho),Hl=({errMsg:e,balance:t,address:r,isLoading:n,className:i,title:a,isPulsing:o,showIcon:s,statusColor:l="green"})=>{let c;return c=l||(e?"red":"green"),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(Hs,{className:i,$state:e?"error":void 0,children:[(0,H.jsxs)(Hi,{children:[(0,H.jsx)(Ha,{children:a||"Pay with"}),(0,H.jsx)(DJ,{address:r,showCopyIcon:s||!!e})]}),void 0!==t&&(0,H.jsx)(zP,{isLoading:n,isPulsing:o,color:c,children:t})]}),e&&(0,H.jsx)(q_,{style:{marginTop:"0.25rem"},children:e})]})};function Hc({rpcConfig:e,appId:t,address:r,chain:n}){let{chains:i}=dH(),[a,o]=(0,G.useState)(0n),[s,l]=(0,G.useState)(!1),c=(0,G.useMemo)(()=>{let r=n||i[0];if(r)return(0,dG.createPublicClient)({chain:n,transport:(0,dK.http)(RX(r,e,t))})},[n,e,t]),d=(0,G.useCallback)(async()=>{if(!r||!c)return;l(!0);let e=await c.getBalance({address:r}).catch(console.error);return e?(o(e),l(!1),e):void 0},[c,r,o]);return(0,G.useEffect)(()=>{d().catch(console.error)},[]),{balance:a,isLoading:s,reloadBalance:d}}let Hd="sdk_fiat_on_ramp_completed_with_status",Hu=async({chain:e,address:t,appId:r,rpcConfig:n,erc20Address:i})=>{let a=(0,dG.createPublicClient)({chain:e,transport:(0,dK.http)(RX(e,n,r))});return{balance:await a.readContract({address:i,abi:Hh,functionName:"balanceOf",args:[t]}).catch(()=>0n),chain:e}},Hh=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],Hp=Symbol("solana-funding-plugin"),Hf=async({emitPrivyEvent:e,getAccessToken:t,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:a},{privateKey:o,chainType:s})=>{if(!i)throw e("linkAccount","onError",dN.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new dI("User must be authenticated before linking an account.");let[l,c]=await Promise.all([t(),r(15e3)]);if(!c||!l)throw e("linkAccount","onError",dN.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new dI("User must be authenticated before linking an account.");await c.importWallet({privateKey:o,accessToken:l,chainType:s,mode:"user-controlled-server-wallets-only"===a.embeddedWallets.mode?"tee":"on-device"});let d=await n(),u="solana"===s?uY(d):uJ(d);if(!u)throw e("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return e("createWallet","onSuccess",{wallet:u}),u};class Hm{async handleSignMessage(e){if(!e.params||"string"!=typeof e.params.message)throw Error("Message must be provided as a string for Solana signMessage RPC");let t=await this.signMessage(RV(e.params.message,"base64"));return{signature:RV(t).toString("base64")}}async request(e){if(console.debug("EmbeddedSolanaProvider.request() called with args",e),!await J2())throw Error("User must be authenticated to use embedded Solana wallet");if(!await J9({address:this.address}))throw new dI("Unable to connect to Solana embedded wallet");if("signMessage"===e.method)return await this.handleSignMessage(e);throw Error("Embedded Solana provider does not yet support this RPC method.")}constructor(e,t,r){this.walletProxy=e,this.address=t,this.signMessage=r}}async function Hg({tx:e,accessToken:t,walletProxy:r,entropyId:n,entropyIdVerifier:i,transactingWalletAddress:a,transactingWalletIndex:o}){let s=Fp(e,a),l=Fh(e)?RV(e.message.serialize()):e.serializeMessage(),{response:c}=await r.rpc({accessToken:t,entropyId:n,entropyIdVerifier:i,chainType:"solana",hdWalletIndex:o,request:{method:"signMessage",params:{message:l.toString("base64")}}}),d=RV(c.data.signature,"base64");return e.addSignature(s,d),e}let Hy=async({accessToken:e,appConfig:t,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:a,recoverEmbeddedWallet:o,user:s,walletIndex:l,setModalData:c,openModal:d,chainType:u,setUser:h})=>{if(l<0)throw n("createWallet","onError",dN.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let p=u0(s);if(l>0&&!p)throw n("createWallet","onError",dN.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(t.embeddedWallets.requireUserOwnedRecoveryOnCreate&&"user-controlled-server-wallets-only"===t.embeddedWallets.mode)throw n("createWallet","onError",dN.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!p&&t.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await Hw({emitPrivyEvent:n,setModalData:c,openModal:d,chainType:u});let f=Bb(s,{chainType:u,walletIndex:l})[0];if(f)return{user:s,account:f};if(0===l&&!i)return Hw({emitPrivyEvent:n,setModalData:c,openModal:d,chainType:u});if(!i)throw n("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return Bx({appConfig:t,walletIndex:l,chainType:u,user:s,accessToken:e,proxy:i,refreshSessionAndUser:a,privy:r,recoverEmbeddedWallet:o,setUser:h})},Hw=async({emitPrivyEvent:e,setModalData:t,openModal:r,chainType:n})=>new Promise((i,a)=>{t({createWallet:{onSuccess:({user:t,account:r})=>{e("createWallet","onSuccess",{wallet:r}),i({user:t,account:r})},onFailure:t=>{e("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),a(t)},callAuthOnSuccessOnClose:!1,shouldCreateEth:"ethereum"===n,shouldCreateSol:"solana"===n}}),r(qn)}),Hv=()=>{let e=Uy(),t=U4(),{setModalData:r}=Ux(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:a,openModal:o,refreshSessionAndUser:s,privy:l,client:c}=dH();return{create:async({chainType:d,options:u,latestUser:h})=>{let p=h;if(p||(p=await s()),!p)throw t("createWallet","onError",dN.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await (async({appConfig:e,getAccessToken:t,initializeWalletProxy:r,user:n,privy:i,emitPrivyEvent:a,recoverEmbeddedWallet:o,setModalData:s,openModal:l,setUser:c,options:d,timeoutDuration:u,refreshSessionAndUser:h,chainType:p})=>{let[f,m]=await Promise.all([r(u),t()]);if(!m||!n)throw a("createWallet","onError",dN.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!f&&e.customAuth?.enabled)throw a("createWallet","onError",dN.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(d&&"walletIndex"in d&&"number"==typeof d.walletIndex){if("user-controlled-server-wallets-only"===e.embeddedWallets.mode)throw a("createWallet","onError",dN.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return Hy({accessToken:m,appConfig:e,privy:i,emitPrivyEvent:a,openModal:l,proxy:f,refreshSessionAndUser:h,recoverEmbeddedWallet:o,setModalData:s,user:n,walletIndex:d.walletIndex,chainType:p,setUser:c})}let g=d&&"createAdditional"in d&&d.createAdditional,y=Bb(n,{chainType:p});if(y[0]&&!g)throw a("createWallet","onError",dN.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return Hy({accessToken:m,appConfig:e,privy:i,emitPrivyEvent:a,openModal:l,proxy:f,recoverEmbeddedWallet:o,setModalData:s,user:n,walletIndex:(y.reduce((e,t)=>!e||e.walletIndex<t.walletIndex?t:e,null)?.walletIndex??-1)+1,chainType:p,refreshSessionAndUser:h,setUser:c})})({appConfig:e,privy:l,getAccessToken:()=>c.getAccessToken(),refreshSessionAndUser:s,initializeWalletProxy:n,user:p,emitPrivyEvent:t,recoverEmbeddedWallet:i,setModalData:r,openModal:o,setUser:a,options:u,timeoutDuration:3e4,chainType:d})}}},Hb=()=>{let{importWallet:e}=(()=>{let{user:e}=u5(),{client:t,refreshSessionAndUser:r,initializeWalletProxy:n}=dH(),i=U4(),a=Uy();return{importWallet:(0,G.useCallback)(({privateKey:o})=>Hf({getAccessToken:()=>t.getAccessToken(),user:e,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:a},{privateKey:o,chainType:"ethereum"}),[e,t,r,n,i])}})(),{createWallet:t}=function(e){let{create:t}=Hv();return U3("createWallet",void 0),{createWallet:async e=>{e&&"target"in e&&e&&(e=void 0);let{account:r}=await t({chainType:"ethereum",options:e});return r}}}();return{...(0,G.useContext)(u3),importWallet:e,createWallet:t}},Hx=e=>e.filter(e=>"wallets"===e.method||("exchange"===e.method?"coinbase"===e.provider:"card"===e.method||"payment-request"===e.method?"coinbase"===e.provider||"moonpay"===e.provider:(e.method,!1))),H_=e=>!!e.fundingConfig&&Hx(e.fundingConfig.options).length>=1,Hk=({children:e,theme:t})=>(0,H.jsxs)(HE,{$theme:t,children:[(0,H.jsx)(yF,{width:"3rem",color:"var(--privy-color-error)"}),e]}),HE=g4.div.withConfig({displayName:"Container",componentId:"sc-5400b18f-0"})(["display:flex;gap:0.5rem;"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.75rem;font-weight:400;line-height:1.125rem;padding:0.5rem 0.75rem;&&{border:1px solid var(--privy-color-error);border-radius:var(--privy-border-radius-sm);}"],e=>"dark"===e.$theme?"color: var(--privy-color-error);":"background-color: var(--privy-color-error-light);"),HC=e=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...e,children:(0,H.jsx)("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),HA=e=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...e,children:[(0,H.jsx)("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),(0,H.jsx)("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),(0,H.jsx)("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),(0,H.jsx)("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),(0,H.jsx)("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),(0,H.jsx)("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),(0,H.jsx)("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),HI=e=>{let[t,r]=(0,G.useState)();return(0,G.useEffect)(()=>{e().then(e=>{r(e)}).catch(()=>{})},[]),t},HS=({...e})=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,H.jsx)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),(0,H.jsx)("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),(0,H.jsx)("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),HT=async({address:e,chain:t,rpcConfig:r,privyAppId:n})=>{try{let i=(0,dG.createPublicClient)({chain:t,transport:(0,dK.http)(RX(t,r,n))}),[a,o]=await Promise.all([i.readContract({abi:HP,address:e,functionName:"symbol"}),i.readContract({abi:HP,address:e,functionName:"decimals"})]);return{decimals:o,symbol:a}}catch(e){return console.log(e),null}},HP=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Hj=({size:e})=>(0,H.jsx)(HN,{$size:e,children:(0,H.jsxs)(HO,{children:[(0,H.jsx)(H$,{}),(0,H.jsx)(HR,{})]})}),HN=g4.div.withConfig({displayName:"LoadingContainer",componentId:"sc-3ddaba1c-0"})(["--spinner-size:",";display:flex;justify-content:center;align-items:center;flex-grow:1;@media all and (display-mode:standalone){margin-bottom:30px;}"],e=>e.$size?e.$size:"96px"),HO=g4.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-3ddaba1c-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),H$=g4.div.withConfig({displayName:"CircleFixed",componentId:"sc-3ddaba1c-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid #f1f2f9;border-radius:50%;}"]),HR=g4.div.withConfig({displayName:"CircleRotate",componentId:"sc-3ddaba1c-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:#cbcde1 transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]),HM=g4.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),HU=g4.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),HL=g4.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),HF=g4(HL).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),HD=g4.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],zT),HB=e=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...e,children:[(0,H.jsxs)("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,H.jsx)("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),(0,H.jsxs)("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,H.jsx)("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),(0,H.jsxs)("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[(0,H.jsx)("stop",{offset:"0",stopColor:"#00FFA3"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#DC1FFF"})]}),(0,H.jsx)("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]}),HW={[ef.id]:e=>(0,H.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...e,children:(0,H.jsx)("g",{id:"Layer_x0020_1",children:(0,H.jsxs)("g",{id:"_2405588477232",children:[(0,H.jsx)("rect",{fill:"none",width:"2500",height:"2500"}),(0,H.jsx)("g",{children:(0,H.jsxs)("g",{children:[(0,H.jsx)("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),(0,H.jsx)("g",{children:(0,H.jsxs)("g",{children:[(0,H.jsx)("g",{children:(0,H.jsx)("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),(0,H.jsx)("g",{children:(0,H.jsx)("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),(0,H.jsx)("g",{children:(0,H.jsx)("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),(0,H.jsx)("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),(0,H.jsxs)("g",{children:[(0,H.jsx)("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),(0,H.jsx)("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[eg.id]:e=>(0,H.jsxs)("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[ew.id]:e=>(0,H.jsxs)("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),(0,H.jsx)("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[eb.id]:e=>(0,H.jsxs)("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),(0,H.jsx)("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[ex.id]:e=>(0,H.jsxs)("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("rect",{width:"199.4",height:"207.623",fill:"#121212"}),(0,H.jsxs)("g",{"clip-path":"url(#clip0_2303_643)",children:[(0,H.jsx)("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),(0,H.jsx)("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),(0,H.jsx)("defs",{children:(0,H.jsx)("clipPath",{id:"clip0_2303_643",children:(0,H.jsx)("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[e_.id]:e=>(0,H.jsxs)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...e,children:[(0,H.jsx)("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),(0,H.jsx)("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),(0,H.jsx)("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),(0,H.jsx)("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),(0,H.jsx)("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[ek.id]:e=>(0,H.jsxs)("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),(0,H.jsx)("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),(0,H.jsx)("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[eC.id]:e=>(0,H.jsxs)("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,H.jsx)("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),(0,H.jsx)("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[eS.id]:e=>(0,H.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...e,children:[(0,H.jsx)("g",{clipPath:"url(#clip0)",children:(0,H.jsx)("g",{clipPath:"url(#clip1)",children:(0,H.jsx)("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),(0,H.jsxs)("defs",{children:[(0,H.jsxs)("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[(0,H.jsx)("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),(0,H.jsx)("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),(0,H.jsx)("stop",{offset:"0.4982",stopColor:"#4281D3"}),(0,H.jsx)("stop",{offset:"0.666667",stopColor:"#2E427D"}),(0,H.jsx)("stop",{offset:"0.822917",stopColor:"#230101"}),(0,H.jsx)("stop",{offset:"1",stopColor:"#8F6B40"})]}),(0,H.jsx)("clipPath",{id:"clip0",children:(0,H.jsx)("rect",{width:"30",height:"30",fill:"white"})}),(0,H.jsx)("clipPath",{id:"clip1",children:(0,H.jsx)("rect",{width:"30",height:"30",fill:"white"})})]})]})},Hq=({chainId:e,...t})=>{if("solana"===e)return(0,H.jsx)(HB,{...t});let r=HW[e];return(0,H.jsx)(r||$B,{...t})},Hz=({wallet:e,displayName:t,addressToFund:r,chainId:n,chainName:i,isBridging:a,isErc20Flow:o,totalPriceInNativeCurrency:s,totalPriceInUsd:l,gasPriceInNativeCurrency:c,gasPriceInUsd:d})=>{let u=M4(e.walletClientType);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Hj,{}),(0,H.jsx)(FP,{style:{marginTop:"16px"},children:(0,H.jsx)(VS,{icon:u?.image_url?.md,name:e.walletClientType})}),(0,H.jsx)(Bh,{style:{marginTop:"8px",marginBottom:"12px"},title:`${a?"Bridging":"Confirming"} with ${t}`}),!a&&!o&&(0,H.jsxs)(HM,{children:[(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Total"}),(0,H.jsx)(HD,{children:l||s})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"To"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:r,showCopyIcon:!1})})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Network"}),(0,H.jsx)(HD,{children:(0,H.jsxs)(HV,{children:[(0,H.jsx)(Hq,{chainId:n,height:16,width:16})," ",i]})})]}),c&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Estimated fee"}),(0,H.jsx)(HD,{children:d||c})]})]}),(0,H.jsx)(FD,{height:24}),(0,H.jsx)(Ld,{})]})},HV=g4.div.withConfig({displayName:"NetworkColumn",componentId:"sc-ec6320ce-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]),HH={component:()=>{let{closePrivyModal:e,createAnalyticsEvent:t}=dH(),{navigate:r,setModalData:n,app:i,data:a}=Ux(),{wallets:o}=KH(),s=qj(),[l,c]=(0,G.useState)(0n),[d,u]=(0,G.useState)(null),[h,p]=(0,G.useState)(!1),[f,m]=(0,G.useState)(!1),g=(0,G.useRef)(!1);if(!a?.funding||"solana"!==a.funding.chainType)throw Error("Invalid funding data");let{address:y,amount:w,cluster:v,connectedWalletAddress:b}=a.funding,x=function({name:e,rpcUrl:t}){if(t)return t;switch(e){case"mainnet-beta":return"https://api.mainnet-beta.solana.com";case"testnet":return"https://api.testnet.solana.com";case"devnet":return"https://api.devnet.solana.com"}}(v),{tokenPrice:_}=Di("solana"),{fundingAmountInBaseUnit:k,totalPriceInUsd:E,totalPriceInNativeCurrency:C,feePriceInNativeCurrency:A,feePriceInUsd:I}=Fc({amount:w,fee:l,tokenPrice:_,isUsdc:a.funding.isUSDC}),S=b?o.find(({address:e})=>e===b):o[0],T=M4(S?.walletClientType||"unknown"),P=T?.name||"wallet";return(0,G.useEffect)(()=>{(async()=>{if("solana"===S?.type&&S.sendTransaction&&!h&&!g.current){g.current=!0;try{let e=s(Hp);if(!e)throw new dI("Unable to load solana plugin");let{connection:r,transaction:n}=a.funding?.isUSDC?await e.createSplTransferTransaction({from:S.address,to:y,amount:k,mintAddress:cJ[v.name],cluster:v}):await e.createTransferTransaction({from:S.address,to:y,amount:k,cluster:v}),i=await n.getEstimatedFee(r);null!=i&&c(BigInt(i)),p(!0);let o=await r.simulateTransaction(n);if(o.value.err)return o.value.logs?.find(e=>/insufficient (lamports|funds)/gi.test(e))?void u(new dI(`Wallet ${R1(S.address,void 0,void 0,"solana")} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",o.value.err),void u(new dI("Something went wrong",void 0,dN.TRANSACTION_FAILURE)));let l=await S.sendTransaction(n,r),{value:d,token:h}=a.funding?.isUSDC?{value:(0,cZ.formatUnits)(k,6),token:"USDC"}:{value:(0,cZ.formatUnits)(k,9),token:"SOL"};t({eventName:Hd,payload:{provider:"external",status:"success",txHash:l,rpcEndpoint:x,address:S.address,value:d,chainType:"solana",clusterName:v.name,token:h,destinationAddress:y,destinationValue:d,destinationChainType:"solana",destinationClusterName:v.name,destinationToken:h}}),p(!1),m(!0)}catch(e){if(console.error(e),p(!1),/user rejected the request/gi.test(e.message||""))return void u(new dI("Transaction was rejected by the user",void 0,dN.TRANSACTION_FAILURE));u(new dI("Something went wrong",void 0,dN.TRANSACTION_FAILURE))}}})().catch(console.error).finally(()=>g.current=!1)},[]),(0,G.useEffect)(()=>{d&&(n({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:d,previousScreen:GT}}),r(Wq,!1))},[d]),(0,G.useEffect)(()=>{if(!f)return;let t=setTimeout(e,4e3);return()=>clearTimeout(t)},[f]),f?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($U,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Success!",description:`Youve successfully added ${w} ${a.funding?.isUSDC?"USDC":"SOL"} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}):S&&h?(0,H.jsx)(Hz,{wallet:S,displayName:P,addressToFund:y,isBridging:!1,isErc20Flow:!!a.funding?.isUSDC,totalPriceInUsd:E,totalPriceInNativeCurrency:C,gasPriceInUsd:I,gasPriceInNativeCurrency:A,chainId:"solana",chainName:v.name}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Hj,{}),(0,H.jsx)("div",{style:{marginTop:"1rem"}}),(0,H.jsx)(Ld,{})]})}},HG=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],HK=2n**256n-1n,HJ=({amount:e,decimals:t})=>e===HK?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(Number(e)/10**t),HY=({chains:e,appId:t,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(e.map(async e=>{let a=(0,dG.createPublicClient)({chain:e,transport:(0,dK.http)(RX(e,n,t))}),o=await a.getBalance({address:r}).catch(()=>0n),s=null,l=cK[e.id];if(i&&l){let{balance:i}=await Hu({address:r,chain:e,rpcConfig:n,appId:t,erc20Address:l});s=i}return{balance:o,erc20Balance:s,erc20Address:l,chain:e}})),HZ=({balance:e,className:t,chain:r})=>(0,H.jsx)(Hs,{className:t,$state:void 0,children:(0,H.jsx)(HQ,{balance:e,chain:r})}),HQ=({balance:e,chain:t})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(HX,{children:[(0,H.jsx)(H1,{chainId:"id"in t?t.id:"solana"}),(0,H.jsx)(HD,{children:t.name})]}),(0,H.jsxs)(zP,{isLoading:!1,isPulsing:!1,color:"gray",children:[(0,H.jsx)(H0,{children:(0,H.jsx)($r,{})}),e]})]}),HX=g4.div.withConfig({displayName:"Container",componentId:"sc-d24ae982-0"})(["display:flex;align-items:center;"]),H0=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-d24ae982-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),H1=g4(Hq).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-d24ae982-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]),H2=({options:e,onSelect:t,selected:r,className:n})=>(0,H.jsxs)(_t,{as:H3,children:[(0,H.jsxs)(x9,{as:H8,children:[(0,H.jsx)(HQ,{balance:r.balance,chain:r.chain}),(0,H.jsx)(H6,{height:16})]}),(0,H.jsx)(x7,{as:H5,className:n,children:e.map((e,r)=>(0,H.jsx)(_e,{as:H4,onClick:()=>t(r),children:(0,H.jsx)(HQ,{balance:e.balance,chain:e.chain})},r))})]}),H3=g4.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),H5=g4.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),H4=g4.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),H6=g4(yD).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),H8=g4.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],Ho,H6,H6),H9=({passkeys:e,expanded:t,onUnlink:r,onExpand:n})=>{let[i,a]=(0,G.useState)([]),o=t?e.length:2;return(0,H.jsxs)("div",{children:[(0,H.jsx)(Gc,{children:"Your passkeys"}),(0,H.jsxs)(Ga,{children:[e.slice(0,o).map(e=>(0,H.jsxs)(Gh,{children:[(0,H.jsxs)("div",{children:[(0,H.jsx)(Gd,{children:e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device"}),(0,H.jsxs)(Gu,{children:["Last used: ",(e.latestVerifiedAt??e.verifiedAt).toLocaleString()]})]}),(0,H.jsx)(Gf,{disabled:i.includes(e.credentialId),onClick:()=>(async e=>{a(t=>t.concat([e])),await r(e),a(t=>t.filter(t=>t!==e))})(e.credentialId),children:i.includes(e.credentialId)?(0,H.jsx)(Lz,{}):(0,H.jsx)($K,{height:"1.6em"})})]},e.credentialId)),e.length>2&&!t&&(0,H.jsx)(Gi,{onClick:n,children:"View all"})]})]})},H7=()=>(0,H.jsxs)(Ga,{children:[(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($J,{})}),"Log in with Touch ID, Face ID, or a security key."]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($M,{})}),"More secure than a password."]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($G,{})}),"Takes seconds to set up and use."]})]}),Ge={component:()=>{let{user:e,unlinkPasskey:t}=u5(),{linkWithPasskey:r,closePrivyModal:n}=dH(),i=e?.linkedAccounts.filter(e=>"passkey"===e.type),[a,o]=(0,G.useState)(!1),[s,l]=(0,G.useState)(""),[c,d]=(0,G.useState)(!1),[u,h]=(0,G.useState)(!1);(0,G.useEffect)(()=>{0===i.length&&h(!1)},[i.length]);let p=async e=>(o(!0),await t(e).then(()=>d(!0)).catch(e=>{e instanceof dC&&e.privyErrorCode===dN.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{o(!1)}));return(0,H.jsxs)(H.Fragment,c?{children:[(0,H.jsx)(Lm,{onClose:()=>n()},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)($U,{})}),(0,H.jsx)(Go,{style:{marginBottom:"1.5rem"},children:"Passkeys updated"}),(0,H.jsx)(Gs,{children:" "}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{onClick:()=>n(),children:"Done"})}),(0,H.jsx)(Lu,{})]}:u?{children:[(0,H.jsx)(Lm,{backFn:()=>h(!1),onClose:()=>n()},"header"),(0,H.jsx)(H9,{passkeys:i,expanded:u,onUnlink:p,onExpand:()=>h(!0)}),(0,H.jsx)(Lu,{})]}:{children:[(0,H.jsx)(Lm,{onClose:()=>n()},"header"),(0,H.jsx)(L_,{children:(0,H.jsxs)(Gt,{children:[(0,H.jsx)(Du,{}),(0,H.jsx)(zz,{})]})}),(0,H.jsx)(Go,{children:"Secure your account with a passkey"}),(0,H.jsx)(Gl,{}),0===i.length?(0,H.jsx)(H7,{}):(0,H.jsx)(H9,{passkeys:i,expanded:u,onUnlink:p,onExpand:()=>h(!0)}),(0,H.jsxs)(LT,{style:{marginTop:"12px"},children:[s&&(0,H.jsx)(Gr,{$fail:!0,children:s}),(0,H.jsx)(LG,{onClick:()=>{o(!0),r().then(()=>d(!0)).catch(e=>{if(e instanceof dC){if(e.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(e.privyErrorCode===dN.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{o(!1)})},loading:a,children:"Add new passkey"})]}),(0,H.jsx)(Lu,{})]})}},Gt=g4.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d6832d36-0"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]),Gr=g4.div.withConfig({displayName:"InputHelp",componentId:"sc-d6832d36-1"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-beginngin;width:100%;"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),Gn=g5(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]),Gi=g4.button.withConfig({displayName:"LinkButton",componentId:"sc-d6832d36-2"})(["",""],Gn),Ga=g4.div.withConfig({displayName:"List",componentId:"sc-d6832d36-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),Go=g4.div.withConfig({displayName:"ModalTitle",componentId:"sc-d6832d36-4"})(["font-size:18px;line-height:18px;text-align:center;font-weight:600;"]),Gs=g4.div.withConfig({displayName:"ModalSubTitle",componentId:"sc-d6832d36-5"})(["font-size:0.875rem;text-align:center;margin-top:10px;"]),Gl=g4.div.withConfig({displayName:"SectionSpacer",componentId:"sc-d6832d36-6"})(["height:32px;"]),Gc=g4.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d6832d36-7"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),Gd=g4.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d6832d36-8"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),Gu=g4.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d6832d36-9"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),Gh=g4.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d6832d36-10"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),Gp=g5([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),Gf=g4.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d6832d36-11"})(["",""],Gp),Gm=g4.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),Gg=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),Gy=g4.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),Gw=g4.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),Gv=g4.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),Gb=g4(Gv).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),Gx=g4.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),G_=g4.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),Gk=g4.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),GE=g4.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),GC=({displayName:e,errorMessage:t,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:a,fundingAmountInUsd:o,options:s,selectedOption:l,isPreparing:c,isSubmitting:d,addressToFund:u,fundingWalletAddress:h,onSubmit:p,onSelect:f,onAmountChange:m,erc20ContractInfo:g})=>{let y=(0,G.useRef)(null);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(FU,{}),(0,H.jsx)(V9,{children:"Transfer from another network"}),(0,H.jsxs)(qI,{children:["You need more funds on the ",r.name," network. Bridge from another blockchain network."]}),(0,H.jsxs)(Gy,{style:{marginTop:"2rem"},children:[(0,H.jsxs)(Gw,{onClick:()=>y.current?.focus(),children:[(0,H.jsx)(Gv,{ref:y,value:i,onChange:e=>{let t=e.target.value;if(/^[0-9.]*$/.test(t)&&t.split(".").length-1<=1){let e=/\.$/.test(t)?".":"",r=Number(t.replace(/\.$/,"")||"0");if(Number.isNaN(r))return void m("0");m(r.toString()+e)}}}),(0,H.jsx)(Gx,{children:a})]}),o&&(0,H.jsx)(G_,{children:o})]}),(0,H.jsxs)(HU,{style:{marginTop:"1.5rem"},children:[(0,H.jsx)(HL,{children:"From"}),(0,H.jsx)(HL,{children:cQ(h)})]}),(0,H.jsx)(H2,{selected:{chain:l.chain,balance:l.isErc20Quote?HJ({amount:l.erc20Balance??0n,decimals:g?.decimals??6})+` ${g?.symbol||""}`:L7(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:s.map(({chain:e,balance:t,isErc20Quote:r,erc20Balance:n})=>({chain:e,balance:r?HJ({amount:n??0n,decimals:g?.decimals??6})+` ${g?.symbol||""}`:L7(t,e.nativeCurrency.symbol,3,!0)})),onSelect:f}),(0,H.jsxs)(HU,{style:{marginTop:"1.5rem"},children:[(0,H.jsx)(HL,{children:"To"}),(0,H.jsx)(HL,{children:cQ(u)})]}),(0,H.jsx)(HZ,{chain:r,balance:n}),(0,H.jsx)(q_,{style:{marginTop:"1rem"},children:t}),(0,H.jsxs)(LK,{style:{marginTop:"1rem"},loading:d||c,disabled:c||d,onClick:p,children:["Confirm with ",e]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},GA={component:()=>{let{rpcConfig:e,appId:t,closePrivyModal:r,createAnalyticsEvent:n}=dH(),{navigate:i,setModalData:a,app:o,data:s}=Ux(),{wallets:l}=Do(),[c,d]=(0,G.useState)(!1),[u,h]=(0,G.useState)(0n),[p,f]=(0,G.useState)(!1),[m,g]=(0,G.useState)(null),[y,w]=(0,G.useState)(null),[v,b]=(0,G.useState)([]),[x,_]=(0,G.useState)(0),[k,E]=(0,G.useState)(!1),[C,A]=(0,G.useState)(!1),[I,S]=(0,G.useState)(!1),[T,P]=(0,G.useState)(!1),[j,N]=(0,G.useState)(),[O,$]=(0,G.useState)();if(!s?.funding||"ethereum"!==s.funding.chainType)throw Error("Invalid funding data");let{erc20ContractInfo:R,chain:M,connectedWalletAddress:U}=s.funding,L=s.funding.address,F=s.funding.erc20Address,[D,B]=(0,G.useState)(s.funding.amount);(0,G.useEffect)(()=>{F&&!R&&g(Error("Unable to fetch token details"))},[]);let W=!!F&&!!R,q=W?BigInt(parseFloat(D)*10**R.decimals):dZ(D),z=U?l.find(({address:e})=>e===U):l[0],V=M4(z?.walletClientType||"unknown"),K=V?.name||"wallet",[J,Y]=(0,G.useState)(null);(0,G.useEffect)(()=>{(async()=>{if(!z)return;let e=await z.getEthereumProvider();Y(uR({account:z.address,transport:uU(e)}).extend(uL.publicActions))})().catch(console.error)},[z]);let[Z,Q]=(0,G.useState)(0n);(0,G.useEffect)(()=>{(0,dG.createPublicClient)({chain:M,transport:(0,dK.http)(RX(M,e,t))}).getBalance({address:L}).then(Q).catch(console.error)},[]);let[X,ee]=(0,G.useState)(0n);(0,G.useEffect)(()=>{W&&Hu({chain:M,address:L,appId:t,rpcConfig:e,erc20Address:F}).then(e=>ee(e.balance)).catch(console.error)},[]);let{tokenPrice:et}=Di(M.id),[er,en]=(0,G.useState)({to:L,chain:M,value:q,data:void 0});(0,G.useEffect)(()=>{(async()=>{let r,i;if(!J||!z||k||I)return;E(!0);let a=(0,dG.createPublicClient)({chain:er.chain,transport:(0,dK.http)(RX(er.chain,e,t))});if(W&&!er.data)return await a.simulateContract({address:F,chain:er.chain,abi:HG,functionName:"transfer",args:[L,q],account:z.address}).catch(e=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",e)})?(E(!1),void en({to:F,chain:er.chain,data:(0,uP.encodeFunctionData)({abi:HG,functionName:"transfer",args:[L,q]}),value:"0x0"})):(E(!1),void f(!0));try{r=await a.prepareTransactionRequest({account:z.address,to:er.to,chain:er.chain,data:er.data,value:BigInt(er.value??0)})}catch(e){if(console.error(e),v.length>1)w(e.shortMessage??"Something went wrong");else if(C&&0===v.length)return void g(new dI(`Wallet ${R1(z.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE))}if(!r)return E(!1),void f(!0);E(!1),S(!0),d(!0),h(r.gas);try{await J.switchChain({id:er.chain.id})}catch(e){await J.addChain({chain:er.chain}),await J.switchChain({id:er.chain.id})}try{i=await J.sendTransaction(r)}catch(e){if(console.error(e),"TransactionExecutionError"===e.name)if(v.length<1){let t=e.shortMessage;(e.shortMessage.includes("rejected the request")||e.details.includes("rejected the request"))&&(t="User rejected the request."),g(new dI(t,void 0,dN.TRANSACTION_FAILURE))}else w(e.shortMessage??"Something went wrong")}i?(await J.waitForTransactionReceipt({hash:i}),S(!1),C?(N(i),$("pending")):(P(!0),n({eventName:Hd,payload:{provider:"external",status:"success",txHash:i,address:z.address,chainId:er.chain.id,chainType:"ethereum",value:er.value?(0,cZ.formatUnits)(BigInt(er.value),R?.decimals??18):void 0,token:R?.symbol??F??"ETH",destinationAddress:L,destinationChainId:M.id,destinationChainType:"ethereum",destinationValue:q?(0,cZ.formatUnits)(q,R?.decimals??18):void 0,destinationToken:R?.symbol??F??M.nativeCurrency.name}}))):S(!1)})().catch(console.error)},[J,er]),(0,G.useEffect)(()=>{(async()=>{if(!p||!J||!z)return;let r=sq(o.chains).filter(e=>e.id!==M.id&&!!e.testnet==!!M.testnet);W&&r.unshift(M);let n=await HY({chains:r,address:z.address,appId:t,rpcConfig:e,includeUsdc:s.funding?.isUSDC}),i=W?n.filter(e=>e.balance>0n):n.filter(e=>e.balance>q);if(i.length<1)return void g(new dI(`Wallet ${R1(z.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(W?(t.erc20Balance??0n)-(e.erc20Balance??0n):t.balance-e.balance));let a=i.flatMap(e=>{let t=[{...e,isErc20Quote:!1,isTestnet:!!M.testnet,input:WR({amount:q.toString(),user:z.address,recipient:L,destinationChainId:M.id,destinationCurrency:F,originChainId:e.chain.id})}];return W&&F&&(e.erc20Balance??0n)>=q&&t.push({...e,isErc20Quote:!0,isTestnet:!!M.testnet,input:WR({amount:q.toString(),user:z.address,recipient:L,destinationChainId:M.id,destinationCurrency:F,originChainId:e.chain.id,originCurrency:e.erc20Address})}),t}),l=(await Promise.allSettled(a.map(async e=>({...e,quote:await WL(e)})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(l.length<1)return void g(new dI(`Wallet ${R1(z.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE));let c=l.map(e=>({bridgeTx:WF(e.quote),balance:e.balance,chain:e.chain,erc20Balance:e.erc20Balance,isErc20Quote:e.isErc20Quote})).filter(e=>!!e.bridgeTx);if(c.length>1)return void b(c);let d=c[0];d?(A(!0),en({data:d.bridgeTx.data,to:d.bridgeTx.to,value:d.bridgeTx.value,chain:d.chain})):g(new dI(`Wallet ${R1(z.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE))})().catch(console.error)},[p]),WD({transactionHash:j,wallet:z,isTestnet:!!M.testnet,bridgingStatus:O,setBridgingStatus:$,onSuccess({transactionHash:e,wallet:t}){A(!1),P(!0),n({eventName:Hd,payload:{provider:"external",status:"success",txHash:e,address:t.address,chainId:er.chain.id,chainType:"ethereum",value:er.value?(0,cZ.formatUnits)(BigInt(er.value),R?.decimals??18):void 0,token:R?.symbol??F??"ETH",destinationAddress:L,destinationChainId:M.id,destinationChainType:"ethereum",destinationValue:q?(0,cZ.formatUnits)(q,R?.decimals??18):void 0,destinationToken:R?.symbol??F??M.nativeCurrency.name}})},onFailure({error:e}){A(!1),g(e)}}),(0,G.useEffect)(()=>{m&&(a({funding:s?.funding,sendTransaction:s?.sendTransaction,errorModalData:{error:m,previousScreen:GT}}),i(Wq,!1))},[m]);let ei=!W&&et?L8(D??"0",et):void 0,ea=W?u:Ft([u,q]),eo=ea&&et?L9(ea,et):void 0,es=ea?L7(ea,s?.funding?.erc20Address?s?.funding?.erc20ContractInfo?.symbol||"ETH":s?.funding?.chain.nativeCurrency.symbol||"ETH"):void 0,el=u&&et?L9(u,et):void 0,ec=u?L7(u,M?.nativeCurrency?.symbol||"ETH"):void 0;if((0,G.useEffect)(()=>{if(!T)return;let e=setTimeout(r,4e3);return()=>clearTimeout(e)},[T]),T)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($U,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Success!",description:`Youve successfully added ${D} ${W?R.symbol:M.nativeCurrency.symbol} to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]});let ed=W?`${HJ({amount:X,decimals:R.decimals})}  ${R.symbol}`:L7(Z,M.nativeCurrency.symbol,3,!0),eu=v[x];return v.length>1&&eu?(0,H.jsx)(GC,{displayName:K,configuredFundingChain:M,erc20ContractInfo:R,formattedBalance:ed,fundingAmount:D,fundingCurrency:W?R.symbol:M.nativeCurrency.symbol,fundingAmountInUsd:ei,options:v,selectedOption:eu,isPreparing:k,isSubmitting:I,addressToFund:L,fundingWalletAddress:z?.address||"",errorMessage:y,onSubmit:()=>{s.funding?.amount!==D?(async function(){if(z&&eu)try{let e=await WL({isTestnet:!!M.testnet,input:WR({amount:q.toString(),user:z.address,recipient:L,destinationChainId:M.id,destinationCurrency:F,originChainId:eu.chain.id})}),t=WF(e);if(!t)throw Error("Invalid transaction request");A(!0),en({data:t.data,to:t.to,value:t.value,chain:eu.chain})}catch(e){console.error(e),g(new dI("Unable to fetch quotes for bridging",e,dN.INSUFFICIENT_BALANCE))}})().catch(console.error):en({to:eu.bridgeTx.to,data:eu.bridgeTx.data,value:eu.bridgeTx.value,chain:eu.chain})},onSelect:e=>{e!==x&&(w(null),_(e))},onAmountChange:B}):c&&u&&z&&s?.funding?(0,H.jsx)(Hz,{wallet:z,displayName:K,addressToFund:L,isBridging:C,isErc20Flow:W,totalPriceInUsd:eo,totalPriceInNativeCurrency:es,gasPriceInUsd:el,gasPriceInNativeCurrency:ec,chainId:M.id,chainName:M.name}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Hj,{}),(0,H.jsx)("div",{style:{marginTop:"1rem"}}),(0,H.jsx)(Ld,{})]})}},GI={component:function(){let{closePrivyModal:e,createAnalyticsEvent:t}=dH(),{navigate:r,setModalData:n,app:i,data:a}=Ux(),{wallets:o}=KH(),s=(0,G.useRef)(!1),l=qj(),[c,d]=(0,G.useState)(!1),[u,h]=(0,G.useState)(!1),[p,f]=(0,G.useState)(null),[m,g]=(0,G.useState)(),[y,w]=(0,G.useState)();if(!a?.funding||"ethereum"!==a.funding.chainType)throw Error("Invalid funding data");let{amount:v,connectedWalletAddress:b,chain:x,cluster:_,isUSDC:k}=a.funding,E=a.funding.address,C=a.funding.erc20Address,A=a.funding.isUSDC?"USDC":x.nativeCurrency.symbol,I=_??{name:"mainnet-beta"},S=b?o.find(({address:e})=>e===b):o[0],T=M4(S?.walletClientType||"unknown"),P=T?.name||"wallet";return(0,G.useEffect)(()=>{(async function(){if(!S||!x||s.current)return;let e=l(Hp);if(!e)return void f(new dI("Unable to solana plugin"));s.current=!0,x?.testnet&&console.warn("Solana testnets are not supported for bridging");let t=k?1e6*parseFloat(v):dZ(v),r=await WL({isTestnet:!!x.testnet,input:WR({amount:t.toString(),user:S.address,recipient:E,destinationChainId:x.id,originChainId:0x2f3fb341,originCurrency:k?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":Ul,destinationCurrency:k?C:void 0})}).catch(console.error);if(!r)return void f(new dI(`Unable to fetch quotes for bridging. Wallet ${((e,t=3,r=4)=>R1(e,t,r,"solana"))(S.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE));let n=await e.createBridgeTransactionFromRelayQuote({quote:r,from:S.address,cluster:I});if(n)try{d(!0);let{connection:e,transaction:t}=n,i=await e.simulateTransaction(t);if(i.value.err)return i.value.logs?.find(e=>/insufficient (lamports|funds)/gi.test(e))?void f(new dI(`Wallet ${((e,t=3,r=4)=>R1(e,t,r,"solana"))(S?.address)} does not have enough funds. ${r.details.currencyIn.amountFormatted} ${A} are needed to complete the transaction.`,void 0,dN.INSUFFICIENT_BALANCE)):(console.error("Transaction failed:",i.value.err),void f(new dI("Something went wrong",void 0,dN.TRANSACTION_FAILURE)));let a=await S.sendTransaction(t,e),o=await e.confirmTransaction(a);if(o.value.err)return console.error("Transaction failed:",o.value.err),void f(new dI("Something went wrong",void 0,dN.TRANSACTION_FAILURE));g(a),w("pending")}catch(e){if(console.error(e),/user rejected the request/gi.test(e.message||""))return void f(new dI("Transaction was rejected by the user",void 0,dN.TRANSACTION_FAILURE));f(new dI("Something went wrong",void 0,dN.TRANSACTION_FAILURE))}else f(new dI(`Unable to select bridge option from quotes. Wallet ${((e,t=3,r=4)=>R1(e,t,r,"solana"))(S.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),WD({transactionHash:m,wallet:S,isTestnet:!1,bridgingStatus:y,setBridgingStatus:w,onSuccess({transactionHash:e,wallet:r}){d(!1),h(!0),t({eventName:Hd,payload:{provider:"external",status:"success",txHash:e,address:r.address,chainType:"solana",clusterName:I.name,token:"SOL",destinationAddress:E,destinationChainId:x.id,destinationChainType:"ethereum",destinationValue:v,destinationToken:k?"USDC":"ETH"}})},onFailure({error:e}){d(!1),f(e)}}),(0,G.useEffect)(()=>{if(!u)return;let t=setTimeout(e,4e3);return()=>clearTimeout(t)},[u]),(0,G.useEffect)(()=>{p&&(n({funding:a?.funding,sendTransaction:a?.sendTransaction,errorModalData:{error:p,previousScreen:GT}}),r(Wq,!1))},[p]),u?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($U,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Success!",description:`Youve successfully added ${v} ${A} to your ${i.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}):c&&S?(0,H.jsx)(Hz,{wallet:S,displayName:P,addressToFund:E,isBridging:c,isErc20Flow:!1,chainId:x.id,chainName:x.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Hj,{}),(0,H.jsx)("div",{style:{marginTop:"1rem"}}),(0,H.jsx)(Ld,{})]})}},GS={component:()=>{let{data:e,setModalData:t}=Ux(),r=e?.funding,n="solana"===r.chainType,i=(0,G.useRef)(null),{tokenPrice:a}=Di(n?"solana":r.chain.id),o=n?void 0:r,s=!(!o?.erc20Address||o?.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?r.erc20ContractInfo?.symbol:r.chain.nativeCurrency.symbol||"ETH",c=parseFloat(r.amount),d=!isNaN(c)&&c>0,u=a?L8(r.amount,a):void 0;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(V9,{children:"Confirm or edit amount"}),(0,H.jsxs)(F$,{style:{marginTop:"32px"},children:[(0,H.jsx)(Gy,{children:s?(0,H.jsx)(Hj,{size:"50px"}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(Gw,{onClick:()=>i.current?.focus(),children:[(0,H.jsx)(Gb,{ref:i,value:r.amount,onChange:n=>{let i=n.target.value;/^[0-9.]*$/.test(i)&&i.split(".").length-1<=1&&t({...e,funding:{...r,amount:i}})}}),(0,H.jsx)(Gx,{children:l})]}),!o?.erc20Address&&(0,H.jsx)(G_,{children:u&&d?`${u} USD`:""})]})}),(0,H.jsx)(LK,{style:{marginTop:"1rem"},disabled:!d,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),(0,H.jsx)(Ld,{})]})}},GT={component:()=>{let e,{connectors:t}=dH(),{app:r,setModalData:n,data:i,navigate:a}=Ux(),{wallets:o}=Do(),{wallets:s}=KH(),[l,c]=(0,G.useState)("default"),d="solana"===i?.funding?.chainType,u=!!i?.funding?.crossChainBridgingEnabled;e="ethereum"===i?.funding?.chainType?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":u&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":u&&!i.funding?.isUSDC?"ethereum-and-solana":"solana-only";let h=o.filter(e=>"privy"!==e.walletClientType),p=h.map(e=>e.walletClientType),f=s.filter(e=>"privy"!==e.walletClientType),m=f.map(e=>e.walletClientType),g=[],y={...i.funding};y.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1);let w=({address:e,walletChainType:t})=>{n({...i,funding:{...y,connectedWalletAddress:e,onContinueWithExternalWallet:()=>a(b({destChainType:d?"solana":"ethereum",sourceChainType:t}))}}),a(GS)};"solana-only"!==e&&g.push(...h.map((e,t)=>(0,H.jsx)(GP,{onClick:()=>w({address:e.address,walletChainType:"ethereum"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),"ethereum-only"!==e&&g.push(...f.map((e,t)=>(0,H.jsx)(GP,{onClick:()=>w({address:e.address,walletChainType:"solana"}),icon:e.meta.icon,name:e.meta.name,chainType:e.type},t))),g.push(...VK({walletList:r.appearance.walletList.filter(e=>!h.some(t=>t.walletClientType===e)&&!f.some(t=>t.walletClientType===e)),walletChainType:e,connectors:t,connectOnly:!0,ignore:[...r.appearance.walletList,...p,...m],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let v=(0,H.jsx)(Vt,{text:"More wallets",onClick:()=>c("overflow")}),b=({sourceChainType:e,destChainType:t})=>"ethereum"===e&&"solana"===t?Jl:"ethereum"===e&&"ethereum"===t?GA:"solana"===e&&"ethereum"===t?GI:HH;return(0,G.useEffect)(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({walletChainType:e})=>(n({...i,funding:{...y,onContinueWithExternalWallet:()=>{a(b({destChainType:d?"solana":"ethereum",sourceChainType:e??"ethereum"}))}}}),GS)}})},[]),(0,H.jsxs)(H.Fragment,"overflow"===l?{children:[(0,H.jsx)(Lm,{backFn:()=>c("default")},"header"),(0,H.jsxs)(U9,{children:[(0,H.jsx)(qI,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),g]}),(0,H.jsx)(Ld,{})]}:{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Bh,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),(0,H.jsxs)(U9,{children:[g.length>4?g.slice(0,3):g,g.length>4&&v]}),(0,H.jsx)(Ld,{})]})}},GP=({onClick:e,icon:t,name:r,chainType:n})=>(0,H.jsxs)(Lr,{onClick:e,children:[(0,H.jsx)(Gg,{style:{width:20},children:(0,H.jsx)("img",{src:t})}),r,(0,H.jsx)(zP,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),"solana"===n&&(0,H.jsx)(zP,{color:"gray",children:"Solana"})]}),Gj={component:()=>{let{data:e,setModalData:t,navigate:r,navigateBack:n}=Ux(),{closePrivyModal:i,createAnalyticsEvent:a,client:o}=dH(),[s,l]=(0,G.useState)("pending-in-flow"),c=(0,G.useRef)(0),d={...e?.funding,showAlternateFundingMethod:!0};d.usingDefaultFundingMethod&&(d.usingDefaultFundingMethod=!1);let{partnerUserId:u,popup:h}=e?.coinbaseOnrampStatus??{};return(0,G.useEffect)(()=>{if("pending-in-flow"===s||"pending-after-flow"===s){let e=setInterval(async()=>{if(u)try{let{status:e}=await o.getCoinbaseOnRampStatus({partnerUserId:u});if("success"===e)return void l("success");if("failure"===e)throw Error("There was an error completing Coinbase Onramp flow.");if(c.current>=3)return t({funding:d}),void r(GK);h?.closed&&(c.current=c.current+1,l("pending-after-flow"))}catch(e){console.error(e),l("error"),a({eventName:Hd,payload:{status:"failure",provider:"coinbase-onramp",error:e.message}}),t({funding:{...d,errorMessage:"Something went wrong adding funds. Please try again or use another method."}}),r(GK)}},1500);return()=>clearInterval(e)}},[u,h,s]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{title:"Fund account",backFn:()=>{t({funding:d}),n()}},"header"),(0,H.jsx)(GN,{status:s,onClickCta:i}),(0,H.jsx)(Ld,{})]})}},GN=({status:e,onClickCta:t})=>{let{title:r,body:n,cta:i}=(0,G.useMemo)(()=>(e=>{switch(e){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(e),[e]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(GR,{children:[(0,H.jsx)(GO,{isSucccess:"success"===e}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:r}),(0,H.jsx)(G$,{children:n})]})]}),i&&(0,H.jsx)(LG,{onClick:t,children:i})]})},GO=({isSucccess:e})=>{if(!e){let e="var(--privy-color-foreground-4)";return(0,H.jsxs)("div",{style:{position:"relative"},children:[(0,H.jsx)(LW,{color:e,style:{position:"absolute"}}),(0,H.jsx)(Lq,{color:e}),(0,H.jsx)(Mh,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let t=e?$s:()=>(0,H.jsx)($C,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}),r=e?"var(--privy-color-success)":"var(--privy-color-foreground-4)";return(0,H.jsx)("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,H.jsx)(t,{width:"4rem",height:"4rem",color:r})})},G$=g4.p.withConfig({displayName:"StatusBody",componentId:"sc-ebf88779-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),GR=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-ebf88779-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),GM={[e_.id]:"ethereum",[ew.id]:"base",[ek.id]:"optimism",[eC.id]:"polygon",[ef.id]:"arbitrum"},GU=(e,t,r,n,i,a)=>new Promise(async(o,s)=>{let l=Ba();if(!l)return void s(Error("Unable to initialize flow"));let c="ethereum"===t.chainType?function(e){let t=GM[e];if(!t)throw new dI(`Unsupported chainId: ${e} for Coinbase Onramp`);return t}(t.chain.id):"solana",d=t.isUSDC?"USDC":"ethereum"===t.chainType?t.chain.id===eC.id?"POL":"ETH":"SOL",u=await e.initCoinbaseOnRamp({addresses:[{address:t.address,blockchains:[c]}],assets:[d]}),{url:h}=function({appId:e,input:t,amount:r,blockchain:n,asset:i,experience:a}){let o=new URL("https://pay.coinbase.com/buy/select-asset");return o.searchParams.set("appId",t.app_id),o.searchParams.set("sessionToken",t.session_token),o.searchParams.set("endPartnerName",`privy:${e}`),o.searchParams.set("defaultExperience",a),o.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),o.searchParams.set("defaultNetwork",n),o.searchParams.set("defaultPaymentMethod",c2[a]),o.searchParams.set("defaultAsset",c3[i]),o.searchParams.set("partnerUserId",t.partner_user_id),{url:o}}({appId:e.getAppId(),input:u,amount:t.amount,blockchain:c,asset:d,experience:a});l.location=h.toString();let p={...i?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(p.usingDefaultFundingMethod=!1),r({funding:p,coinbaseOnrampStatus:{popup:l}}),n(Gj),e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.cluster.name}}),setTimeout(()=>{r({funding:p,coinbaseOnrampStatus:{partnerUserId:u.partner_user_id,popup:l}})},5e3),o()}),GL=({size:e=61,...t})=>(0,H.jsx)("svg",{width:e,height:e,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:(0,H.jsxs)("g",{id:"moonpay_symbol_wht 2",children:[(0,H.jsx)("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),(0,H.jsx)("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),GF={component:()=>{let{app:e,data:t,setModalData:r,navigateBack:n}=Ux(),{closePrivyModal:i}=dH(),{externalTransactionId:a}=t?.moonpayStatus,o=function(e,t=!1){let[r,n]=(0,G.useState)(null),{createAnalyticsEvent:i}=dH(),{data:a,navigate:o,setModalData:s}=Ux(),l=a?.funding,c=(0,G.useRef)(0);return(0,G.useEffect)(()=>{let r=setInterval(async()=>{if(e)try{let[a]=await async function(e,t){return $q(`https://api.moonpay.com/v1/transactions/ext/${e}`,{query:{apiKey:t?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(e,t),c="waitingAuthorization"===a.status&&"credit_debit_card"===a.paymentMethod?"pending":a.status;if(["failed","completed","awaitingAuthorization"].includes(c)&&(i({eventName:Hd,payload:{status:c,provider:GJ,paymentMethod:a.paymentMethod,cardPaymentType:a.cardPaymentType,currency:a.currency?.code,baseCurrencyAmount:a.baseCurrencyAmount,quoteCurrencyAmount:a.quoteCurrencyAmount,feeAmount:a.feeAmount,extraFeeAmount:a.extraFeeAmount,networkFeeAmount:a.networkFeeAmount,isSandbox:t}}),clearInterval(r)),"failed"===c||"serviceFailure"===c)return s({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),void o(GK);n(c)}catch(e){404!==e.response?.status&&(c.current+=1),c.current>=3&&(i({eventName:Hd,payload:{status:"serviceFailure",provider:GJ}}),clearInterval(r),s({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."}}),o(GK))}},3e3);return()=>clearInterval(r)},[e,c]),r}(a||null,e.fundingMethodConfig.moonpay.useSandbox??!1);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{title:"Fund account",backFn:()=>{let e={...t?.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),r({funding:e}),n()}}),(0,H.jsx)(GD,{status:o,onClickCta:i}),(0,H.jsx)(Ld,{})]})}},GD=({status:e,onClickCta:t})=>{let{title:r,body:n,cta:i}=(0,G.useMemo)(()=>(e=>{switch(e){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(e),[e]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(Gq,{children:[(0,H.jsx)(GB,{status:e}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:r}),(0,H.jsx)(GW,{children:n})]})]}),i&&(0,H.jsx)(LG,{onClick:t,children:i})]})},GB=({status:e})=>{if(!e||"pending"===e){let e="var(--privy-color-foreground-4)";return(0,H.jsxs)("div",{style:{position:"relative"},children:[(0,H.jsx)(LW,{color:e,style:{position:"absolute"}}),(0,H.jsx)(Lq,{color:e}),(0,H.jsx)(GL,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let t=(e=>{switch(e){case"completed":return $s;case"waitingAuthorization":return()=>(0,H.jsx)($C,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(e),r=e?({completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"})[e]:"var(--privy-color-foreground-4)";return(0,H.jsx)("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:t&&(0,H.jsx)(t,{width:"4rem",height:"4rem",color:r})})},GW=g4.p.withConfig({displayName:"StatusBody",componentId:"sc-7f0a56e4-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),Gq=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-7f0a56e4-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),Gz=async(e,t,r,n,i,a,o,s)=>{let l=Ba();if(!l)throw Error("Unable to initialize flow");let c="ethereum"===t.chainType?t.moonpayConfigOverride?.currencyCode??function(e,t){switch(e){case ef.id:return"native-currency"===t?"ETH_ARBITRUM":"USDC_ARBITRUM";case eg.id:return"AVAX_CCHAIN";case ew.id:return"native-currency"===t?"ETH_BASE":"USDC_BASE";case eb.id:return"CELO_CELO";case eC.id:return"native-currency"===t?"MATIC_POLYGON":"USDC_POLYGON";case e_.id:return"native-currency"===t?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${e} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}(t.chain.id,n):t.isUSDC?"USDC_SOL":"SOL",{signedUrl:d,externalTransactionId:u}=await e.signMoonpayOnRampUrl({address:t.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},...t.moonpayConfigOverride,paymentMethod:s,currencyCode:c,quoteCurrencyAmount:t.moonpayConfigOverride?.quoteCurrencyAmount??parseFloat(t.amount)}});e.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:t.amount,chainType:t.chainType,chainId:"ethereum"===t.chainType?t.chain.id:t.cluster.name}}),l.location=d;let h={...o?.funding,showAlternateFundingMethod:!0};t.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:h}),a(GF),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:u},funding:h})},8e3)},GV=async e=>"undefined"!=typeof window&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:e}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment(),GH=()=>GV("https://apple.com/apple-pay"),GG=()=>GV("https://google.com/pay"),GK={component:()=>{let{wallets:e}=Do(),{wallets:t}=KH(),{navigate:r,data:n,setModalData:i}=Ux(),{client:a}=dH(),o=Uy(),s=n?.funding,l=HI(GH),c=HI(GG),d="solana"===s.chainType,u=d?void 0:s,h=(0,G.useMemo)(()=>((e,t,r,n,i,a)=>{let o,s,l="solana"===r.chainType,c=l?void 0:r,d=r.isUSDC?"USDC":c?.erc20Address?void 0:"native-currency",u=!!l||d&&function(e,t){switch(t){case"native-currency":return sC.has(e);case"USDC":return sA.has(e);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}(Number(r.chain.id),d),h=!!l||d&&((e,t)=>{switch(t){case"native-currency":return c0.has(e);case"USDC":return c1.has(e);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}})(Number(r.chain.id),d),p=[];for(let o of(r.preferredCardProvider&&r.supportedOptions.sort(e=>e.provider===r.preferredCardProvider?-1:1),r.supportedOptions))"card"===o.method&&"coinbase"===o.provider&&h&&p.push(()=>GU(t,r,n,i,a,"buy")),"card"===o.method&&"moonpay"===o.provider&&u&&d&&p.push(()=>Gz(t,r,e,d,n,i,a,"credit_debit_card"));for(let e of r.supportedOptions)"exchange"===e.method&&"coinbase"===e.provider&&h&&(o=()=>GU(t,r,n,i,a,"buy"));for(let e of a?.funding?.supportedOptions??[])"wallets"===e.method&&(s=()=>i(GT));return{onFundWithCard:p,onFundWithExchange:o,onFundWithWallet:s}})(o,a,s,i,r,n),[o,a,s,n,i,r]),p=d?t.find(({address:e})=>e===s.address):e.find(({address:e})=>(0,J.getAddress)(e)===(0,J.getAddress)(s.address)),f=M4(p?.walletClientType||"unknown"),m=f?.name||"wallet",g=p&&"privy"!==p.walletClientType?m:o.name,y=(0,G.useMemo)(()=>s.uiConfig?.landing?.title?s.uiConfig?.landing?.title:`Add funds to your ${g?.toLowerCase().endsWith("wallet")?g:g+" wallet"}`,[s.uiConfig?.landing?.title,g]);(0,G.useEffect)(()=>{if(s?.defaultFundingMethod&&s.usingDefaultFundingMethod)switch(i({funding:{...s,usingDefaultFundingMethod:!1}}),s?.defaultFundingMethod){case"card":h.onFundWithCard[0]&&h.onFundWithCard[0]();break;case"exchange":h.onFundWithExchange&&h.onFundWithExchange();break;case"wallet":h.onFundWithWallet&&h.onFundWithWallet();break;case"manual":r(KG)}},[]),(0,G.useEffect)(()=>{u?.erc20Address&&!u.erc20ContractInfo&&HT({address:u.erc20Address,chain:u.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(e=>{i({...n,funding:{...u,erc20ContractInfo:e?{symbol:e.symbol,decimals:e.decimals}:void 0}})}).catch(console.error)},[u?.erc20Address,u?.chain]);let w=!(!u?.erc20Address||u?.erc20ContractInfo);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)("h3",{children:y}),(0,H.jsxs)(Gm,{children:[s.errorMessage&&(0,H.jsx)(Hk,{theme:o.appearance.palette.colorScheme,children:s.errorMessage}),h.onFundWithCard?.[0]&&(0,H.jsxs)(Lr,{disabled:w,onClick:h.onFundWithCard[0],children:[(0,H.jsx)(Gg,{children:(0,H.jsx)($F,{style:{width:24}})}),"Pay with card",l?(0,H.jsx)(HC,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):c?(0,H.jsx)(HA,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),h.onFundWithExchange&&(0,H.jsxs)(Lr,{disabled:w,onClick:h.onFundWithExchange,children:[(0,H.jsx)(Gg,{children:(0,H.jsx)($C,{style:{width:24}})}),"Transfer from an exchange"]}),h.onFundWithWallet&&(0,H.jsxs)(Lr,{disabled:w,onClick:h.onFundWithWallet,children:[(0,H.jsx)(Gg,{children:(0,H.jsx)(HS,{style:{width:24}})}),"Transfer from wallet"]}),(0,H.jsxs)(Lr,{disabled:w,onClick:()=>r(KG),children:[(0,H.jsx)(Gg,{children:(0,H.jsx)($D,{style:{width:24}})}),"Receive funds"]}),s?.showAlternateFundingMethod&&h.onFundWithCard?.[1]&&(0,H.jsx)(Hr,{theme:o.appearance.palette.colorScheme,children:(0,H.jsxs)(Gk,{children:["Having trouble or facing location restrictions?"," ",(0,H.jsx)(GE,{onClick:h.onFundWithCard[1],children:"Try a different provider."})]})})]}),(0,H.jsx)(Ld,{})]})}},GJ="moonpay";function GY(e){return!!e&&(void 0!==e.chain||void 0!==e.amount)}let GZ={[e_.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[eI.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[ek.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[eE.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[eC.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[eA.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ew.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[ev.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[eg.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[ey.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[ef.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[em.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},GQ=({address:e,appConfig:t,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:a=!1})=>{let o,s;if(!t.fundingConfig)throw Error("Wallet funding is not enabled");let l=Hx(t.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");o=i||(GY(r)&&r.chain?r.chain.id:Be(t.fundingConfig.defaultRecommendedCurrency.chain));let c=t.chains.find(e=>e.id===o);if(!c)throw new dI(`Funding chain ${o} is not in PrivyProvider chains list`);let d=GY(r)&&r.amount?r.amount:t.fundingConfig.defaultRecommendedAmount,u=!1;function h(){if(!o)return;let e=GZ[o];l.find(e=>"wallets"===e.method)&&!e&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),s=e,u=!0}GY(r)&&"asset"in r?"USDC"===r.asset?h():"string"!=typeof r.asset&&"erc20"in r.asset&&(u=(s=r.asset.erc20)===GZ[c.id]):"USDC"===t.fundingConfig.defaultRecommendedCurrency.asset&&h();let p=r?.defaultFundingMethod;return{chainType:"ethereum",address:e,amount:d,chain:c,erc20Address:s,erc20ContractInfo:u?{symbol:"USDC",decimals:6}:void 0,isUSDC:u,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:a,defaultFundingMethod:p,usingDefaultFundingMethod:!!p,preferredCardProvider:r?.card?.preferredProvider,crossChainBridgingEnabled:t.fundingConfig.crossChainBridgingEnabled??!1,cluster:{name:"mainnet-beta",rpcUrl:t.solanaClusters["mainnet-beta"].rpcUrl},...r&&void 0!==r.config&&void 0!==r.provider?{moonpayConfigOverride:r.config}:{},uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0}},GX=({children:e,theme:t})=>(0,H.jsxs)(G0,{$theme:t,children:[(0,H.jsx)(yF,{width:"1.25rem",color:"dark"===t?"#FDE68A":"var(--privy-color-warn)"}),e]}),G0=g4.div.withConfig({displayName:"Container",componentId:"sc-97f152b3-0"})(["display:flex;gap:0.5rem;background-color:",";"," align-items:flex-start;text-align:left;padding:0.5rem 0.75rem;font-size:0.8125rem;font-weight:400;line-height:1.125rem;padding:0.75rem;&&{border-radius:var(--privy-border-radius-sm);}"],e=>"dark"===e.$theme?"var(--privy-color-background-2)":"var(--privy-color-warn-light)",e=>"dark"===e.$theme?"color: #FDE68A;":"");function G1(e){let[t,r]=(0,G.useState)(e.dimensions.width),[n,i]=(0,G.useState)(void 0),a=(0,G.useRef)(null);(0,G.useEffect)(()=>{if(a.current&&void 0===t){let{width:e}=a.current.getBoundingClientRect();r(e)}let e=getComputedStyle(document.documentElement);i({background:e.getPropertyValue("--privy-color-background"),background2:e.getPropertyValue("--privy-color-background-2"),foreground3:e.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:e.getPropertyValue("--privy-color-foreground-accent"),accent:e.getPropertyValue("--privy-color-accent"),accentDark:e.getPropertyValue("--privy-color-accent-dark"),success:e.getPropertyValue("--privy-color-success"),colorScheme:e.getPropertyValue("color-scheme")})},[]);let o="ethereum"===e.chainType&&!e.imported&&!e.isUnifiedWallet;return(0,H.jsx)("div",{ref:a,children:t&&(0,H.jsxs)(G5,{children:[(0,H.jsx)("iframe",{style:{position:"absolute",zIndex:1},width:t,height:e.dimensions.height,allow:"clipboard-write self *",src:R5(e.origin,`/apps/${e.appId}/embedded-wallets/export`,e.isUnifiedWallet?{v:"1-unified",wallet_id:e.walletId,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:o,...n}:{v:"1",entropy_id:e.entropyId,entropy_id_verifier:e.entropyIdVerifier,hd_wallet_index:e.hdWalletIndex,chain_type:e.chainType,client_id:e.appClientId,width:`${t}px`,caid:e.clientAnalyticsId,phrase_export:o,...n},{token:e.accessToken})}),(0,H.jsx)(G4,{children:"Loading..."}),o&&(0,H.jsx)(G4,{children:"Loading..."})]})})}let G2={component:()=>{let[e,t]=(0,G.useState)(null),{authenticated:r,user:n}=u5(),{closePrivyModal:i,createAnalyticsEvent:a,clientAnalyticsId:o,client:s}=dH(),l=Uy(),{data:c,onUserCloseViaDialogOrKeybindRef:d}=Ux(),{onFailure:u,onSuccess:h,origin:p,appId:f,appClientId:m,entropyId:g,entropyIdVerifier:y,walletId:w,hdWalletIndex:v,chainType:b,address:x,isUnifiedWallet:_,imported:k}=c.keyExport,E=e=>{i({shouldCallAuthOnSuccess:!1}),u("string"==typeof e?Error(e):e)},C=()=>{i({shouldCallAuthOnSuccess:!1}),h(),a({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:x}})};return(0,G.useEffect)(()=>{if(!r)return E("User must be authenticated before exporting their wallet");s.getAccessToken().then(t).catch(E)},[r,n]),d.current=C,(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:C}),(0,H.jsxs)(G3,{children:[(0,H.jsx)(V9,{children:"Export wallet"}),(0,H.jsxs)(qI,{children:["Copy either your private key or seed phrase to export your wallet."," ",(0,H.jsx)("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),(0,H.jsx)(GX,{theme:l.appearance.palette.colorScheme,children:"Never share your private key or seed phrase with anyone."}),(0,H.jsx)(Hl,{isLoading:!1,isPulsing:!1,title:"Your wallet",address:x,showIcon:!0}),(0,H.jsx)("div",{style:{width:"100%"},children:e&&(0,H.jsx)(G1,{origin:p,appId:f,appClientId:m,accessToken:e,clientAnalyticsId:o,entropyId:g,entropyIdVerifier:y,walletId:w,hdWalletIndex:v,isUnifiedWallet:_,imported:k,chainType:b,dimensions:{height:"44px"}})})]}),(0,H.jsx)(Ld,{})]})}},G3=g4.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-7b921328-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),G5=g4.div.withConfig({displayName:"ButtonContainer",componentId:"sc-7b921328-1"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),G4=g4.div.withConfig({displayName:"LoadingButton",componentId:"sc-7b921328-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]),G6={component:()=>{let{authenticated:e,user:t}=u5(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:a}=dH(),{navigate:o,data:s,setModalData:l,onUserCloseViaDialogOrKeybindRef:c}=Ux(),d=(0,G.useMemo)(()=>Date.now(),[]),[u,h]=(0,G.useState)(!1),{onCompleteNavigateTo:p,onFailure:f,shouldForceMFA:m,entropyId:g,entropyIdVerifier:y,recoveryMethod:w,connectingWalletAddress:v,isUnifiedWallet:b=!1}=s?.connectWallet,x=e=>{u||(h(!0),f("string"==typeof e?Error(e):e))};(0,G.useEffect)(()=>{let t;return e?a?((async()=>{let e=await r.getAccessToken();if(!e)return x("User must be authenticated and have a Privy wallet before it can be connected");try{b||await a.connect({accessToken:e,entropyId:g,entropyIdVerifier:y}),m&&await a.verifyMfa({accessToken:e});let r=(Date.now()-d)/1e3;p===G2&&r<1?t=setTimeout(()=>{o(p,!1)},1e3*(1-r)):o(p,!1)}catch(e){if(DC(e)&&"privy"===w){let e=await r.getAccessToken();if(!e)return x("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:v}});let t=await a?.recover({accessToken:e,entropyId:g,entropyIdVerifier:y});t?.entropyId||x(Error("Unable to recover wallet")),p?o(p):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:v}}),o(p)}catch(e){x("An error has occurred, please try again.")}}else DC(e)&&"privy"!==w&&"privy-v2"!==w?(l({...s,recoverWallet:{entropyId:g,entropyIdVerifier:y,onCompleteNavigateTo:p,onFailure:f},recoveryOAuthStatus:{provider:w,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),o(Ht(w))):x(e)}})(),()=>clearTimeout(t)):void 0:x("User must be authenticated and have a Privy wallet before it can be connected")},[e,t,a]);let _=()=>{x("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})};return c.current=_,(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:_}),u?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(FO,{children:[(0,H.jsx)($o,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Something went wrong",description:"Were on it. Please try again later."})]}),(0,H.jsx)(LG,{onClick:()=>n({shouldCallAuthOnSuccess:!1}),children:"Close"})]}):(0,H.jsx)(W9,{}),(0,H.jsx)(G8,{})]})}},G8=g4.div.withConfig({displayName:"BottomSpacing",componentId:"sc-9a189292-0"})(["height:44px;"]),G9=g4(HL).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var G7=({iconUrl:e,value:t,symbol:r,usdValue:n,nftName:i,nftCount:a,decimals:o,$isLoading:s})=>{if(s)return(0,H.jsx)(Ke,{$isLoading:s});let l=t&&n&&o?function(e,t,r){let n=parseFloat(e),i=parseFloat(r);if(0===n||0===i||Number.isNaN(n)||Number.isNaN(i))return e;let a=Math.ceil(-Math.log10(.01/(i/n))),o=Math.pow(10,a=Math.max(a=Math.min(a,t),1)),s=+(Math.floor(n*o)/o).toFixed(a).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:t}).format(s)}(t,o,n):t;return(0,H.jsxs)("div",{children:[(0,H.jsxs)(Ke,{$isLoading:s,children:[e&&(0,H.jsx)(Kr,{src:e,alt:"Token icon"}),a&&a>1?a+"x":void 0," ",i,l," ",r]}),n&&(0,H.jsxs)(Kt,{$isLoading:s,children:["$",n]})]})};let Ke=g4.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],zT),Kt=g4.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],zT),Kr=g4.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]),Kn=e=>{let{chain:t,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=e,{action:a,functionName:o}=r;return(0,H.jsx)(Hs,{children:(0,H.jsxs)(HM,{children:["transaction"!==a&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Action"}),(0,H.jsx)(HD,{children:o})]}),"mint"===o&&"args"in r&&r.args.filter(e=>e).map((e,r)=>(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:`Param ${r}`}),(0,H.jsx)(HD,{children:"string"==typeof e&&(0,Z.isAddress)(e)?(0,H.jsx)(DJ,{address:e,url:t?.blockExplorers?.default?.url,showCopyIcon:!1}):e?.toString()})]},r)),"setApprovalForAll"===o&&r.operator&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Operator"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:r.operator,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),"setApprovalForAll"===o&&void 0!==r.approved&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Set approval to"}),(0,H.jsx)(HD,{children:r.approved?"true":"false"})]}),"transfer"===o||"transferFrom"===o||"safeTransferFrom"===o||"approve"===o?(0,H.jsxs)(H.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount"}),(0,H.jsxs)(HD,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token ID"}),(0,H.jsx)(HD,{children:r.tokenId.toString()})]})]}):null,"safeBatchTransferFrom"===o&&(0,H.jsxs)(H.Fragment,{children:["amounts"in r&&r.amounts&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amounts"}),(0,H.jsx)(HD,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token IDs"}),(0,H.jsx)(HD,{children:r.tokenIds.join(", ")})]})]}),"approve"===o&&r.spender&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Spender"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:r.spender,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===o||"safeTransferFrom"===o||"safeBatchTransferFrom"===o)&&r.transferFrom&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Transferring from"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:r.transferFrom,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]}),("transferFrom"===o||"safeTransferFrom"===o||"safeBatchTransferFrom"===o)&&r.transferTo&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Transferring to"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:r.transferTo,url:t?.blockExplorers?.default?.url,showCopyIcon:!1})})]})]})})},Ki={success:"background: var(--privy-color-success-lightest, #dcfce7);",warn:"background: var(--privy-color-warn-lightest, #fff7e6);",error:"background: var(--privy-color-error-lightest, #fde8e8);"},Ka=g4.div.withConfig({displayName:"Pill",componentId:"sc-8c138024-0"})(["border-radius:var(--privy-border-radius-md,8px);padding:12px;text-align:left;margin-top:23px;",""],e=>Ki[e.variant]),Ko=({variant:e,setPreventMaliciousTransaction:t,preventMaliciousTransaction:r})=>"warn"===e?(0,H.jsx)(Ka,{variant:e,children:(0,H.jsxs)("div",{className:"flex flex-row",children:[(0,H.jsx)(Ks,{$variant:e}),(0,H.jsxs)("p",{children:[(0,H.jsx)("b",{children:"Warning: Suspicious transaction"}),(0,H.jsx)("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})]})}):"error"===e?(0,H.jsx)(Ka,{variant:e,children:(0,H.jsxs)("div",{className:"flex flex-col",children:[(0,H.jsxs)("div",{className:"flex flex-row",children:[(0,H.jsx)(Ks,{$variant:e}),(0,H.jsxs)("p",{children:[(0,H.jsx)("b",{children:"This is a malicious transaction"}),(0,H.jsx)("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})]}),(0,H.jsxs)("div",{className:"mt-3 flex flex-row gap-2",children:[(0,H.jsx)(BY,{color:"var(--privy-color-error)",checked:!r,readOnly:!0,onClick:()=>t(!r)}),(0,H.jsx)("p",{children:"I understand and want to proceed anyways."})]})]})}):void 0,Ks=g4(yF).withConfig({displayName:"StyledExclamationTriangleIcon",componentId:"sc-91effb27-0"})(["width:20px;height:20px;stroke-width:2px;flex-shrink:0;display:inline-block;margin-right:8px;",";"],({$variant:e})=>"error"===e?"color: var(--privy-color-error)":"color: var(--privy-color-warn)"),Kl=({transactionIndex:e,maxIndex:t})=>"number"!=typeof e||0===t?"":` (${e+1} / ${t+1})`,Kc=({img:e,submitError:t,prepareError:r,onClose:n,action:i,title:a,subtitle:o,txValue:s,to:l,tokenAddress:c,network:d,missingFunds:u,fee:h,from:p,cta:f,disabled:m,chain:g,isSubmitting:y,isPreparing:w,isTokenPriceLoading:v,isTokenContractInfoLoading:b,isSponsored:x,symbol:_,balance:k,onClick:E,transactionDetails:C,transactionIndex:A,maxIndex:I,onBack:S,chainName:T,validation:P,hasScanDetails:j,setIsScanDetailsOpen:N,preventMaliciousTransaction:O,setPreventMaliciousTransaction:$,tokensSent:R,tokensReceived:M,isScanning:U,isCancellable:L,functionName:F})=>{let{showTransactionDetails:D,setShowTransactionDetails:B,hasMoreDetails:W,isErc20Ish:q}=(e=>{let[t,r]=(0,G.useState)(!1),n=!0,i=!1;return(!e||e.isErc20Ish||"transaction"===e.action)&&(n=!1),n&&(i=Object.entries(e||{}).some(([e,t])=>t&&!["action","isErc20Ish","isNFTIsh"].includes(e))),{showTransactionDetails:t,setShowTransactionDetails:r,hasMoreDetails:n&&i,isErc20Ish:e?.isErc20Ish}})(C),z=q&&b||w||v||U;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:n,backFn:S}),e&&(0,H.jsx)(Kf,{children:e}),(0,H.jsxs)(V9,{style:{marginTop:e?"1.5rem":0},children:[a,(0,H.jsx)(Kl,{maxIndex:I,transactionIndex:A})]}),(0,H.jsx)(qI,{children:o}),(0,H.jsxs)(HM,{style:{marginTop:"2rem"},children:[(!!R[0]||z)&&(0,H.jsxs)(HU,{children:[M.length>0?(0,H.jsx)(HL,{children:"Send"}):(0,H.jsx)(HL,{children:"approve"===i?"Approval amount":"Amount"}),(0,H.jsx)("div",{className:"flex flex-col",children:R.map((e,t)=>(0,H.jsx)(G7,{iconUrl:e.iconUrl,value:"setApprovalForAll"===F?"All":e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount,decimals:e.decimals},t))})]}),M.length>0&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Receive"}),(0,H.jsx)("div",{className:"flex flex-col",children:M.map((e,t)=>(0,H.jsx)(G7,{iconUrl:e.iconUrl,value:e.value,usdValue:e.usdValue,symbol:e.symbol,nftName:e.nftName,nftCount:e.nftCount,decimals:e.decimals},t))})]}),C&&"spender"in C&&C?.spender?(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Spender"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:C.spender,url:g?.blockExplorers?.default?.url})})]}):null,l&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"To"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:l,url:g?.blockExplorers?.default?.url,showCopyIcon:!0})})]}),c&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token address"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:c,url:g?.blockExplorers?.default?.url})})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Network"}),(0,H.jsx)(HD,{children:d})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Estimated fee"}),(0,H.jsx)(HD,{$isLoading:w||v||void 0===x,children:x?"Sponsored":h})]}),W&&!j&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(HU,{className:"cursor-pointer",onClick:()=>B(!D),children:(0,H.jsxs)(HF,{className:"flex items-center gap-x-1",children:["Details"," ",(0,H.jsx)(yD,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:D?"rotate(180deg)":void 0}})]})}),D&&C&&(0,H.jsx)(Kn,{action:i,chain:g,transactionDetails:C,isTokenContractInfoLoading:b,symbol:_})]}),j&&(0,H.jsx)(HU,{children:(0,H.jsxs)(G9,{onClick:()=>N(!0),children:[(0,H.jsx)("span",{className:"text-color-primary",children:"Details"}),(0,H.jsx)($c,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),(0,H.jsx)(U6,{}),t?(0,H.jsx)(q_,{style:{marginTop:"2rem"},children:t.message}):r&&0===A?(0,H.jsx)(q_,{style:{marginTop:"2rem"},children:r.shortMessage??Kp}):null,(0,H.jsx)(Ko,{variant:P,preventMaliciousTransaction:O,setPreventMaliciousTransaction:$}),(0,H.jsx)(Ku,{$useSmallMargins:!(!r&&!t&&"warn"!==P&&"error"!==P),title:Number(s)>0?void 0:!1!==x?"Your wallet":void 0,address:p,balance:k,isLoading:w||v,errMsg:w||r||t||!u?void 0:`Add funds on ${g?.name??T} to complete transaction.`}),(0,H.jsx)(LG,{style:{marginTop:"1rem"},loading:y,disabled:m||w,onClick:E,children:f}),L&&(0,H.jsx)(L1,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),(0,H.jsx)(Ld,{})]})},Kd=({img:e,title:t,subtitle:r,cta:n,instructions:i,network:a,blockExplorerUrl:o,isMissingFunds:s,submitError:l,parseError:c,total:d,swap:u,transactingWalletAddress:h,fee:p,balance:f,disabled:m,isSubmitting:g,isPreparing:y,isTokenPriceLoading:w,onClick:v,onClose:b,onBack:x})=>{let _=y||w,[k,E]=(0,G.useState)(!1);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:b,backFn:x}),e&&(0,H.jsx)(Kf,{children:e}),(0,H.jsx)(V9,{style:{marginTop:e?"1.5rem":0},children:t}),(0,H.jsx)(qI,{children:r}),(0,H.jsxs)(HM,{style:{marginTop:"2rem",marginBottom:".5rem"},children:[(d||_)&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount"}),(0,H.jsx)(HD,{$isLoading:_,children:d})]}),u&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Swap"}),(0,H.jsx)(HD,{children:u})]}),a&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Network"}),(0,H.jsx)(HD,{children:a})]}),(p||_)&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Estimated fee"}),(0,H.jsx)(HD,{$isLoading:_,children:p})]})]}),(0,H.jsx)(HU,{children:(0,H.jsxs)(G9,{onClick:()=>E(e=>!e),children:[(0,H.jsx)("span",{children:"Advanced"}),(0,H.jsx)(yD,{height:"16px",width:"16px",strokeWidth:"2",style:{transition:"all 300ms",transform:k?"rotate(180deg)":void 0}})]})}),k&&(0,H.jsx)(H.Fragment,{children:i.map((e,t)=>"sol-transfer"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Transfer ",e.withSeed?"with seed":""]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount"}),(0,H.jsxs)(HD,{children:[cX({amount:e.value,decimals:e.token.decimals})," ",e.token.symbol]})]}),!!e.toAccount&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Destination"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.toAccount,url:o})})]})]},t):"spl-transfer"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Transfer ",e.token.symbol]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount"}),(0,H.jsx)(HD,{children:e.value.toString()})]}),!!e.fromAta&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Source"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.fromAta,url:o})})]}),!!e.toAta&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Destination"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.toAta,url:o})})]}),!!e.token.address&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.token.address,url:o})})]})]},t):"ata-creation"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsx)(Ha,{children:"Create token account"})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Program ID"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.program,url:o})})]}),!!e.owner&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Owner"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.owner,url:o})})]})]},t):"create-account"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Create account ",e.withSeed?"with seed":""]})}),!!e.account&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Account"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.account,url:o})})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount"}),(0,H.jsxs)(HD,{children:[cX({amount:e.value,decimals:9})," SOL"]})]})]},t):"spl-init-account"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsx)(Ha,{children:"Initialize token account"})}),!!e.account&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Account"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.account,url:o})})]}),!!e.mint&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Mint"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mint,url:o})})]}),!!e.owner&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Owner"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.owner,url:o})})]})]},t):"spl-close-account"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsx)(Ha,{children:"Close token account"})}),!!e.source&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Source"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.source,url:o})})]}),!!e.destination&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Destination"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.destination,url:o})})]}),!!e.owner&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Owner"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.owner,url:o})})]})]},t):"spl-sync-native"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsx)(Ha,{children:"Sync native"})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Program ID"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.program,url:o})})]})]},t):"raydium-swap-base-input"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount in"}),(0,H.jsx)(HD,{children:e.amountIn.toString()})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Minimum amount out"}),(0,H.jsx)(HD,{children:e.minimumAmountOut.toString()})]}),e.mintIn&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token in"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token out"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintOut,url:o})})]})]},t):"raydium-swap-base-output"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Raydium swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Max amount in"}),(0,H.jsx)(HD,{children:e.maxAmountIn.toString()})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount out"}),(0,H.jsx)(HD,{children:e.amountOut.toString()})]}),e.mintIn&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token in"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token out"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintOut,url:o})})]})]},t):"jupiter-swap-shared-accounts-route"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"In amount"}),(0,H.jsx)(HD,{children:e.inAmount.toString()})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Quoted out amount"}),(0,H.jsx)(HD,{children:e.quotedOutAmount.toString()})]}),e.mintIn&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token in"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token out"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintOut,url:o})})]})]},t):"jupiter-swap-exact-out-route"===e.type?(0,H.jsxs)(Kh,{children:[(0,H.jsx)(HU,{children:(0,H.jsxs)(Ha,{children:["Jupiter swap"," ",e.tokenIn&&e.tokenOut?`${e.tokenIn.symbol}  ${e.tokenOut.symbol}`:""]})}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Quoted in amount"}),(0,H.jsx)(HD,{children:e.quotedInAmount.toString()})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Amount out"}),(0,H.jsx)(HD,{children:e.outAmount.toString()})]}),e.mintIn&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token in"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintIn,url:o})})]}),e.mintOut&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Token out"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.mintOut,url:o})})]})]},t):(0,H.jsxs)(Kh,{children:[(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Program ID"}),(0,H.jsx)(HD,{children:(0,H.jsx)(DJ,{address:e.program,url:o})})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Data"}),(0,H.jsx)(HD,{children:e.discriminator})]})]},t))}),(0,H.jsx)(U6,{}),l?(0,H.jsx)(q_,{style:{marginTop:"2rem"},children:l.message}):c?(0,H.jsx)(q_,{style:{marginTop:"2rem"},children:Kp}):null,(0,H.jsx)(Ku,{$useSmallMargins:!(!c&&!l),title:"Your wallet",address:h,balance:f,isLoading:y||w,errMsg:y||c||l||!s?void 0:"Add funds on Solana to complete transaction."}),(0,H.jsx)(LG,{style:{marginTop:"1rem"},loading:g,disabled:m||y,onClick:v,children:n}),(0,H.jsx)(Ld,{})]})},Ku=g4(Hl).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-bb761902-0"})(["",""],e=>e.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),Kh=g4(HM).withConfig({displayName:"InstructionRows",componentId:"sc-bb761902-1"})(["margin-top:0.5rem;border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-sm);padding:0.5rem;"]),Kp="There was an error preparing your transaction. Your transaction request will likely fail.",Kf=g4.div.withConfig({displayName:"ImageContainer",componentId:"sc-bb761902-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),Km=()=>(0,H.jsxs)(Kb,{children:[(0,H.jsx)(K_,{}),(0,H.jsx)(Kx,{})]}),Kg=({transactionError:e,chainId:t,onClose:r,onRetry:n,network:i,connection:a,transactionHash:o})=>{let{chains:s}=dH(),[l,c]=(0,G.useState)(!1),{errorCode:d,errorMessage:u}=((e,t)=>{if("ethereum"===t)return{errorCode:e.details??e.message,errorMessage:e.shortMessage};let r=e.txSignature,n=e?.transactionMessage||"Something went wrong.";if(Array.isArray(e.logs)){let t=e.logs.find(e=>/insufficient (lamports|funds)/gi.test(e));t&&(n=t)}return{transactionHash:r,errorMessage:n}})(e,i),h=(({chains:e,chainId:t,network:r,connection:n,transactionHash:i})=>{var a,o;return"ethereum"===r?e.find(e=>e.id===t)?.blockExplorers?.default.url??"https://etherscan.io":(a=i||"",o=Uc(n?.rpcEndpoint||""),`https://explorer.solana.com/tx/${a}?cluster=${o}`)})({chains:s,chainId:t,network:i,connection:a,transactionHash:o});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:r}),(0,H.jsxs)(Ky,{children:[(0,H.jsx)(Km,{}),(0,H.jsx)(Kw,{children:d}),(0,H.jsx)(Kv,{children:"Please try again."}),(0,H.jsxs)(KC,{children:[(0,H.jsx)(KE,{children:"Error message"}),(0,H.jsx)(KI,{$clickable:!1,children:u})]}),o&&(0,H.jsxs)(KC,{children:[(0,H.jsx)(KE,{children:"Transaction hash"}),(0,H.jsxs)(KA,{children:["Copy this hash to view details about the transaction on a"," ",(0,H.jsx)("u",{children:(0,H.jsx)("a",{href:h,children:"block explorer"})}),"."]}),(0,H.jsxs)(KI,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(o),c(!0)},children:[o,(0,H.jsx)(KP,{clicked:l})]})]}),(0,H.jsx)(Kk,{onClick:()=>n({resetNonce:!!o}),children:"Retry transaction"})]}),(0,H.jsx)(Lu,{})]})},Ky=g4.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-92716bea-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),Kw=g4.span.withConfig({displayName:"ErrorCode",componentId:"sc-92716bea-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),Kv=g4.span.withConfig({displayName:"Subtitle",componentId:"sc-92716bea-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),Kb=g4.div.withConfig({displayName:"CircleContainer",componentId:"sc-92716bea-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),Kx=g4($n).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-92716bea-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),K_=g4.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-92716bea-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),Kk=g4(LG).withConfig({displayName:"RetryButton",componentId:"sc-92716bea-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),KE=g4.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-92716bea-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),KC=g4.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-92716bea-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),KA=g4.text.withConfig({displayName:"HelperText",componentId:"sc-92716bea-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),KI=g4.span.withConfig({displayName:"TextBox",componentId:"sc-92716bea-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],e=>e.$clickable&&"cursor: pointer;\n  transition: background-color 0.3s;\n  padding-right: 45px;\n\n  &:hover {\n    background-color: var(--privy-color-foreground-4);\n  }"),KS=g4($z).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-92716bea-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),KT=g4($$).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-92716bea-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),KP=({clicked:e})=>(0,H.jsx)(e?KT:KS,{}),Kj=({instruction:e,fees:t,transactionInfo:r,solPrice:n,rpcEndpoint:i})=>(0,H.jsxs)(HM,{children:[r?.action&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Action"}),(0,H.jsx)(HD,{children:r.action})]}),null!=e?.total&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Total"}),(0,H.jsx)(HD,{children:e.total})]}),!e?.total&&null!=e?.amount&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Total"}),(0,H.jsx)(HD,{children:(0,H.jsx)(FE,{quantities:[e.amount,t],tokenPrice:n})})]}),(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"Fees"}),(0,H.jsx)(HD,{children:(0,H.jsx)(FE,{quantities:[t],tokenPrice:n})})]}),e?.to&&(0,H.jsxs)(HU,{children:[(0,H.jsx)(HL,{children:"To"}),(0,H.jsx)(HD,{children:(0,H.jsx)(F9,{walletAddress:e.to,rpcEndpoint:i,network:"solana"})})]})]}),KN=({fees:e,onClose:t,receiptHeader:r,receiptDescription:n,transactionInfo:i,solPrice:a,rpcEndpoint:o,signOnly:s,instruction:l})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:t}),(0,H.jsx)(Dd,{style:{marginBottom:"16px"},children:(0,H.jsxs)("div",{children:[(0,H.jsx)(WS,{color:"var(--privy-color-success-light)"}),(0,H.jsx)($U,{height:38,width:38,strokeWidth:2,stroke:"var(--privy-color-success)"})]})}),(0,H.jsx)(Bh,{title:r??`Transaction ${s?"signed":"complete"}!`,description:n??"You're all set."}),(0,H.jsx)(Kj,{solPrice:a,instruction:l,fees:e,transactionInfo:i,rpcEndpoint:o}),(0,H.jsx)(U6,{}),(0,H.jsx)(KO,{loading:!1,onClick:t,children:"Close"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}),KO=g4(LG).withConfig({displayName:"SubmitButton",componentId:"sc-df6d4eec-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),K$={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:r,navigate:n}=Ux(),{client:i,closePrivyModal:a,walletProxy:o,showFiatPrices:s}=dH(),l=Uy(),{user:c}=u5(),[d,u]=(0,G.useState)(e?.sendSolanaTransaction?.transactionRequest),[h,p]=(0,G.useState)(),[f,m]=(0,G.useState)(),[g,y]=(0,G.useState)({value:0n,isLoading:!1}),[w,v]=(0,G.useState)(!1),[b,x]=(0,G.useState)(),[_,k]=(0,G.useState)(),E=e?.sendSolanaTransaction?.connection,C=e?.sendSolanaTransaction?.transactingWallet,A=!!e?.sendSolanaTransaction?.signOnly,I=C?.imported?uY(c):u0(c),S=Uc(E?.rpcEndpoint||""),{solPrice:T,isSolPriceLoading:P}=Dn({enabled:s}),j=(0,G.useMemo)(()=>{if(!h)return;let e=h.spender,t=Fs(h.fee),r=Fs(g.value,3,!0),n=h.instructions.filter(e=>["sol-transfer","spl-transfer","raydium-swap-base-input","raydium-swap-base-output","jupiter-swap-shared-accounts-route","jupiter-swap-exact-out-route"].includes(e.type)),i=n.at(0);return!i||n.length>1?{fee:t,spender:e,balance:r}:"sol-transfer"===i.type?{fee:t,spender:e,balance:r,total:Fs(i.value)}:"spl-transfer"===i.type?{fee:t,spender:e,balance:r,total:`${cX({amount:i.value,decimals:i.token.decimals})} ${i.token.symbol}`}:"raydium-swap-base-input"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${cX({amount:i.amountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${cX({amount:i.minimumAmountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"raydium-swap-base-output"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${cX({amount:i.maxAmountIn,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${cX({amount:i.amountOut,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-shared-accounts-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${cX({amount:i.inAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${cX({amount:i.quotedOutAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:"jupiter-swap-exact-out-route"===i.type&&i.tokenIn&&i.tokenOut?{fee:t,spender:e,balance:r,swap:`${cX({amount:i.quotedInAmount,decimals:i.tokenIn.decimals})} ${i.tokenIn.symbol}  ${cX({amount:i.outAmount,decimals:i.tokenOut.decimals})} ${i.tokenOut.symbol}`}:{fee:t,spender:e,balance:r}},[h,C?.address,g]),N=(0,G.useMemo)(()=>{let e;if(!h||!s||!T||P)return;function t(...e){return Fl(e.reduce((e,t)=>e+t,0n),T??0)}C?.address===h.spender&&(e=t(h.fee));let r=t(g.value),n=h.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type).at(0);return!n||h.instructions.length>1?{fee:e,balance:r}:"sol-transfer"===n.type?{fee:e,balance:r,total:t(n.value,C?.address===h.spender?h.fee:0n)}:"spl-transfer"===n.type?{fee:e,balance:r,total:`${cX({amount:n.value,decimals:n.token.decimals})} ${n.token.symbol}`}:{fee:e,balance:r}},[h,s,T,P,C?.address,g]);if((0,G.useEffect)(()=>{!async function(){if(d&&E&&i)try{m(void 0);let e=await Fg({tx:d,connection:E,client:i,checkFunds:!A});p(e)}catch(e){console.error("Failed to prepare transaction",e),m(e)}}()},[d,E,i,A]),(0,G.useEffect)(()=>{(async function(){if(!C||!E)return;y({value:g.value,isLoading:!0});let e=new c5({name:"mainnet-beta",rpcUrl:E.rpcEndpoint});y({value:await e.getBalance(C.address).catch(()=>0n)??0n,isLoading:!1})})().catch(console.error)},[h,E]),!(d&&e?.sendSolanaTransaction&&C&&E)){let t=Error("Invalid transaction request");return(0,H.jsx)(Wz,{error:t,onClick:()=>{e?.sendSolanaTransaction?.onFailure(t),a({shouldCallAuthOnSuccess:!1})}})}let O=()=>{if(!w)return b?e?.sendSolanaTransaction?.onSuccess(b):e?.sendSolanaTransaction?.onFailure(_??f??Error("User exited the modal before submitting the transaction")),a({shouldCallAuthOnSuccess:!1})};t.current=O;let $=e.sendSolanaTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,H.jsx)("img",{src:e.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendSolanaTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,R=!!(e.funding&&e.funding.supportedOptions.length>0),M=!h?.hasFunds&&R;if(b){let t=h?.instructions.filter(e=>"sol-transfer"===e.type||"spl-transfer"===e.type),r=1===t?.length?t?.at(0):void 0;return(0,H.jsx)(KN,{fees:b.fees,onClose:O,transactionInfo:e.sendSolanaTransaction?.uiOptions.transactionInfo,solPrice:T,receiptHeader:e.sendSolanaTransaction?.uiOptions.successHeader,receiptDescription:e.sendSolanaTransaction?.uiOptions.successDescription,rpcEndpoint:E.rpcEndpoint,signOnly:A,instruction:"sol-transfer"===r?.type?{to:r.toAccount,amount:r.value}:{to:r?.toAccount||r?.toAta,total:j?.total}})}return _?(0,H.jsx)(Kg,{transactionError:_,connection:E,onClose:O,network:"solana",onRetry:async()=>{k(void 0);let{blockhash:e}=await E.getLatestBlockhash();Fh(d)?d.message.recentBlockhash=e:d.recentBlockhash=e,u(d)}}):(0,H.jsx)(Kd,{img:$,title:e.sendSolanaTransaction?.uiOptions?.transactionInfo?.title||"Confirm transaction",subtitle:e.sendSolanaTransaction?.uiOptions?.description||`${l.name} wants your permission to approve the following transaction.`,cta:M?"Add funds":e.sendSolanaTransaction?.uiOptions?.buttonText||"Approve",instructions:h?.instructions??[],network:"mainnet-beta"==S?"Solana":S,blockExplorerUrl:l.solanaClusters[S].blockExplorerUrl,total:s?N?.total:j?.total,fee:s?N?.fee:j?.fee,balance:s?N?.balance:j?.balance,swap:j?.swap,transactingWalletAddress:C.address,disabled:!h?.hasFunds&&!R,isSubmitting:w,isPreparing:!h||g.isLoading,isTokenPriceLoading:s&&P,isMissingFunds:!h?.hasFunds,submitError:_??void 0,parseError:f,onClick:M?async()=>{if(C){if(!R)throw Error("Funding wallet is not enabled");r({...e,funding:{...e.funding,methodScreen:GK}}),n(GK)}}:async()=>{try{if(v(!0),w||!C||!o||!c||!I)return;let t=await e.sendSolanaTransaction.onConfirm();x(t)}catch(e){console.warn({transaction:d,error:e}),k(e)}finally{v(!1)}},onClose:O})}},KR=g4.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],e=>"sm"===e.size?"65px":"140px",e=>"sm"===e.size?"65px":"140px"),KM=({data:e})=>{let t=e=>"object"==typeof e&&null!==e?(0,H.jsx)(KL,{children:Object.entries(e).map(([e,r])=>(0,H.jsxs)("li",{children:[(0,H.jsxs)("strong",{children:[e,":"]})," ",t(r)]},e))}):(0,H.jsx)("span",{children:String(e)});return(0,H.jsx)("div",{children:t(e)})},KU=g4.div.withConfig({displayName:"Message",componentId:"sc-ccf49562-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),KL=g4.ul.withConfig({displayName:"MessageList",componentId:"sc-ccf49562-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]),KF=({data:e})=>(0,H.jsx)(KU,{children:(0,H.jsx)(KM,{data:e})}),KD=e=>{let{types:t,primaryType:r,...n}=e.typedData;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(KF,{data:n}),(0,H.jsx)(z$,{text:JSON.stringify(e.typedData,null,2),itemName:"full payload to clipboard"})," "]})},KB={component:()=>{let{authenticated:e}=u5(),{initializeWalletProxy:t,closePrivyModal:r}=dH(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:a}=Ux(),[o,s]=(0,G.useState)(!0),[l,c]=(0,G.useState)(""),[d,u]=(0,G.useState)(),[h,p]=(0,G.useState)(null),[f,m]=(0,G.useState)(!1),g=null!==h;(0,G.useEffect)(()=>{e||n(VQ)},[e]),(0,G.useEffect)(()=>{t(3e4).then(e=>{s(!1),e||(c("An error has occurred, please try again."),u(new Mv(new Mw(l,ez.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:y,data:w,confirmAndSign:v,onSuccess:b,onFailure:x,uiOptions:_}=i.signMessage,k={title:_?.title||"Sign message",description:_?.description||"Signing this message will not cost you any fees.",buttonText:_?.buttonText||"Sign and continue"},E=e=>{e?b(e):x(d||new Mv(new Mw("The user rejected the request.",ez.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{p(null),c(""),u(void 0)},200)};return a.current=()=>{E(h)},(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:()=>E(h)}),(0,H.jsx)(FU,{}),_?.iconUrl&&"string"==typeof _.iconUrl?(0,H.jsx)(Kz,{children:(0,H.jsx)(KR,{size:"sm",src:_.iconUrl,alt:"app image"})}):null,(0,H.jsx)(V9,{children:k.title}),(0,H.jsx)(qI,{children:k.description}),"personal_sign"===y&&(0,H.jsx)(KU,{children:(e=>{if(!(0,Q.isHex)(e))return e;try{let t=(0,uF.hexToString)(e);return t.includes("")?e:t}catch{return e}})(w)}),"eth_signTypedData_v4"===y&&(0,H.jsx)(KD,{typedData:w}),"solana_signMessage"===y&&(0,H.jsx)(KU,{children:w}),(0,H.jsx)(KV,{}),(0,H.jsx)(KW,{$fail:!0,children:l}),(0,H.jsx)(LK,{disabled:f||g||o,loading:f,onClick:async()=>{m(!0),c("");try{let e=await v();p(e),m(!1),setTimeout(()=>{E(e)},1400)}catch(e){console.error(e),c("An error has occurred, please try again."),u(new Mv(new Mw(l,ez.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),m(!1)}},children:f?"Signing...":g?(0,H.jsxs)(Kq,{children:[(0,H.jsx)(zO,{style:{height:"0.9rem",width:"0.9rem"},strokeWidth:2})," ",(0,H.jsx)("span",{children:"Success"})]}):k.buttonText}),_?.isCancellable&&(0,H.jsx)(L1,{style:{marginTop:"1rem"},onClick:()=>E(null),isSubmitting:!1,children:"Not now"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},KW=g4.div.withConfig({displayName:"InputHelp",componentId:"sc-af56055-0"})(["line-height:20px;height:20px;font-size:13px;color:",";display:flex;justify-content:flex-start;width:100%;margin-top:16px;margin-bottom:4px;"],e=>e.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)"),Kq=g4.span.withConfig({displayName:"ContentWithIcon",componentId:"sc-af56055-1"})(["display:flex;align-items:center;gap:8px;"]),Kz=g4.div.withConfig({displayName:"IconContainer",componentId:"sc-af56055-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;"]),KV=g4.div.withConfig({displayName:"Grow",componentId:"sc-af56055-3"})(["flex-grow:1;"]),KH=()=>{let{client:e,exportSolanaWallet:t,solanaWallets:r,walletProxy:n,recoverEmbeddedWallet:i,privy:a}=dH(),{sendTransaction:o}=function(e){let t=Uy(),{user:r}=Hb(),{setModalData:n}=Ux(),{client:i,isHeadlessSigning:a,openModal:o,walletProxy:s,recoverEmbeddedWallet:l,privy:c,solanaWallets:d}=dH(),u=U4(),{signWithUserSigner:h}=u4();return U3("sendSolanaTransaction",void 0),{sendTransaction:async({transaction:e,connection:p,uiOptions:f,transactionOptions:m,fundWalletConfig:g,address:y})=>{let w=y?d.find(e=>e.address===y&&"privy"!==e.walletClientType):void 0;return await (({privy:e,appConfig:t,getAccessToken:r,isHeadlessSigning:n,emitPrivyEvent:i,setModalData:a,openModal:o,walletProxy:s,user:l,signWithUserSigner:c,recoverEmbeddedWallet:d,connectedExternalWallet:u},{transaction:h,connection:p,transactionOptions:f,fundWalletConfig:m,uiOptions:g,address:y,signOnly:w})=>new Promise(async(v,b)=>{let{requesterAppId:x}=g||{},_=w?"signSolanaTransaction":"sendSolanaTransaction",k=y?uQ(l,y):uK(l);if(!k&&y&&u)try{if(w){let e=await u.signTransaction(h);return i(_,"onSuccess",{signedTransaction:e}),void v(Ff("",e,null))}{let e=await u.sendTransaction(h,p,f),t=await p.getParsedTransaction(e,{maxSupportedTransactionVersion:0}),r=Ff(e,h,t??null);return i(_,"onSuccess",{response:r}),void v(r)}}catch(e){throw i(_,"onError",dN.TRANSACTION_FAILURE),b(e),e}if(!k)return i(_,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),void b(new dI("No wallet found for address",dN.EMBEDDED_WALLET_NOT_FOUND));if(!l)return i(_,"onError",dN.MUST_BE_AUTHENTICATED),void b(new dI("User must be authenticated before signing with a Privy wallet",dN.MUST_BE_AUTHENTICATED));let E=u2(k);if(!await d({address:k.address}).catch(()=>!1))throw i(_,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),new dI(`Cannot sendSolanaTransaction before embedded wallet ${k.address} is connected`,dN.EMBEDDED_WALLET_NOT_FOUND);let C=async()=>{let t=await r();if(!t||!s)throw i(_,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),b(new dI("Must have valid access token and Privy wallet to send transaction",dN.EMBEDDED_WALLET_NOT_FOUND)),new dI("Must have valid access token and Privy wallet to send transaction",dN.EMBEDDED_WALLET_NOT_FOUND);try{let r,a;if(!await d({address:k.address}))throw i(_,"onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),b(new dI("Unable to connect to wallet",dN.UNKNOWN_CONNECT_WALLET_ERROR)),new dI("Unable to connect to wallet",dN.UNKNOWN_CONNECT_WALLET_ERROR);if(n({showWalletUIs:g?.showWalletUIs})&&!w)try{if(!await Fm(h,p))throw i(_,"onError",dN.INSUFFICIENT_BALANCE),b(new dI("Solana wallet has insufficient funds for this transaction.",dN.INSUFFICIENT_BALANCE)),new dI("Solana wallet has insufficient funds for this transaction.",dN.INSUFFICIENT_BALANCE)}catch(e){throw console.error(e),i(_,"onError",dN.TRANSACTION_FAILURE),b(new dI(e instanceof Error?e.message:"Transaction failed.",dN.TRANSACTION_FAILURE)),new dI(e instanceof Error?e.message:"Transaction failed.",dN.TRANSACTION_FAILURE)}let{entropyId:o,entropyIdVerifier:u}=Mu(l);if(E){let t=Fh(h)?RV(h.message.serialize()):h.serializeMessage(),n=await aF(e,c,{chain_type:"solana",method:"signMessage",params:{message:t.toString("base64"),encoding:"base64"},wallet_id:k.id});if(!n.data||!("signature"in n.data))throw Error("Failed to sign transaction");h.addSignature(Fp(h,k.address),RV(n.data.signature,"base64")),r=h}else r=await Hg({accessToken:t,tx:h,walletProxy:s,entropyId:o,entropyIdVerifier:u,transactingWalletAddress:k.address,transactingWalletIndex:k.walletIndex??0});if(w)return a=Ff("",r,null),i("signSolanaTransaction","onSuccess",{signedTransaction:r}),v(a),a;{let{signature:e,receipt:t}=await async function({tx:e,connection:t,transactionOptions:r}){let n;try{let i=e.serialize();n=await t.sendRawTransaction(i,r);let a=await t.confirmTransaction(n);if(a.value.err||a.value.err){let e=a.value.err||a.value.err;if("string"==typeof e)throw Error(e);throw e}return{signature:n,signedTransaction:e,receipt:await t.getParsedTransaction(n,{maxSupportedTransactionVersion:0})}}catch(e){throw e.txSignature=n,e}}({tx:r,connection:p,transactionOptions:f});a=Ff(e,h,t),i("sendSolanaTransaction","onSuccess",{response:a})}return v(a),a}catch(e){throw i(_,"onError",dN.TRANSACTION_FAILURE),b(e),e}};if(n({showWalletUIs:g?.showWalletUIs}))C();else{let{entropyId:e,entropyIdVerifier:r}=Mu(l,k),n={recoveryMethod:k.recoveryMethod,connectingWalletAddress:k.address,entropyId:e,entropyIdVerifier:r,isUnifiedWallet:E,onCompleteNavigateTo:K$,onFailure:e=>{i(_,"onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),b(e)}},s=H_(t)?function({address:e,fundWalletConfig:t,appConfig:r,comingFromSendTransactionScreen:n,methodScreen:i}){if(!r.fundingConfig)throw Error("Wallet funding is not enabled");let a=Hx(r.fundingConfig.options);if(a.length<1)throw Error("Wallet funding is not enabled");if("USDC"===t?.asset&&"testnet"===t?.cluster?.name)throw Error("USDC funding is not supported on the Solana testnet");let o=t?.amount??r.fundingConfig.defaultRecommendedAmount,s=t?.defaultFundingMethod;return{chainType:"solana",address:e,supportedOptions:a,amount:o,isUSDC:"USDC"===t?.asset,methodScreen:i,comingFromSendTransactionScreen:n,cluster:{name:t?.cluster?.name??"mainnet-beta",rpcUrl:r.solanaClusters[t?.cluster?.name??"mainnet-beta"].rpcUrl},crossChainBridgingEnabled:r.fundingConfig.crossChainBridgingEnabled??!1,defaultFundingMethod:s,preferredCardProvider:t?.card?.preferredProvider,usingDefaultFundingMethod:!!s,uiConfig:t?.uiConfig}}({address:k.address,appConfig:t,methodScreen:GK,fundWalletConfig:m,comingFromSendTransactionScreen:!0}):void 0;a({connectWallet:n,sendSolanaTransaction:{transactionRequest:h,connection:p,transactionOptions:f,transactingWallet:k,onConfirm:C,onSuccess:e=>{w?i("signSolanaTransaction","onSuccess",{signedTransaction:e.signedTransaction}):i("sendSolanaTransaction","onSuccess",{response:e}),v(e)},onFailure:e=>{i(_,"onError",dN.TRANSACTION_FAILURE),b(e)},uiOptions:g||{},requesterAppId:x,signOnly:w},funding:s}),o(G6)}}))({privy:c,appConfig:t,getAccessToken:()=>i.getAccessToken(),isHeadlessSigning:a,emitPrivyEvent:u,setModalData:n,openModal:o,walletProxy:s,user:r,signWithUserSigner:h,recoverEmbeddedWallet:l,connectedExternalWallet:w},{transaction:e,connection:p,transactionOptions:m,uiOptions:f,fundWalletConfig:g,address:y,signOnly:!1})}}}(),{signMessage:s}=function(e){let{isHeadlessSigning:t,walletProxy:r,initializeWalletProxy:n,recoverEmbeddedWallet:i,openModal:a,privy:o,solanaWallets:s,client:l}=dH(),{user:c}=Hb(),d=U4(),{setModalData:u}=Ux(),{signWithUserSigner:h}=u4();return U3("signSolanaMessage",void 0),{signMessage:({message:e,options:p})=>new Promise(async(f,m)=>{let g=p?.address?uQ(c,p.address):uK(c);if(!g&&p?.address){let t=s.find(e=>e.address===p.address&&"privy"!==e.walletClientType);if(t)try{let r=await t.signMessage(e);d("signSolanaMessage","onSuccess",{signature:r}),f(r)}catch(e){d("signSolanaMessage","onError",dN.UNABLE_TO_SIGN),m(e)}}if(!g)return d("signSolanaMessage","onError",dN.UNABLE_TO_SIGN),void m(Error("No embedded or connected wallet found for address."));if(!c)return d("signSolanaMessage","onError",dN.MUST_BE_AUTHENTICATED),void m(Error("User must be authenticated before signing with a Privy wallet"));let{entropyId:y,entropyIdVerifier:w}=Mu(c,g),v=u2(g),b=RV(e).toString("base64");if(b.length<1)return d("signMessage","onError",dN.INVALID_MESSAGE),void m(Error("Message must be a non-empty string"));let x=async()=>{let e;if(!c)throw Error("User must be authenticated before signing with a Privy wallet");let t=await l.getAccessToken();if(!t)throw Error("User must be authenticated to use their embedded wallet.");let a=r??await n(15e3);if(!a)throw Error("Failed to initialize embedded wallet proxy.");if(!await i({address:g.address}))throw Error("Unable to connect to wallet");if(v){let t=await aF(o,h,{chain_type:"solana",method:"signMessage",params:{message:b,encoding:"base64"},wallet_id:g.id});if(!t.data||!("signature"in t.data))throw Error("Failed to sign message");e=t.data.signature}else{let{response:r}=await a.rpc({accessToken:t,entropyId:y,entropyIdVerifier:w,chainType:"solana",hdWalletIndex:g.walletIndex??0,request:{method:"signMessage",params:{message:b}}});e=r.data.signature}return e};if(t({showWalletUIs:p?.uiOptions?.showWalletUIs}))try{let e=await x(),t=new Uint8Array(RV(e,"base64"));d("signSolanaMessage","onSuccess",{signature:t}),f(t)}catch(e){m(e)}else u({signMessage:{method:"solana_signMessage",data:b,confirmAndSign:x,onSuccess:e=>{let t=new Uint8Array(RV(e,"base64"));d("signSolanaMessage","onSuccess",{signature:t}),f(t)},onFailure:e=>{m(e)},uiOptions:p?.uiOptions},connectWallet:{recoveryMethod:g.recoveryMethod,connectingWalletAddress:g.address,entropyId:y,entropyIdVerifier:w,isUnifiedWallet:v,onCompleteNavigateTo:KB,onFailure:e=>{d("signSolanaMessage","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),m(e)}}}),a(G6)})}}(),{create:l}=Hv(),{signWithUserSigner:c}=u4(),{user:d}=Hb(),{ready:u}=Do(),h=(0,G.useMemo)(()=>{if(!n)return r;let t=[...uG(d),uY(d)].filter(e=>!!e).map(t=>({type:"solana",imported:t.imported,address:t.address,connectedAt:Date.now(),walletClientType:"privy",connectorType:"embedded",walletIndex:t.walletIndex??void 0,meta:{name:"Privy Wallet",icon:void 0,id:"io.privy.solana.wallet"},linked:!0,fund(){throw new dI("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:()=>{throw new dI("Cannot unlink an embedded Solana wallet")},async getProvider(){return new Hm(n,t.address,this.signMessage)},signMessage:async e=>await s({message:e,options:{address:t.address,uiOptions:{showWalletUIs:!1}}}),async sendTransaction(e,r,n){let{signature:i}=await o({transaction:e,connection:r,transactionOptions:n,address:t.address});return i},async signTransaction(r){let o=await e.getAccessToken();if(!o||!n)throw new dI("Must have valid access token and Privy wallet to send transaction",dN.MUST_BE_AUTHENTICATED);if(!await i({address:t.address}).catch(()=>!1))throw new dI("Wallet couldn't be connected",dN.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:s,entropyIdVerifier:l}=Mu(d,t);if(u2(t)){let e=Fh(r)?RV(r.message.serialize()):r.serializeMessage(),n=await aF(a,c,{chain_type:"solana",method:"signMessage",params:{message:e.toString("base64"),encoding:"base64"},wallet_id:t.id});if(n.data&&"signature"in n.data)return r.addSignature(Fp(r,t.address),RV(n.data.signature,"base64")),r;throw Error("Failed to sign transaction")}return await Hg({tx:r,accessToken:o,walletProxy:n,entropyId:s,entropyIdVerifier:l,transactingWalletAddress:t.address,transactingWalletIndex:t.walletIndex??0})},async signAllTransactions(r){let o=await e.getAccessToken();if(!o||!n)throw new dI("Must have valid access token and Privy wallet to send transaction",dN.MUST_BE_AUTHENTICATED);if(!await i({address:t.address}).catch(()=>!1))throw new dI("Wallet couldn't be connected",dN.UNKNOWN_CONNECT_WALLET_ERROR);let{entropyId:s,entropyIdVerifier:l}=Mu(d,t);if(u2(t))return await Promise.all(r.map(async e=>{let r=Fh(e)?RV(e.message.serialize()):e.serializeMessage(),n=await aF(a,c,{chain_type:"solana",method:"signMessage",params:{message:r.toString("base64"),encoding:"base64"},wallet_id:t.id});if(n.data&&"signature"in n.data)return e.addSignature(Fp(e,t.address),RV(n.data.signature,"base64")),e;throw Error("Failed to sign transaction")}));for(let e of r)await Hg({tx:e,accessToken:o,walletProxy:n,entropyId:s,entropyIdVerifier:l,transactingWalletAddress:t.address,transactingWalletIndex:t.walletIndex??0});return r},loginOrLink:async()=>{throw new dI("Cannot login or link with an embedded Solana wallet")},disconnect:()=>{},isConnected:async()=>!0}));return r.concat(t)},[d,n,e,r]);return{ready:!(!u||!n),createWallet:async e=>{e&&"target"in e&&e&&(e=void 0);let{account:t}=await l({chainType:"solana",options:e});return t},exportWallet:t,wallets:h}},KG={component:()=>{let{wallets:e}=Do(),{wallets:t}=KH(),{data:r,setModalData:n,navigate:i,lastScreen:a}=Ux(),{rpcConfig:o,appId:s,createAnalyticsEvent:l,closePrivyModal:c}=dH(),d=Uy(),[u,h]=(0,G.useState)(void 0),[p,f]=(0,G.useState)(!1),m=qj(),g=r?.funding,{reloadBalance:y}=Hc({rpcConfig:o,appId:s,address:"ethereum"===g.chainType?g.address:void 0,chain:"ethereum"===g.chainType?g.chain:void 0}),w="solana"===g.chainType,v=w?g.isUSDC?"USDC":"SOL":g.erc20Address?g.erc20ContractInfo?.symbol:g.chain.nativeCurrency.symbol,b=w?t.find(({address:e})=>e===g.address):e.find(({address:e})=>R1(e)===R1(g.address));if(!g)return n({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:a||GK},funding:r?.funding,sendTransaction:r?.sendTransaction}),i(Wq),(0,H.jsx)(H.Fragment,{});(0,G.useEffect)(()=>{let e=w?async function(){if("solana"!==g.chainType)return;let e=m(Hp);e?(g.isUSDC?e.getTokenBalance({address:g.address,cluster:g.cluster,mintAddress:cJ[g.cluster.name]}).then(({amount:e})=>e):e.getBalance({address:g.address,cluster:g.cluster})).then(e=>{let t=BigInt(e);u&&t>u&&(f(!0),l({eventName:Hd,payload:{provider:"manual",status:"success",chainType:"solana",address:b?.address,value:g.isUSDC?(0,cZ.formatUnits)(t-u,6):(0,cZ.formatUnits)(t-u,9),token:g.isUSDC?"USDC":"SOL"}})),h(t)}):console.warn("Unable to load solana plugin, skipping balance")}:async function(){"ethereum"===g.chainType&&(async()=>{if(!g.erc20Address)return await y()??BigInt(0);{let{balance:e}=await Hu({chain:g.chain,address:g.address,erc20Address:g.erc20Address,rpcConfig:o,appId:s});return e}})().then(e=>{u&&e>u&&(f(!0),l({eventName:Hd,payload:{provider:"manual",status:"success",chainType:"ethereum",address:b?.address,chainId:g.chain.id,value:(0,cZ.formatUnits)(e-u,g.erc20ContractInfo?.decimals??18),token:g.erc20ContractInfo?.symbol??g.erc20Address??"ETH"}})),h(e)}).catch(()=>h(void 0))},t=setInterval(e,2e3);return e(),()=>clearInterval(t)},[u]);let x=(0,G.useMemo)(()=>void 0!==u&&u>=parseFloat(g.amount),[u,g.amount]),_=(0,G.useMemo)(()=>null==u?"":g.isUSDC?cX({amount:u,decimals:6}):w?Fs(u,3,!0,!0):null!=g.erc20ContractInfo?.decimals?cX({amount:u,decimals:g.erc20ContractInfo.decimals}):function({wei:e,precision:t=3}){return parseFloat((0,cY.formatEther)(e)).toFixed(t).replace(/0+$/,"").replace(/\.$/,"")}({wei:u}),[u,w,g]),k="ethereum"===g.chainType?g.chain.name:KJ[g.cluster.name],E=(0,G.useMemo)(()=>""===g.uiConfig?.receiveFundsTitle?null:(0,H.jsx)(V9,{children:g.uiConfig?.receiveFundsTitle??`Receive ${g.amount} ${v??""}`.trim()}),[g.uiConfig?.receiveFundsTitle,g.amount,v]),C=(0,G.useMemo)(()=>""===g.uiConfig?.receiveFundsSubtitle?null:(0,H.jsx)(qI,{children:g.uiConfig?.receiveFundsSubtitle??`Scan this code or copy your wallet address to receive funds on ${k}.`}),[g.uiConfig?.receiveFundsSubtitle,k]),A="solana"===g.chainType&&g.isUSDC&&cJ[g.cluster.name]?`?spl-token=${cJ[g.cluster.name]}`:"";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),E,C,(0,H.jsxs)(F$,{style:{gap:"1rem",margin:E||C?"1rem 0":"0"},children:[(0,H.jsx)(qx,{url:`${g.chainType}:${g.address}${A}`,size:200,squareLogoElement:KK}),(0,H.jsxs)(Hr,{theme:d.appearance.palette.colorScheme,children:["Make sure to send funds on ",k,"."]}),(0,H.jsx)(Hl,{title:"Your wallet",errMsg:void 0,showIcon:!0,isLoading:!g||void 0===u,isPulsing:!x,balance:`${_} ${v}`,address:g.address,statusColor:x?"green":"gray"}),p&&(0,H.jsx)(LG,{onClick:()=>c({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),(0,H.jsx)(Ld,{})]})}},KK=({...e})=>(0,H.jsx)(Mj,{color:"black",...e}),KJ={devnet:"Devnet","mainnet-beta":"Solana",testnet:"Testnet"},KY=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],KZ=g4.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var KQ=({onBack:e,details:t})=>(0,H.jsxs)(KZ,{children:[(0,H.jsx)(Lm,{backFn:e}),(0,H.jsx)(KF,{data:t}),(0,H.jsx)(Ld,{})]});let KX=({txn:e,receipt:t,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:a,receiptHeader:o,receiptDescription:s})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:n}),(0,H.jsx)(Bd,{title:o??"Transaction complete!",description:s??"You're all set."}),(0,H.jsx)(De,{tokenPrice:i,from:t.from,to:t.to,gas:(({gasUsed:e,effectiveGasPrice:t})=>{if(e&&t)try{return(0,Y.toHex)(e*t)}catch(e){return}})(t),txn:e,transactionInfo:r,tokenSymbol:a}),(0,H.jsx)(U6,{}),(0,H.jsx)(K0,{loading:!1,onClick:n,children:"All Done"}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}),K0=g4(LG).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),K1=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K2=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],K3=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K5=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],K4=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K6=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K8=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K9=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],K7=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Je=(e,t)=>{let r=Jt(K3,e);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=Jt(HG,e);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!t)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Jt(K1,e);if(i&&"string"==typeof i.args[1]){let e=Jr(i.args[1]);if(e&&e[4].encodedInitData)return Je(e[4].encodedInitData,t)}let a=Jt(K6,e);if(a)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:a.args[0],approved:a.args[1]};let o=Jt(K8,e);if(o)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let s=Jt(K4,e);if(s)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:s.args[0],transferTo:s.args[1],tokenId:s.args[2]};let l=Jt(K7,e);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let c=Jt(K9,e);if(c)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:c.args[0],transferTo:c.args[1],tokenIds:c.args[2],amounts:c.args[3]};let d=Jt(K5,e);return d?{action:"mint",functionName:d.functionName,isNFTIsh:!0,isErc20Ish:!1,args:d.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}},Jt=(e,t)=>{try{let r=(0,uD.decodeFunctionData)({abi:e,data:t});return{functionName:r.functionName,args:r.args||[]}}catch(e){return null}},Jr=e=>{try{if("string"==typeof e)return(0,uB.decodeAbiParameters)(K2,`0x${e.slice(10)}`)}catch(e){return null}},Jn=e=>`${parseFloat(e).toFixed(2)}`,Ji=new Mv(new Mw("There was an issue preparing your transaction",ez.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),Ja=(e,t)=>e?.sendTransaction?"transactionRequest"in e.sendTransaction?e.sendTransaction.transactionRequest:e.sendTransaction.transactionRequests[t]:void 0,Jo={component:()=>{let{data:e,onUserCloseViaDialogOrKeybindRef:t,setModalData:r,navigate:n}=Ux(),{client:i,rpcConfig:a,chains:o,closePrivyModal:s,walletProxy:l,showFiatPrices:c}=dH(),{user:d}=u5(),u=Uy(),[h,p]=(0,G.useState)(0),[f,m]=(0,G.useState)(0),[g,y]=(0,G.useState)(Ja(e,h)),[w,v]=(0,G.useState)(null),[b,x]=(0,G.useState)(),[_,k]=(0,G.useState)(!1),[E,C]=(0,G.useState)(null),[A,I]=(0,G.useState)(null),[S,T]=(0,G.useState)(null),[P,j]=(0,G.useState)(void 0),[N,O]=(0,G.useState)(void 0),[$,R]=(0,G.useState)(!1),[M,U]=(0,G.useState)(!1),[L,F]=(0,G.useState)([]),[D,B]=(0,G.useState)([]),[W,q]=(0,G.useState)("uninitiated"),[z,V]=(0,G.useState)(void 0);if(!g||!e?.sendTransaction||!e?.sendTransaction)return(0,H.jsx)(Wz,{error:Error("Invalid transaction request"),onClick:()=>{e?.sendTransaction?.onFailure(Ji),s({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:K}=e.sendTransaction,J=(0,G.useMemo)(()=>o.find(e=>Number(e.id)===Number(g.chainId)),[g.chainId]),Y=J?.nativeCurrency.symbol??"ETH",Z=(0,G.useMemo)(()=>Je(g.data,!!u.embeddedWallets.extendedCalldataDecoding),[g.data]),{action:Q,isErc20Ish:X,isNFTIsh:ee,functionName:et}=Z,{toAddress:er,tokenAddress:en}=(0,G.useMemo)(()=>({toAddress:Z.isErc20Ish?Z.transferTo:g.to??void 0,tokenAddress:Z.isErc20Ish?g.to:void 0}),[Z]);(0,G.useEffect)(()=>{g.to&&J&&X&&HT({address:g.to,chain:J,rpcConfig:u.rpcConfig,privyAppId:u.id}).then(v).catch(console.error)},[g.to,J]);let{tokenPrice:ei,isTokenPriceLoading:ea}=Di(g.chainId),{balance:eo}=Hc({rpcConfig:u.rpcConfig,appId:u.id,address:K,chain:J}),es=function({rpcConfig:e,appId:t,address:r,chain:n,tokenInfo:i}){let{chains:a}=dH(),[o,s]=(0,G.useState)(null),[l,c]=(0,G.useState)(!1),d=(0,G.useMemo)(()=>{let r=n||a[0];if(r)return(0,dG.createPublicClient)({chain:n,transport:(0,dK.http)(((e,t,r)=>{let n,i=e.id,a=Number(e.id);if(e.rpcUrls.privyWalletOverride&&e.rpcUrls.privyWalletOverride.http[0])n=e.rpcUrls.privyWalletOverride.http[0];else if(t.rpcUrls&&t.rpcUrls[a])n=t.rpcUrls[a];else if(e.rpcUrls.privy?.http[0]){let t=new URL(e.rpcUrls.privy.http[0]);t.searchParams.append("privyAppId",r),n=t.toString()}else n=e.rpcUrls.public?.http[0]?e.rpcUrls.public.http[0]:e.rpcUrls.default?.http[0];if(!n)throw new eW(`No RPC url found for ${i}`);return n})(r,e,t))})},[n,e,t]),u=(0,G.useCallback)(async()=>{if(r&&d&&i.address)try{return c(!0),await d.readContract({address:i.address,abi:KY,functionName:"balanceOf",args:[r]})}catch(e){console.error(e)}finally{c(!1)}},[d,r,i?.address,n]);return(0,G.useEffect)(()=>{u().then(e=>null!=e&&s(e))},[u]),{balance:o,isLoading:l&&null==o,formattedBalance:cX({amount:o??BigInt(0),decimals:i.decimals})}}({rpcConfig:u.rpcConfig,appId:u.id,address:K,tokenInfo:{address:en||"",decimals:w?.decimals??18},chain:J}),el=(0,G.useMemo)(()=>RQ(Number(g.chainId),o,a,{appId:u.id}),[g.chainId,a]),ec=((e,t,r,n)=>{let[i,a]=(0,G.useState)(null),{walletProxy:o}=dH();return(0,G.useEffect)(()=>{i&&a(null),(async()=>{if(!o||!t)return null;let i=[],a=!0,s=await Ds(e,r,t,n).catch(t=>(t.message&&t.message.includes("Insufficient balance for transaction")||t.details&&t.details.includes("insufficient funds")?a=!1:i.push(t),e));return{tx:s,totalGasEstimate:s.gas,hasFunds:a,errors:i}})().then(a)},[e]),i})(g,K,el,e?.sendTransaction?.prepareTransactionRequest);(0,G.useEffect)(()=>{y(Ja(e,h))},[h]),(0,G.useEffect)(()=>{e.sendTransaction?.getIsSponsored?e.sendTransaction.getIsSponsored().then(x).catch(console.error):x(!1)},[e.sendTransaction.getIsSponsored]);let ed=()=>{if(!_)return E?e?.sendTransaction?.onSuccess({hash:E}):S||ec?.errors[0]?e?.sendTransaction?.onFailure(S??ec?.errors[0]??Ji):e?.sendTransaction?.onFailure(new Mv(new Mw("The user rejected the request",ez.E4001_USER_REJECTED_REQUEST.eipCode))),s({shouldCallAuthOnSuccess:!1})};t.current=ed;let eu=!!(e.funding&&e.funding.supportedOptions.length>0),eh=L7(BigInt(ec?.totalGasEstimate??0n),Y),ep=c&&ei?L9(BigInt(ec?.totalGasEstimate??0n),ei):void 0,ef=L7(eo??0n,Y,void 0,!0),em=c&&ei?L9(eo??0n,ei):void 0,eg=w&&!es.isLoading&&X&&"approve"!==Q?`${es.formattedBalance} ${w.symbol}`:void 0,ey=e.sendTransaction?.uiOptions?.transactionInfo?.title;ey||(ey="approve"===Q?X?"Confirm address":"Confirm action":`Approve ${Q}`);let ew=(0,G.useMemo)(()=>{if(e.sendTransaction?.uiOptions?.description)return e.sendTransaction?.uiOptions?.description;if("approve"===Q&&"setApprovalForAll"===et&&Z.approved){let e=(0,H.jsx)(DJ,{address:Z.operator||"",url:J?.blockExplorers?.default?.url});return(0,H.jsxs)(H.Fragment,{children:[u.name," would like your permission for ",e," to transfer tokens on your behalf."]})}if("approve"===Q&&"setApprovalForAll"===et&&!Z.approved){let e=(0,H.jsx)(DJ,{address:Z.operator||"",url:J?.blockExplorers?.default?.url});return(0,H.jsxs)(H.Fragment,{children:[u.name," would like your permission to revoke permissions of ",e," from transferring tokens on your behalf."]})}return X&&"approve"===Q||X&&"approve"===Q?`${u.name} would like your permission for ${R1(Z.spender)} to spend tokens on your behalf.`:`${u.name} wants your permission to approve the following transaction.`},[u.name,X,Z,e.sendSolanaTransaction?.uiOptions.description,et]),ev=e.sendTransaction?.uiOptions?.transactionInfo?.contractInfo?.imgUrl?(0,H.jsx)("img",{src:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:e.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,eb=!(!ec||ec.errors[0]||ec.hasFunds||!1!==b),ex=eb&&eu,e_=ex?"Add funds":e.sendTransaction?.uiOptions?.buttonText||(h<f?"Continue":"Approve");if((0,G.useEffect)(()=>{e.sendTransaction?.scanTransaction&&u.embeddedWallets.transactionScanning.enabled&&"uninitiated"===W&&(q("in progress"),e.sendTransaction.scanTransaction().then(e=>{(e=>{if(!e)throw Error("Transaction scan failed");if("Success"===e.validation.status&&("Benign"===e.validation.result_type?O("safe"):"Warning"===e.validation.result_type?O("warn"):"Malicious"===e.validation.result_type&&(O("error"),U(!0))),"Success"!==e.simulation.status)throw Error("Simulation failed");{j(e.simulation.params);let{assetsIn:t,assetsOut:r}=function(e,t){let r=[],n=new Map;if(e){for(let t of e)if(t.in[0]){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.in[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name,nftCount:t.in.length}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.in[0].value,symbol:t.asset.symbol,usdValue:t.in[0].usd_price?Jn(t.in[0].usd_price):void 0,decimals:t.asset.decimals},r.push(e)}else if(t.out[0]?.value){let e;e="ERC721"===t.asset.type||"approve_for_all"===t.out[0].value?{id:`nft:${t.asset.name}`,nftName:t.asset.name}:{id:`token:${t.asset.type}:${t.asset.symbol}:${t.asset.name}`,iconUrl:t.asset.logo_url,value:t.out[0].value,symbol:t.asset.symbol,usdValue:t.out[0].usd_price?Jn(t.out[0].usd_price):void 0,decimals:t.asset.decimals},n.has(e.id)||n.set(e.id,e)}}for(let e of t)for(let t of Object.keys(e.spenders)){let r;r="ERC721"===e.asset.type||"approve_for_all"===e.spenders[t]?.value?{id:`nft:${e.asset.name}`,nftName:e.asset.name}:{id:`token:${e.asset.type}:${e.asset.symbol}:${e.asset.name}`,iconUrl:e.asset.logo_url,value:e.spenders[t]?.value,symbol:e.asset.symbol,usdValue:e.spenders[t]?.usd_price?Jn(e.spenders[t]?.usd_price):void 0,decimals:e.asset.decimals},n.has(r.id)||n.set(r.id,r)}return{assetsIn:r,assetsOut:Array.from(n.values())}}(e.simulation.assets_diffs,e.simulation.exposures);if(0===r.length&&0===t.length)throw Error("No tokens found");F(r),B(t)}})(e),q("completed")}).catch(()=>q("failed")))},[!!e.sendTransaction?.scanTransaction]),(0,G.useEffect)(()=>{e.sendTransaction?.scanTransaction&&"failed"!==W||((t,r,n)=>{if(m(e?.sendTransaction?"transactionRequest"in e.sendTransaction?0:e.sendTransaction.transactionRequests.length-1:0),r.isErc20Ish&&r.amount&&n){let e=HJ({amount:r.amount,decimals:n.decimals});V(e),F([{value:e,symbol:n?.symbol,decimals:n?.decimals}])}else if(t.value){let e=BigInt(t.value),r=ei?L9(e,ei):void 0;F(c&&r?[{value:r}]:[{value:Fe(e),symbol:Y,decimals:18,usdValue:r}])}else F(c?[{value:"$0"}]:[{value:"0",symbol:Y,decimals:18}])})(ec?.tx??g,Z,w)},[g,ec?.tx,Z,w,W]),A)return(0,H.jsx)(KX,{txn:ec?.tx??g,onClose:ed,receipt:A,transactionInfo:e.sendTransaction?.uiOptions.transactionInfo,tokenPrice:ei,tokenSymbol:Y,receiptHeader:e.sendTransaction?.uiOptions.successHeader,receiptDescription:e.sendTransaction?.uiOptions.successDescription});if(S)return(0,H.jsx)(Kg,{transactionError:S,transactionHash:E??void 0,network:"ethereum",chainId:ec?.tx.chainId??g.chainId,onClose:ed,onRetry:({resetNonce:e})=>{T(null);let t={...ec?.tx??g};e&&(t.nonce=void 0),y(t)}});let ek=0!==f&&"number"==typeof h&&0!==h?()=>{p(h-1)}:void 0;return $&&P?(0,H.jsx)(KQ,{details:P,onBack:()=>R(!1)}):(0,H.jsx)(Kc,{transactionIndex:h,onBack:ek,maxIndex:f,disabled:eb&&!eu||M,isSubmitting:_,submitError:S,isPreparing:!ec,isTokenPriceLoading:ea,isTokenContractInfoLoading:!ee&&!w,prepareError:ec?.errors[0],symbol:w?.symbol,chain:J,img:ev,title:ey,subtitle:ew,txValue:g.value,fee:ep??eh,isSponsored:b,from:K??"",to:er,tokenAddress:en??void 0,network:u.chains.find(e=>e.id===g.chainId)?.name??"",transactionDetails:{...Z,formattedAmount:z},cta:e_,missingFunds:eb,action:Q,balance:eg??em??ef,onClose:ed,onClick:ex?async()=>{if(K){if(!eu)throw Error("Funding wallet is not enabled");r({...e,funding:{...e.funding,methodScreen:GK,chainType:"ethereum",amount:(0,cY.formatEther)(BigInt(ec?.tx.value??0)+BigInt(ec?.totalGasEstimate?.toString()??0)),chain:J}}),n(GK)}}:async()=>{if(h<f)p(h+1);else{k(!0);try{let t=await i.getAccessToken();if(_||!t||!l||!d)return;let r=await e.sendTransaction.onConfirm({transactionRequest:ec?.tx??g});if(C(r),e.sendTransaction?.signOnly)return await new Promise(e=>setTimeout(e,1400)),e?.sendTransaction?.onSuccess({hash:r}),s({shouldCallAuthOnSuccess:!1});let n=await el.waitForTransactionReceipt({hash:r});if("reverted"===n.status)throw Error("Transaction failed");I(n)}catch(e){console.warn({transaction:ec?.tx??g,error:e}),T(e)}finally{k(!1)}}},validation:N,hasScanDetails:!!P,setIsScanDetailsOpen:R,preventMaliciousTransaction:M,setPreventMaliciousTransaction:U,tokensSent:L,tokensReceived:D,isScanning:"in progress"===W,isCancellable:e.sendTransaction?.uiOptions?.isCancellable??!1,functionName:et})}};function Js({title:e}){let{currentScreen:t,navigateBack:r,navigate:n,data:i,setModalData:a}=Ux();return(0,H.jsx)(Lm,{title:e,backFn:t===KG?r:t===i?.funding?.methodScreen?i.funding.comingFromSendTransactionScreen?()=>n(Jo):void 0:i?.funding?.methodScreen?()=>{let e=i.funding;e.usingDefaultFundingMethod&&(e.usingDefaultFundingMethod=!1),a({funding:e}),n(e.methodScreen)}:void 0})}let Jl={component:()=>{let{rpcConfig:e,appId:t,closePrivyModal:r,createAnalyticsEvent:n}=dH(),{navigate:i,setModalData:a,app:o,data:s}=Ux(),{wallets:l}=Do(),c=qj(),[d,u]=(0,G.useState)(null),[h,p]=(0,G.useState)(null),[f,m]=(0,G.useState)([]),[g,y]=(0,G.useState)(0),[w,v]=(0,G.useState)(!1),[b,x]=(0,G.useState)(!1),[_,k]=(0,G.useState)(!1),[E,C]=(0,G.useState)(!1),[A,I]=(0,G.useState)(),[S,T]=(0,G.useState)();if(!s?.funding||"solana"!==s.funding.chainType)throw Error("Invalid funding data");let{address:P,cluster:j,connectedWalletAddress:N}=s.funding,[O,$]=(0,G.useState)(s.funding.amount),R=N?l.find(({address:e})=>e===N):l[0],M=M4(R?.walletClientType||"unknown"),U=M?.name||"wallet",[L,F]=(0,G.useState)(null);(0,G.useEffect)(()=>{(async()=>{if(!R)return;let e=await R.getEthereumProvider();F(uR({account:R.address,transport:uU(e)}).extend(uL.publicActions))})().catch(console.error)},[R]);let[D,B]=(0,G.useState)(0n),W=Fs(D);(0,G.useEffect)(()=>{let e=c(Hp);e?e.getBalance({address:P,cluster:j}).then(e=>B(BigInt(e))):console.warn("Unable to load solana plugin, skipping balance")},[]);let[q,z]=(0,G.useState)(),{tokenPrice:V}=Di("solana"),{fundingAmountInBaseUnit:K,fundingAmountInUsd:J}=Fc({amount:O,fee:0n,tokenPrice:V,isUsdc:s.funding.isUSDC});if((0,G.useEffect)(()=>{(async()=>{if(!L||!R)return;let r=["testnet","devnet"].includes(j.name);r&&console.warn("Solana testnets are not supported for bridging");let n=sq(o.chains).filter(({testnet:e})=>!!e===r),i=(await HY({chains:n,address:R.address,appId:t,rpcConfig:e})).filter(e=>e.balance>0n);if(i.length<1)return void u(new dI(`Wallet ${R1(R.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE));i.sort((e,t)=>Number(t.balance-e.balance));let a=(await Promise.allSettled(i.map(async e=>({...e,quote:await WL({isTestnet:!1,input:WR({amount:K.toString(),user:R.address,recipient:P,destinationChainId:0x2f3fb341,destinationCurrency:Ul,originChainId:e.chain.id})})})))).filter(e=>"fulfilled"===e.status).map(e=>e.value);if(a.length<1)return void u(new dI(`Unable to fetch quotes for bridging. Wallet ${R1(R.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE));let s=a.map(({quote:e,balance:t,chain:r})=>({bridgeTx:WF(e),balance:t,chain:r,isErc20Quote:!1})).filter(({bridgeTx:e})=>!!e);if(s.length>1)return void m(s);let l=s.at(0);l?(x(!0),z({data:l.bridgeTx.data,to:l.bridgeTx.to,value:l.bridgeTx.value,chain:l.chain})):u(new dI(`Unable to select bridge option from quotes. Wallet ${R1(R.address)} does not have enough funds.`,void 0,dN.INSUFFICIENT_BALANCE))})().catch(console.error)},[L]),(0,G.useEffect)(()=>{(async()=>{let r,i;if(!L||!R||w||_||!q)return;v(!0);let a=(0,dG.createPublicClient)({chain:q.chain,transport:(0,dK.http)(RX(q.chain,e,t))});try{r=await a.prepareTransactionRequest({account:R.address,to:q.to,chain:q.chain,data:q.data,value:BigInt(q.value??0)})}catch(e){console.error(e),f.length>1&&p(e.shortMessage??"Something went wrong")}if(r){v(!1),k(!0);try{await L.switchChain({id:q.chain.id})}catch(e){await L.addChain({chain:q.chain}),await L.switchChain({id:q.chain.id})}try{i=await L.sendTransaction(r)}catch(e){console.error(e),"TransactionExecutionError"===e.name&&(f.length<1?u(new dI(e.shortMessage,void 0,dN.TRANSACTION_FAILURE)):p(e.shortMessage??"Something went wrong"))}if(i)return await L.waitForTransactionReceipt({hash:i}),b?(T("pending"),void I(i)):(k(!1),C(!0),void n({eventName:Hd,payload:{provider:"external",status:"success",txHash:i,address:R.address,chainId:q.chain.id,chainType:"ethereum",value:q.value?(0,cZ.formatUnits)(BigInt(q.value),18):void 0,token:"ETH",destination:P,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,cZ.formatUnits)(K,9),destinationToken:"SOL"}}));k(!1)}else v(!1)})().catch(console.error)},[L,q]),WD({transactionHash:A,wallet:R,isTestnet:!1,bridgingStatus:S,setBridgingStatus:T,onSuccess({transactionHash:e,wallet:t}){x(!1),C(!0),n({eventName:Hd,payload:{provider:"external",status:"success",txHash:e,address:t.address,chainId:q?.chain.id,chainType:"ethereum",value:q?.value?(0,cZ.formatUnits)(BigInt(q.value),18):void 0,token:"ETH",destination:P,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:(0,cZ.formatUnits)(K,9),destinationToken:"SOL"}})},onFailure({error:e}){x(!1),u(e)}}),(0,G.useEffect)(()=>{d&&(a({funding:s?.funding,sendTransaction:s?.sendTransaction,errorModalData:{error:d,previousScreen:GT}}),i(Wq,!1))},[d]),(0,G.useEffect)(()=>{if(!E)return;let e=setTimeout(r,4e3);return()=>clearTimeout(e)},[E]),E)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(FO,{children:[(0,H.jsx)($U,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(Bh,{title:"Success!",description:`Youve successfully added ${O} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]});let Y=f[g];return f.length>1&&Y?(0,H.jsx)(GC,{displayName:U,configuredFundingChain:j,formattedBalance:W,fundingAmount:O,fundingCurrency:"SOL",fundingAmountInUsd:J,options:f,selectedOption:Y,isPreparing:w,isSubmitting:_,addressToFund:P,fundingWalletAddress:R?.address||"",errorMessage:h,onSubmit:()=>{s.funding?.amount!==O?(async function(){if(R&&Y)try{let e=await WL({isTestnet:!1,input:WR({amount:K.toString(),user:R.address,recipient:P,destinationChainId:0x2f3fb341,destinationCurrency:Ul,originChainId:Y.chain.id})}),t=WF(e);if(!t)throw Error("Invalid transaction request");x(!0),z({data:t.data,to:t.to,value:t.value,chain:Y.chain})}catch(e){console.error(e),u(new dI("Unable to fetch quotes for bridging",e,dN.INSUFFICIENT_BALANCE))}})().catch(console.error):z({to:Y.bridgeTx.to,data:Y.bridgeTx.data,value:Y.bridgeTx.value,chain:Y.chain})},onSelect:e=>{e!==g&&(p(null),y(e))},onAmountChange:$}):_&&R?(0,H.jsx)(Hz,{wallet:R,displayName:U,addressToFund:P,isBridging:b,isErc20Flow:!1,chainId:"solana",chainName:j.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Js,{}),(0,H.jsx)(Hj,{}),(0,H.jsx)("div",{style:{marginTop:"1rem"}}),(0,H.jsx)(Ld,{})]})}},Jc=new Map([[GK,null],[GT,"external"],[GA,"external"],[HH,"external"],[Jl,"external"],[GI,"external"],[KG,"manual"],[GF,"moonpay"]]),Jd=({disabled:e})=>{let{migrate:t}=(()=>{let e=Uy(),{user:t}=u5(),{client:r,refreshSessionAndUser:n,walletProxy:i}=dH();return{migrate:(0,G.useCallback)(async()=>{if("legacy-embedded-wallets-only"===e.embeddedWallets.mode)return{success:!0};if(!t)throw new dI("User must be authenticated before migrating wallets",dN.MUST_BE_AUTHENTICATED);let a=u0(t);if(!a||u2(a)||!D9(a))return{success:!0};if(!i)throw new dI("Cannot connect to wallet proxy");let o=await r.getAccessToken();if(!o)throw new dI("User must be authenticated before migrating wallets",dN.MUST_BE_AUTHENTICATED);let s=a.imported?[a]:t.linkedAccounts.filter(e=>"wallet"===e.type&&"privy"===e.walletClientType&&!e.imported).filter(D9),{entropyId:l,entropyIdVerifier:c}=Mu(t,a);try{await i.connect({accessToken:o,entropyId:l,entropyIdVerifier:c})}catch(e){if(!DC(e)||"privy"!==a.recoveryMethod)throw e;await i.recover({accessToken:o,entropyId:l,entropyIdVerifier:c})}return await i.createDelegatedAction({accessToken:o,rootWallet:{address:a.address,chainType:a.chainType,imported:a.imported},delegatedWallets:s}),await n(),{success:!0}},[e.embeddedWallets.mode,t,i,r,n])}})(),{user:r}=u5(),{walletProxy:n}=dH();return(0,G.useEffect)(()=>{!e&&r&&n&&t().catch(e=>{console.debug("Unable to migrate wallets: ",e)})},[r,n,e,t]),null},Ju={component:()=>{let e=Uy(),{data:t,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=Ux(),{crossAppAuthFlow:a,updateWallets:o,closePrivyModal:s,createAnalyticsEvent:l}=dH(),{logout:c}=function(e){let{logout:t}=(0,G.useContext)(u3);return U3("logout",void 0),{logout:t}}(),[d,u]=(0,G.useState)({}),h=t?.crossAppAuth,p={id:h.appId,name:h.name,logoUrl:h.logoUrl},f=new dI(`There was an issue connecting your ${p.name} account. Please try again.`),m=new Rn(async e=>{if(h.popup)try{let t=await a({appId:e,popup:h.popup,action:h.action});u({data:t})}catch(e){if(e instanceof dI)u({error:e});else if(e instanceof dA){if(e.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return n({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:`privy:${p.id}`,embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:e.data?.data?.otherUser?.oAuthUserInfo}}),void r(W4);h.popup&&h.popup.close(),u({error:f})}else u({error:f})}else u({error:f})}),g=()=>{d.data&&(o(),h.onSuccess(d.data),s({shouldCallAuthOnSuccess:!0,isSuccess:!0})),h.onError(d.error??new dI("User canceled flow")),s({shouldCallAuthOnSuccess:!1,isSuccess:!1})};i.current=g,(0,G.useEffect)(()=>{p.id.length&&m.execute(p.id)},[p.id]),(0,G.useEffect)(()=>{if(!d.data)return;let t=d.data;if(e.legal.requireUsersAcceptTerms&&!t.hasAcceptedTerms){let e=setTimeout(()=>{r(qa)},1400);return()=>clearTimeout(e)}if(WI(t,e.embeddedWallets)){let e=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:`privy:${p.id}`,screen:"CrossAppAuthScreen"}}),c()},callAuthOnSuccessOnClose:!0}}),r(qn)},1400);return()=>clearTimeout(e)}let i=setTimeout(g,1400);return()=>clearTimeout(i)},[d.data]);let{title:y,subtitle:w}=(0,G.useMemo)(()=>d.data?{title:`Successfully connected with ${p.name}`,subtitle:"You're good to go!"}:d.error?{title:"Authentication failed",subtitle:d.error.message}:{title:`Connecting to ${p.name}`,subtitle:`Please check the pop-up from ${p.name} to continue`},[d,p.name]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:g}),(0,H.jsx)(FU,{}),(0,H.jsxs)(Jh,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:!!d.data,fail:!!d.error}),(0,H.jsx)(Wx,{name:p.name,logoUrl:p.logoUrl})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:y}),(0,H.jsx)("p",{children:w})]})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Lu,{})]})}},Jh=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-90b9ae6b-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),Jp={component:()=>{let{app:e,data:t}=Ux(),{closePrivyModal:r}=dH(),[n,i]=(0,G.useState)(!1),[a,o]=(0,G.useState)(),{address:s,onDelegate:l,onSuccess:c,onError:d}=t.delegatedActions.consent,u=async()=>{n?c():d(a??new dI("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return(0,G.useEffect)(()=>{if(!n&&!a)return;let e=setTimeout(u,2500);return()=>clearTimeout(e)},[n,a]),(0,H.jsxs)(H.Fragment,n||a?{children:[(0,H.jsx)(Lm,{onClose:u}),(0,H.jsx)(FU,{}),(0,H.jsxs)(Fj,{children:[a?(0,H.jsx)($n,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,H.jsx)($U,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(FD,{height:20}),(0,H.jsx)(Bh,{title:a?"Something went wrong":"Success!",description:a?"Please try again.":`Youve successfully granted delegated action permissions to ${e.name}.`})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}:{children:[(0,H.jsx)(Lm,{closeable:!0,onClose:u}),(0,H.jsx)($V,{width:56,height:56,style:{margin:"auto"}}),(0,H.jsx)(Lk,{style:{marginTop:24,color:"var(--privy-color-foreground)"},children:"Enable offline access"}),(0,H.jsxs)(LE,{style:{marginBottom:24,textWrap:"pretty"},children:["By confirming, ",e.name," will be able to use your wallet for you even when you're not around. You can revoke this later."]}),(0,H.jsx)(Jm,{showIcon:!0,address:s,title:"Wallet",isLoading:!1}),(0,H.jsxs)(Jf,{style:{marginTop:24},children:[(0,H.jsx)(LQ,{onClick:u,children:"Not now"}),(0,H.jsx)(LG,{onClick:async()=>{try{await l(),i(!0)}catch(e){o(e)}},children:"Accept"})]}),(0,H.jsx)(Ld,{})]})}},Jf=g4.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-bdb7bc51-0"})(["display:flex;gap:10px;"]),Jm=g4(Hl).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-bdb7bc51-1"})(["margin-top:1.5rem;"]),Jg={component:()=>{let{app:e,data:t}=Ux(),{closePrivyModal:r}=dH(),[n,i]=(0,G.useState)(!1),[a,o]=(0,G.useState)(),{onRevoke:s,onSuccess:l,onError:c}=t.delegatedActions.revoke,d=async()=>{n?l():c(a??new dI("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return(0,G.useEffect)(()=>{if(!n&&!a)return;let e=setTimeout(d,2500);return()=>clearTimeout(e)},[n,a]),(0,H.jsxs)(H.Fragment,n||a?{children:[(0,H.jsx)(Lm,{onClose:d}),(0,H.jsx)(FU,{}),(0,H.jsxs)(Fj,{children:[a?(0,H.jsx)($n,{stroke:"var(--privy-color-error)",width:"64px",height:"64px"}):(0,H.jsx)($U,{stroke:"var(--privy-color-success)",width:"64px",height:"64px"}),(0,H.jsx)(FD,{height:20}),(0,H.jsx)(Bh,{title:a?"Something went wrong":"Success!",description:a?"Please try again.":"You've successfully revoked permissions."})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]}:{children:[(0,H.jsx)(Lm,{closeable:!0,onClose:d}),(0,H.jsx)($H,{width:56,height:56,style:{margin:"auto"}}),(0,H.jsx)(Lk,{style:{marginTop:24},children:"Revoke offline access to wallet"}),(0,H.jsxs)(LE,{children:["By confirming, ",e.name," will no longer be able to use this wallet on your behalf when you are not online."]}),(0,H.jsxs)(Jy,{style:{marginTop:24},children:[(0,H.jsx)(LQ,{onClick:d,children:"Deny"}),(0,H.jsx)(LG,{onClick:async()=>{try{await s(),i(!0)}catch(e){o(e)}},children:"Confirm"})]}),(0,H.jsx)(Ld,{})]})}},Jy=g4.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-993a839-0"})(["display:flex;gap:10px;"]),Jw="#8a63d2",Jv={component:()=>{let{lastScreen:e,navigateBack:t,data:r,app:n}=Ux(),{requestFarcasterSignerStatus:i,closePrivyModal:a}=dH(),[o,s]=(0,G.useState)(void 0),[l,c]=(0,G.useState)(!1),[d,u]=(0,G.useState)(!1),h=(0,G.useRef)([]),p=r?.farcasterSigner;(0,G.useEffect)(()=>{let e=Date.now(),t=setInterval(async()=>{if(!p?.public_key)return clearInterval(t),void s({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});"approved"===p.status&&(clearInterval(t),c(!1),u(!0),h.current.push(setTimeout(()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0}),1400)));let r=await i(p?.public_key),n=Date.now()-e;"approved"===r.status?(clearInterval(t),c(!1),u(!0),h.current.push(setTimeout(()=>a({shouldCallAuthOnSuccess:!1,isSuccess:!0}),1400))):n>3e5?(clearInterval(t),s({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):"revoked"===r.status&&(clearInterval(t),s({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(t),h.current.forEach(e=>clearTimeout(e))}},[]);let f="pending_approval"===p?.status?p.signer_approval_url:void 0;return(0,H.jsxs)(H.Fragment,K.isMobile||l?{children:[(0,H.jsx)(Lm,{backFn:e?t:void 0,onClose:a},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(H.Fragment,K.isIOS?{children:(0,H.jsxs)(Jx,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:d,fail:!!o}),(0,H.jsx)(zN,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)(Lk,{children:o?o.message:"Add a signer to Farcaster"}),(0,H.jsx)(LE,{children:o?o.detail:"This will allow "+n.name+" to add casts, likes, follows, and more on your behalf."})]}),f&&(0,H.jsx)(LG,{onClick:e=>{e.preventDefault(),window.location.href=f},children:"Open Farcaster app"})]})}:{children:(0,H.jsxs)(Jb,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:d,fail:!!o}),(0,H.jsx)(zN,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)(Lk,{children:o?o.message:"Requesting signer from Farcaster"}),(0,H.jsx)(LE,{children:o?o.detail:"This should only take a moment"}),(0,H.jsx)(FP,{children:f&&K.isMobile&&(0,H.jsx)(zM,{text:"Take me to Farcaster",url:f,color:Jw})})]})]})}),(0,H.jsx)(Lu,{})]}:{children:[(0,H.jsx)(Lm,{backFn:e?t:void 0,onClose:a},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Jb,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(Lk,{children:"Add a signer to Farcaster"}),(0,H.jsxs)(LE,{children:["This will allow ",n.name," to add casts, likes, follows, and more on your behalf."]}),(0,H.jsx)(FN,{children:"pending_approval"===p?.status?(0,H.jsx)(qx,{url:p.signer_approval_url,size:275,squareLogoElement:zN}):(0,H.jsx)(LW,{})}),(0,H.jsxs)(FP,{children:[(0,H.jsx)(LE,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),"pending_approval"===p?.status&&(0,H.jsx)(z$,{text:p.signer_approval_url,itemName:"link",color:Jw})]})]})}),(0,H.jsx)(Lu,{})]})}},Jb=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-4eb46726-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),Jx=g4.div.withConfig({displayName:"ConnectContainerButton",componentId:"sc-4eb46726-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;width:100%;"]),J_={component:()=>{let{closePrivyModal:e}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(Jk,{children:(0,H.jsx)($i,{style:{width:32,height:32}})}),(0,H.jsx)(Bu,{title:"Could not log in with provider",description:"It looks like you're using an in-app browser.  To log in, please try again using an external browser.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),(0,H.jsx)(FT,{children:(0,H.jsx)(LG,{onClick:()=>e(),children:"Close"})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},Jk=g4.div.withConfig({displayName:"StyledCircle",componentId:"sc-7bde5742-0"})(["border-radius:50%;height:68px;width:68px;display:flex;align-items:center;justify-content:center;background-color:var(--privy-color-accent);color:white;margin:0 auto 24px auto;"]),JE={component:()=>{let{app:e}=Ux();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Bh,{title:"Connect your email",description:`Add your email to your ${e?.name} account`,icon:(0,H.jsx)($e,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,H.jsx)(FT,{children:(0,H.jsx)(VE,{stacked:!0})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},JC={component:()=>{let{app:e,currentScreen:t,data:r,navigate:n,setModalData:i}=Ux(),{initLoginWithSms:a}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Bh,{title:"Connect your phone",description:`Add your number to your ${e?.name} account`,icon:(0,H.jsx)(yO,{color:"var(--privy-color-accent)",strokeWidth:2,height:"40px",width:"40px"})}),(0,H.jsx)(FT,{children:(0,H.jsx)(zX,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:e}){try{await a({phoneNumber:e,withPrivyUi:!0}),n(Vg)}catch(e){i({errorModalData:{error:e,previousScreen:r?.errorModalData?.previousScreen||t||JC}}),n(Wq)}},hideRecent:!0})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},JA=({style:e,...t})=>(0,H.jsxs)("svg",{width:"164",height:"164",viewBox:"0 0 164 164",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"26px",width:"26px",...e},...t,children:[(0,H.jsx)("circle",{cx:"82",cy:"82",r:"80",stroke:"#EC6351","stroke-width":"4","stroke-linecap":"round"}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M81.9999 100.788C93.3288 100.788 102.513 91.6043 102.513 80.2754C102.513 68.9465 93.3288 59.7626 81.9999 59.7626C70.671 59.7626 61.4871 68.9465 61.4871 80.2754C61.4871 91.6043 70.671 100.788 81.9999 100.788ZM88.3236 71.8304C88.9093 71.2446 89.8591 71.2446 90.4449 71.8304C91.0307 72.4161 91.0307 73.3659 90.4449 73.9517L84.121 80.2756L90.445 86.5996C91.0308 87.1854 91.0308 88.1351 90.445 88.7209C89.8592 89.3067 88.9095 89.3067 88.3237 88.7209L81.9997 82.3969L75.6756 88.7209C75.0899 89.3067 74.1401 89.3067 73.5543 88.7209C72.9685 88.1351 72.9685 87.1854 73.5543 86.5996L79.8783 80.2756L73.5544 73.9517C72.9686 73.3659 72.9686 72.4161 73.5544 71.8304C74.1402 71.2446 75.09 71.2446 75.6758 71.8304L81.9997 78.1543L88.3236 71.8304Z",fill:"#EC6351"})]}),JI={component:()=>{let{closePrivyModal:e}=dH(),{navigate:t}=Ux();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(JA,{style:{width:"160px",height:"160px",margin:"0 auto 20px"}}),(0,H.jsx)(Bu,{title:"Could not connect with wallet",description:"Please check that Phantom multichain is enabled and try again.",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"}}),(0,H.jsxs)(FT,{children:[(0,H.jsx)(LG,{onClick:()=>t(VQ),children:"Try again"}),(0,H.jsx)(LQ,{onClick:()=>e(),children:"Cancel"})]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}};function JS(){let{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenroll:o,enrollInMfa:s}=(0,G.useContext)(u3);return{initEnrollmentWithSms:e,initEnrollmentWithTotp:t,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:a,unenrollWithSms:()=>o("sms"),unenrollWithTotp:()=>o("totp"),unenrollWithPasskey:e=>o("passkey",e),showMfaEnrollmentModal:()=>s(!0),closeMfaEnrollmentModal:()=>s(!1)}}let JT=e=>(0,H.jsxs)(JP,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...e,children:[(0,H.jsx)("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),(0,H.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]}),JP=g4.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],e=>"success"===e.color?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);"),Jj=({showIntro:e,userMfaMethods:t,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:a,error:o,onClose:s,onBackToIntro:l,handleSelectMethod:c,setRemovingMfaMethod:d})=>{let u=t.reduce((e,t)=>({...e,[t]:!0}),{}),h=r.reduce((e,t)=>({...e,[t]:!0}),{});return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:e?l:void 0,onClose:s},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(y$,{})}),(0,H.jsx)(Lk,{children:"Choose a verification method"}),t.length>0?(0,H.jsx)(LE,{children:"To add or delete verification methods, verification is required."}):(0,H.jsx)(LE,{children:"How would you like to verify your identity?"}),o&&(0,H.jsx)(LF,{style:{marginTop:"1.25rem"},children:o.message}),(0,H.jsxs)(LP,{children:[(h.passkey||u.passkey)&&(0,H.jsxs)(Lj,{children:[(0,H.jsx)(Lr,{style:{justifyContent:"center"},onClick:()=>c("passkey"),disabled:u.passkey||a,children:a?(0,H.jsx)(LW,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,H.jsxs)(LR,{children:[(0,H.jsxs)(LO,{children:[(0,H.jsx)(yN,{}),"Passkey"]}),u.passkey?(0,H.jsx)(JN,{color:"green",children:"Enabled"}):(0,H.jsx)(L$,{$isAccent:!0,children:(0,H.jsx)($A,{})})]})}),u.passkey&&(0,H.jsx)(LN,{style:{position:"absolute",right:0},onClick:()=>d("passkey"),children:(0,H.jsx)($Z,{})})]},"passkey"),(h.totp||u.totp)&&(0,H.jsxs)(Lj,{children:[(0,H.jsx)(Lr,{style:{justifyContent:"center"},disabled:u.totp||i,onClick:()=>c("totp"),children:i?(0,H.jsx)(LW,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):(0,H.jsxs)(LR,{children:[(0,H.jsxs)(LO,{children:[(0,H.jsx)(yj,{}),"Authenticator app"]}),u.totp&&(0,H.jsx)(JN,{color:"green",children:"Enabled"})]})}),u.totp&&(0,H.jsx)(LN,{style:{position:"absolute",right:0},onClick:()=>d("totp"),children:(0,H.jsx)($Z,{})})]},"totp"),(h.sms||u.sms)&&(0,H.jsxs)(Lj,{children:[(0,H.jsx)(Lr,{disabled:u.sms||n,onClick:()=>c("sms"),children:(0,H.jsxs)(LR,{children:[(0,H.jsxs)(LO,{children:[(0,H.jsx)(yO,{}),"SMS"]}),u.sms&&(0,H.jsx)(JN,{color:"green",children:"Enabled"}),n&&(0,H.jsx)(L$,{children:"Disabled"})]})}),u.sms&&(0,H.jsx)(LN,{style:{position:"absolute",right:0},onClick:()=>d("sms"),children:(0,H.jsx)($Z,{})})]},"sms")]}),(0,H.jsx)(JO,{children:"You can always change your selection later"}),(0,H.jsx)(Lu,{})]})},JN=g4(zP).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),JO=g4(LM).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]),J$=({onClose:e,onReset:t,submitEnrollmentWithPasskey:r})=>{let{user:n}=u5(),{initLinkWithPasskey:i,linkWithPasskey:a}=dH(),[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(!1),[d,u]=(0,G.useState)(null),h=(0,G.useMemo)(()=>n?.linkedAccounts.filter(e=>"passkey"===e.type)??[],[n]),p=async e=>{s(!0);try{await r(e)}catch(e){u(e)}finally{s(!1)}},f=async()=>{c(!0),u(null);try{await i();let e=await a(),t=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];await p(t)}catch(e){u(e)}finally{c(!1)}};return 0===h.length||l?(0,H.jsx)(JR,{onReset:t,onClose:e,onClick:f,isCreating:l}):d?(0,H.jsx)(Wz,{error:d,backFn:()=>u(null),onClick:()=>u(null)}):(0,H.jsx)(JM,{passkeys:h,isSubmitting:o,isCreating:l,onReset:t,onClose:e,onSubmitEnrollment:()=>p(h.map(e=>e.credentialId)),onAddPasskey:f})},JR=({onReset:e,onClose:t,onClick:r,isCreating:n})=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:e,onClose:t},"header"),(0,H.jsx)(L_,{children:(0,H.jsxs)(Gt,{children:[(0,H.jsx)(Du,{}),(0,H.jsx)(zz,{})]})}),(0,H.jsx)(Lk,{children:"Set up passkey verification"}),(0,H.jsxs)(LA,{children:[(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)(y$,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($G,{})}),"Takes seconds to set up and use"]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($Q,{})}),"Use your passkey to verify transactions and login to your account"]})]}),(0,H.jsx)(LG,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),(0,H.jsx)(Lu,{})]}),JM=({onReset:e,onClose:t,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:a,isCreating:o})=>{let[s,l]=(0,G.useState)(!1),c=s?i.length:i.length>3?2:3;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:s?()=>l(!1):e,onClose:t},"header"),!s&&(0,H.jsx)(L_,{children:(0,H.jsxs)(Gt,{children:[(0,H.jsx)(Du,{}),(0,H.jsx)(zz,{})]})}),(0,H.jsx)(Lk,{children:"Enable your passkeys for verification"}),(0,H.jsxs)(LA,{children:[i.slice(0,c).map(e=>(0,H.jsxs)(JU,{children:[(0,H.jsx)(JL,{children:JD(e)}),(0,H.jsxs)(JF,{children:["Last used: ",e.latestVerifiedAt?.toLocaleString()]})]},e.credentialId)),!s&&i.length>3&&(0,H.jsx)(JB,{onClick:()=>l(!0),children:"View All"})]}),(0,H.jsx)(LG,{style:{marginTop:"1.5rem"},onClick:n,loading:a,children:"Enable passkeys"}),i.length<5&&(0,H.jsx)(JB,{style:{marginTop:"0.5rem"},onClick:r,disabled:o,children:o?(0,H.jsx)(LW,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),(0,H.jsx)(Lu,{})]})},JU=g4.div.withConfig({displayName:"PasskeyItem",componentId:"sc-bae3649d-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),JL=g4.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-bae3649d-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),JF=g4.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-bae3649d-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),JD=e=>e.authenticatorName?e.createdWithBrowser?`${e.authenticatorName} on ${e.createdWithBrowser}`:e.authenticatorName:e.createdWithBrowser?e.createdWithOs?`${e.createdWithBrowser} on ${e.createdWithOs}`:`${e.createdWithBrowser}`:"Unknown device",JB=g4.button.withConfig({displayName:"StyledLink",componentId:"sc-bae3649d-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),JW=({appName:e,onComplete:t,onReset:r,onClose:n})=>{let[i,a]=(0,G.useState)(""),[o,s]=(0,G.useState)(!1),[l,c]=(0,G.useState)(null),[d,u]=(0,G.useState)("enroll"),{initEnrollmentWithSms:h,submitEnrollmentWithSms:p}=JS(),{app:f,data:m}=Ux();function g(){m?.mfaEnrollmentFlow?.onSuccess(),t()}return l?(0,H.jsx)(Wz,{error:l,backFn:()=>c(null),onClick:()=>c(null)}):(0,H.jsxs)(H.Fragment,"enroll"===d?{children:[(0,H.jsx)(Lm,{backFn:r,onClose:n},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yO,{})}),(0,H.jsx)(Lk,{children:"Set up SMS verification"}),(0,H.jsxs)(LE,{children:["We'll text a verification code to this mobile device whenever you use your ",e," ","wallet."]}),(0,H.jsxs)(LC,{children:[(0,H.jsx)(zX,{onSubmit:async function({qualifiedPhoneNumber:e}){try{await h({phoneNumber:e}),a(e),u("verify")}catch(e){c(e)}},hideRecent:!0}),(0,H.jsxs)(LM,{children:["By providing your mobile number, you agree to receive text messages from ",f?.name,". Some carrier charges may apply"]})]}),(0,H.jsx)(Lu,{})]}:o?{children:[(0,H.jsx)(Lm,{onClose:g},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)($U,{})}),(0,H.jsx)(Lk,{children:"SMS verification added"}),(0,H.jsxs)(LE,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",e," wallet."]}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{onClick:g,children:"Done"})}),(0,H.jsx)(Lu,{})]}:{children:[(0,H.jsx)(Lm,{backFn:function(){"verify"===d?u("enroll"):r()},onClose:n},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yO,{})}),(0,H.jsx)(Lk,{children:"Enter enrollment code"}),(0,H.jsxs)(LC,{children:[(0,H.jsx)(Dw,{onChange:async function(e){try{if(!e)return;await p({phoneNumber:i,mfaCode:e}),s(!0)}catch(e){if(DS(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(DI(e))throw Error("The code you entered is not valid");if(DA(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw DT(e)?Error("Verification canceled"):Error("Unknown error")}}}),(0,H.jsxs)(LE,{children:["To continue, enter the 6-digit code sent to ",(0,H.jsx)("strong",{children:`*${i.replaceAll("-","").slice(-4)}`})]})]}),(0,H.jsx)(Lu,{})]})},Jq=({size:e,authUrl:t})=>(0,H.jsx)(qx,{url:t,squareLogoElement:$X,size:e,fgColor:"#1F1F1F"}),Jz=({onClose:e,onReset:t,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[a,o]=(0,G.useState)("enroll");return(0,H.jsxs)(H.Fragment,"enroll"===a?{children:[(0,H.jsx)(Lm,{backFn:t,onClose:e},"header"),(0,H.jsx)(V9,{children:"Scan QR code"}),(0,H.jsx)(qI,{children:"Open your authenticator app and scan this code to continue"}),(0,H.jsx)(FN,{children:(0,H.jsx)(Jq,{authUrl:r.authUrl,size:240})}),(0,H.jsx)(Ha,{style:{textAlign:"left"},children:"Setup key"}),(0,H.jsxs)(Hs,{style:{marginTop:"0.25rem"},children:[(0,H.jsx)(Hi,{children:"".repeat(16)}),(0,H.jsx)(z$,{itemName:" ",text:r.secret})]}),(0,H.jsx)(LG,{style:{marginTop:"1rem"},onClick:function(){o("verify")},children:"Continue"}),(0,H.jsx)(Lu,{})]}:{children:[(0,H.jsx)(Lm,{backFn:function(){"verify"===a?o("enroll"):t()},onClose:e},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yj,{})}),(0,H.jsx)(V9,{children:"Enter enrollment code"}),(0,H.jsx)(qI,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),(0,H.jsx)(LC,{children:(0,H.jsx)(Dw,{onChange:async function(e){try{if(!e)return;await n({mfaCode:e})}catch(e){if(DS(e))throw Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.");if(DI(e))throw Error("The code you entered is not valid");if(DA(e))throw Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.");throw DT(e)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i?.message})}),(0,H.jsx)(Lu,{})]})},JV={component:()=>{let{user:e,enrollInMfa:t,ready:r}=u5(),[n,i]=(0,G.useState)(null),{unenrollWithSms:a,unenrollWithTotp:o,unenrollWithPasskey:s,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:c,submitEnrollmentWithPasskey:d,initEnrollmentWithTotp:u}=JS(),{app:h,data:p,onUserCloseViaDialogOrKeybindRef:f}=Ux(),{closePrivyModal:m}=dH(),{promptMfa:g}=DN(),[y,w]=(0,G.useState)(!1),[v,b]=(0,G.useState)(null),[x,_]=(0,G.useState)(null),k=()=>{m({shouldCallAuthOnSuccess:!0}),t(!1),setTimeout(()=>{i(null),b(null)},500)},[E,C]=(0,G.useState)(!1),[A,I]=(0,G.useState)();f.current=k;let S=e?.mfaMethods.includes("sms"),T=!!e?.phone,P=e?.mfaMethods.includes("totp"),j=e?.mfaMethods.includes("passkey"),N=S||P||j,O=e?.linkedAccounts.filter(e=>"passkey"===e.type).map(e=>e.credentialId)??[];function $(){i(null),b(null)}async function R(e=O){C(!0);try{return await c(),await d({credentialIds:e},{removeForLogin:p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa}),p?.mfaEnrollmentFlow?.onSuccess(),k()}catch(e){I(e)}finally{C(!1)}}if((0,G.useEffect)(()=>{N&&w(!0)},[N]),!r||!e||!h)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:k},"header"),(0,H.jsx)(L_,{children:(0,H.jsx)(JT,{})}),(0,H.jsx)(LC,{children:(0,H.jsx)(LW,{})}),(0,H.jsx)(Lu,{})]});if("sms"===n)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:$,onClose:k},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yM,{})}),(0,H.jsx)(Lk,{children:"Remove SMS verification?"}),(0,H.jsxs)(LE,{children:["MFA adds an extra layer of security to your ",h?.name," account. Make sure you have other methods to secure your account."]}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{$warn:!0,onClick:async function(){i(null);try{await a()}catch(e){i(null)}},children:"Remove"})}),(0,H.jsx)(Lu,{})]});if("totp"===n)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:$,onClose:k},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yM,{})}),(0,H.jsx)(Lk,{children:"Remove authenticator app verification?"}),(0,H.jsxs)(LE,{children:["MFA adds an extra layer of security to your ",h?.name," account. Make sure you have other methods to secure your account."]}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{$warn:!0,onClick:async function(){i(null);try{await o()}catch(e){i(null)}},children:"Remove"})}),(0,H.jsx)(Lu,{})]});if("passkey"===n){let e=p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa??!0;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{backFn:$,onClose:k},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(yM,{})}),(0,H.jsx)(Lk,{children:"Are you sure you want to remove this passkey?"}),(0,H.jsx)(LE,{children:e?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{$warn:!0,onClick:async function(){i(null);try{await s({removeForLogin:p?.mfaEnrollmentFlow?.shouldUnlinkOnUnenrollMfa})}catch(e){i(null)}},children:"Remove"})}),(0,H.jsx)(Lu,{})]})}if(0===p.mfaEnrollmentFlow.mfaMethods.length&&!N)return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:k},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(y$,{})}),(0,H.jsx)(Lk,{children:"Add more security"}),(0,H.jsxs)(LE,{children:[h?.name," does not have any verification methods enabled."]}),(0,H.jsx)(LT,{children:(0,H.jsx)(LG,{onClick:k,children:"Close"})}),(0,H.jsx)(Lu,{})]});let M=!N&&!y;return M?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{onClose:k},"header"),(0,H.jsx)(LL,{style:{marginBottom:"1.5rem"},children:(0,H.jsx)(y$,{})}),(0,H.jsx)(Lk,{children:"Transaction Protection"}),(0,H.jsx)(LE,{children:"Set up transaction protection to add an extra layer of security to your account"}),(0,H.jsxs)(LA,{children:[(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($J,{})}),"Enable 2-Step verification for your ",h?.name," wallet."]}),(0,H.jsxs)(LS,{children:[(0,H.jsx)(LI,{children:(0,H.jsx)($Y,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),(0,H.jsxs)(LT,{children:[(0,H.jsx)(LG,{onClick:()=>w(!0),children:"Continue"}),(0,H.jsx)(LQ,{onClick:k,children:"Not now"})]}),(0,H.jsx)(Lu,{})]}):"sms"===v?(0,H.jsx)(JW,{appName:h?.name||"Privy",onComplete:k,onReset:$,onClose:k}):"totp"===v&&x?(0,H.jsx)(Jz,{onClose:k,onReset:$,submitEnrollmentWithTotp:({mfaCode:e})=>(async function(e){try{return I(void 0),await l({mfaCode:e}),p?.mfaEnrollmentFlow?.onSuccess(),k()}catch(e){I(e)}finally{i(null)}})(e),totpInfo:{...x,appName:h?.name||"Privy"}}):"passkey"===v?(0,H.jsx)(J$,{onReset:$,onClose:k,submitEnrollmentWithPasskey:R}):(0,H.jsx)(Jj,{showIntro:M,userMfaMethods:e.mfaMethods,appMfaMethods:h.mfa.methods,userHasAuthSms:T,onBackToIntro:function(){w(!1)},handleSelectMethod:async function(e){try{await g()}catch(e){return void I(e)}return"totp"===e?(b(e),_(null),void u().then(e=>{_(e)}).catch(()=>{_(null),$()})):"passkey"===e&&1===O.length?await R():void b(e)},isTotpLoading:"totp"===v&&!x,isPasskeyLoading:E,error:A,onClose:k,setRemovingMfaMethod:async e=>{try{await g()}catch(e){return void I(e)}i(e)}})}},JH={component:()=>{let{authenticated:e,logout:t,ready:r,user:n}=u5(),{app:i,setModalData:a,navigate:o,resetNavigation:s}=Ux(),{getAuthMeta:l,initLoginWithOAuth:c,loginWithOAuth:d,updateWallets:u,setReadyToTrue:h,closePrivyModal:p,createAnalyticsEvent:f}=dH(),[m,g]=(0,G.useState)(!1),[y,w]=(0,G.useState)(void 0),v=l()?.provider||"google",{name:b,component:x}=RD(v);(0,G.useEffect)(()=>{d(v).then(()=>{g(!0),h(!0)}).catch(e=>{if(h(!1),e?.privyErrorCode===dN.ALLOWLIST_REJECTED)return w(void 0),s(),void o(qO);if(e?.privyErrorCode===dN.USER_LIMIT_REACHED)return console.error(new dM(e).toString()),w(void 0),s(),void o(qJ);if(e?.privyErrorCode===dN.USER_DOES_NOT_EXIST)return w(void 0),s(),void o(WT);if(e?.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED&&e.data?.data?.nonce)return w(void 0),s(),a({accountTransfer:{nonce:e.data?.data?.nonce,account:e.data?.data?.subject,displayName:e.data?.data?.account?.displayName,linkMethod:l()?.provider,embeddedWalletAddress:e.data?.data?.otherUser?.embeddedWalletAddress,oAuthUserInfo:e.data?.data?.otherUser?.oAuthUserInfo}}),void o(W4);let{retryable:t,detail:r}=function(e,t){let r={detail:"",retryable:!1},n=RI(t);if(e?.privyErrorCode===dN.LINKED_TO_ANOTHER_USER&&(r.detail="This account has already been linked to another user."),e?.privyErrorCode===dN.INVALID_CREDENTIALS&&(r.retryable=!0,r.detail="Something went wrong. Try again."),e.privyErrorCode===dN.OAUTH_USER_DENIED&&(r.detail=`Retry and check ${n} to finish connecting your account.`,r.retryable=!0),e?.privyErrorCode===dN.TOO_MANY_REQUESTS&&(r.detail="Too many requests. Please wait before trying again."),e?.privyErrorCode===dN.TOO_MANY_REQUESTS&&e.message.includes("provider rate limit")){let e=RD(t).name;r.detail=`Request limit reached for ${e}. Please wait a moment and try again.`}if(e?.privyErrorCode===dN.OAUTH_ACCOUNT_SUSPENDED){let e=RD(t).name;r.detail=`Your ${e} account is suspended. Please try another login method.`}return e?.privyErrorCode===dN.CANNOT_LINK_MORE_OF_TYPE&&(r.detail="You cannot authorize more than one account for this user."),e?.privyErrorCode===dN.OAUTH_UNEXPECTED&&t.startsWith("privy:")&&(r.detail="Something went wrong. Please try again."),r}(e,v);w({retryable:t,detail:r,message:"Authentication failed"})}).finally(()=>{RB()})},[b,v]),(0,G.useEffect)(()=>{if(r&&e&&m&&n){if(i?.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let e=setTimeout(()=>{o(qa)},1400);return()=>clearTimeout(e)}if(WI(n,i.embeddedWallets)){let e=setTimeout(()=>{a({createWallet:{onSuccess:()=>{},onFailure:e=>{console.error(e),f({eventName:"embedded_wallet_creation_failure_logout",payload:{error:e,provider:v,screen:"OAuthStatusScreen"}}),t()},callAuthOnSuccessOnClose:!0}}),o(qn)},1400);return()=>clearTimeout(e)}{let e=setTimeout(()=>p({shouldCallAuthOnSuccess:!0,isSuccess:!0}),1400);return u(),()=>clearTimeout(e)}}},[r,e,m,n]);let _=m?`Successfully connected with ${b}`:y?y.message:`Verifying connection to ${b}`,k="";return k=m?"Youre good to go!":y?y.detail:"Just a few moments more",(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{}),(0,H.jsx)(FU,{}),(0,H.jsxs)(JG,{children:[(0,H.jsx)(Dd,{children:(0,H.jsxs)("div",{children:[(0,H.jsx)(LB,{success:m,fail:!!y}),(0,H.jsx)(x,{style:{width:"38px",height:"38px"}})]})}),(0,H.jsxs)(FR,{children:[(0,H.jsx)("h3",{children:_}),(0,H.jsx)("p",{children:k})]}),y&&y?.retryable?(0,H.jsx)(L0,{onClick:()=>{RB(),c(v),w(void 0)},disabled:!m&&!y?.retryable,children:"Retry"}):null]}),(0,H.jsx)(FL,{}),(0,H.jsx)(Lu,{})]})}},JG=g4.div.withConfig({displayName:"ConnectContainer",componentId:"sc-89bb91a9-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:27px;margin-right:27px;gap:24px;"]),JK=(0,G.forwardRef)((e,t)=>{let[r,n]=(0,G.useState)(""),[i,a]=(0,G.useState)(""),[o,s]=(0,G.useState)(!1),{authenticated:l,user:c}=u5(),{initUpdateEmail:d}=dH(),{navigate:u,setModalData:h,currentScreen:p}=Ux(),{enabled:f,token:m}=Mn(),g=Uy(),y=R0(r)&&(g.disablePlusEmails&&r.includes("+")?(i||a("Please enter a valid email address without a '+'."),!1):(i&&a(""),!0)),w=o||!y,v=()=>{!f||m||l?(async e=>{if(!c?.email)throw Error("User is required to have an email address to update it.");s(!0);try{await d({oldAddress:c.email.address,newAddress:r,captchaToken:e}),u(Vg)}catch(e){h({errorModalData:{error:e,previousScreen:p||VQ}})}s(!1)})(m):(h({captchaModalData:{callback:e=>{if(!c?.email)throw Error("User is required to have an email address to update it.");return d({oldAddress:c.email.address,newAddress:r,captchaToken:e})},userIntentRequired:!1,onSuccessNavigateTo:Vg,onErrorNavigateTo:Wq}}),u(qL))};return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)(JJ,{children:[i&&(0,H.jsx)(q_,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),(0,H.jsxs)(JY,{$error:!!i,children:[(0,H.jsx)($e,{}),(0,H.jsx)("input",{ref:t,id:"email-input",type:"email",placeholder:"your@email.com",onChange:e=>n(e.target.value),onKeyUp:e=>{"Enter"===e.key&&v()},value:r,autoComplete:"email"}),e.stacked?null:(0,H.jsx)(L1,{isSubmitting:o,onClick:v,disabled:w,children:"Submit"})]})]}),e.stacked?(0,H.jsx)(LG,{loadingText:null,loading:o,disabled:w,onClick:v,children:"Submit"}):null]})}),JJ=qA,JY=qE,JZ={component:()=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Bh,{title:"Update your email",description:"Add the email address you'd like to use going forward. We'll send you a confirmation code",icon:(0,H.jsx)($e,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,H.jsx)(FT,{children:(0,H.jsx)(JK,{stacked:!0})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})},JQ={component:()=>{let{currentScreen:e,data:t,navigate:r,setModalData:n}=Ux(),{user:i}=u5(),{initUpdatePhone:a}=dH();return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Lm,{},"header"),(0,H.jsx)(FU,{}),(0,H.jsx)(Bh,{title:"Update your phone number",description:"Add the phone number you'd like to use going forward. We'll send you a confirmation code",icon:(0,H.jsx)(yO,{color:"var(--privy-color-accent)",strokeWidth:2,height:"48px",width:"48px"})}),(0,H.jsx)(FT,{children:(0,H.jsx)(zX,{stacked:!0,onSubmit:async function({qualifiedPhoneNumber:o}){try{if(!i?.phone?.number)throw Error("User is required to have an phone number to update it.");await a(i?.phone?.number,o),r(Vg)}catch(i){n({errorModalData:{error:i,previousScreen:t?.errorModalData?.previousScreen||e||JC}}),r(Wq)}},hideRecent:!0})}),(0,H.jsx)(FL,{}),(0,H.jsx)(Ld,{})]})}},JX=(0,yB.create)(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function J0({customAuth:e}){let{jwtAuthFlowState:t}=function({customAuth:e}){let t=U4(),r=(0,G.useRef)(),n=(0,G.useCallback)(e=>(r.current=e,()=>{r.current=void 0}),[]),i=e?.getCustomAccessToken??(()=>Promise.resolve(void 0)),{state:a}=function({subscribe:e,getExternalJwt:t,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:a}){let{client:o,onCustomAuthAuthenticated:s}=dH(),{logout:l,authenticated:c,ready:d}=Hb();if(!o)throw new dI("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[u,h]=(0,G.useState)({status:"initial"}),p=(0,G.useRef)(),f=(0,G.useRef)(!1),m=(0,G.useRef)(t);(0,G.useEffect)(()=>{m.current=t},[t]);let g=(0,G.useRef)(n);(0,G.useEffect)(()=>{g.current=n},[n]);let y=(0,G.useRef)(i);(0,G.useEffect)(()=>{y.current=i},[i]);let w=(0,G.useRef)(a);return(0,G.useEffect)(()=>{w.current=a},[a]),(0,G.useEffect)(()=>{if(!r||!d)return;let t=async()=>{if(!f.current){f.current=!0;try{h({status:"loading"});let e=await m.current();if(void 0!==p.current&&p.current===e)return void h({status:"done"});if(!e)return c&&(await l(),y.current?.()),p.current=e,void h({status:"done"});o.startAuthFlow(new UP(e));let{user:t,isNewUser:r=!1}=await o.authenticate();if(!t)throw new dI("Failed to sync with custom auth provider");g.current?.({user:t,isNewUser:r}),s(t,r),p.current=e,h({status:"done"})}catch(e){if(console.warn(e),await l().catch(()=>{}),y.current?.(),e instanceof dA&&e.privyErrorCode===dN.LINKED_TO_ANOTHER_USER)return h({status:"initial"}),void setTimeout(()=>{t()},0);w.current?.(e),h({status:"error",error:e})}finally{f.current=!1}}};return t(),e(t)},[e,o,s,c,l,r,d]),r?{state:u}:{state:{status:"not-enabled"}}}({enabled:!0===e?.enabled,subscribe:n,getExternalJwt:i,onAuthenticated:({user:e,isNewUser:r})=>{t("login","onComplete",{user:e,isNewUser:r,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),t("customAuth","onAuthenticated",{user:e})},onUnauthenticated:()=>{t("customAuth","onUnauthenticated")},onError:e=>{t("login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR)}});return(0,G.useEffect)(()=>{(async()=>{e&&!e.isLoading&&r.current?.()})()},[e?.enabled,e?.getCustomAccessToken,e?.isLoading]),{jwtAuthFlowState:a}}({customAuth:e});return(0,G.useEffect)(()=>{JX.setState({jwtAuthFlowState:t})},[t]),null}let J1=(0,G.createContext)(!1);async function J2(){return i?i.getAccessToken():Promise.resolve($4.get(Rc)||$4.get(Ro)||null)}let J3=(e,t)=>a(e,t),J5=(e,t)=>o(e,t),J4=(e,t)=>s(e,t),J6=(e,t)=>l(e,t),J8=e=>c(e),J9=e=>d(e),J7=({config:e,...t})=>{var r;if((()=>{if((0,G.useContext)(J1))throw new dI("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),"undefined"!=typeof window&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&"https:"!==window.location.protocol)throw new dI("Embedded wallet is only available over HTTPS");if("string"!=typeof(r=t.appId)||25!==r.length)throw new dI("Cannot initialize the Privy provider with an invalid Privy app ID");i||(i=new UZ({appId:t.appId,appClientId:t.clientId,apiUrl:t.apiUrl}));let n=Object.assign({},e),a=(0,G.useMemo)(()=>new sW({appId:t.appId,clientId:t.clientId,storage:$4,baseUrl:t.apiUrl,sdkVersion:"react-auth:2.21.4"}),[]);return(0,H.jsx)(Ug,{client:a,legacyClient:i,clientConfig:n,children:(0,H.jsx)(qP,{children:(0,H.jsx)(Ye,{...t,client:i,privy:a})})})},Ye=t=>{let r,n=t.client,i=t.privy,u=qj();r=Uy(),(0,G.useEffect)(()=>{(async e=>{let t=new URL("v3/wallets","https://explorer-api.walletconnect.com");t.searchParams.append("projectId",e);let r=await fetch(t);return r.ok?Object.values((await r.json()).listings).sort(({slug:e},{slug:t})=>"rainbow"===e&&"metamask"===t?1:"metamask"===e||"rainbow"===e?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await r.text().catch(()=>"No response.")}`),[])})(r.walletConnectCloudProjectId).then(e=>M3({listings:e})).catch(console.error)},[r.walletConnectCloudProjectId]);let[h,p]=(0,G.useState)(!1),[f,m]=(0,G.useState)(!1),[g,y]=(0,G.useState)(!1),[w,v]=(0,G.useState)(null),[b,x]=(0,G.useState)([]),[_,k]=(0,G.useState)([]),[E,C]=(0,G.useState)(void 0),[A,I]=(0,G.useState)(!1),[S,T]=(0,G.useState)(null),[P,j]=(0,G.useState)(!1),[N,O]=(0,G.useState)({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:dq}),[$,R]=(0,G.useState)({status:"initial"}),[M,U]=(0,G.useState)({status:"initial"}),[L,F]=(0,G.useState)({status:"initial"}),[D,B]=(0,G.useState)({status:"initial"}),[W,q]=(0,G.useState)({status:"initial"}),[z,V]=(0,G.useState)({status:"initial"}),[X,ee]=(0,G.useState)(null),et=Uy(),er=Uw(),[en,ei]=(0,G.useState)({}),[ea,eo]=(0,G.useState)(null),es=(0,G.useRef)(null),[el,ec]=(0,G.useState)(!1),[ed,eu]=(0,G.useState)(!1),eh=(0,G.useRef)(null),ep=(0,G.useRef)(null),ef=(0,G.useRef)(U0),[em,eg]=(0,G.useState)(!1);n.onStoreCustomerAccessToken=e=>{e&&U5(ef,"accessToken","onAccessTokenGranted",{accessToken:e})},n.onDeleteCustomerAccessToken=()=>{v(null),y(!1),U5(ef,"accessToken","onAccessTokenRemoved")};let ey=(0,G.useRef)(null),ew=(0,G.useRef)(null),ev=(0,G.useRef)(!1),eb=({showWalletUIs:e})=>ev.current?ev.current:void 0!==e?!e:!et.embeddedWallets.showWalletUIs,ex=e=>{T(e),setTimeout(()=>{p(!0)},15)};(0,G.useEffect)(()=>{if(!w)return void n.connectors?.removeEmbeddedWalletConnectors();let e=uz(w),r=uV(w),a=uJ(w);e&&r.length||n.connectors?.removeEmbeddedWalletConnectors(),a||n.connectors?.removeImportedWalletConnector(),n.connectors?X?(e&&n.connectors.addEmbeddedWalletConnectors({walletProxy:X,user:w,embeddedWallets:r,defaultChain:et.defaultChain,appId:t.appId,privyClient:i}),a&&n.connectors.addImportedWalletConnector(X,a.address,et.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[X,w]),(0,G.useEffect)(()=>{X&&es.current?.(X)},[X]);let e_=(0,G.useCallback)((e,t)=>{v(e),I(t),y(!0),eu(!0)},[]);(0,G.useEffect)(()=>{ed&&X&&w&&(async()=>{let e=Wk(w,et.embeddedWallets.ethereum.createOnLogin),t=WC(w,et.embeddedWallets.solana.createOnLogin),r=await J2();if(r){if(e&&t){let e=await X.create({accessToken:r});return await X.createSolana({accessToken:r,ethereumAddress:e?.address}),void eu(!1)}if(t)return await X.createSolana({accessToken:r,ethereumAddress:uz(w)?.address}),await eB.refreshSessionAndUser(),void eu(!1);if(e)return await X.create({accessToken:r}),void eu(!1)}})().catch(console.error)},[ed&&X&&w]),(0,G.useEffect)(()=>{if(et.externalWallets.solana.connectors)return et.externalWallets.solana.connectors.onMount(),()=>et.externalWallets.solana.connectors?.onUnmount()},[et.externalWallets.solana.connectors]),(0,G.useEffect)(()=>{!f&&er&&async function(){let e,t,r,i,a,o=ek(),s=eE(),l=(e=new Set,t=[],i=(r=()=>(function(e){if("undefined"==typeof window)return;let t=t=>e(t.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)})(r=>{t.some(({info:e})=>e.uuid===r.info.uuid)||(t=[...t,r],e.forEach(e=>e(t,{added:[r]})))}))(),{_listeners:()=>e,clear(){e.forEach(e=>e([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),i?.()},findProvider:({rdns:e})=>t.find(t=>t.info.rdns===e),getProviders:()=>t,reset(){this.clear(),i?.(),i=r()},subscribe:(r,{emitImmediately:n}={})=>(e.add(r),n&&r(t,{added:t}),()=>e.delete(r))});n.initializeConnectorManager({walletConnectCloudProjectId:et.walletConnectCloudProjectId,rpcConfig:et.rpcConfig,chains:et.chains,defaultChain:et.defaultChain,store:l,walletList:et.appearance.walletList,shouldEnforceDefaultChainOnConnect:et.shouldEnforceDefaultChainOnConnect,externalWalletConfig:et.externalWallets,appName:et.name??"Privy",walletChainType:et.appearance.walletChainType,appKit:et.externalWallets.walletConnect.appKit,setBaseAccountSdk:C}),n.connectors?.on("connectorInitialized",()=>{a&&clearTimeout(a);let e=n.connectors.walletConnectors.length,t=n.connectors.walletConnectors.reduce((e,t)=>e+ +!!t.initialized,0);t===e?eg(!0):a=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:t,expected:e}),eg(!0)},1500)}),n.connectors?.initialize().then(()=>{eT()});let c=await n.getAuthenticatedUser(),d=!!c;et.legal.requireUsersAcceptTerms&&c&&!c.hasAcceptedTerms?(await n.logout(),eB.setReadyToTrue(!0),U5(ef,"logout","onSuccess")):(et.customAuth?.enabled||(y(!!c),c&&U5(ef,"login","onComplete",{user:c,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),v(c)),o?ew.current=d?"link":"login":s&&!d?(ew.current="login",ei({telegramAuthModalData:{seamlessAuth:!0}}),ex(z8)):eB.setReadyToTrue(!!c))}()},[n,ea,f,er]),(0,G.useEffect)(()=>{if(f){if(!w||!w.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType))return void ec(!!X);if([...b].some(e=>"privy"===e.walletClientType))return void ec(!0);ec(!!X)}},[f,w,b,X]),(0,G.useEffect)(()=>{n.connectors?.setWalletList(et.appearance.walletList)},[et.appearance.walletList.join()]);let ek=()=>{let e=function(){let e=new URLSearchParams(window.location.search),t=e.get("privy_oauth_code"),r=e.get("privy_oauth_state"),n=e.get("privy_oauth_provider");if(!t||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:t,stateCode:r,provider:n,withPrivyUi:!$4.get(Rw),popupFlow:null!==window.opener&&i,disableSignup:!!$4.get(Rv)}}();return e.inProgress&&e.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):"error"===e.authorizationCode?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}):(e.inProgress&&e.provider.startsWith("privy:")&&!e.popupFlow&&(new BroadcastChannel(Bt).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:e.stateCode,authorizationCode:e.authorizationCode}),window.close()),!!e.inProgress&&!!e.withPrivyUi&&(n.startAuthFlow(new RA(e)),ex(JH),!0))},eE=()=>{let e,t=(e=function(){let e=new URLSearchParams(window.location.search),t=Number(e.get("id")||""),r=e.get("hash"),n=Number(e.get("auth_date")||""),i=e.get("first_name");if(t&&i&&n&&r)return Object.fromEntries(e.entries())}())?(Ms(),{flowType:"login-url",authData:e}):(e=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let t=Mo(e.replace("#tgWebAppData=","")),{user:r,auth_date:n,hash:i}=t;return r&&n&&i?t:void 0}())?(Ms(),{flowType:"web-app",authData:e}):void 0;if(!t||!et.loginMethods.telegram||!et.loginConfig.telegramAuthConfiguration?.seamlessAuthEnabled)return;let r=new Mi;return n.startAuthFlow(r),"login-url"===t.flowType&&(r.meta.telegramWebAppData=void 0,r.meta.telegramAuthResult=t.authData),"web-app"===t.flowType&&(r.meta.telegramAuthResult=void 0,r.meta.telegramWebAppData=t.authData),!0},eC=async(e,t,r,i)=>{if("solana_adapter"!==e)eA(await n.connectors?.createEthereumWalletConnector({connectorType:e,walletClientType:t})||null,t,r,i);else{let e=n.connectors?.findSolanaWalletConnector(t);if(!e)return;eA(e,t,r,i)}};async function eA(e,t,r,n){if(!e)return O({status:"disconnected",connectedWallet:null,connectError:new dT("Unable to connect to wallet."),connector:null,connectRetry:dq}),n?.(null,r);O({status:"disconnected",connectedWallet:null,connectError:null,connector:e,connectRetry:dq}),e instanceof UE&&t&&await e.resetConnection(t),O({connector:e,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>eA(e,t,r,n)});try{let t=await e.connect({showPrompt:!0});if((!t||Mx(t))&&et.shouldEnforceDefaultChainOnConnect&&!et.chains.find(e=>e.id===Number(t?.chainId.replace("eip155:","")))&&("wallet_connect_v2"!==t?.connectorType||"metamask"!==t?.walletClientType)){O(t=>({...t,connector:e,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:dq}));try{await t?.switchChain(et.defaultChain.id),t&&(t.chainId=R8((0,Y.toHex)(et.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${et.defaultChain.id}`)}}return O(e=>({...e,status:"connected",connectedWallet:t,connectError:null,connectRetry:dq})),t&&U5(ef,"connectWallet","onSuccess",{wallet:t}),n?.(t,r)}catch(e){return e instanceof dC?(console.warn(e.cause?e.cause:e.message),U5(ef,"connectWallet","onError",e.privyErrorCode||dN.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(e),U5(ef,"connectWallet","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR)),O(t=>({...t,status:"disconnected",connectedWallet:null,connectError:e})),n?.(null,r)}}let eI=async(e,t,r)=>{if(null===e||!Mx(e))return;let i=new Rz(n,e,t,r);n.startAuthFlow(i)},eS=async(e,t,r,i="plain")=>{let a=u(qN);if("transaction"===i&&!a)throw new dI("useSolanaLedger plugin hook must be mounted");if(null===e||!MX(e))return;let o=new RH(e,n,t,r,i,a?{deserializeTransactionFromB64String:a.deserializeTransactionFromB64String,prepareSiwsTransactionWithMemo:a.prepareSiwsTransactionWithMemo}:void 0);n.startAuthFlow(o)},eT=()=>{let e=new URLSearchParams(window.location.search),t=e.get("privy_connector"),r=e.get("privy_wallet_client"),i="true"===e.get("privy_connect_only");if(!t||!r)return;let a=MK({connectorType:t,walletClientType:r});if(!a||!a.isInstalled)return ex(JI);if(!n.connectors)throw new dI("Connector not initialized");ex(i?VP:q0);let o=new URL(window.location.href);o.searchParams.delete("privy_connector"),o.searchParams.delete("privy_wallet_client"),o.searchParams.delete("privy_connect_only"),window.history.pushState({},"",o),eC(t,r,void 0,i?void 0:"solana_adapter"===t?eS:eI)};(0,G.useEffect)(()=>{f&&g&&null===w&&n.getAuthenticatedUser().then(v)},[f,g,w,n]);let eP=e=>{if(!g)throw U5(ef,"linkAccount","onError",dN.MUST_BE_AUTHENTICATED,{linkMethod:e}),new dI("User must be authenticated before linking an account.")},ej=e=>{if(!g||!w)return!1;if("privy"===e.walletClientType)return!0;for(let t of w.linkedAccounts)if("wallet"===t.type&&t.address===e.address&&"privy"!==t.walletClientType)return!0;return!1},eN=async e=>{let t;if(!n.connectors)throw new dI("Connector not initialized");t="ethereum"===e.type?n.connectors.findWalletConnector(e.connectorType,e.walletClientType)||null:n.connectors.findSolanaWalletConnector(e.walletClientType)||null,O(r=>({...r,connector:t,status:"connected",connectedWallet:e,connectError:null,connectRetry:dq})),et.captchaEnabled&&!g?(ei({captchaModalData:{callback:t=>Mx(e)?eI(e,t):eS(e,t),userIntentRequired:!1,onSuccessNavigateTo:q0,onErrorNavigateTo:Wq}}),ex(qL)):(Mx(e)?await eI(e):await eS(e),ex(q0))},eO=()=>{x(e=>{let t=n.connectors?.wallets.filter(Mx).map(e=>({...e,linked:ej(e),loginOrLink:async()=>{if(!await e.isConnected())throw new dI("Wallet is not connected");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new dI("Cannot link or login with embedded wallet");eN(e)},fund:async t=>{await eB.fundWallet(e.address,t)},unlink:async()=>{if(!g)throw new dI("User is not authenticated.");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new dI("Cannot unlink an embedded wallet");v(await n.unlinkEthereumWallet(e.address))}}))||[];return M_(e,t)?e:t}),k(e=>{let t=(n.connectors?.wallets??[]).filter(MX).map(e=>({...e,linked:ej(e),loginOrLink:async()=>{if(!await e.isConnected())throw new dI("Wallet is not connected");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new dI("Cannot link or login with embedded wallet");eN(e)},fund:async()=>{throw new dI("'fund' is deprecated for Solana wallets - use 'fundWallet' instead")},unlink:async()=>{if(!g)throw new dI("User is not authenticated.");if("embedded"===e.connectorType&&"privy"===e.walletClientType)throw new dI("Cannot unlink an embedded wallet");v(await n.unlinkSolanaWallet(e.address))}}));return M_(e,t)?e:t})};(0,G.useEffect)(()=>{eO()},[w?.linkedAccounts,g,f]),(0,G.useEffect)(()=>{if(f){if(!n.connectors)throw new dI("Connector not initialized");eO(),n.connectors.on("walletsUpdated",eO)}},[f]),(0,G.useEffect)(()=>{[...et.loginMethodsAndOrder?.primary??[],...et.loginMethodsAndOrder?.overflow??[]].filter(e=>e.startsWith("privy:")).forEach(e=>n.getCrossAppProviderDetails(e.replace("privy:","")))},[!!n]);let e$=({transaction:e,uiOptions:r,fundWalletConfig:a,address:o,signOnly:s})=>new Promise(async(l,c)=>{let{requesterAppId:d}=r||{},u=s?"signTransaction":"sendTransaction",h=o?uQ(w,o):uz(w);if(!h&&o){let t=uX(b,o);if(t)try{let r=await t.getEthereumProvider(),n={...e,from:o,chainId:e.chainId||Number(t.chainId.replace("eip155:","")),value:void 0!==e.value?(0,Y.toHex)(e.value):void 0},i=await r.request({method:"sendTransaction"===u?"eth_sendTransaction":"eth_signTransaction",params:[n]});return U5(ef,u,"onSuccess",{hash:i}),void l({hash:i})}catch(e){return U5(ef,u,"onError",dN.TRANSACTION_FAILURE),void c(e??new Mv("Unable to "+u+e))}}if(!h)return U5(ef,u,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),void c(new dI("No embedded or connected wallet found for address."));if(!g||!w)return U5(ef,u,"onError",dN.MUST_BE_AUTHENTICATED),void c(Error("User must be authenticated before signing with a Privy wallet"));let p=h.address,f=h.walletIndex??0,{entropyId:m,entropyIdVerifier:y}=Mu(w,h),v=eW.wallets.find(e=>"privy"===e.walletClientType&&(0,J.getAddress)(e.address)===(0,J.getAddress)(p));if(!v)return U5(ef,u,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),void c(Error("Must have a Privy wallet before signing"));let x=await v.getEthereumProvider(),_=await x.request({method:"eth_chainId"}),k=e.chainId?Number(e.chainId):Be(_);if(!et.chains.map(e=>e.id).includes(k))throw new dT(`Chain ID ${k} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,dN.UNSUPPORTED_CHAIN_ID);let E={...e,from:e.from??p,chainId:k},C=await J2();if(!C||!X)return U5(ef,u,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),void c(Error("Must have valid access token and Privy wallet to send transaction"));let A=RQ(E.chainId,et.chains,et.rpcConfig,{appId:t.appId}),I=u2(h),S=async({transactionRequest:e})=>{try{let t;if(!await eB.recoverEmbeddedWallet({address:p}))throw U5(ef,u,"onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),c(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(I){let r=e=>null==e?void 0:(0,Y.toHex)(e),n=await aF(i,async({message:e})=>await X.signWithUserSigner({accessToken:C,requesterAppId:d,message:e}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:e.from,to:e.to,nonce:r(e.nonce),chain_id:r(e.chainId),data:(0,Q.isHex)(e.data)?e.data?e.data:(0,Y.toHex)(Uint8Array.from(e.data)):void 0,value:r(e.value),type:e.type,gas_limit:r(e.gasLimit??e.gas),gas_price:r(e.gasPrice??e.gas),max_fee_per_gas:r(e.maxFeePerGas),max_priority_fee_per_gas:r(e.maxPriorityFeePerGas)}},wallet_id:h.id});if(!n.data||!("signed_transaction"in n.data))throw new Mv("Unable to sign transaction");t=n.data.signed_transaction}else t=await async function({accessToken:e,entropyId:t,entropyIdVerifier:r,transactingWalletIndex:n,walletProxy:i,transactionRequest:a,requesterAppId:o}){return(await i.rpc({entropyId:t,entropyIdVerifier:r,hdWalletIndex:n??0,chainType:"ethereum",accessToken:e,requesterAppId:o,request:{method:"eth_signTransaction",params:[a]}})).response.data}({accessToken:C,entropyId:m,entropyIdVerifier:y,transactingWalletIndex:f,walletProxy:X,transactionRequest:e,requesterAppId:d});if(s)return U5(ef,"signTransaction","onSuccess",{signature:t}),t;{let e=await A.sendRawTransaction({serializedTransaction:t});return U5(ef,"sendTransaction","onSuccess",{hash:e}),e}}catch(e){throw U5(ef,u,"onError",dN.TRANSACTION_FAILURE),e}};if(eb({showWalletUIs:r?.showWalletUIs}))S({transactionRequest:s?E:await Ds(E,A,E.from)}).then(e=>{s?U5(ef,"signTransaction","onSuccess",{signature:e}):U5(ef,"sendTransaction","onSuccess",{hash:e}),l({hash:e})}).catch(e=>{U5(ef,u,"onError",dN.TRANSACTION_FAILURE),c(e)});else{let e={connectingWalletAddress:p,recoveryMethod:h.recoveryMethod,entropyId:m,entropyIdVerifier:y,onCompleteNavigateTo:Jo,isUnifiedWallet:I,onFailure:e=>{U5(ef,u,"onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),c(e)}},t=H_(et)?GQ({address:p,appConfig:et,fundWalletConfig:a,methodScreen:GK,chainIdOverride:E.chainId,comingFromSendTransactionScreen:!0}):void 0;ei({connectWallet:e,sendTransaction:{transactionRequest:E,transactingWalletIndex:f,transactingWalletAddress:p,entropyId:m,entropyIdVerifier:y,signOnly:s,scanTransaction:async()=>{let e=await Ds(E,A,E.from);return await n.scanTransaction({metadata:{domain:et.embeddedWallets.transactionScanning.domain},chain_id:e.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:e.from,to:e.to,value:e.value?.toString(),gas:e.gas?.toString(),gasPrice:e.gasPrice?.toString(),nonce:e.nonce?.toString(),data:e.data}]}})},onConfirm:({transactionRequest:e})=>S({transactionRequest:e}),onSuccess:e=>{s?U5(ef,"signTransaction","onSuccess",{signature:e.hash}):U5(ef,"sendTransaction","onSuccess",{hash:e.hash}),l(e)},onFailure:e=>{U5(ef,u,"onError",dN.TRANSACTION_FAILURE),c(e)},uiOptions:r||{},fundWalletConfig:a,requesterAppId:d},funding:t}),ex(G6)}});function eR(){return new Promise(async(e,t)=>{let r=await J2();if(!r||!X)throw Error("Must have valid access token to enroll in MFA");try{await X.verifyMfa({accessToken:r}),e()}catch(e){t(e)}})}let eM=e=>e?.linkedAccounts.filter(e=>null!==e.latestVerifiedAt&&("wallet"!==e.type||"privy"!==e.walletClientType)).sort((e,t)=>t.latestVerifiedAt.getTime()-e.latestVerifiedAt.getTime())[0],eU=e=>{let t=w?.linkedAccounts.filter(t=>t.type===e).length??0,{displayName:r,loginMethod:n}=Wu(e);if("passkey"===e&&t>=5||"passkey"!==e&&t>=1)throw U5(ef,"linkAccount","onError",dN.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:n}),new dI(`User already has an account of type ${r} linked.`)};async function eL({showAutomaticRecovery:e=!1,legacySetWalletPasswordFlow:t=!1}){T(null);let r=t?"setWalletPassword":"setWalletRecovery";if(!g||!w)throw U5(ef,r,"onError",dN.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let n=u0(w);if(!n||!X)throw U5(ef,r,"onError",dN.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let i=u2(n);if(i)throw U5(ef,r,"onError",dN.UNSUPPORTED_WALLET_TYPE),new dI("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await eR()}catch(e){throw U5(ef,r,"onError",dN.MISSING_MFA_CREDENTIALS),e}return new Promise((a,o)=>{let s="user-passcode"===n.recoveryMethod,l=He({walletAction:"update",availableRecoveryMethods:et.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:t,isResettingPassword:s,showAutomaticRecovery:e}),{entropyId:c,entropyIdVerifier:d}=Mu(w),u={recoveryMethod:n.recoveryMethod,connectingWalletAddress:n.address,onCompleteNavigateTo:l,shouldForceMFA:!1,entropyId:c,isUnifiedWallet:i,entropyIdVerifier:d,onFailure:e=>{U5(ef,r,"onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),o(e)}};ei({setWalletPassword:{onSuccess:e=>{U5(ef,r,"onSuccess",{method:"user-passcode",wallet:e}),a(e)},onFailure:e=>{U5(ef,r,"onError",dN.USER_EXITED_SET_PASSWORD_FLOW),o(e)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:c,entropyIdVerifier:d,onFailure:o},connectWallet:u,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:s,shouldCreateEth:!1,shouldCreateSol:!1}}),ex(G6)})}async function eF({appId:e,action:t}){let r=await J2();if("link"===t&&!r)throw U5(ef,"linkAccount","onError",dN.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${e}`}),new dI("User must be authenticated before linking an account.");if("login"===t&&r)throw U5(ef,"login","onError",dN.UNKNOWN_AUTH_ERROR),new dI("Attempted to log in, but user is already logged in. Use a `link` helper instead.");ey.current=`privy:${e}`,ew.current=t;let i=Ba();return n.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:e}}),new Promise(async(r,a)=>{let{name:o,logoUrl:s}=await Bi({api:n.api,providerAppId:e,requesterAppId:et.id});ei({crossAppAuth:{appId:e,name:o,logoUrl:s,action:t,popup:i,onSuccess:r,onError:a}}),ex(Ju)})}let eD={ready:f,authenticated:g,user:w,walletConnectors:n.connectors||null,connectWallet:e=>{e&&"target"in e&&e&&(e=void 0),ei({externalConnectWallet:{walletList:e?.walletList&&e?.walletList.length>0?e.walletList:void 0,suggestedAddress:e?.suggestedAddress,walletChainType:e?.walletChainType,description:e?.description}}),ex(zC)},linkWallet:e=>{e&&"target"in e&&e&&(e=void 0),eP("siwe"),ey.current="siwe",ew.current="link",ei({...en,externalConnectWallet:{...en.externalConnectWallet,suggestedAddress:e?.suggestedAddress,walletList:e?.walletList,walletChainType:e?.walletChainType,description:e?.suggestedAddress?(0,H.jsxs)("span",{children:["Link the wallet with address"," ",(0,H.jsx)(DJ,{showCopyIcon:!1,address:e?.suggestedAddress})," ",et?.name?`to ${et.name}.`:"."]}):`Link a wallet to your ${et?.name} account`}}),ex(zk)},startCrossAppAuthFlow:eF,linkEmail:()=>{eP("email"),eU("email"),ey.current="email",ew.current="link",ex(JE)},linkPhone:()=>{eP("sms"),eU("phone"),ey.current="sms",ew.current="link",ex(JC)},linkGoogle:async()=>{eP("google"),eU("google_oauth"),ew.current="link",await eB.initLoginWithOAuth("google")},linkTwitter:async()=>{eP("twitter"),eU("twitter_oauth"),ew.current="link",await eB.initLoginWithOAuth("twitter")},linkDiscord:async()=>{eP("discord"),eU("discord_oauth"),ew.current="link",await eB.initLoginWithOAuth("discord")},linkGithub:async()=>{eP("github"),eU("github_oauth"),ew.current="link",await eB.initLoginWithOAuth("github")},linkSpotify:async()=>{eP("spotify"),eU("spotify_oauth"),ew.current="link",await eB.initLoginWithOAuth("spotify")},linkInstagram:async()=>{eP("instagram"),eU("instagram_oauth"),ew.current="link",await eB.initLoginWithOAuth("instagram")},linkTiktok:async()=>{eP("tiktok"),eU("tiktok_oauth"),ew.current="link",await eB.initLoginWithOAuth("tiktok")},linkLine:async()=>{eP("line"),eU("line_oauth"),ew.current="link",await eB.initLoginWithOAuth("line")},linkLinkedIn:async()=>{eP("linkedin"),eU("linkedin_oauth"),ew.current="link",await eB.initLoginWithOAuth("linkedin")},linkApple:async()=>{eP("apple"),eU("apple_oauth"),ew.current="link",await eB.initLoginWithOAuth("apple")},linkPasskey:async()=>{eP("passkey"),eU("passkey"),await eB.initLinkWithPasskey(),ex(Ge)},linkTelegram:async e=>{if(eP("telegram"),eU("telegram"),ew.current="link",ey.current="telegram",e?.launchParams)if(e.launchParams.initDataRaw){let t=new Mi;n.startAuthFlow(t),t.meta.telegramAuthResult=void 0,t.meta.telegramWebAppData=Mo(e.launchParams.initDataRaw),ei({telegramAuthModalData:{seamlessAuth:!0}}),ex(z8)}else U5(ef,"linkAccount","onError",dN.INVALID_DATA,{linkMethod:"telegram"});else await eB.initLoginWithTelegram();ex(z8)},linkFarcaster:async()=>{eP("farcaster"),eU("farcaster"),await eB.initLoginWithFarcaster(),ew.current="link",ey.current="farcaster",ex(zF)},updateEmail:()=>{if(eP("email"),!w?.email)throw new dI("User does not have an email linked to their account.");ew.current="update",ey.current="email",ex(JZ)},updatePhone:()=>{if(eP("sms"),!w?.phone)throw new dI("User does not have a phone number linked to their account.");ew.current="update",ey.current="sms",ex(JQ)},login:async e=>{e&&"target"in e&&e&&(e=void 0);let t="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!f){let e=await new Promise(e=>{eo(t=>e.bind(t))});if(eo(null),e)return void console.warn(t)}!w||w.isGuest?(ew.current="login",ei({login:e}),ex(VQ)):console.warn(t)},connectOrCreateWallet:async()=>{f||(await new Promise(e=>{eo(()=>e)}),eo(null)),g?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(ew.current="connect-or-create",ex(Vc))},logout:async()=>{if(ew.current=null,ey.current=null,w&&n.clearProviderAcccessTokens(w),T(null),await n.logout(),w&&X)try{await X.clearMfa({userId:w.id})}catch(e){}v(null),y(!1),U5(ef,"logout","onSuccess"),p(!1),$4.del(Rp),$4.del(Rf(et.id))},getAccessToken:(0,G.useCallback)(()=>n.getCustomerAccessToken(),[n]),unlinkWallet:async e=>{let t;return v(t=e.startsWith("0x")?await n.unlinkEthereumWallet(e):await n.unlinkSolanaWallet(e)),t},unlinkEmail:async e=>{let t=await n.unlinkEmail(e);return v(t),t},unlinkPhone:async e=>{let t=await n.unlinkPhone(e);return v(t),t},unlinkGoogle:async e=>{let t=await n.unlinkOAuth("google",e);return v(t),t},unlinkTwitter:async e=>{let t=await n.unlinkOAuth("twitter",e);return v(t),t},unlinkDiscord:async e=>{let t=await n.unlinkOAuth("discord",e);return v(t),t},unlinkGithub:async e=>{let t=await n.unlinkOAuth("github",e);return v(t),t},unlinkSpotify:async e=>{let t=await n.unlinkOAuth("spotify",e);return v(t),t},unlinkInstagram:async e=>{let t=await n.unlinkOAuth("instagram",e);return v(t),t},unlinkTiktok:async e=>{let t=await n.unlinkOAuth("tiktok",e);return v(t),t},unlinkLine:async e=>{let t=await n.unlinkOAuth("line",e);return v(t),t},unlinkLinkedIn:async e=>{let t=await n.unlinkOAuth("linkedin",e);return v(t),t},unlinkApple:async e=>{let t=await n.unlinkOAuth("apple",e);return v(t),t},unlinkFarcaster:async e=>{let t=await n.unlinkFarcaster(e);return v(t),t},unlinkTelegram:async e=>{let t=await n.unlinkTelegram(e);return v(t),t},unlinkPasskey:async e=>{let t=await J2();if(!t)throw Error("Must have valid access token to enroll in MFA");if(!X)throw Error("Wallet proxy not initialized.");let r=et.passkeys.shouldUnenrollMfaOnUnlink;await X.unlinkPasskeyAccount({credentialId:e,accessToken:t,removeAsMfa:r});let i=await n.getAuthenticatedUser();return v(i),i},unlinkCrossAppAccount:async({subject:e})=>{let t=w?.linkedAccounts.find(t=>"cross_app"===t.type&&t.subject===e)?.providerApp;if(!t)throw new dI("Invalid subject");n.storeProviderAccessToken(t.id,null);let r=await n.unlinkOAuth(`privy:${t.id}`,e);return v(r),r},setWalletRecovery:async e=>eL({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:e?.showAutomaticRecovery??!1}),setWalletPassword:async()=>eL({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(e,t)=>new Promise(async(r,a)=>{let{requesterAppId:o}=t?.uiOptions||{},s=e.message,l=t?.address?uQ(w,t.address):uz(w);if(!l&&void 0!==t?.address){let e=uX(b,t.address);if(e)try{let t=await e.getEthereumProvider(),n=await t.request({method:"personal_sign",params:[s,e.address]});return U5(ef,"signMessage","onSuccess",{signature:n}),void r({signature:n})}catch(e){return U5(ef,"signMessage","onError",dN.UNABLE_TO_SIGN),void a(e??new Mv("Unable to sign message"))}}if(!l)throw new dI("No embedded or connected wallet found for address.");if(!g||!w)return U5(ef,"signMessage","onError",dN.MUST_BE_AUTHENTICATED),void a(Error("User must be authenticated before signing with a Privy wallet"));let c=l.address,d=l.walletIndex??0,{entropyId:u,entropyIdVerifier:h}=Mu(w,l),p=u2(l);if("string"!=typeof s||s.length<1)return U5(ef,"signMessage","onError",dN.INVALID_MESSAGE),void a(Error("Message must be a non-empty string"));let f=async()=>{let t;if(!g)throw Error("User must be authenticated before signing with a Privy wallet");let r=await J2();if(!X||!r||!await eB.recoverEmbeddedWallet({address:c}))throw Error("Unable to connect to wallet");if(n.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:c,requesterAppId:o}}),p){let n=(0,Q.isHex)(e.message,{strict:!0}),a=await aF(i,async({message:e})=>await X.signWithUserSigner({accessToken:r,requesterAppId:o,message:e}),{chain_type:"ethereum",method:"personal_sign",params:n?{message:s.slice(2),encoding:"hex"}:{message:s,encoding:"utf-8"},wallet_id:l.id});if(!a.data||!("signature"in a.data))throw new Mv("Unable to sign message");t=a.data.signature}else{let{response:e}=await X.rpc({accessToken:r,entropyId:u,entropyIdVerifier:h,chainType:"ethereum",hdWalletIndex:d,requesterAppId:o,request:{method:"personal_sign",params:[s,c]}});t=e.data}return n.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:c,requesterAppId:o}}),t};if(eb({showWalletUIs:t?.uiOptions?.showWalletUIs}))try{let e=await f();U5(ef,"signMessage","onSuccess",{signature:e}),r({signature:e})}catch(e){U5(ef,"signMessage","onError",dN.UNABLE_TO_SIGN),a(e??new Mv("Unable to sign message"))}else ei({signMessage:{method:"personal_sign",data:s,confirmAndSign:f,onSuccess:e=>{U5(ef,"signMessage","onSuccess",{signature:e}),r({signature:e})},onFailure:e=>{U5(ef,"signMessage","onError",dN.UNABLE_TO_SIGN),a(e)},uiOptions:t?.uiOptions||{}},connectWallet:{recoveryMethod:l.recoveryMethod,connectingWalletAddress:c,entropyId:u,entropyIdVerifier:h,onCompleteNavigateTo:KB,isUnifiedWallet:p,onFailure:e=>{U5(ef,"signMessage","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),a(e)}}}),ex(G6)}),signTypedData:(e,t)=>new Promise(async(r,a)=>{let{requesterAppId:o}=t?.uiOptions||{},s=t?.address?uQ(w,t.address):uz(w);if(!s&&t?.address){let n=uX(b,t.address);if(n)try{let t=await n.getEthereumProvider(),i=R7(e),a=await t.request({method:"eth_signTypedData_v4",params:[n.address,i]});return U5(ef,"signTypedData","onSuccess",{signature:a}),void r({signature:a})}catch(e){return U5(ef,"signTypedData","onError",dN.UNABLE_TO_SIGN),void a(e??new Mv("Unable to sign typed data "+e))}}if(!s)throw new dI("No embedded or connected wallet found for address.");if(!g||!w)return U5(ef,"signTypedData","onError",dN.MUST_BE_AUTHENTICATED),void a(Error("User must be authenticated before signing with a Privy wallet"));let l=s.address,c=s.walletIndex??0,{entropyId:d,entropyIdVerifier:u}=Mu(w,s),h=u2(s),p=R7(e),f=async()=>{let e;if(!g)throw Error("User must be authenticated before signing with a Privy wallet");let t=await J2();if(!X||!t||!await eB.recoverEmbeddedWallet({address:l}))throw Error("Unable to connect to wallet");if(n.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:l,requesterAppId:o}}),h){let{domain:r,types:n,primaryType:a,message:l}=p,c=await aF(i,async({message:e})=>await X.signWithUserSigner({accessToken:t,requesterAppId:o,message:e}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:r,types:n,primary_type:a,message:l}},wallet_id:s.id});if(!c.data||!("signature"in c.data))throw new Mv("Unable to sign message");e=c.data.signature}else{let{response:r}=await X.rpc({accessToken:t,entropyId:d,entropyIdVerifier:u,chainType:"ethereum",hdWalletIndex:c,requesterAppId:o,request:{method:"eth_signTypedData_v4",params:[l,p]}});e=r.data}return n.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:l,requesterAppId:o}}),e};if(eb({showWalletUIs:t?.uiOptions?.showWalletUIs}))try{let e=await f();U5(ef,"signTypedData","onSuccess",{signature:e}),r({signature:e})}catch(e){U5(ef,"signTypedData","onError",dN.UNABLE_TO_SIGN),a(e??new Mv("Unable to sign message"))}else ei({signMessage:{method:"eth_signTypedData_v4",data:p,confirmAndSign:f,onSuccess:e=>{U5(ef,"signTypedData","onSuccess",{signature:e}),r({signature:e})},onFailure:e=>{U5(ef,"signTypedData","onError",dN.UNABLE_TO_SIGN),a(e)},uiOptions:t?.uiOptions||{}},connectWallet:{recoveryMethod:s.recoveryMethod,connectingWalletAddress:s.address,entropyId:d,isUnifiedWallet:h,entropyIdVerifier:u,onCompleteNavigateTo:KB,onFailure:e=>{U5(ef,"signMessage","onError",dN.UNKNOWN_CONNECT_WALLET_ERROR),a(e)}}}),ex(G6)}),sendTransaction:async(e,t)=>await e$({transaction:e,uiOptions:t?.uiOptions,fundWalletConfig:t?.fundWalletConfig,address:t?.address,signOnly:!1}),signTransaction:async(e,t)=>({signature:(await e$({transaction:e,uiOptions:t?.uiOptions,address:t?.address,signOnly:!0})).hash}),exportWallet:e=>new Promise(async(r,i)=>{if(!g||!w)return void i(Error("User must be authenticated before exporting their Privy wallet"));e&&"target"in e&&e&&(e=void 0);let a=e?.address?uQ(w,e.address):uz(w);if(!a)return void i(new dI("User must have an embedded wallet."));let o=a.address,{entropyId:s,entropyIdVerifier:l}=Mu(w,a),c=u2(a);if(!o)return void i(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!(0,Z.isAddress)(o))return void i(Error("Must provide a valid Ethereum address."));let d={recoveryMethod:a.recoveryMethod,connectingWalletAddress:a.address,isUnifiedWallet:c,entropyId:s,entropyIdVerifier:l,onCompleteNavigateTo:G2,onFailure:i,shouldForceMFA:!0};ei(en),await J2()&&X?X?D9(a)?(ei({keyExport:{appId:t.appId,appClientId:t.clientId,origin:n.apiUrl,address:a.address,entropyId:s,entropyIdVerifier:l,hdWalletIndex:a.walletIndex,chainType:a.chainType,walletId:a.id,isUnifiedWallet:c,imported:a.imported,onSuccess:r,onFailure:i},connectWallet:d}),ex(G6)):i(Error(`Export is not supported for ${a.chainType} wallets`)):i(Error("Must have a Privy wallet before exporting")):i(Error("Must have valid access token to enroll in MFA"))}),promptMfa:eR,async init(e){switch(e){case"sms":return void await n.initMfaSmsVerification();case"passkey":return await n.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${e}`)}},async submit(t,r){switch(t){case"totp":case"sms":if("string"!=typeof r)throw new dI("Invalid MFA code");eh.current?.resolve({mfaMethod:t,mfaCode:r,relyingParty:window.origin}),await new Promise((e,t)=>{ep.current={resolve:e,reject:t}});break;case"passkey":let n;if("string"==typeof r)throw new dI("Invalid authenticator response");let i=await e.A(719321),a={id:(n=await i.startAuthentication(r)).id,raw_id:n.rawId,response:{client_data_json:n.response.clientDataJSON,authenticator_data:n.response.authenticatorData,signature:n.response.signature,user_handle:n.response.userHandle},authenticator_attachment:n.authenticatorAttachment,client_extension_results:{app_id:n.clientExtensionResults.appid,cred_props:n.clientExtensionResults.credProps,hmac_create_secret:n.clientExtensionResults.hmacCreateSecret},type:n.type};eh.current?.resolve({mfaMethod:t,mfaCode:a,relyingParty:window.origin}),await new Promise((e,t)=>{ep.current={resolve:e,reject:t}});break;default:throw eh.current?.reject(new dI("Unsupported MFA method")),new dI(`Unsupported MFA method: ${t}`)}},cancel(){eh.current?.reject(new dI("MFA canceled"))},async initEnrollmentWithSms(e){let t=await J2();if(!t||!X)throw Error("Must have valid access token to enroll in MFA");await X.initEnrollMfa({method:"sms",accessToken:t,phoneNumber:e.phoneNumber})},enrollInMfa:e=>new Promise((t,r)=>{e?(et.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),ei({mfaEnrollmentFlow:{mfaMethods:et.mfa.methods,shouldUnlinkOnUnenrollMfa:et.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:t,onFailure:r}}),ex(JV)):(eB.closePrivyModal(),t())}),async initEnrollmentWithTotp(){let e=await J2();if(!e||!X)throw Error("Must have valid access token to enroll in MFA");let t=await X.initEnrollMfa({method:"totp",accessToken:e});return{secret:t.secret,authUrl:t.authUrl}},async submitEnrollmentWithSms(e){let t=await J2();if(!t||!X)throw Error("Must have valid access token to enroll in MFA");await X.submitEnrollMfa({method:"sms",accessToken:t,phoneNumber:e.phoneNumber,code:e.mfaCode}),v(await n.getAuthenticatedUser())},async submitEnrollmentWithTotp(e){let t=await J2();if(!t||!X)throw Error("Must have valid access token to enroll in MFA");await X.submitEnrollMfa({method:"totp",accessToken:t,code:e.mfaCode}),v(await n.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:e},t={}){let r=await J2();if(!r||!X)throw Error("Must have valid access token to enroll in MFA");await X.submitEnrollMfa({method:"passkey",accessToken:r,credentialIds:e,removeForLogin:t.removeForLogin}),v(await n.getAuthenticatedUser())},async unenroll(e,t={}){let r=await J2();if(!r||!X)throw Error("Must have valid access token to remove MFA");"passkey"===e?await X.submitEnrollMfa({method:"passkey",accessToken:r,credentialIds:[],removeForLogin:t.removeForLogin}):await X.unenrollMfa({method:e,accessToken:r}),v(await n.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{let e=await J2(),t=w?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!e)throw Error("Must have valid access token to connect with Farcaster");if(!X||!t)throw Error("Must have an embedded wallet to use Farcaster signers");if(u2(t))throw new dI("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!w?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eB.recoverEmbeddedWallet({address:t.address}))throw Error("Unable to connect to wallet");let r=await X.initFarcasterSigner({address:t.address,hdWalletIndex:null,accessToken:e,mfaCode:null,mfaMethod:null,relyingParty:window.origin});"approved"===r.status&&v(await n.getAuthenticatedUser()||w||null),ei({farcasterSigner:r}),ex(Jv)},getFarcasterSignerPublicKey:async()=>{let e,t=await J2(),r=w?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!X||!r)throw Error("Must have an embedded wallet to use Farcaster signers");if(u2(r))throw new dI("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!w?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eB.recoverEmbeddedWallet({address:r.address}))throw Error("Unable to connect to wallet");if(!w.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");return e=w.farcaster.signerPublicKey.slice(2),Uint8Array.from(e.match(/.{1,2}/g).map(e=>parseInt(e,16)))},signFarcasterMessage:async t=>{let r=await J2(),n=w?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!r)throw Error("Must have valid access token to connect with Farcaster");if(!X||!n)throw Error("Must have an embedded wallet to use Farcaster signers");if(u2(n))throw new dI("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!w?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");if(!await eB.recoverEmbeddedWallet({address:n.address}))throw Error("Unable to connect to wallet");if(!w.farcaster?.signerPublicKey)throw Error("Must have a Farcaster signer public key to sign");let i=await e.A(719321),a=await X.signFarcasterMessage({address:n.address,hdWalletIndex:null,accessToken:r,mfaCode:null,mfaMethod:null,payload:{hash:i.bufferToBase64URLString(t)},fid:BigInt(w.farcaster.fid),relyingParty:window.origin});return new Uint8Array(i.base64URLStringToBuffer(a.signature))},signMessageWithCrossAppWallet(e,{address:t,chainId:r}){let i=w?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===t));return Bs({user:w,client:n,address:t,requesterAppId:et.id,request:{method:i?"privy_signSmartWalletMessage":"personal_sign",params:[e,t],chainId:r},reconnect:eF})},signTypedDataWithCrossAppWallet(e,{address:t,chainId:r}){let i=w?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===t)),a=R7(e);return Bs({user:w,client:n,address:t,requesterAppId:et.id,request:{method:i?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[t,a],chainId:r},reconnect:eF})},sendTransactionWithCrossAppWallet(e,{address:t}){let r=w?.linkedAccounts.some(e=>"cross_app"===e.type&&e.smartWallets.some(e=>e.address===t));return Bs({user:w,client:n,address:t,requesterAppId:et.id,request:{method:r?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[e],chainId:e.chainId},reconnect:eF})},isModalOpen:h,mfaMethods:et.mfa.methods};a=eD.signMessage,o=eD.signTypedData,l=async(e,t)=>await e$({transaction:e,...t,signOnly:!1}),s=async(e,t)=>({signature:(await e$({transaction:e,...t,signOnly:!0})).hash});let eB={privy:i,setAuthenticated:y,setUser:v,setIsNewUser:I,isNewUserThisSession:A,pendingTransaction:null,walletConnectionStatus:N,setWalletConnectionStatus:O,connectors:n.connectors?.walletConnectors??[],solanaWallets:_,rpcConfig:et.rpcConfig,chains:et.chains,appId:t.appId,showFiatPrices:"native-token"!==et.embeddedWallets.priceDisplay.primary,clientAnalyticsId:n.clientAnalyticsId,onCustomAuthAuthenticated:e_,hideWalletUIs:ev,isHeadlessSigning:(0,G.useCallback)(eb,[et.embeddedWallets.showWalletUIs]),emailOtpState:M,setEmailOtpState:U,smsOtpState:L,setSmsOtpState:F,oAuthState:W,setOAuthState:q,telegramAuthState:z,setTelegramAuthState:V,siweState:D,setSiweState:B,isHeadlessOAuthLoading:P,baseAccountSdk:E,setBaseAccountSdk:C,nativeTokenSymbolForChainId:e=>et.chains.find(t=>t.id===Number(e))?.nativeCurrency.symbol,initializeWalletProxy:async e=>{if(X)return X;let t=new Promise(e=>{es.current=e}),r=new Promise(t=>setTimeout(()=>t(null),e)),n=await Promise.race([t,r]);return es.current=null,n},getAuthFlow:()=>n.authFlow,getAuthMeta:()=>n.authFlow?.meta,client:n,closePrivyModal:async(e={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let r,i=f&&g&&w;i&&ey.current&&(r=eM(w)),"login"===ew.current?e.shouldCallAuthOnSuccess&&i&&ey.current?U5(ef,"login","onComplete",{user:w,isNewUser:A,wasAlreadyAuthenticated:!1,loginMethod:ey.current,loginAccount:r??null}):U5(ef,"login","onError",dN.USER_EXITED_AUTH_FLOW):"link"===ew.current&&r?e.isSuccess&&i&&ey.current?U5(ef,"linkAccount","onSuccess",{user:w,linkMethod:ey.current,linkedAccount:r}):ey.current&&U5(ef,"linkAccount","onError",dN.USER_EXITED_LINK_FLOW,{linkMethod:ey.current}):"update"===ew.current&&r?e.isSuccess&&i&&ey.current?U5(ef,"update","onSuccess",{user:w,updateMethod:ey.current,updatedAccount:r}):ey.current&&U5(ef,"update","onError",dN.USER_EXITED_UPDATE_FLOW,{linkMethod:ey.current}):"connect-or-create"===ew.current&&(b[0]?U5(ef,"connectOrCreateWallet","onSuccess",{wallet:b[0]}):U5(ef,"connectOrCreateWallet","onError",dN.USER_EXITED_AUTH_FLOW));let a=S&&Jc.has(S),o=S===Wq&&en.errorModalData&&Jc.has(en.errorModalData.previousScreen);if((a||o)&&en.funding){let e,r=Jc.get(S)??null;if("solana"===en.funding.chainType){let t=u(Hp);if(t)try{e=BigInt(await t.getBalance({address:en.funding.address,cluster:en.funding.cluster}))}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");U5(ef,"fundSolanaWallet","onUserExited",{address:en.funding.address,cluster:en.funding.cluster,fundingMethod:r,balance:e})}else{let n=RQ(en.funding.chain.id,et.chains,et.rpcConfig,{appId:t.appId});try{e=await n.getBalance({address:en.funding.address})}catch{console.error("Unable to pull wallet balance")}U5(ef,"fundWallet","onUserExited",{address:en.funding.address,chain:en.funding.chain,fundingMethod:r,balance:e})}}ei(e=>({...e,externalConnectWallet:{suggestedAddress:void 0}})),ew.current=null,ey.current=null,I(!1),p(!1),setTimeout(()=>{n.authFlow=void 0},200)},openPrivyModal:ex,connectWallet:eA,initLoginWithWallet:async(e,t,r,n)=>{Mx(e)?(ey.current="siwe",eI(e,t,r)):(ey.current="siws",eS(e,t,r,n))},loginWithWallet:async()=>{let e,t,r;if(!f)throw new dO;if(n.authFlow instanceof Rz?e="siwe":n.authFlow instanceof RH&&(e="siws"),!e)throw new dI("Must initialize SIWE/SIWS flow first.");if(null!==await n.getAccessToken())try{({user:t}=await n.link()),ey.current=e}catch(t){throw U5(ef,"linkAccount","onError",t.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}else try{({user:t,isNewUser:r}=await n.authenticate()),ey.current=e}catch(e){throw U5(ef,"login","onError",e.privyErrorCode||dN.GENERIC_CONNECT_WALLET_ERROR),e}v(t||w||null),I(r||!1),y(!0)},delegateWallet:async({address:e,chainType:t,showDelegationUIs:r})=>new Promise(async(n,i)=>{let a=await J2();if(!g||!w||!a)throw new dI("User must be authenticated and have an embedded wallet to delegate actions.");if("solana"!==t&&"ethereum"!==t)throw new dI("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let o=eB.walletProxy??await eB.initializeWalletProxy(15e3);if(!o)throw new dI("Wallet proxy not initialized.");if((({address:e,user:t})=>!!D7(t).find(t=>t.address===e))({address:e,user:w}))return n();let s=uQ(w,e);if(!s)throw new dI("Address to delegate is not associated with current user.");if(u2(s))throw new dI("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let l=(({address:e,user:t})=>{let r=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!r)throw new dI("Address to delegate is not associated with current user.");if(!D9(r))throw new dI(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}})({address:e,user:w}),c=(({address:e,user:t})=>{let r=t.linkedAccounts.find(t=>"wallet"===t.type&&"privy"===t.walletClientType&&t.address===e);if(!r)throw new dI("Address to delegate is not associated with current user.");let n=r.imported?r:u0(t);if(!n)throw new dI("Unable to determine root address for delegated address.");if(!D9(n))throw new dI(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}})({address:e,user:w}),d=async()=>{await o.createDelegatedAction({accessToken:a,rootWallet:c,delegatedWallets:[l]}),await eB.refreshSessionAndUser()};if(await eB.recoverEmbeddedWallet({address:e}),r)ei({delegatedActions:{consent:{address:e,onDelegate:d,onSuccess:async()=>{n()},onError:async e=>{i(e)}}}}),ex(Jp);else try{await d(),n()}catch(e){i(e)}}),revokeDelegatedWallets:async({showDelegationUIs:e})=>new Promise(async(t,r)=>{if(!g||!w)throw new dI("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let i=D7(w);if(0===i.length)throw new dI("User has no delegated wallets to revoke.");if(i.some(u2))throw new dI("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let a=async()=>{await n.revokeDelegatedWallet(),await eB.refreshSessionAndUser()};if(e)ei({delegatedActions:{revoke:{onRevoke:a,onSuccess:async()=>{t()},onError:async e=>{r(e)}}}}),ex(Jg);else try{await a(),t()}catch(e){r(e)}}),initLoginWithFarcaster:async(e,t)=>{let r=new Ri(e,t);n.startAuthFlow(r);try{ey.current="farcaster",await r.initializeFarcasterConnect()}catch(e){throw"login"===ew.current?U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR):"link"===ew.current&&U5(ef,"linkAccount","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),e}},loginWithFarcaster:async()=>{let e,t;if(!f)throw new dO;if(!(n.authFlow instanceof Ri))throw new dI("Must initialize Farcaster flow first.");if(null!==await n.getAccessToken())try{({user:e}=await n.link()),ey.current="farcaster"}catch(e){throw U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),e}else try{({user:e,isNewUser:t}=await n.authenticate()),ey.current="farcaster"}catch(e){throw U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}v(e||null),I(t||!1),y(!0)},async crossAppAuthFlow({appId:e,popup:t,action:r}){let i=`privy:${e}`;ey.current=i;let{url:a,stateCode:o,codeVerifier:s}=await async function({api:e,appId:t}){let r=RE(),n=RE(),i=await RC(r);try{let{url:a}=await e.post(dF,{provider:`privy:${t}`,redirect_to:window.location.href,code_challenge:i,state_code:n});return{url:a,stateCode:n,codeVerifier:r}}catch(e){throw dP(e)}}({api:n.api,appId:e});if(!a)throw n.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:e}}),new dI("No authorization URL returned for cross-app auth.");try{let l=await async function({url:e,popup:t}){return t.location=e,new Promise((e,r)=>{let n,i=setTimeout(()=>{r(new dI("Authorization request timed out after 2 minutes.")),a()},12e4);function a(){t?.close(),window.removeEventListener("message",s)}let o=setInterval(()=>{t?.closed&&!n&&(a(),clearInterval(o),clearTimeout(i),r(new dI("User rejected request")))},300);function s(t){t.data&&("PRIVY_OAUTH_RESPONSE"===t.data.type&&t.data.stateCode&&t.data.authorizationCode&&(clearTimeout(i),e(t.data),a()),"PRIVY_OAUTH_ERROR"===t.data.type&&(clearTimeout(i),r(new dI(t.data.error)),a()),t.data.type===Br&&((n=new BroadcastChannel(Bt)).onmessage=s))}window.addEventListener("message",s)})}({url:a,popup:t,provider:i}),c=l.stateCode,d=l.authorizationCode;if(c!==o)throw n.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:i,storedStateCode:o??"",returnedStateCode:c??""}}),new dI("Unexpected auth flow. This may be a phishing attempt.",void 0,dN.OAUTH_UNEXPECTED);let u=await async function({appId:e,stateCode:t,codeVerifier:r,authorizationCode:n,action:i,client:a}){if(!n||!t)throw new dI("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if("undefined"===n)throw new dI("User denied confirmation during cross-app auth flow");try{let o=new Bn({authorizationCode:n,stateCode:t,codeVerifier:r,provider:`privy:${e}`});a.startAuthFlow(o);let s="link"===i?await a.link():await a.authenticate(),l=s.oAuthTokens?.accessToken;return console.debug(),l}catch(t){let e=dP(t);if(e.privyErrorCode===dN.ACCOUNT_TRANSFER_REQUIRED)throw e;if(e.privyErrorCode)throw new dI(e.message||"Invalid code during cross-app auth flow.",void 0,e.privyErrorCode);if("User denied confirmation during cross-app auth flow"===e.message)throw new dI("Invalid code during cross-app auth flow.",void 0,dN.OAUTH_USER_DENIED);throw new dI("Invalid code during cross-app auth flow.",void 0,dN.UNKNOWN_AUTH_ERROR)}}({appId:e,codeVerifier:s,stateCode:c,authorizationCode:d,action:r,client:n});u&&n.storeProviderAccessToken(e,u);let h=await eB.refreshSessionAndUser();if(!h)throw new dI("Unable to update user");return n.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:e}}),h}catch(e){throw n.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:e.toString(),provider:i}}),e}},async initLoginWithOAuth(e,t,r){if(ey.current=e,!$5()||"google"===e&&VT(window.navigator.userAgent))return void ex(J_);"twitter"===e&&window.opener&&window.opener.postMessage({type:Br},"*"),$4.del(Rw),$4.del(Rv);let i=new RA({provider:e,disableSignup:!!r,withPrivyUi:!0});t&&i.addCaptchaToken(t),n.startAuthFlow(i);let a=await n.authFlow.getAuthorizationUrl();a&&a.url&&("twitter"===e&&K.isAndroid&&(a.url=a.url.replace("x.com","twitter.com")),window.location.assign(a.url))},async initLoginWithTelegram(e,t){if(!f)throw new dO;ey.current="telegram";let r=new Mi(e,t);n.startAuthFlow(r),V({status:"loading"}),r.meta.telegramWebAppData=void 0,r.meta.telegramAuthResult=await new Promise((e,t)=>et.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:et.loginConfig.telegramAuthConfiguration.botId,request_access:!0},r=>r?e(r):t(new dI("Telegram auth failed or was canceled by the client"))):t(new dI("Telegram was not initialized")):t(new dI("Telegram Auth configuration is not loaded")))},async loginWithTelegram(e){let t,r;if(!(n.authFlow instanceof Mi))throw new dI("Must initialize Telegram flow before calling loginWithTelegram");n.authFlow.meta.captchaToken||=e?.captchaToken;let i=await J2(),a=e?.intent||ew.current;if("login"===a)try{let e=await n.authenticate();t=e.user,r=e.isNewUser,ey.current="telegram"}catch(e){throw U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}else{if("link"!==a)throw new dI("Unknown auth intent");try{t=(await n.link()).user,ey.current="telegram"}catch(e){throw U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),e}}v(t),I(r||!1),y(!0),V({status:"done"});let o=t?.linkedAccounts.find(({type:e})=>"telegram"===e)||null;return{user:t,isNewUser:r||!1,wasAlreadyAuthenticated:!!i,loginAccount:o}},async loginWithOAuth(e){let t,r,i;if(!(n.authFlow instanceof RA))throw new dI("Must initialize OAuth flow before calling loginWithOAuth");let a=$4.get(Rg),o=n.authFlow.meta.stateCode;if(a!==o)throw n.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e,storedStateCode:a??"",returnedStateCode:o??""}}),new dI("Unexpected auth flow. This may be a phishing attempt.",void 0,dN.OAUTH_UNEXPECTED);if(null!==await n.getAccessToken())try{let r=await n.link();t=r.user,i=r.oAuthTokens,ey.current=e}catch(t){throw U5(ef,"linkAccount","onError",t.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}else try{let a=await n.authenticate();t=a.user,r=a.isNewUser,i=a.oAuthTokens,ey.current=e}catch(t){throw"login"===ew.current?U5(ef,"login","onError",t.privyErrorCode||dN.UNKNOWN_AUTH_ERROR):"link"===ew.current&&U5(ef,"linkAccount","onError",t.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:e}),t}return v(t),I(r||!1),y(!0),i&&t&&U5(ef,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:i,user:t}),i},passkeyAuthState:$,setPasskeyAuthState:R,async initSignupWithPasskey({captchaToken:e,withPrivyUi:t}){let r=new RW({captchaToken:e,setPasskeyAuthState:R});n.startAuthFlow(r),ew.current="login";try{ey.current="passkey",R({status:"generating-challenge"}),await r.initRegisterFlow(t),R({status:"awaiting-passkey"})}catch(e){throw R({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}},async signupWithPasskey(){let e,t;if(!f)throw new dO;if(!(n.authFlow instanceof RW))throw new dI("Must initialize Passkey flow first.");if("passkey"!==ey.current){let e=new dI("Must init login with Passkey flow first.");throw R({status:"error",error:e}),e}let r=await J2();try{ey.current="passkey",R({status:"awaiting-passkey"}),{user:e,isNewUser:t}=await n.authenticate()}catch(e){throw R({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}v(e),I(t||!1),y(!0),R({status:"done"});let i=e?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:e,isNewUser:t||!1,wasAlreadyAuthenticated:!!r,loginAccount:i}},async initLoginWithPasskey({captchaToken:e,withPrivyUi:t}){let r=new RW({captchaToken:e,setPasskeyAuthState:R});n.startAuthFlow(r),ew.current="login";try{ey.current="passkey",R({status:"generating-challenge"}),await r.initAuthenticationFlow(t),R({status:"awaiting-passkey"})}catch(e){throw R({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}},async loginWithPasskey(e){let t,r;if(!f)throw new dO;if(!(n.authFlow instanceof RW))throw new dI("Must initialize Passkey flow first.");if(e?.credentialIds&&(n.authFlow.meta.allowedCredentialsIds=e.credentialIds),"passkey"!==ey.current){let e=new dI("Must init login with Passkey flow first.");throw R({status:"error",error:e}),e}let i=await J2();try{ey.current="passkey",R({status:"awaiting-passkey"}),{user:t,isNewUser:r}=await n.authenticate()}catch(e){throw R({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}v(t),I(r||!1),y(!0),R({status:"done"});let a=t?.linkedAccounts.find(({type:e})=>"passkey"===e)||null;return{user:t,isNewUser:r||!1,wasAlreadyAuthenticated:!!i,loginAccount:a}},async initLinkWithPasskey(e){let t=new RW({captchaToken:e});n.startAuthFlow(t),ew.current="link",ey.current="passkey",R({status:"generating-challenge"});try{await t.initLinkFlow(),R({status:"awaiting-passkey"})}catch(e){throw U5(ef,"linkAccount","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),R({status:"error",error:e}),e}},async linkWithPasskey(){let e;if(!f)throw new dO;if(!(n.authFlow instanceof RW))throw new dI("Must initialize Passkey flow first.");if("passkey"!==ey.current)throw new dI("Must init login with Passkey flow first.");try{ey.current="passkey",{user:e}=await n.link()}catch(e){throw U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),e}return v(e||w||null),R({status:"done"}),e},async initLoginWithHeadlessOAuth(e,t,r){if(!$5()||"google"===e&&VT(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let i=new RA({provider:e,withPrivyUi:!1,disableSignup:r??!1});t&&i.addCaptchaToken(t),q({status:"loading"});let a=await n.startAuthFlow(i).getAuthorizationUrl();a?.url&&window.location.assign(a.url)},async loginWithHeadlessOAuth(e){let t,r,i;j(!0),q({status:"loading"}),n.startAuthFlow(new RA(e));let a=$4.get(Rg),o=e.stateCode;if(a!==o)throw n.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:e.provider,storedStateCode:a??"",returnedStateCode:o??""}}),j(!1),new dI("Unexpected auth flow. This may be a phishing attempt.",void 0,dN.OAUTH_UNEXPECTED);if(null!==await n.getAccessToken())try{({user:t,oAuthTokens:i}=await n.link()),ey.current=e.provider;let r=eM(t);t&&r&&U5(ef,"linkAccount","onSuccess",{user:t,linkMethod:ey.current,linkedAccount:r})}catch(t){throw j(!1),U5(ef,"linkAccount","onError",t.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:e.provider}),t}else try{({user:t,isNewUser:r,oAuthTokens:i}=await n.authenticate()),ey.current=e.provider;let a=eM(t);t&&a&&void 0!==r&&U5(ef,"login","onComplete",{user:t,isNewUser:r,wasAlreadyAuthenticated:!1,loginMethod:ey.current,loginAccount:a})}catch(e){throw j(!1),q({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}return v(t),I(r||!1),y(!0),j(!1),q({status:"done"}),i&&t&&U5(ef,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:i,user:t}),t??void 0},initLoginWithEmail:async({email:e,captchaToken:t,disableSignup:r,withPrivyUi:i})=>{let a=new $1({email:e,captchaToken:t,disableSignup:r});n.startAuthFlow(a);try{ey.current="email",U({status:"sending-code"}),await a.sendCodeEmail({withPrivyUi:i}),U({status:"awaiting-code-input"})}catch(e){throw U({status:"error",error:e}),"login"===ew.current?U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR):"link"===ew.current&&U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),e}},initUpdateEmail:async({oldAddress:e,newAddress:t,captchaToken:r})=>{let i=new $2(e,t,r);n.startAuthFlow(i);try{await i.sendCodeEmail({withPrivyUi:!0})}catch(e){U5(ef,"update","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR,{linkMethod:ey.current})}},initUpdatePhone:async(e,t,r)=>{let i=new RK(e,t,r);n.startAuthFlow(i);try{await i.sendSmsCode({withPrivyUi:!0})}catch(e){U5(ef,"update","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR,{linkMethod:ey.current})}},initLoginWithSms:async({phoneNumber:e,captchaToken:t,disableSignup:r,withPrivyUi:i})=>{F({status:"sending-code"});let a=new RG({phoneNumber:e,captchaToken:t,disableSignup:r});n.startAuthFlow(a);try{ey.current="sms",await a.sendSmsCode({withPrivyUi:i}),F({status:"awaiting-code-input"})}catch(e){throw F({status:"error",error:e}),"login"===ew.current?U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR):"link"===ew.current&&U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),e}},resendEmailCode:async()=>{await n.authFlow?.sendCodeEmail({withPrivyUi:!0})},resendSmsCode:async()=>{await n.authFlow?.sendSmsCode({withPrivyUi:!0})},loginWithCode:async e=>{let t,r;function i(e){n.authFlow instanceof $1?U(e):n.authFlow instanceof RG&&F(e)}if(i({status:"submitting-code"}),!f){let e=new dO;throw i({status:"error",error:e}),e}if(n.authFlow instanceof $1)n.authFlow.meta.emailCode=e.trim();else{if(!(n.authFlow instanceof RG)){let e=new dI("Must initialize a passwordless code flow first");throw i({status:"error",error:e}),e}n.authFlow.meta.smsCode=e.trim()}let a=await J2();if("link"===ew.current)try{({user:t}=await n.link())}catch(e){throw i({status:"error",error:e}),U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:ey.current}),e}else if("update"===ew.current)try{({user:t}=await n.link())}catch(e){throw i({status:"error",error:e}),U5(ef,"update","onError",e.privyErrorCode||dN.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:ey.current}),e}else try{({user:t,isNewUser:r}=await n.authenticate())}catch(e){throw i({status:"error",error:e}),U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),e}let o=t||w;v(o||null),I(r||!1),y(!0),i({status:"done"});let s=null;return n.authFlow instanceof $1?s=o?.linkedAccounts.find(({type:e})=>"email"===e)||null:n.authFlow instanceof RG&&(s=o?.linkedAccounts.find(({type:e})=>"phone"===e)||null),{user:o,isNewUser:r||!1,wasAlreadyAuthenticated:!!a,linkedAccount:s}},generateSiweMessage:async({address:e,chainId:t,captchaToken:r})=>{ew.current=g?"link":"login",ey.current="siwe",B({status:"generating-message"});let i=await n.generateSiweNonce({address:e,captchaToken:r});return B({status:"awaiting-signature"}),Rq({address:e,chainId:t.replace("eip155:",""),nonce:i})},generateSiweMessageForSmartWallet:async({address:e,chainId:t})=>{let r=await n.generateSiweNonce({address:e});return Rq({address:e,chainId:t.replace("eip155:",""),nonce:r})},linkSmartWallet:async({message:e,signature:t,smartWalletType:r,smartWalletVersion:i})=>{let a;a=await n.linkSmartWallet({message:e,signature:t,smartWalletType:r,smartWalletVersion:i}),v((a=await eB.refreshSessionAndUser()??a)||w||null)},loginWithSiwe:async({message:e,signature:t,captchaToken:r,disableSignup:i})=>{let a,o=null;try{if(w)throw Error("User already authenticated");let s=new Rz(n,void 0,r,i,{message:e,signature:t});n.startAuthFlow(s),ey.current="siwe",ew.current="login",B({status:"submitting-signature"});let l=await n.authenticate();if({user:o,isNewUser:a}=l,!o)throw Error("Authentication failed - no user returned")}catch(e){throw U5(ef,"login","onError",e.privyErrorCode||dN.UNKNOWN_AUTH_ERROR),B({status:"error",error:e}),e}return v(o),I(a||!1),y(!0),B({status:"done"}),ew.current=null,ey.current=null,o},linkWithSiwe:async({message:e,signature:t,chainId:r,walletClientType:i,connectorType:a})=>{let o;eP("siwe");let s=null;try{B({status:"submitting-signature"}),o=await n.linkWithSiwe({message:e,signature:t,chainId:r,walletClientType:i,connectorType:a}),o=await eB.refreshSessionAndUser()??o,B({status:"done"}),(s=eM(o)||null)&&U5(ef,"linkAccount","onSuccess",{user:o,linkMethod:"siwe",linkedAccount:s})}catch(e){throw U5(ef,"linkAccount","onError",e.privyErrorCode||dN.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),ew.current=null,ey.current=null,B({status:"error",error:e}),e}let l=o||w;return v(l||null),ew.current=null,ey.current=null,{user:l,linkedAccount:s}},refreshSessionAndUser:async()=>{let e=await n.getAuthenticatedUser();return y(!!e),v(e),e},walletProxy:X,createAnalyticsEvent:({eventName:e,payload:t,timestamp:r})=>n.createAnalyticsEvent({eventName:e,payload:t,timestamp:r}),acceptTerms:async()=>{let e=await n.acceptTerms();return v(e),e},getUsdTokenPrice:e=>n.getUsdTokenPrice(e),getUsdPriceForSol:()=>n.getUsdPriceForSol(),getSplTokenMetadata:e=>n.getSplTokenMetadata(e),recoverEmbeddedWallet:async e=>new Promise(async(t,r)=>{if(!w)return void t(!0);let i=e?.address?uQ(w,e.address):u0(w)||uJ(w)||uY(w);if(!i||u2(i))return void t(!0);let a=await J2();if(!a||!X||!i)return void r(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:o,entropyIdVerifier:s}=Mu(w,i);try{await X.connect({accessToken:a,entropyId:o,entropyIdVerifier:s}),t(!0)}catch(e){if(DC(e)&&"privy"===i.recoveryMethod){let e;n.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:i.address}});try{e=await X.recover({entropyId:o,entropyIdVerifier:s,accessToken:a})}catch(e){return void r(e)}e.entropyId||r(Error("Unable to recover wallet")),n.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:i.address}}),t(!0)}else DC(e)&&"privy"!==i.recoveryMethod&&"privy-v2"!==i.recoveryMethod?(ei({recoverWallet:{entropyId:o,entropyIdVerifier:s,onFailure:r,onSuccess:()=>t(!0)},recoveryOAuthStatus:{provider:i.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),ex(Ht(i.recoveryMethod))):r(e)}}),exportSolanaWallet:e=>new Promise(async(r,i)=>{if(!g||!w)return void i(Error("User must be authenticated before exporting their Privy wallet"));let a=e?.address?uQ(w,e.address):uK(w);if(!a)return void i(new dI("User must have an embedded wallet."));let{entropyId:o,entropyIdVerifier:s}=Mu(w,a),l=u2(a);if(!await J2()||!X)return void i(Error("Must have valid access token to enroll in MFA"));if(!X)return void i(Error("Must have a Privy wallet before exporting"));let c={recoveryMethod:a.recoveryMethod,connectingWalletAddress:a.address,isUnifiedWallet:l,entropyId:o,entropyIdVerifier:s,onCompleteNavigateTo:G2,onFailure:i,shouldForceMFA:!0};D9(a)?(ei({connectWallet:c,keyExport:{appId:t.appId,appClientId:t.clientId,origin:n.apiUrl,address:a.address,entropyId:o,entropyIdVerifier:s,hdWalletIndex:a.walletIndex,chainType:a.chainType,walletId:a.id,isUnifiedWallet:l,imported:a.imported,onSuccess:r,onFailure:i}}),ex(G6)):i(Error(`Export is not supported for ${a.chainType} wallets`))}),setReadyToTrue:e=>{m(!0),ea?.(e)},updateWallets:()=>eO(),fundWallet:async(e,t)=>{ei({funding:GQ({address:e,appConfig:et,fundWalletConfig:t,methodScreen:GK})}),ex(GK)},openModal:ex,requestFarcasterSignerStatus:async e=>{let t=await J2(),r=w?.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType);if(!t)throw Error("Must have valid access token to connect with Farcaster");if(!X||!r)throw Error("Must have an embedded wallet to use Farcaster signers");if(!w?.farcaster?.fid)throw Error("Must have Farcaster account to use Farcaster signers");let i=await n.requestFarcasterSignerStatus(e);return"approved"===i.status&&v(await n.getAuthenticatedUser()||w||null),i},connectCoinbaseSmartWallet:async()=>{et.externalWallets.coinbaseWallet.config.preference={...et.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let e=n.connectors?.findWalletConnector("coinbase_wallet","coinbase_smart_wallet")||n.connectors?.findWalletConnector("coinbase_wallet","coinbase_wallet");if(e)return e.updateConnectionPreference("smartWalletOnly"),eA(e);await eC("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{let e=n.connectors?.findWalletConnector("base_account","base_account");if(e)return eA(e);await eC("base_account","base_account")},initiateAccountTransfer:async({nonce:e,account:t,accountType:r,externalWalletMetadata:i,telegramAuthResult:a,telegramWebAppData:o,farcasterEmbeddedAddress:s,oAuthUserInfo:l})=>{let c=await n.sendAccountTransferRequest({nonce:e,account:t,accountType:r,externalWalletMetadata:i,telegramAuthResult:a,telegramWebAppData:o,farcasterEmbeddedAddress:s,oAuthUserInfo:l});return v(c),c},inProgressAuthFlowRef:ew,inProgressLoginOrLinkMethodRef:ey};c=eB.recoverEmbeddedWallet,d=eB.recoverEmbeddedWallet;let eW=(0,G.useMemo)(()=>({wallets:b,ready:el&&em}),[b,el,em]),eq=n.authFlow instanceof Mi,ez=!et.headless&&et.captchaEnabled&&!g&&(f||eq);return(0,H.jsx)(J1.Provider,{value:!0,children:(0,H.jsx)(u3.Provider,{value:eD,children:(0,H.jsx)(U1.Provider,{value:ef,children:(0,H.jsx)(Da.Provider,{value:eW,children:(0,H.jsx)(Mr,{...et,children:(0,H.jsxs)(dV.Provider,{value:eB,children:[(0,H.jsx)(Wp,{children:(0,H.jsxs)(Ub,{data:en,setModalData:ei,setInitialScreen:T,initialScreen:S,authenticated:g,open:h,children:[t.children,(0,H.jsx)(J0,{customAuth:et.customAuth}),ez&&(0,H.jsx)(UX,{delayedExecution:!1}),(0,H.jsx)(DX,{}),(0,H.jsx)(Jd,{disabled:et.embeddedWallets.disableAutomaticMigration}),(0,H.jsx)(DR,{theme:{...et.appearance.palette||{}}}),!et.render.standalone&&(0,H.jsx)(DV,{open:h})]})}),(0,H.jsx)(D8,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:n.clientAnalyticsId,origin:n.apiUrl,mfaMethods:w?.mfaMethods,mfaPromise:eh,mfaSubmitPromise:ep,onLoad:ee,onLoadFailed:()=>null}),et.loginConfig.telegramAuthConfiguration&&(0,H.jsx)(Li,{$if:!0,children:(0,H.jsx)(DK,{scriptHost:t.apiUrl||Ra,botUsername:et.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};e.s(["K",()=>J7,"X",()=>Hb,"a7",()=>KH,"aH",()=>zl,"aL",()=>za,"aM",()=>$4,"aN",()=>zc,"aO",()=>zs,"o",()=>Uy,"u",()=>U3,"w",()=>Do],752246)},272405,(e,t,r)=>{"use strict";var n=e.i(579759);Object.defineProperty(r,"__esModule",{value:!0}),r.toBigIntLE=function(e){{let t=n.Buffer.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},r.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},r.toBufferLE=function(e,t){{let r=e.toString(16),i=n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}},r.toBufferBE=function(e,t){{let r=e.toString(16);return n.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}}},824285,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.encode=function(e){return e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},r.decode=function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?n.Buffer.from([]):n.Buffer.from(t.map(e=>parseInt(e,16)))};let n=e.r(259390)},100281,(e,t,r)=>{"use strict";var n,i=e.i(171580);Object.defineProperty(r,"__esModule",{value:!0}),r.isVersionedTransaction=r.isBrowser=void 0,r.chunks=function(e,t){return Array.apply(0,Array(Math.ceil(e.length/t))).map((r,n)=>e.slice(n*t,(n+1)*t))},r.isBrowser=i.default.env.ANCHOR_BROWSER||"undefined"!=typeof window&&!(null==(n=window.process)?void 0:n.hasOwnProperty("type")),r.isVersionedTransaction=e=>"version"in e},880693,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=function(t){return(n.isBrowser?new TextDecoder("utf-8"):new(e.r(824885)).TextDecoder("utf-8")).decode(t)},r.encode=function(t){return(n.isBrowser?new TextEncoder:new(e.r(824885)).TextEncoder("utf-8")).encode(t)};let n=e.r(100281)},245449,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.encode=function(e){return i.default.encode(e)},r.decode=function(e){return i.default.decode(e)};let i=n(e.r(315141))},893800,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.encode=function(e){return e.toString("base64")},r.decode=function(e){return n.Buffer.from(e,"base64")};let n=e.r(259390)},172e3,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.base64=r.bs58=r.utf8=r.hex=void 0,r.hex=a(e.r(824285)),r.utf8=a(e.r(880693)),r.bs58=a(e.r(245449)),r.base64=a(e.r(893800))},401998,232215,973926,340907,457417,612860,84979,439593,342252,810947,381547,407751,913330,958083,e=>{"use strict";let t,r,n,i,a,o;var s=e.i(579759);e.i(171580);var l=e.i(281675),c=e.i(235828),d=e.i(492711);e.s(["MintLayout",()=>P,"getAssociatedTokenAddressSync",()=>j],84979);var u=e.i(742542);let h=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var p=e.i(272405);let f=e=>t=>{let r=(0,u.blob)(e,t),{encode:n,decode:i}=h(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,p.toBigIntLE)(s.Buffer.from(r))},r.encode=(t,r,i)=>n((0,p.toBufferLE)(t,e),r,i),r},m=e=>t=>{let r=(0,u.blob)(e,t),{encode:n,decode:i}=h(r);return r.decode=(e,t)=>{let r=i(e,t);return(0,p.toBigIntBE)(s.Buffer.from(r))},r.encode=(t,r,i)=>n((0,p.toBufferBE)(t,e),r,i),r},g=f(8);m(8);let y=f(16);m(16),f(24),m(24),f(32),m(32),e.s(["u128",0,y,"u64",0,g],232215),new(e.i(703405)).default("1e+18");let w=e=>{let t=(0,u.u8)(e),{encode:r,decode:n}=h(t);return t.decode=(e,t)=>!!n(e,t),t.encode=(e,t,n)=>r(Number(e),t,n),t};e.s(["bool",0,w],973926);let v=e=>{let t=(0,u.blob)(32,e),{encode:r,decode:n}=h(t);return t.decode=(e,t)=>{let r=n(e,t);return new c.PublicKey(r)},t.encode=(e,t,n)=>r(e.toBuffer(),t,n),t};e.s(["publicKey",0,v],340907),e.s([],457417);let b=new c.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),x=new c.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),_=new c.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),k=new c.PublicKey("So11111111111111111111111111111111111111112");new c.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,_,"NATIVE_MINT",0,k,"TOKEN_2022_PROGRAM_ID",0,x,"TOKEN_PROGRAM_ID",0,b],612860);class E extends Error{constructor(e){super(e)}}class C extends E{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class A extends E{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class I extends E{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class S extends E{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class T extends E{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}let P=(0,u.struct)([(0,u.u32)("mintAuthorityOption"),v("mintAuthority"),g("supply"),(0,u.u8)("decimals"),w("isInitialized"),(0,u.u32)("freezeAuthorityOption"),v("freezeAuthority")]);function j(e,t,r=!1,n=b,i=_){if(!r&&!c.PublicKey.isOnCurve(t.toBuffer()))throw new T;let[a]=c.PublicKey.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.toBuffer()],i);return a}P.span;var N=e.i(353110);e.s(["AccountLayout",()=>$,"getAccount",()=>M],439593),(tl=tu||(tu={}))[tl.Uninitialized=0]="Uninitialized",tl[tl.Mint=1]="Mint",tl[tl.Account=2]="Account";let O=(0,u.struct)([(0,u.u8)("m"),(0,u.u8)("n"),w("isInitialized"),v("signer1"),v("signer2"),v("signer3"),v("signer4"),v("signer5"),v("signer6"),v("signer7"),v("signer8"),v("signer9"),v("signer10"),v("signer11")]).span;(tc=th||(th={}))[tc.Uninitialized=0]="Uninitialized",tc[tc.Initialized=1]="Initialized",tc[tc.Frozen=2]="Frozen";let $=(0,u.struct)([v("mint"),v("owner"),g("amount"),(0,u.u32)("delegateOption"),v("delegate"),(0,u.u8)("state"),(0,u.u32)("isNativeOption"),g("isNative"),g("delegatedAmount"),(0,u.u32)("closeAuthorityOption"),v("closeAuthority")]),R=$.span;async function M(e,t,r,n=b){let i=await e.getAccountInfo(t,r);return function(e,t,r=b){if(!t)throw new C;if(!t.owner.equals(r))throw new I;if(t.data.length<R)throw new S;let n=$.decode(t.data.slice(0,R)),i=s.Buffer.alloc(0);if(t.data.length>R){if(t.data.length===O)throw new S;if(t.data[R]!=tu.Account)throw new A;i=t.data.slice(R+1)}return{address:e,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==th.Uninitialized,isFrozen:n.state===th.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:i}}(t,i,n)}function U(e,t,r,n,i=b,a=_){return function(e,t,r,n,i,a=b,o=_){let s=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new c.TransactionInstruction({keys:s,programId:o,data:i})}(e,t,r,n,s.Buffer.from([1]),i,a)}function L(e,t,r){if(r.length)for(let n of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:n instanceof c.PublicKey?n:n.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}e.s(["createAssociatedTokenAccountIdempotentInstruction",()=>U],342252),e.s(["addSigners",()=>L],810947),(td=tp||(tp={}))[td.InitializeMint=0]="InitializeMint",td[td.InitializeAccount=1]="InitializeAccount",td[td.InitializeMultisig=2]="InitializeMultisig",td[td.Transfer=3]="Transfer",td[td.Approve=4]="Approve",td[td.Revoke=5]="Revoke",td[td.SetAuthority=6]="SetAuthority",td[td.MintTo=7]="MintTo",td[td.Burn=8]="Burn",td[td.CloseAccount=9]="CloseAccount",td[td.FreezeAccount=10]="FreezeAccount",td[td.ThawAccount=11]="ThawAccount",td[td.TransferChecked=12]="TransferChecked",td[td.ApproveChecked=13]="ApproveChecked",td[td.MintToChecked=14]="MintToChecked",td[td.BurnChecked=15]="BurnChecked",td[td.InitializeAccount2=16]="InitializeAccount2",td[td.SyncNative=17]="SyncNative",td[td.InitializeAccount3=18]="InitializeAccount3",td[td.InitializeMultisig2=19]="InitializeMultisig2",td[td.InitializeMint2=20]="InitializeMint2",td[td.GetAccountDataSize=21]="GetAccountDataSize",td[td.InitializeImmutableOwner=22]="InitializeImmutableOwner",td[td.AmountToUiAmount=23]="AmountToUiAmount",td[td.UiAmountToAmount=24]="UiAmountToAmount",td[td.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",td[td.TransferFeeExtension=26]="TransferFeeExtension",td[td.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",td[td.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",td[td.Reallocate=29]="Reallocate",td[td.MemoTransferExtension=30]="MemoTransferExtension",td[td.CreateNativeMint=31]="CreateNativeMint",td[td.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",td[td.InterestBearingMintExtension=33]="InterestBearingMintExtension",td[td.CpiGuardExtension=34]="CpiGuardExtension",td[td.InitializePermanentDelegate=35]="InitializePermanentDelegate",td[td.TransferHookExtension=36]="TransferHookExtension",td[td.MetadataPointerExtension=39]="MetadataPointerExtension",td[td.GroupPointerExtension=40]="GroupPointerExtension",td[td.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",td[td.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",td[td.PausableExtension=44]="PausableExtension",e.s(["TokenInstruction",()=>tp],381547);let F=(0,u.struct)([(0,u.u8)("instruction")]);function D(e,t,r,n=[],i=b){let a=L([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,n),o=s.Buffer.alloc(F.span);return F.encode({instruction:tp.CloseAccount},o),new c.TransactionInstruction({keys:a,programId:i,data:o})}let B=(0,u.struct)([(0,u.u8)("instruction")]);var W=Object.create,q=Object.defineProperty,z=Object.getOwnPropertyDescriptor,V=Object.getOwnPropertyNames,H=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty,K=(e,t)=>function(){return t||(0,e[V(e)[0]])((t={exports:{}}).exports,t),t.exports},J=K({"node_modules/base64-js/index.js"(e){e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=s(e),o=n[0],l=n[1],c=new a((o+l)*3/4-l),d=0,u=l>0?o-4:o;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===l&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(function(e,t,r){for(var i,a=[],o=t;o<r;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};var t,r,n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)n[t]=o[t],i[o.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i[45]=62,i[95]=63}}),Y=K({"node_modules/ieee754/index.js"(e){e.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,d=-7,u=r?i-1:0,h=r?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=s;d>0;a=256*a+e[t+u],u+=h,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,d=(1<<c)-1,u=d>>1,h=5960464477539062e-23*(23===i),p=n?0:a-1,f=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(o++,l/=2),o+u>=d?(s=0,o=d):o+u>=1?(s=(t*l-1)*Math.pow(2,i),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+p]=255&o,p+=f,o/=256,c-=8);e[r+p-f]|=128*m}}}),Z=(n=null!=(t=K({"node_modules/buffer/index.js"(e){var t=J(),r=Y(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e){var n=e,o=t;if(("string"!=typeof o||""===o)&&(o="utf8"),!a.isEncoding(o))throw TypeError("Unknown encoding: "+o);let r=0|h(n,o),s=i(r),l=s.write(n,o);return l!==r&&(s=s.slice(0,l)),s}if(ArrayBuffer.isView(e)){var s=e;if(R(s,Uint8Array)){let e=new Uint8Array(s);return d(e.buffer,e.byteOffset,e.byteLength)}return c(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(R(e,ArrayBuffer)||e&&R(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(R(e,SharedArrayBuffer)||e&&R(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return a.from(l,t,r);let p=function(e){if(a.isBuffer(e)){let t=0|u(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return s(e),i(e<0?0:0|u(e))}function c(e){let t=e.length<0?0:0|u(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function u(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||R(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(r>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=M[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return y(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var a,o,s;return a=this,o=r,s=n,0===o&&s===a.length?t.fromByteArray(a):t.fromByteArray(a.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function f(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){let a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*o}else -1!==n&&(a-=a-n),n=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(c(e,a+n)!==c(t,n)){r=!1;break}if(r)return a}return -1}function y(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(a=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}var a=n;let o=a.length;if(o<=4096)return String.fromCharCode.apply(String,a);let s="",l=0;for(;l<o;)s+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return s}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function b(e,t,r,n,i){S(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function x(e,t,r,n,i){S(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function _(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,n,i,a){return t*=1,n>>>=0,a||_(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,a){return t*=1,n>>>=0,a||_(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(s(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(R(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),R(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(R(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(R(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,l=Math.min(o,s),c=this.slice(n,i),d=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==d[e]){o=c[e],s=d[e];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,a,o,s,l,c,d,u;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let o=t.length;for(n>o/2&&(n=o/2),i=0;i<n;++i){var s;let n=parseInt(t.substr(2*i,2),16);if((s=n)!=s)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,$(N(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return o=t,s=r,$(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,s);case"base64":return l=t,c=r,$(O(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,$(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-d),this,d,u);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=U(function(e,t=0){return b(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=U(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=0,a=1,o=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=U(function(e,t=0){return b(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=U(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var C={};function A(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function I(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function S(e,t,r,n,i,a){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new C.ERR_OUT_OF_RANGE("value",n,e)}T(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&P(i,n.length-(a+1))}function T(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw T(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}A("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),A("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),A("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=I(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=I(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);var j=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function O(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function R(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var M=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function U(e){return"undefined"==typeof BigInt?L:e}function L(){throw Error("BigInt not supported")}}})())?W(H(t)):{},((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of V(t))G.call(e,i)||i===r||q(e,i,{get:()=>t[i],enumerable:!(n=z(t,i))||n.enumerable});return e})(!r&&t&&t.__esModule?n:q(n,"default",{value:t,enumerable:!0}),t)),Q=new c.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),X=new c.PublicKey("pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"),ee=new c.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),et=new c.PublicKey("pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn");function er(e){return c.PublicKey.findProgramAddressSync(e,Q)[0]}function en(e){return c.PublicKey.findProgramAddressSync(e,X)[0]}function ei(e){return c.PublicKey.findProgramAddressSync(e,ee)[0]}var ea=en([Z.Buffer.from("global_config")]),eo=en([Z.Buffer.from("__event_authority")]),es=en([Z.Buffer.from("global_volume_accumulator")]),el=ei([Z.Buffer.from("fee_config"),X.toBuffer()]);function ec(e,t,r,n){return en([Z.Buffer.from("pool"),new d.default(e).toArrayLike(Z.Buffer,"le",2),t.toBuffer(),r.toBuffer(),n.toBuffer()])}function ed(e){return er([Z.Buffer.from("pool-authority"),e.toBuffer()])}function eu(e){return ec(0,ed(e),e,k)}function eh(e){return en([Z.Buffer.from("user_volume_accumulator"),e.toBuffer()])}function ep(e){return en([Z.Buffer.from("creator_vault"),e.toBuffer()])}function ef(e,t,r){return j(t,e,!0,r)}var em={address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",metadata:{name:"pump_amm",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"admin_set_coin_creator",docs:["Overrides the coin creator for a canonical pump pool"],discriminator:[242,40,117,145,73,96,105,104],accounts:[{name:"admin_set_coin_creator_authority",signer:!0,relations:["global_config"]},{name:"global_config"},{name:"pool",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"coin_creator",type:"pubkey"}]},{name:"admin_update_token_incentives",discriminator:[209,11,115,87,213,23,124,204],accounts:[{name:"admin",writable:!0,signer:!0,relations:["global_config"]},{name:"global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"mint"},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"}]},{name:"buy",discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"pool",writable:!0},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[12,20,222,252,130,94,198,118,148,37,8,24,187,101,64,101,244,41,141,49,86,213,113,180,212,248,9,12,24,233,168,99]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"buy_exact_quote_in",docs:["Given a budget of spendable_quote_in, buy at least min_base_amount_out","Fees will be deducted from spendable_quote_in","","f(quote) = tokens, where tokens >= min_base_amount_out","","Make sure the payer has enough SOL to cover creation of the following accounts (unless already created):","- protocol_fee_recipient_token_account: rent.minimum_balance(TokenAccount::LEN)","- coin_creator_vault_ata: rent.minimum_balance(TokenAccount::LEN)","- user_volume_accumulator: rent.minimum_balance(UserVolumeAccumulator::LEN)"],discriminator:[198,46,21,82,180,217,232,112],accounts:[{name:"pool",writable:!0},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[12,20,222,252,130,94,198,118,148,37,8,24,187,101,64,101,244,41,141,49,86,213,113,180,212,248,9,12,24,233,168,99]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"spendable_quote_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"claim_token_incentives",discriminator:[16,4,71,28,204,1,40,27],accounts:[{name:"user"},{name:"user_ata",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"mint",relations:["global_volume_accumulator"]},{name:"token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"payer",writable:!0,signer:!0}],args:[]},{name:"close_user_volume_accumulator",discriminator:[249,69,164,218,150,103,84,138],accounts:[{name:"user",writable:!0,signer:!0},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"collect_coin_creator_fee",discriminator:[160,57,89,42,181,139,43,66],accounts:[{name:"quote_mint"},{name:"quote_token_program"},{name:"coin_creator"},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"coin_creator"}]}},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_token_account",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create_config",discriminator:[201,207,243,114,75,111,47,189],accounts:[{name:"admin",writable:!0,signer:!0,address:"8LWu7QM2dGR1G8nKDHthckea57bkCzXyBTAKPJUBDHo8"},{name:"global_config",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]},{name:"create_pool",discriminator:[233,146,209,142,207,104,64,188],accounts:[{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"arg",path:"index"},{kind:"account",path:"creator"},{kind:"account",path:"base_mint"},{kind:"account",path:"quote_mint"}]}},{name:"global_config"},{name:"creator",writable:!0,signer:!0},{name:"base_mint"},{name:"quote_mint"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}]}},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"creator"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"base_token_program"},{kind:"account",path:"base_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"base_token_program"},{name:"quote_token_program"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"index",type:"u16"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"coin_creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]},{name:"deposit",discriminator:[242,35,198,137,82,225,242,182],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"}]},{name:"disable",discriminator:[185,173,187,90,216,15,238,233],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]},{name:"extend_account",discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"init_user_volume_accumulator",discriminator:[94,6,202,115,255,96,232,183],accounts:[{name:"payer",writable:!0,signer:!0},{name:"user"},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"pool",writable:!0},{name:"user",writable:!0,signer:!0},{name:"global_config"},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"protocol_fee_recipient"},{name:"protocol_fee_recipient_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"protocol_fee_recipient"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"base_token_program"},{name:"quote_token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"coin_creator_vault_ata",writable:!0,pda:{seeds:[{kind:"account",path:"coin_creator_vault_authority"},{kind:"account",path:"quote_token_program"},{kind:"account",path:"quote_mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"coin_creator_vault_authority",pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,95,118,97,117,108,116]},{kind:"account",path:"pool.coin_creator",account:"Pool"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[12,20,222,252,130,94,198,118,148,37,8,24,187,101,64,101,244,41,141,49,86,213,113,180,212,248,9,12,24,233,168,99]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]},{name:"set_coin_creator",docs:["Sets Pool::coin_creator from Metaplex metadata creator or BondingCurve::creator"],discriminator:[210,149,128,45,188,58,78,175],accounts:[{name:"pool",writable:!0},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"pool.base_mint",account:"Pool"}],program:{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_reserved_fee_recipients",discriminator:[111,172,162,232,114,89,213,142],accounts:[{name:"global_config",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}]}},{name:"admin",signer:!0,relations:["global_config"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"whitelist_pda",type:"pubkey"}]},{name:"sync_user_volume_accumulator",discriminator:[86,31,192,87,163,87,79,238],accounts:[{name:"user"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"toggle_mayhem_mode",discriminator:[1,9,111,208,100,31,255,163],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"enabled",type:"bool"}]},{name:"update_admin",discriminator:[161,176,40,213,60,184,179,228],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"new_admin"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"update_fee_config",discriminator:[104,184,103,242,88,151,107,20],accounts:[{name:"admin",signer:!0,relations:["global_config"]},{name:"global_config",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]},{name:"withdraw",discriminator:[183,18,70,156,148,109,161,34],accounts:[{name:"pool",writable:!0},{name:"global_config"},{name:"user",signer:!0},{name:"base_mint",relations:["pool"]},{name:"quote_mint",relations:["pool"]},{name:"lp_mint",writable:!0,relations:["pool"]},{name:"user_base_token_account",writable:!0},{name:"user_quote_token_account",writable:!0},{name:"user_pool_token_account",writable:!0},{name:"pool_base_token_account",writable:!0,relations:["pool"]},{name:"pool_quote_token_account",writable:!0,relations:["pool"]},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"}]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"FeeConfig",discriminator:[143,52,146,187,219,123,76,155]},{name:"GlobalConfig",discriminator:[149,8,156,202,160,252,176,217]},{name:"GlobalVolumeAccumulator",discriminator:[202,42,246,43,142,190,30,255]},{name:"Pool",discriminator:[241,154,109,4,17,177,109,188]},{name:"UserVolumeAccumulator",discriminator:[86,255,112,14,102,53,154,250]}],events:[{name:"AdminSetCoinCreatorEvent",discriminator:[45,220,93,24,25,97,172,104]},{name:"AdminUpdateTokenIncentivesEvent",discriminator:[147,250,108,120,247,29,67,222]},{name:"BuyEvent",discriminator:[103,244,82,31,44,245,119,119]},{name:"ClaimTokenIncentivesEvent",discriminator:[79,172,246,49,205,91,206,232]},{name:"CloseUserVolumeAccumulatorEvent",discriminator:[146,159,189,172,146,88,56,244]},{name:"CollectCoinCreatorFeeEvent",discriminator:[232,245,194,238,234,218,58,89]},{name:"CreateConfigEvent",discriminator:[107,52,89,129,55,226,81,22]},{name:"CreatePoolEvent",discriminator:[177,49,12,210,160,118,167,116]},{name:"DepositEvent",discriminator:[120,248,61,83,31,142,107,144]},{name:"DisableEvent",discriminator:[107,253,193,76,228,202,27,104]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"InitUserVolumeAccumulatorEvent",discriminator:[134,36,13,72,232,101,130,216]},{name:"ReservedFeeRecipientsEvent",discriminator:[43,188,250,18,221,75,187,95]},{name:"SellEvent",discriminator:[62,47,55,10,165,3,220,42]},{name:"SetBondingCurveCoinCreatorEvent",discriminator:[242,231,235,102,65,99,189,211]},{name:"SetMetaplexCoinCreatorEvent",discriminator:[150,107,199,123,124,207,102,228]},{name:"SyncUserVolumeAccumulatorEvent",discriminator:[197,122,167,124,116,81,91,255]},{name:"UpdateAdminEvent",discriminator:[225,152,171,87,246,63,66,234]},{name:"UpdateFeeConfigEvent",discriminator:[90,23,65,35,62,244,188,208]},{name:"WithdrawEvent",discriminator:[22,9,133,26,160,44,71,192]}],errors:[{code:6e3,name:"FeeBasisPointsExceedsMaximum"},{code:6001,name:"ZeroBaseAmount"},{code:6002,name:"ZeroQuoteAmount"},{code:6003,name:"TooLittlePoolTokenLiquidity"},{code:6004,name:"ExceededSlippage"},{code:6005,name:"InvalidAdmin"},{code:6006,name:"UnsupportedBaseMint"},{code:6007,name:"UnsupportedQuoteMint"},{code:6008,name:"InvalidBaseMint"},{code:6009,name:"InvalidQuoteMint"},{code:6010,name:"InvalidLpMint"},{code:6011,name:"AllProtocolFeeRecipientsShouldBeNonZero"},{code:6012,name:"UnsortedNotUniqueProtocolFeeRecipients"},{code:6013,name:"InvalidProtocolFeeRecipient"},{code:6014,name:"InvalidPoolBaseTokenAccount"},{code:6015,name:"InvalidPoolQuoteTokenAccount"},{code:6016,name:"BuyMoreBaseAmountThanPoolReserves"},{code:6017,name:"DisabledCreatePool"},{code:6018,name:"DisabledDeposit"},{code:6019,name:"DisabledWithdraw"},{code:6020,name:"DisabledBuy"},{code:6021,name:"DisabledSell"},{code:6022,name:"SameMint"},{code:6023,name:"Overflow"},{code:6024,name:"Truncation"},{code:6025,name:"DivisionByZero"},{code:6026,name:"NewSizeLessThanCurrentSize"},{code:6027,name:"AccountTypeNotSupported"},{code:6028,name:"OnlyCanonicalPumpPoolsCanHaveCoinCreator"},{code:6029,name:"InvalidAdminSetCoinCreatorAuthority"},{code:6030,name:"StartTimeInThePast"},{code:6031,name:"EndTimeInThePast"},{code:6032,name:"EndTimeBeforeStartTime"},{code:6033,name:"TimeRangeTooLarge"},{code:6034,name:"EndTimeBeforeCurrentDay"},{code:6035,name:"SupplyUpdateForFinishedRange"},{code:6036,name:"DayIndexAfterEndIndex"},{code:6037,name:"DayInActiveRange"},{code:6038,name:"InvalidIncentiveMint"},{code:6039,name:"BuyNotEnoughQuoteTokensToCoverFees",msg:"buy: Not enough quote tokens to cover for fees."},{code:6040,name:"BuySlippageBelowMinBaseAmountOut",msg:"buy: slippage - would buy less tokens than expected min_base_amount_out"},{code:6041,name:"MayhemModeDisabled"},{code:6042,name:"OnlyPumpPoolsMayhemMode"},{code:6043,name:"MayhemModeInDesiredState"},{code:6044,name:"NotEnoughRemainingAccounts"}],types:[{name:"AdminSetCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin_set_coin_creator_authority",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"old_coin_creator",type:"pubkey"},{name:"new_coin_creator",type:"pubkey"}]}},{name:"AdminUpdateTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"},{name:"mint",type:"pubkey"},{name:"seconds_in_a_day",type:"i64"},{name:"timestamp",type:"i64"}]}},{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]}},{name:"BuyEvent",docs:['ix_name: "buy" | "buy_exact_quote_in"'],type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_out",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_in_with_lp_fee",type:"u64"},{name:"user_quote_amount_in",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"},{name:"track_volume",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"min_base_amount_out",type:"u64"},{name:"ix_name",type:"string"}]}},{name:"ClaimTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"timestamp",type:"i64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"}]}},{name:"CloseUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"CollectCoinCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee",type:"u64"},{name:"coin_creator_vault_ata",type:"pubkey"},{name:"coin_creator_token_account",type:"pubkey"}]}},{name:"CreateConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]}},{name:"CreatePoolEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"base_mint_decimals",type:"u8"},{name:"quote_mint_decimals",type:"u8"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"pool_base_amount",type:"u64"},{name:"pool_quote_amount",type:"u64"},{name:"minimum_liquidity",type:"u64"},{name:"initial_liquidity",type:"u64"},{name:"lp_token_amount_out",type:"u64"},{name:"pool_bump",type:"u8"},{name:"pool",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]}},{name:"DepositEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_out",type:"u64"},{name:"max_base_amount_in",type:"u64"},{name:"max_quote_amount_in",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_in",type:"u64"},{name:"quote_amount_in",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}},{name:"DisableEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"disable_create_pool",type:"bool"},{name:"disable_deposit",type:"bool"},{name:"disable_withdraw",type:"bool"},{name:"disable_buy",type:"bool"},{name:"disable_sell",type:"bool"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"}]}},{name:"FeeConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"admin",type:"pubkey"},{name:"flat_fees",type:{defined:{name:"Fees"}}},{name:"fee_tiers",type:{vec:{defined:{name:"FeeTier"}}}}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"market_cap_lamports_threshold",type:"u128"},{name:"fees",type:{defined:{name:"Fees"}}}]}},{name:"Fees",type:{kind:"struct",fields:[{name:"lp_fee_bps",type:"u64"},{name:"protocol_fee_bps",type:"u64"},{name:"creator_fee_bps",type:"u64"}]}},{name:"GlobalConfig",type:{kind:"struct",fields:[{name:"admin",docs:["The admin pubkey"],type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"disable_flags",docs:["Flags to disable certain functionality","bit 0 - Disable create pool","bit 1 - Disable deposit","bit 2 - Disable withdraw","bit 3 - Disable buy","bit 4 - Disable sell"],type:"u8"},{name:"protocol_fee_recipients",docs:["Addresses of the protocol fee recipients"],type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",docs:["The admin authority for setting coin creators"],type:"pubkey"},{name:"whitelist_pda",type:"pubkey"},{name:"reserved_fee_recipient",type:"pubkey"},{name:"mayhem_mode_enabled",type:"bool"},{name:"reserved_fee_recipients",type:{array:["pubkey",7]}}]}},{name:"GlobalVolumeAccumulator",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"mint",type:"pubkey"},{name:"total_token_supply",type:{array:["u64",30]}},{name:"sol_volumes",type:{array:["u64",30]}}]}},{name:"InitUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"payer",type:"pubkey"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"OptionBool",type:{kind:"struct",fields:["bool"]}},{name:"Pool",type:{kind:"struct",fields:[{name:"pool_bump",type:"u8"},{name:"index",type:"u16"},{name:"creator",type:"pubkey"},{name:"base_mint",type:"pubkey"},{name:"quote_mint",type:"pubkey"},{name:"lp_mint",type:"pubkey"},{name:"pool_base_token_account",type:"pubkey"},{name:"pool_quote_token_account",type:"pubkey"},{name:"lp_supply",docs:["True circulating supply without burns and lock-ups"],type:"u64"},{name:"coin_creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]}},{name:"ReservedFeeRecipientsEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"reserved_fee_recipient",type:"pubkey"},{name:"reserved_fee_recipients",type:{array:["pubkey",7]}}]}},{name:"SellEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_amount_in",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_fee_basis_points",type:"u64"},{name:"lp_fee",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee",type:"u64"},{name:"quote_amount_out_without_lp_fee",type:"u64"},{name:"user_quote_amount_out",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"protocol_fee_recipient",type:"pubkey"},{name:"protocol_fee_recipient_token_account",type:"pubkey"},{name:"coin_creator",type:"pubkey"},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"coin_creator_fee",type:"u64"}]}},{name:"SetBondingCurveCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"SetMetaplexCoinCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"base_mint",type:"pubkey"},{name:"pool",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"coin_creator",type:"pubkey"}]}},{name:"SyncUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"total_claimed_tokens_before",type:"u64"},{name:"total_claimed_tokens_after",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"UpdateAdminEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"new_admin",type:"pubkey"}]}},{name:"UpdateFeeConfigEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin",type:"pubkey"},{name:"lp_fee_basis_points",type:"u64"},{name:"protocol_fee_basis_points",type:"u64"},{name:"protocol_fee_recipients",type:{array:["pubkey",8]}},{name:"coin_creator_fee_basis_points",type:"u64"},{name:"admin_set_coin_creator_authority",type:"pubkey"}]}},{name:"UserVolumeAccumulator",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"needs_claim",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"has_total_claimed_tokens",type:"bool"}]}},{name:"WithdrawEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"lp_token_amount_in",type:"u64"},{name:"min_base_amount_out",type:"u64"},{name:"min_quote_amount_out",type:"u64"},{name:"user_base_token_reserves",type:"u64"},{name:"user_quote_token_reserves",type:"u64"},{name:"pool_base_token_reserves",type:"u64"},{name:"pool_quote_token_reserves",type:"u64"},{name:"base_amount_out",type:"u64"},{name:"quote_amount_out",type:"u64"},{name:"lp_mint_supply",type:"u64"},{name:"pool",type:"pubkey"},{name:"user",type:"pubkey"},{name:"user_base_token_account",type:"pubkey"},{name:"user_quote_token_account",type:"pubkey"},{name:"user_pool_token_account",type:"pubkey"}]}}]};function eg(e,t){if(t.isZero())throw Error("Cannot divide by zero.");return e.add(t).subn(1).div(t)}function ey(e,t){return eg(e.mul(t),new d.default(1e4))}function ew(e){return new N.Program(em,new N.AnchorProvider(e,null,{}))}var ev=class{constructor(e){this.program=ew(e)}fetchGlobalConfigAccount(){return this.program.account.globalConfig.fetch(ea)}createConfig(e,t,r,n,i,a){return this.program.methods.createConfig(e,t,r,n,a).accountsPartial({admin:i}).instruction()}disable(e,t,r,n,i,a){return this.program.methods.disable(e,t,r,n,i).accountsPartial({admin:a,globalConfig:ea}).instruction()}updateAdmin(e,t){return this.program.methods.updateAdmin().accountsPartial({admin:e,newAdmin:t,globalConfig:ea}).instruction()}updateFeeConfig(e,t,r,n,i,a){return this.program.methods.updateFeeConfig(e,t,r,n,a).accountsPartial({admin:i,globalConfig:ea}).instruction()}async adminSetCoinCreator(e,t){let r=await this.fetchGlobalConfigAccount();return this.program.methods.adminSetCoinCreator(t).accountsPartial({pool:eu(e),adminSetCoinCreatorAuthority:r.adminSetCoinCreatorAuthority,globalConfig:ea}).instruction()}async adminUpdateTokenIncentives(e,t,r,n,i=new d.default(86400),a=et,o=x){let{admin:s}=await this.fetchGlobalConfigAccount();return this.program.methods.adminUpdateTokenIncentives(e,t,i,r,n).accountsPartial({admin:s,mint:a,tokenProgram:o}).instruction()}};function eb(e,t,r,n,i){if(t<0||t>100)throw Error("Slippage must be between 0 and 100 (0% to 100%)");let a=e.mul(n).div(r),o=new d.default((1+t/100)*1e9),s=e.mul(o).div(new d.default(1e9)),l=a.mul(o).div(new d.default(1e9));return{token1:a,lpToken:e.mul(i).div(r),maxToken0:s,maxToken1:l}}function ex(e,t){return e.add(t).sub(new d.default(1)).div(t)}function e_({globalConfig:e,feeConfig:t,creator:r,baseMintSupply:n,baseMint:i,baseReserve:a,quoteReserve:o,tradeSize:s}){if(null!=t){let e=function({baseMintSupply:e,baseReserve:t,quoteReserve:r}){if(t.isZero())throw Error("Division by zero: pool base token reserves cannot be zero");return r.mul(e).div(t)}({baseMintSupply:n,baseReserve:a,quoteReserve:o});return function({feeConfig:e,isPumpPool:t,marketCap:r}){return t?function({feeTiers:e,marketCap:t}){let r=e[0];if(t.lt(r.marketCapLamportsThreshold))return r.fees;for(let r of e.slice().reverse())if(t.gte(r.marketCapLamportsThreshold))return r.fees;return r.fees}({feeTiers:e.feeTiers,marketCap:r}):e.flatFees}({feeConfig:t,isPumpPool:ed(i).equals(r),marketCap:e,tradeSize:s})}return{lpFeeBps:e.lpFeeBasisPoints,protocolFeeBps:e.protocolFeeBasisPoints,creatorFeeBps:e.coinCreatorFeeBasisPoints}}function ek({base:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,baseMintAccount:a,baseMint:o,coinCreator:s,creator:l,feeConfig:u}){if(r.isZero()||n.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");if(e.gt(r))throw Error("Cannot buy more base tokens than the pool reserves.");let h=n.mul(e),p=r.sub(e);if(p.isZero())throw Error("Pool would be depleted; denominator is zero.");let f=eg(h,p),{lpFeeBps:m,protocolFeeBps:g,creatorFeeBps:y}=e_({globalConfig:i,feeConfig:u,creator:l,baseMintSupply:new d.default(a.supply.toString()),baseMint:o,baseReserve:r,quoteReserve:n,tradeSize:f}),w=ey(f,m),v=ey(f,g),b=c.PublicKey.default.equals(s)?new d.default(0):ey(f,y),x=f.add(w).add(v).add(b),_=new d.default(1e9),k=new d.default(Math.floor((1+t/100)*1e9)),E=x.mul(k).div(_);return{internalQuoteAmount:f,uiQuote:x,maxQuote:E}}function eE({quote:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,baseMintAccount:a,baseMint:o,coinCreator:s,creator:l,feeConfig:u}){if(r.isZero()||n.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");let{lpFeeBps:h,protocolFeeBps:p,creatorFeeBps:f}=e_({globalConfig:i,feeConfig:u,creator:l,baseMintSupply:new d.default(a.supply.toString()),baseMint:o,baseReserve:r,quoteReserve:n,tradeSize:e}),m=h.add(p).add(c.PublicKey.default.equals(s)?new d.default(0):f),g=new d.default(1e4).add(m),y=e.mul(new d.default(1e4)).div(g),w=r.mul(y),v=n.add(y);if(v.isZero())throw Error("Pool would be depleted; denominator is zero.");let b=w.div(v),x=new d.default(1e9),_=new d.default(Math.floor((1+t/100)*1e9));return{base:b,internalQuoteWithoutFees:y,maxQuote:e.mul(_).div(x)}}function eC({base:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,baseMintAccount:a,baseMint:o,coinCreator:s,creator:l,feeConfig:u}){if(r.isZero()||n.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");let h=n.mul(e).div(r.add(e)),{lpFeeBps:p,protocolFeeBps:f,creatorFeeBps:m}=e_({globalConfig:i,feeConfig:u,creator:l,baseMintSupply:new d.default(a.supply.toString()),baseMint:o,baseReserve:r,quoteReserve:n,tradeSize:h}),g=ey(h,p),y=ey(h,f),w=c.PublicKey.default.equals(s)?new d.default(0):ey(h,m),v=h.sub(g).sub(y).sub(w);if(v.isNeg())throw Error("Fees exceed total output; final quote is negative.");let b=new d.default(1e9),x=new d.default(Math.floor((1-t/100)*1e9)),_=v.mul(x).div(b);return{uiQuote:v,minQuote:_,internalQuoteAmountOut:h}}var eA=new d.default(1e4),eI=ew(null),eS=new class{constructor(){this.offlineProgram=eI}decodeGlobalConfig(e){return this.offlineProgram.coder.accounts.decode("globalConfig",e.data)}decodeFeeConfig(e){return this.offlineProgram.coder.accounts.decode("feeConfig",e.data)}decodePool(e){return this.offlineProgram.coder.accounts.decode("pool",e.data)}decodePoolNullable(e){try{return this.decodePool(e)}catch(e){return console.warn("Failed to decode pool account",e),null}}decodeGlobalVolumeAccumulator(e){return this.offlineProgram.coder.accounts.decode("globalVolumeAccumulator",e.data)}decodeUserVolumeAccumulator(e){return this.offlineProgram.coder.accounts.decode("userVolumeAccumulator",e.data)}decodeUserVolumeAccumulatorNullable(e){try{return this.decodeUserVolumeAccumulator(e)}catch(e){return console.warn("Failed to decode user volume accumulator",e),null}}async createPoolInstructions(e,t,r){let{index:n,creator:i,baseMint:a,quoteMint:o,poolKey:s,baseTokenProgram:l,quoteTokenProgram:d,userBaseTokenAccount:u,userQuoteTokenAccount:h,poolBaseTokenAccount:p,poolQuoteTokenAccount:f,userBaseAccountInfo:m,userQuoteAccountInfo:g,poolBaseAccountInfo:y,poolQuoteAccountInfo:w}=e;return await this.withWsolAccounts(i,a,u,this.accountExists(m,l),t,o,h,this.accountExists(g,d),r,async()=>{let e=[];return this.accountExists(y,l)||e.push(U(i,p,s,a,l)),this.accountExists(w,d)||e.push(U(i,f,s,o,d)),e.push(await this.offlineProgram.methods.createPool(n,t,r,c.SystemProgram.programId,!1).accountsPartial({globalConfig:ea,baseMint:a,quoteMint:o,creator:i,userBaseTokenAccount:u,userQuoteTokenAccount:h,baseTokenProgram:l,quoteTokenProgram:d}).instruction()),e})}async depositInstructionsInternal(e,t,r,n){let{pool:i,user:a,userPoolAccountInfo:o,userBaseTokenAccount:s,userQuoteTokenAccount:l,userPoolTokenAccount:c,userBaseAccountInfo:d,userQuoteAccountInfo:u,baseTokenProgram:h,quoteTokenProgram:p}=e,{baseMint:f,quoteMint:m,lpMint:g}=i,y=this.liquidityAccounts(e);return await this.withFixPoolInstructions(e,async()=>await this.withWsolAccounts(a,f,s,this.accountExists(d,h),r,m,l,this.accountExists(u,p),n,async()=>{let e=[];return this.accountExists(o,x)||e.push(U(a,c,a,g,x)),e.push(await this.offlineProgram.methods.deposit(t,r,n).accounts(y).instruction()),e}))}async withWsolAccounts(e,t,r,n,i,a,o,s,l,c){return await this.withWsolAccount(e,e,t,r,n,i,async()=>this.withWsolAccount(e,e,a,o,s,l,c))}async withWsolAccount(e,t,r,n,i,a,o,l=!0){let d=[];return r.equals(k)&&(i||d.push(U(e,n,t,k)),a.gtn(0)&&d.push(c.SystemProgram.transfer({fromPubkey:t,toPubkey:n,lamports:BigInt(a.toString())}),function(e,t=b){let r=s.Buffer.alloc(B.span);return B.encode({instruction:tp.SyncNative},r),new c.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0}],programId:t,data:r})}(n))),d.push(...await o()),r.equals(k)&&l&&d.push(D(n,t,t,void 0,b)),d}accountExists(e,t){return null!==e&&e.owner.equals(t)}depositBaseInput(e,t,r){let{pool:n,poolBaseTokenAccount:i,poolQuoteTokenAccount:a}=e,{token1:o,lpToken:s,maxToken0:l,maxToken1:c}=eb(t,r,new d.default(i.amount.toString()),new d.default(a.amount.toString()),n.lpSupply);return{quote:o,lpToken:s,maxBase:l,maxQuote:c}}depositQuoteInput(e,t,r){let{pool:n,poolBaseTokenAccount:i,poolQuoteTokenAccount:a}=e,{token1:o,lpToken:s,maxToken0:l,maxToken1:c}=eb(t,r,new d.default(a.amount.toString()),new d.default(i.amount.toString()),n.lpSupply);return{base:o,lpToken:s,maxBase:c,maxQuote:l}}async withdrawInstructionsInternal(e,t,r,n){let{pool:i,baseTokenProgram:a,quoteTokenProgram:o,user:s,userBaseAccountInfo:l,userQuoteAccountInfo:c,userBaseTokenAccount:d,userQuoteTokenAccount:u}=e,{baseMint:h,quoteMint:p}=i,f=this.liquidityAccounts(e);return await this.withFixPoolInstructions(e,async()=>{let e=[],i=!1;!this.accountExists(l,a)&&(e.push(U(s,d,s,h,a)),h.equals(k)&&(i=!0));let m=!1;return!this.accountExists(c,o)&&(e.push(U(s,u,s,p,o)),p.equals(k)&&(m=!0)),e.push(await this.offlineProgram.methods.withdraw(t,r,n).accounts(f).instruction()),i&&e.push(D(d,s,s,void 0,b)),m&&e.push(D(u,s,s,void 0,b)),e})}withdrawInputs(e,t,r){let{pool:n,poolBaseTokenAccount:i,poolQuoteTokenAccount:a}=e;return function(e,t,r,n,i){if(e.isZero()||i.isZero())throw Error("LP amount or total LP tokens cannot be zero.");let a=r.mul(e).div(i),o=n.mul(e).div(i),s=new d.default(1e9),l=new d.default((1-t/100)*1e9),c=a.mul(l).div(s),u=o.mul(l).div(s);return{base:a,quote:o,minBase:c,minQuote:u}}(t,r,new d.default(i.amount.toString()),new d.default(a.amount.toString()),n.lpSupply)}liquidityAccounts(e){let{poolKey:t,pool:r,user:n,userBaseTokenAccount:i,userQuoteTokenAccount:a,userPoolTokenAccount:o}=e,{baseMint:s,quoteMint:l,lpMint:c,poolBaseTokenAccount:d,poolQuoteTokenAccount:u}=r;return{pool:t,globalConfig:ea,user:n,baseMint:s,quoteMint:l,lpMint:c,userBaseTokenAccount:i,userQuoteTokenAccount:a,userPoolTokenAccount:o,poolBaseTokenAccount:d,poolQuoteTokenAccount:u,tokenProgram:b,token2022Program:x,eventAuthority:eo,program:X}}async buyInstructions(e,t,r){return await this.withFixPoolInstructions(e,async()=>await this.buyInstructionsNoPool(e,t,r))}async buyInstructionsNoPool(e,t,r){let{userBaseAccountInfo:n,userQuoteAccountInfo:i}=e,a=this.swapAccounts(e),{user:o,baseMint:s,quoteMint:l,userBaseTokenAccount:c,userQuoteTokenAccount:d,baseTokenProgram:u,quoteTokenProgram:h}=a;return this.withWsolAccount(o,o,l,d,this.accountExists(i,h),r,async()=>{let e=[];return this.accountExists(n,u)||e.push(U(o,c,o,s,u)),e.push(await this.offlineProgram.methods.buy(t,r,{0:!0}).accounts(a).instruction()),s.equals(k)&&e.push(D(c,o,o,void 0,b)),e})}async buyBaseInput(e,t,r){let{baseMint:n,baseMintAccount:i,feeConfig:a,globalConfig:o,pool:s,poolBaseAmount:l,poolQuoteAmount:c}=e,{coinCreator:d,creator:u}=s,{maxQuote:h}=ek({base:t,slippage:r,baseReserve:l,quoteReserve:c,baseMintAccount:i,baseMint:n,coinCreator:d,creator:u,feeConfig:a,globalConfig:o});return this.buyInstructions(e,t,h)}async buyQuoteInput(e,t,r){let{baseMint:n,baseMintAccount:i,feeConfig:a,globalConfig:o,pool:s,poolBaseAmount:l,poolQuoteAmount:c}=e,{coinCreator:d,creator:u}=s,{base:h,maxQuote:p}=eE({quote:t,slippage:r,baseReserve:l,quoteReserve:c,baseMintAccount:i,baseMint:n,coinCreator:d,creator:u,feeConfig:a,globalConfig:o});return this.buyInstructions(e,h,p)}async sellInstructions(e,t,r){return await this.withFixPoolInstructions(e,async()=>await this.sellInstructionsNoPool(e,t,r))}async withFixPoolInstructions(e,t){let{poolAccountInfo:r,poolKey:n,user:i}=e,a=[];return(null===r||r.data.length<300)&&a.push(await this.offlineProgram.methods.extendAccount().accountsPartial({account:n,user:i}).instruction()),[...a,...await t()]}async sellInstructionsNoPool(e,t,r){let{userBaseAccountInfo:n,userQuoteAccountInfo:i}=e,a=this.swapAccounts(e),{user:o,baseMint:s,quoteMint:l,userBaseTokenAccount:c,userQuoteTokenAccount:d,baseTokenProgram:u,quoteTokenProgram:h}=a;return this.withWsolAccount(o,o,s,c,this.accountExists(n,u),t,async()=>{let e=[];return this.accountExists(i,h)||e.push(U(o,d,o,l,h)),e.push(await this.offlineProgram.methods.sell(t,r).accounts(a).instruction()),l.equals(k)&&e.push(D(d,o,o,void 0,b)),e})}async sellBaseInput(e,t,r){let{baseMint:n,baseMintAccount:i,feeConfig:a,globalConfig:o,pool:s,poolBaseAmount:l,poolQuoteAmount:c}=e,{coinCreator:d,creator:u}=s,{minQuote:h}=eC({base:t,slippage:r,baseReserve:l,quoteReserve:c,baseMintAccount:i,baseMint:n,coinCreator:d,creator:u,feeConfig:a,globalConfig:o});return this.sellInstructions(e,t,h)}async sellQuoteInput(e,t,r){let{baseMint:n,baseMintAccount:i,feeConfig:a,globalConfig:o,pool:s,poolBaseAmount:l,poolQuoteAmount:u}=e,{coinCreator:h,creator:p}=s,{base:f,minQuote:m}=function({quote:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,baseMintAccount:a,baseMint:o,coinCreator:s,creator:l,feeConfig:u}){var h;let p,f;if(r.isZero()||n.isZero())throw Error("Invalid input: 'baseReserve' or 'quoteReserve' cannot be zero.");if(e.gt(n))throw Error("Cannot receive more quote tokens than the pool quote reserves.");let{lpFeeBps:m,protocolFeeBps:g,creatorFeeBps:y}=e_({globalConfig:i,feeConfig:u,creator:l,baseMintSupply:new d.default(a.supply.toString()),baseMint:o,baseReserve:r,quoteReserve:n,tradeSize:e}),w=(h=c.PublicKey.default.equals(s)?new d.default(0):y,p=m.add(g).add(h),f=eA.sub(p),eg(e.mul(eA),f));if(w.gte(n))throw Error("Invalid input: Desired quote amount exceeds available reserve.");let v=eg(r.mul(w),n.sub(w)),b=new d.default(1e9),x=new d.default(Math.floor((1-t/100)*1e9));return{internalRawQuote:w,base:v,minQuote:e.mul(x).div(b)}}({quote:t,slippage:r,baseReserve:l,quoteReserve:u,baseMintAccount:i,baseMint:n,coinCreator:h,creator:p,feeConfig:a,globalConfig:o});return this.sellInstructions(e,f,m)}async extendAccount(e,t){return this.offlineProgram.methods.extendAccount().accountsPartial({account:e,user:t}).instruction()}async collectCoinCreatorFee(e,t){let{coinCreator:r,quoteMint:n,quoteTokenProgram:i,coinCreatorVaultAuthority:a,coinCreatorVaultAta:o,coinCreatorTokenAccount:s,coinCreatorVaultAtaAccountInfo:l,coinCreatorTokenAccountInfo:c}=e,u=t??r,h=r.equals(u);return await this.withWsolAccount(u,a,n,o,this.accountExists(l,i),new d.default(0),async()=>await this.withWsolAccount(u,r,n,s,this.accountExists(c,i),new d.default(0),async()=>[await this.offlineProgram.methods.collectCoinCreatorFee().accountsPartial({coinCreator:r,coinCreatorTokenAccount:s,quoteMint:n,quoteTokenProgram:i}).instruction()],h),!1)}async setCoinCreator(e){return this.offlineProgram.methods.setCoinCreator().accountsPartial({pool:e}).instruction()}swapAccounts(e){let{globalConfig:t,poolKey:r,pool:n,baseTokenProgram:i,quoteTokenProgram:a,user:o,userBaseTokenAccount:s,userQuoteTokenAccount:l}=e,{protocolFeeRecipients:d,reservedFeeRecipient:u}=t,h=n.isMayhemMode?u:d[Math.floor(Math.random()*d.length)],{baseMint:p,quoteMint:f,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,coinCreator:y}=n,w=ep(y);return{pool:r,globalConfig:ea,user:o,baseMint:p,quoteMint:f,userBaseTokenAccount:s,userQuoteTokenAccount:l,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,protocolFeeRecipient:h,protocolFeeRecipientTokenAccount:j(f,h,!0,a),baseTokenProgram:i,quoteTokenProgram:a,systemProgram:c.SystemProgram.programId,associatedTokenProgram:_,eventAuthority:eo,program:X,coinCreatorVaultAta:ef(w,f,a),coinCreatorVaultAuthority:w}}async syncUserVolumeAccumulator(e){return await this.offlineProgram.methods.syncUserVolumeAccumulator().accountsPartial({user:e}).instruction()}async initUserVolumeAccumulator({payer:e,user:t}){return await this.offlineProgram.methods.initUserVolumeAccumulator().accountsPartial({payer:e,user:t}).instruction()}async closeUserVolumeAccumulator(e){return await this.offlineProgram.methods.closeUserVolumeAccumulator().accountsPartial({user:e}).instruction()}async createAutocompleteInitialPoolPrice(e,t){return t.div(e)}async depositInstructions(e,t,r){let{pool:n,poolBaseTokenAccount:i,poolQuoteTokenAccount:a}=e,{maxBase:o,maxQuote:s}=function(e,t,r,n,i){if(i.isZero())throw Error("Division by zero: totalLpTokens cannot be zero");let a=ex(r.mul(e),i),o=ex(n.mul(e),i),s=new d.default((1+t/100)*1e9),l=new d.default(1e9);return{maxBase:a.mul(s).div(l),maxQuote:o.mul(s).div(l)}}(t,r,new d.default(i.amount.toString()),new d.default(a.amount.toString()),n.lpSupply);return this.depositInstructionsInternal(e,t,o,s)}depositAutocompleteQuoteAndLpTokenFromBase(e,t,r){let{quote:n,lpToken:i}=this.depositBaseInput(e,t,r);return{quote:n,lpToken:i}}depositAutocompleteBaseAndLpTokenFromQuote(e,t,r){let{base:n,lpToken:i}=this.depositQuoteInput(e,t,r);return{base:n,lpToken:i}}async withdrawInstructions(e,t,r){let{minBase:n,minQuote:i}=this.withdrawInputs(e,t,r);return this.withdrawInstructionsInternal(e,t,n,i)}withdrawAutoCompleteBaseAndQuoteFromLpToken(e,t,r){let{base:n,quote:i}=this.withdrawInputs(e,t,r);return{base:n,quote:i}}},eT=class{constructor(e){this.connection=e,this.program=ew(e)}fetchGlobalConfigAccount(){return this.program.account.globalConfig.fetch(ea)}fetchFeeConfigAccount(){return this.program.account.feeConfig.fetch(el)}fetchPool(e){return this.program.account.pool.fetch(e)}fetchGlobalVolumeAccumulator(){return this.program.account.globalVolumeAccumulator.fetch(es)}fetchUserVolumeAccumulator(e){return this.program.account.userVolumeAccumulator.fetchNullable(eh(e))}async createPoolSolanaState(e,t,r,n,i,a){let[o,s,l]=await this.connection.getMultipleAccountsInfo([ea,r,n]);if(null===o)throw Error("Global config account not found");if(null===s)throw Error(`baseMint=${r.toString()} not found`);if(null===l)throw Error(`quoteMint=${n.toString()} not found`);let c=eS.decodeGlobalConfig(o),[d,u]=[s.owner,l.owner],h=ec(e,t,r,n),p=j(r,h,!0,d),f=j(n,h,!0,u),[m,g]=await this.connection.getMultipleAccountsInfo([p,f]);void 0===i&&(i=j(r,t,!0,d)),void 0===a&&(a=j(n,t,!0,u));let[y,w]=await this.connection.getMultipleAccountsInfo([i,a]);return{index:e,creator:t,baseMint:r,quoteMint:n,globalConfig:c,poolKey:h,poolBaseTokenAccount:p,poolQuoteTokenAccount:f,baseTokenProgram:d,quoteTokenProgram:u,userBaseTokenAccount:i,userQuoteTokenAccount:a,userBaseAccountInfo:y,userQuoteAccountInfo:w,poolBaseAccountInfo:m,poolQuoteAccountInfo:g}}async swapSolanaState(e,t,r,n){let[i,a,o]=await this.connection.getMultipleAccountsInfo([ea,el,e]);if(null===i)throw Error("Global config account not found");if(null===o)throw Error("Pool account not found");let s=eS.decodeGlobalConfig(i),l=a?eS.decodeFeeConfig(a):null,c=eS.decodePool(o),{baseMint:u,quoteMint:h,poolBaseTokenAccount:p,poolQuoteTokenAccount:f}=c,[m,g,y,w]=await this.connection.getMultipleAccountsInfo([u,h,p,f]);if(null===m)throw Error(`baseMint=${u.toString()} not found`);let v=P.decode(m.data);if(null===g)throw Error(`quoteMint=${h.toString()} not found`);if(null===y)throw Error(`Pool base token account ${p.toString()} not found`);if(null===w)throw Error(`Pool quote token account ${f.toString()} not found`);let[b,x]=[m.owner,g.owner],_=$.decode(y.data),k=$.decode(w.data);void 0===r&&(r=j(u,t,!0,b)),void 0===n&&(n=j(h,t,!0,x));let[E,C]=await this.connection.getMultipleAccountsInfo([r,n]);return{globalConfig:s,feeConfig:l,poolKey:e,poolAccountInfo:o,pool:c,poolBaseAmount:new d.default(_.amount.toString()),poolQuoteAmount:new d.default(k.amount.toString()),baseTokenProgram:b,quoteTokenProgram:x,baseMint:u,baseMintAccount:v,user:t,userBaseTokenAccount:r,userQuoteTokenAccount:n,userBaseAccountInfo:E,userQuoteAccountInfo:C}}async swapSolanaStateNoPool(e,t,r,n){let[i,a,o]=await this.connection.getMultipleAccountsInfo([ea,el,e]);if(null===i)throw Error("Global config account not found");if(null===o)throw Error("Pool account not found");let s=eS.decodeGlobalConfig(i),l=a?eS.decodeFeeConfig(a):null,c=eS.decodePool(o),{baseMint:u,quoteMint:h,poolBaseTokenAccount:p,poolQuoteTokenAccount:f}=c,[m,g,y,w]=await this.connection.getMultipleAccountsInfo([u,h,p,f]);if(null===m)throw Error(`baseMint=${u.toString()} not found`);let v=P.decode(m.data);if(null===g)throw Error(`quoteMint=${h.toString()} not found`);if(null===y)throw Error(`Pool base token account ${p.toString()} not found`);if(null===w)throw Error(`Pool quote token account ${f.toString()} not found`);let[b,x]=[m.owner,g.owner],_=$.decode(y.data),k=$.decode(w.data);void 0===r&&(r=j(u,t,!0,b)),void 0===n&&(n=j(h,t,!0,x));let[E,C]=await this.connection.getMultipleAccountsInfo([r,n]);return{globalConfig:s,feeConfig:l,poolKey:e,poolAccountInfo:o,pool:c,poolBaseAmount:new d.default(_.amount.toString()),poolQuoteAmount:new d.default(k.amount.toString()),baseTokenProgram:b,quoteTokenProgram:x,baseMint:u,baseMintAccount:v,user:t,userBaseTokenAccount:r,userQuoteTokenAccount:n,userBaseAccountInfo:E,userQuoteAccountInfo:C}}async liquiditySolanaState(e,t,r,n,i){let[a,o]=await this.connection.getMultipleAccountsInfo([ea,e]);if(null===a)throw Error("Global config account not found");if(null===o)throw Error("Pool account not found");let s=eS.decodeGlobalConfig(a),l=eS.decodePool(o),{baseMint:c,quoteMint:d,lpMint:u,poolBaseTokenAccount:h,poolQuoteTokenAccount:p}=l,[f,m,g,y]=await this.connection.getMultipleAccountsInfo([c,d,h,p]);if(null===f)throw Error(`baseMint=${c.toString()} not found`);if(null===m)throw Error(`quoteMint=${d.toString()} not found`);if(null===g)throw Error(`Pool base token account ${h.toString()} not found`);if(null===y)throw Error(`Pool quote token account ${p.toString()} not found`);let[w,v]=[f.owner,m.owner],b=$.decode(g.data),_=$.decode(y.data);void 0===r&&(r=j(c,t,!0,w)),void 0===n&&(n=j(d,t,!0,v)),void 0===i&&(i=j(u,t,!0,x));let[k,E,C]=await this.connection.getMultipleAccountsInfo([r,n,i]);return{globalConfig:s,poolKey:e,poolAccountInfo:o,pool:l,poolBaseTokenAccount:b,poolQuoteTokenAccount:_,baseTokenProgram:w,quoteTokenProgram:v,user:t,userBaseTokenAccount:r,userQuoteTokenAccount:n,userPoolTokenAccount:i,userBaseAccountInfo:k,userQuoteAccountInfo:E,userPoolAccountInfo:C}}async collectCoinCreatorFeeSolanaState(e,t){let r=ep(e),n=ef(r,k,b);void 0===t&&(t=j(k,e,!0,b));let[i,a]=await this.connection.getMultipleAccountsInfo([n,t]);return{coinCreator:e,quoteMint:k,quoteTokenProgram:b,coinCreatorVaultAuthority:r,coinCreatorVaultAta:n,coinCreatorTokenAccount:t,coinCreatorVaultAtaAccountInfo:i,coinCreatorTokenAccountInfo:a}}async getCoinCreatorVaultBalance(e){let t=ef(ep(e),k,b);try{let e=await M(this.connection,t,void 0,b);return new d.default(e.amount.toString())}catch(e){return console.warn(`Error fetching token account ${t}:`,e),new d.default(0)}}async claimTokenIncentives(e,t){let{mint:r}=await this.fetchGlobalVolumeAccumulator();if(r.equals(c.PublicKey.default))return[];let[n,i]=await this.connection.getMultipleAccountsInfo([r,eh(e)]);return n&&i?[await eI.methods.claimTokenIncentives().accountsPartial({user:e,payer:t,mint:r,tokenProgram:n.owner}).instruction()]:[]}async getTotalUnclaimedTokens(e){let[t,r]=await this.connection.getMultipleAccountsInfo([es,eh(e)]);return t&&r?function(e,t,r=Date.now()/1e3){let{startTime:n,endTime:i,secondsInADay:a,totalTokenSupply:o,solVolumes:s}=e,{totalUnclaimedTokens:l,currentSolVolume:c,lastUpdateTimestamp:u}=t;if(n.eqn(0)||i.eqn(0)||a.eqn(0))return l;let h=new d.default(r);if(h.lt(n))return l;let p=h.sub(n).div(a).toNumber();if(u.lt(n))return l;let f=u.sub(n).div(a).toNumber();if(i.lt(n))return l;let m=i.sub(n).div(a).toNumber();if(p>f&&f<=m){let e=o[f],t=s[f];return t.eqn(0)?l:l.add(c.mul(e).div(t))}return l}(eS.decodeGlobalVolumeAccumulator(t),eS.decodeUserVolumeAccumulator(r)):new d.default(0)}async getCurrentDayTokens(e){let[t,r]=await this.connection.getMultipleAccountsInfo([es,eh(e)]);return t&&r?function(e,t,r=Date.now()/1e3){let{startTime:n,endTime:i,secondsInADay:a,totalTokenSupply:o,solVolumes:s}=e,{currentSolVolume:l,lastUpdateTimestamp:c}=t;if(n.eqn(0)||i.eqn(0)||a.eqn(0))return new d.default(0);let u=new d.default(r);if(u.lt(n)||u.gt(i))return new d.default(0);let h=u.sub(n).div(a).toNumber();if(c.lt(n))return new d.default(0);let p=c.sub(n).div(a).toNumber();if(i.lt(n)||h!==p)return new d.default(0);let f=o[h],m=s[h];return m.eqn(0)?new d.default(0):l.mul(f).div(m)}(eS.decodeGlobalVolumeAccumulator(t),eS.decodeUserVolumeAccumulator(r)):new d.default(0)}};e.s(["GLOBAL_CONFIG_PDA",()=>ea,"OnlinePumpAmmSdk",()=>eT,"PUMP_AMM_FEE_CONFIG_PDA",()=>el,"PUMP_AMM_PROGRAM_ID",()=>X,"PUMP_AMM_SDK",()=>eS,"PumpAmmAdminSdk",()=>ev,"buyBaseInput",()=>ek,"buyQuoteInput",()=>eE,"canonicalPumpPoolPda",()=>eu,"coinCreatorVaultAtaPda",()=>ef,"coinCreatorVaultAuthorityPda",()=>ep,"poolPda",()=>ec,"pumpFeePda",()=>ei,"pumpPda",()=>er,"sellBaseInput",()=>eC],407751);var eP=Object.create,ej=Object.defineProperty,eN=Object.getOwnPropertyDescriptor,eO=Object.getOwnPropertyNames,e$=Object.getPrototypeOf,eR=Object.prototype.hasOwnProperty,eM=(e,t)=>function(){return t||(0,e[eO(e)[0]])((t={exports:{}}).exports,t),t.exports},eU=eM({"node_modules/base64-js/index.js"(e){e.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return(r+n)*3/4-n},e.toByteArray=function(e){var t,r,n=s(e),o=n[0],l=n[1],c=new a((o+l)*3/4-l),d=0,u=l>0?o-4:o;for(r=0;r<u;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],c[d++]=t>>16&255,c[d++]=t>>8&255,c[d++]=255&t;return 2===l&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,c[d++]=255&t),1===l&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,c[d++]=t>>8&255,c[d++]=255&t),c},e.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a=[],o=0,s=r-i;o<s;o+=16383)a.push(function(e,t,r){for(var i,a=[],o=t;o<r;o+=3)i=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),a.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}(e,o,o+16383>s?s:o+16383));return 1===i?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};var t,r,n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(t=0,r=o.length;t<r;++t)n[t]=o[t],i[o.charCodeAt(t)]=t;function s(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}i[45]=62,i[95]=63}}),eL=eM({"node_modules/ieee754/index.js"(e){e.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,l=(1<<s)-1,c=l>>1,d=-7,u=r?i-1:0,h=r?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=s;d>0;a=256*a+e[t+u],u+=h,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=256*o+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(e,t,r,n,i,a){var o,s,l,c=8*a-i-1,d=(1<<c)-1,u=d>>1,h=5960464477539062e-23*(23===i),p=n?0:a-1,f=n?1:-1,m=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?t+=h/l:t+=h*Math.pow(2,1-u),t*l>=2&&(o++,l/=2),o+u>=d?(s=0,o=d):o+u>=1?(s=(t*l-1)*Math.pow(2,i),o+=u):(s=t*Math.pow(2,u-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[r+p]=255&o,p+=f,o/=256,c-=8);e[r+p-f]|=128*m}}}),eF=eM({"node_modules/buffer/index.js"(e){var t=eU(),r=eL(),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function i(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return l(e)}return o(e,t,r)}function o(e,t,r){if("string"==typeof e){var n=e,o=t;if(("string"!=typeof o||""===o)&&(o="utf8"),!a.isEncoding(o))throw TypeError("Unknown encoding: "+o);let r=0|h(n,o),s=i(r),l=s.write(n,o);return l!==r&&(s=s.slice(0,l)),s}if(ArrayBuffer.isView(e)){var s=e;if(R(s,Uint8Array)){let e=new Uint8Array(s);return d(e.buffer,e.byteOffset,e.byteLength)}return c(s)}if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(R(e,ArrayBuffer)||e&&R(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(R(e,SharedArrayBuffer)||e&&R(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let l=e.valueOf&&e.valueOf();if(null!=l&&l!==e)return a.from(l,t,r);let p=function(e){if(a.isBuffer(e)){let t=0|u(e.length),r=i(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?i(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(p)return p;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function s(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return s(e),i(e<0?0:0|u(e))}function c(e){let t=e.length<0?0:0|u(e.length),r=i(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}function u(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||R(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return O(e).length;default:if(i)return n?-1:N(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,r,n){let i=!1;if((void 0===r||r<0)&&(r=0),r>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(r>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=M[e[n]];return i}(this,r,n);case"utf8":case"utf-8":return y(this,r,n);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,r,n);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,r,n);case"base64":var a,o,s;return a=this,o=r,s=n,0===o&&s===a.length?t.fromByteArray(a):t.fromByteArray(a.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,r,n);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function f(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return g(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){let a,o=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,s/=2,l/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(a=r;a<s;a++)if(c(e,a)===c(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*o}else -1!==n&&(a-=a-n),n=-1}else for(r+l>s&&(r=s-l),a=r;a>=0;a--){let r=!0;for(let n=0;n<l;n++)if(c(e,a+n)!==c(t,n)){r=!1;break}if(r)return a}return -1}function y(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,s,l;switch(o){case 1:t<128&&(a=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(a=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}var a=n;let o=a.length;if(o<=4096)return String.fromCharCode.apply(String,a);let s="",l=0;for(;l<o;)s+=String.fromCharCode.apply(String,a.slice(l,l+=4096));return s}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function b(e,t,r,n,i){S(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function x(e,t,r,n,i){S(t,n,i,e,r,7);let a=Number(t&BigInt(0xffffffff));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(0xffffffff));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function _(e,t,r,n,i,a){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,n,i,a){return t*=1,n>>>=0,a||_(e,t,n,4,34028234663852886e22,-34028234663852886e22),r.write(e,t,n,i,23,4),n+4}function E(e,t,n,i,a){return t*=1,n>>>=0,a||_(e,t,n,8,17976931348623157e292,-17976931348623157e292),r.write(e,t,n,i,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return o(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(s(e),e<=0)?i(e):void 0!==t?"string"==typeof r?i(e).fill(t,r):i(e).fill(t):i(e)},a.allocUnsafe=function(e){return l(e)},a.allocUnsafeSlow=function(e){return l(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(R(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),R(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(R(t,Uint8Array))i+t.length>n.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(a.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},a.byteLength=h,a.prototype._isBuffer=!0,a.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)f(this,t,t+1);return this},a.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},a.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},a.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="",r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if(R(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,s=r-t,l=Math.min(o,s),c=this.slice(n,i),d=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==d[e]){o=c[e],s=d[e];break}return o<s?-1:+(s<o)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){var i,a,o,s,l,c,d,u;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;let o=t.length;for(n>o/2&&(n=o/2),i=0;i<n;++i){var s;let n=parseInt(t.substr(2*i,2),16);if((s=n)!=s)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,a=r,$(N(e,this.length-i),this,i,a);case"ascii":case"latin1":case"binary":return o=t,s=r,$(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,o,s);case"base64":return l=t,c=r,$(O(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,u=r,$(function(e,t){let r,n,i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i.push(r%256),i.push(n);return i}(e,this.length-d),this,d,u);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+0x1000000*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+0x1000000*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),a.prototype.readBigUInt64BE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&P(e,this.length-8);let n=0x1000000*t+65536*this[++e]+256*this[++e]+this[++e],i=0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+0x1000000*this[++e])}),a.prototype.readBigInt64BE=U(function(e){T(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&P(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(0x1000000*this[++e]+65536*this[++e]+256*this[++e]+r)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;v(this,e,t,r,n,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=U(function(e,t=0){return b(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=U(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=0,a=1,o=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){let n=Math.pow(2,8*r-1);v(this,e,t,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||v(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=U(function(e,t=0){return b(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=U(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return E(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return E(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},a.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=a.isBuffer(e)?e:a.from(e,n),s=o.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var C={};function A(e,t,r){C[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function I(e){let t="",r=e.length,n=+("-"===e[0]);for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function S(e,t,r,n,i,a){if(e>r||e<t){let n,i="bigint"==typeof t?"n":"";throw n=a>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(a+1)*8}${i}`:`>= -(2${i} ** ${(a+1)*8-1}${i}) and < 2 ** ${(a+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new C.ERR_OUT_OF_RANGE("value",n,e)}T(i,"offset"),(void 0===n[i]||void 0===n[i+a])&&P(i,n.length-(a+1))}function T(e,t){if("number"!=typeof e)throw new C.ERR_INVALID_ARG_TYPE(t,"number",e)}function P(e,t,r){if(Math.floor(e)!==e)throw T(e,r),new C.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new C.ERR_BUFFER_OUT_OF_BOUNDS;throw new C.ERR_OUT_OF_RANGE(r||"offset",`>= ${+!!r} and <= ${t}`,e)}A("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),A("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),A("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>0x100000000?i=I(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=I(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);var j=/[^+/0-9A-Za-z-_]/g;function N(e,t){let r;t=t||1/0;let n=e.length,i=null,a=[];for(let o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319||o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return a}function O(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function R(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var M=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function U(e){return"undefined"==typeof BigInt?L:e}function L(){throw Error("BigInt not supported")}}}),eD={address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P",metadata:{name:"pump",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions:[{name:"admin_set_creator",docs:["Allows Global::admin_set_creator_authority to override the bonding curve creator"],discriminator:[69,25,171,142,57,239,13,4],accounts:[{name:"admin_set_creator_authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"creator",type:"pubkey"}]},{name:"admin_set_idl_authority",discriminator:[8,217,96,231,144,104,192,5],accounts:[{name:"authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"idl_account",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"program_signer",pda:{seeds:[]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"idl_authority",type:"pubkey"}]},{name:"admin_update_token_incentives",discriminator:[209,11,115,87,213,23,124,204],accounts:[{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"global_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"mint"},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"day_number",type:"u64"},{name:"pump_token_supply_per_day",type:"u64"}]},{name:"buy",docs:["Buys tokens from a bonding curve."],discriminator:[102,6,61,18,1,218,235,234],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"amount",type:"u64"},{name:"max_sol_cost",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"buy_exact_sol_in",docs:["Given a budget of spendable SOL, buy at least min_tokens_out","Account creation and fees will be deducted from the spendable SOL","","f(sol) = tokens, where tokens >= min_tokens_out and sol > rent + fees","","max_slippage = min_tokens_out = 1","","Make sure the sol budget is enough to cover creation of the following accounts (unless already created):","- creator_vault: rent.minimum_balance(SystemAccount::LEN)","- user_volume_accumulator: rent.minimum_balance(UserVolumeAccumulator::LEN)"],discriminator:[56,252,116,8,158,223,205,95],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"spendable_sol_in",type:"u64"},{name:"min_tokens_out",type:"u64"},{name:"track_volume",type:{defined:{name:"OptionBool"}}}]},{name:"claim_token_incentives",discriminator:[16,4,71,28,204,1,40,27],accounts:[{name:"user"},{name:"user_ata",writable:!0,pda:{seeds:[{kind:"account",path:"user"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"global_incentive_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"global_volume_accumulator"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"mint",relations:["global_volume_accumulator"]},{name:"token_program"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"payer",writable:!0,signer:!0}],args:[]},{name:"close_user_volume_accumulator",discriminator:[249,69,164,218,150,103,84,138],accounts:[{name:"user",writable:!0,signer:!0},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"collect_creator_fee",docs:["Collects creator_fee from creator_vault to the coin creator account"],discriminator:[20,22,86,123,198,28,219,132],accounts:[{name:"creator",writable:!0},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"creator"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"create",docs:["Creates a new coin and bonding curve."],discriminator:[24,30,200,40,5,28,7,119],accounts:[{name:"mint",writable:!0,signer:!0},{name:"mint_authority",pda:{seeds:[{kind:"const",value:[109,105,110,116,45,97,117,116,104,111,114,105,116,121]}]}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"const",value:[6,221,246,225,215,101,161,147,217,203,225,70,206,235,121,172,28,180,133,237,95,91,55,145,58,140,245,133,126,255,0,169]},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mpl_token_metadata",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"metadata",writable:!0,pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"account",path:"mpl_token_metadata"}}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"creator",type:"pubkey"}]},{name:"create_v2",docs:["Creates a new spl-22 coin and bonding curve."],discriminator:[214,144,76,236,95,139,49,180],accounts:[{name:"mint",writable:!0,signer:!0},{name:"mint_authority",pda:{seeds:[{kind:"const",value:[109,105,110,116,45,97,117,116,104,111,114,105,116,121]}]}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"mayhem_program_id",writable:!0,address:"MAyhSmzXzV1pTf7LsNkrNwkWKTo4ougAJ1PPg47MD4e"},{name:"global_params",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,45,112,97,114,97,109,115]}],program:{kind:"const",value:[5,42,229,215,167,218,167,36,166,234,176,167,41,84,145,133,90,212,160,103,22,96,103,76,78,3,69,89,128,61,101,163]}}},{name:"sol_vault",writable:!0,pda:{seeds:[{kind:"const",value:[115,111,108,45,118,97,117,108,116]}],program:{kind:"const",value:[5,42,229,215,167,218,167,36,166,234,176,167,41,84,145,133,90,212,160,103,22,96,103,76,78,3,69,89,128,61,101,163]}}},{name:"mayhem_state",writable:!0,pda:{seeds:[{kind:"const",value:[109,97,121,104,101,109,45,115,116,97,116,101]},{kind:"account",path:"mint"}],program:{kind:"const",value:[5,42,229,215,167,218,167,36,166,234,176,167,41,84,145,133,90,212,160,103,22,96,103,76,78,3,69,89,128,61,101,163]}}},{name:"mayhem_token_vault",writable:!0},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]},{name:"extend_account",docs:["Extends the size of program-owned accounts"],discriminator:[234,102,194,203,150,72,62,229],accounts:[{name:"account",writable:!0},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"init_user_volume_accumulator",discriminator:[94,6,202,115,255,96,232,183],accounts:[{name:"payer",writable:!0,signer:!0},{name:"user"},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"system_program",address:"11111111111111111111111111111111"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"initialize",docs:["Creates the global state."],discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"migrate",docs:["Migrates liquidity to pump_amm if the bonding curve is complete"],discriminator:[155,234,231,146,236,158,162,30],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"withdraw_authority",writable:!0,relations:["global"]},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"account",path:"mint"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"user",signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"pump_amm",address:"pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA"},{name:"pool",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108]},{kind:"const",value:[0,0]},{kind:"account",path:"pool_authority"},{kind:"account",path:"mint"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"pump_amm"}}},{name:"pool_authority",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,45,97,117,116,104,111,114,105,116,121]},{kind:"account",path:"mint"}]}},{name:"pool_authority_mint_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"mint"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_authority_wsol_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"amm_global_config",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,99,111,110,102,105,103]}],program:{kind:"account",path:"pump_amm"}}},{name:"wsol_mint",address:"So11111111111111111111111111111111111111112"},{name:"lp_mint",writable:!0,pda:{seeds:[{kind:"const",value:[112,111,111,108,95,108,112,95,109,105,110,116]},{kind:"account",path:"pool"}],program:{kind:"account",path:"pump_amm"}}},{name:"user_pool_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool_authority"},{kind:"account",path:"token_2022_program"},{kind:"account",path:"lp_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_base_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"mint"},{kind:"account",path:"mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"pool_quote_token_account",writable:!0,pda:{seeds:[{kind:"account",path:"pool"},{kind:"account",path:"token_program"},{kind:"account",path:"wsol_mint"}],program:{kind:"account",path:"associated_token_program"}}},{name:"token_2022_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"associated_token_program",address:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{name:"pump_amm_event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}],program:{kind:"account",path:"pump_amm"}}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"sell",docs:["Sells tokens into a bonding curve."],discriminator:[51,230,133,164,1,127,131,173],accounts:[{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"fee_recipient",writable:!0},{name:"mint"},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"associated_bonding_curve",writable:!0,pda:{seeds:[{kind:"account",path:"bonding_curve"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"associated_user",writable:!0},{name:"user",writable:!0,signer:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"creator_vault",writable:!0,pda:{seeds:[{kind:"const",value:[99,114,101,97,116,111,114,45,118,97,117,108,116]},{kind:"account",path:"bonding_curve.creator",account:"BondingCurve"}]}},{name:"token_program"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program",address:"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"},{name:"fee_config",pda:{seeds:[{kind:"const",value:[102,101,101,95,99,111,110,102,105,103]},{kind:"const",value:[1,86,224,246,147,102,90,207,68,219,21,104,191,23,91,170,81,137,203,151,245,210,255,59,101,93,43,182,253,109,24,176]}],program:{kind:"account",path:"fee_program"}}},{name:"fee_program",address:"pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"}],args:[{name:"amount",type:"u64"},{name:"min_sol_output",type:"u64"}]},{name:"set_creator",docs:["Allows Global::set_creator_authority to set the bonding curve creator from Metaplex metadata or input argument"],discriminator:[254,148,255,112,207,142,170,165],accounts:[{name:"set_creator_authority",signer:!0,relations:["global"]},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"creator",type:"pubkey"}]},{name:"set_mayhem_virtual_params",discriminator:[61,169,188,191,153,149,42,97],accounts:[{name:"sol_vault_authority",writable:!0,signer:!0,pda:{seeds:[{kind:"const",value:[115,111,108,45,118,97,117,108,116]}],program:{kind:"const",value:[5,42,229,215,167,218,167,36,166,234,176,167,41,84,145,133,90,212,160,103,22,96,103,76,78,3,69,89,128,61,101,163]}}},{name:"mayhem_token_vault",writable:!0,pda:{seeds:[{kind:"account",path:"sol_vault_authority"},{kind:"account",path:"token_program"},{kind:"account",path:"mint"}],program:{kind:"const",value:[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{name:"mint"},{name:"global",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"token_program",address:"TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_metaplex_creator",docs:["Syncs the bonding curve creator with the Metaplex metadata creator if it exists"],discriminator:[138,96,174,217,48,85,197,246],accounts:[{name:"mint"},{name:"metadata",pda:{seeds:[{kind:"const",value:[109,101,116,97,100,97,116,97]},{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]},{kind:"account",path:"mint"}],program:{kind:"const",value:[11,112,101,177,227,209,124,69,56,157,82,127,107,4,195,205,88,184,108,115,26,160,253,181,73,182,209,188,3,248,41,70]}}},{name:"bonding_curve",writable:!0,pda:{seeds:[{kind:"const",value:[98,111,110,100,105,110,103,45,99,117,114,118,101]},{kind:"account",path:"mint"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"set_params",docs:["Sets the global state parameters."],discriminator:[27,234,178,52,147,2,187,141],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"}]},{name:"set_reserved_fee_recipients",discriminator:[111,172,162,232,114,89,213,142],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"whitelist_pda",type:"pubkey"}]},{name:"sync_user_volume_accumulator",discriminator:[86,31,192,87,163,87,79,238],accounts:[{name:"user"},{name:"global_volume_accumulator",pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]}]}},{name:"user_volume_accumulator",writable:!0,pda:{seeds:[{kind:"const",value:[117,115,101,114,95,118,111,108,117,109,101,95,97,99,99,117,109,117,108,97,116,111,114]},{kind:"account",path:"user"}]}},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]},{name:"toggle_create_v2",discriminator:[28,255,230,240,172,107,203,171],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"enabled",type:"bool"}]},{name:"toggle_mayhem_mode",discriminator:[1,9,111,208,100,31,255,163],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",writable:!0,signer:!0,relations:["global"]},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[{name:"enabled",type:"bool"}]},{name:"update_global_authority",discriminator:[227,181,74,196,208,21,97,213],accounts:[{name:"global",writable:!0,pda:{seeds:[{kind:"const",value:[103,108,111,98,97,108]}]}},{name:"authority",signer:!0,relations:["global"]},{name:"new_authority"},{name:"event_authority",pda:{seeds:[{kind:"const",value:[95,95,101,118,101,110,116,95,97,117,116,104,111,114,105,116,121]}]}},{name:"program"}],args:[]}],accounts:[{name:"BondingCurve",discriminator:[23,183,248,55,96,216,172,96]},{name:"FeeConfig",discriminator:[143,52,146,187,219,123,76,155]},{name:"Global",discriminator:[167,232,232,177,200,108,114,127]},{name:"GlobalVolumeAccumulator",discriminator:[202,42,246,43,142,190,30,255]},{name:"UserVolumeAccumulator",discriminator:[86,255,112,14,102,53,154,250]}],events:[{name:"AdminSetCreatorEvent",discriminator:[64,69,192,104,29,30,25,107]},{name:"AdminSetIdlAuthorityEvent",discriminator:[245,59,70,34,75,185,109,92]},{name:"AdminUpdateTokenIncentivesEvent",discriminator:[147,250,108,120,247,29,67,222]},{name:"ClaimTokenIncentivesEvent",discriminator:[79,172,246,49,205,91,206,232]},{name:"CloseUserVolumeAccumulatorEvent",discriminator:[146,159,189,172,146,88,56,244]},{name:"CollectCreatorFeeEvent",discriminator:[122,2,127,1,14,191,12,175]},{name:"CompleteEvent",discriminator:[95,114,97,156,212,46,152,8]},{name:"CompletePumpAmmMigrationEvent",discriminator:[189,233,93,185,92,148,234,148]},{name:"CreateEvent",discriminator:[27,114,169,77,222,235,99,118]},{name:"ExtendAccountEvent",discriminator:[97,97,215,144,93,146,22,124]},{name:"InitUserVolumeAccumulatorEvent",discriminator:[134,36,13,72,232,101,130,216]},{name:"ReservedFeeRecipientsEvent",discriminator:[43,188,250,18,221,75,187,95]},{name:"SetCreatorEvent",discriminator:[237,52,123,37,245,251,72,210]},{name:"SetMetaplexCreatorEvent",discriminator:[142,203,6,32,127,105,191,162]},{name:"SetParamsEvent",discriminator:[223,195,159,246,62,48,143,131]},{name:"SyncUserVolumeAccumulatorEvent",discriminator:[197,122,167,124,116,81,91,255]},{name:"TradeEvent",discriminator:[189,219,127,211,78,230,97,238]},{name:"UpdateGlobalAuthorityEvent",discriminator:[182,195,137,42,35,206,207,247]},{name:"UpdateMayhemVirtualParamsEvent",discriminator:[117,123,228,182,161,168,220,214]}],errors:[{code:6e3,name:"NotAuthorized",msg:"The given account is not authorized to execute this instruction."},{code:6001,name:"AlreadyInitialized",msg:"The program is already initialized."},{code:6002,name:"TooMuchSolRequired",msg:"slippage: Too much SOL required to buy the given amount of tokens."},{code:6003,name:"TooLittleSolReceived",msg:"slippage: Too little SOL received to sell the given amount of tokens."},{code:6004,name:"MintDoesNotMatchBondingCurve",msg:"The mint does not match the bonding curve."},{code:6005,name:"BondingCurveComplete",msg:"The bonding curve has completed and liquidity migrated to raydium."},{code:6006,name:"BondingCurveNotComplete",msg:"The bonding curve has not completed."},{code:6007,name:"NotInitialized",msg:"The program is not initialized."},{code:6008,name:"WithdrawTooFrequent",msg:"Withdraw too frequent"},{code:6009,name:"NewSizeShouldBeGreaterThanCurrentSize",msg:"new_size should be > current_size"},{code:6010,name:"AccountTypeNotSupported",msg:"Account type not supported"},{code:6011,name:"InitialRealTokenReservesShouldBeLessThanTokenTotalSupply",msg:"initial_real_token_reserves should be less than token_total_supply"},{code:6012,name:"InitialVirtualTokenReservesShouldBeGreaterThanInitialRealTokenReserves",msg:"initial_virtual_token_reserves should be greater than initial_real_token_reserves"},{code:6013,name:"FeeBasisPointsGreaterThanMaximum",msg:"fee_basis_points greater than maximum"},{code:6014,name:"AllZerosWithdrawAuthority",msg:"Withdraw authority cannot be set to System Program ID"},{code:6015,name:"PoolMigrationFeeShouldBeLessThanFinalRealSolReserves",msg:"pool_migration_fee should be less than final_real_sol_reserves"},{code:6016,name:"PoolMigrationFeeShouldBeGreaterThanCreatorFeePlusMaxMigrateFees",msg:"pool_migration_fee should be greater than creator_fee + MAX_MIGRATE_FEES"},{code:6017,name:"DisabledWithdraw",msg:"Migrate instruction is disabled"},{code:6018,name:"DisabledMigrate",msg:"Migrate instruction is disabled"},{code:6019,name:"InvalidCreator",msg:"Invalid creator pubkey"},{code:6020,name:"BuyZeroAmount",msg:"Buy zero amount"},{code:6021,name:"NotEnoughTokensToBuy",msg:"Not enough tokens to buy"},{code:6022,name:"SellZeroAmount",msg:"Sell zero amount"},{code:6023,name:"NotEnoughTokensToSell",msg:"Not enough tokens to sell"},{code:6024,name:"Overflow",msg:"Overflow"},{code:6025,name:"Truncation",msg:"Truncation"},{code:6026,name:"DivisionByZero",msg:"Division by zero"},{code:6027,name:"NotEnoughRemainingAccounts",msg:"Not enough remaining accounts"},{code:6028,name:"AllFeeRecipientsShouldBeNonZero",msg:"All fee recipients should be non-zero"},{code:6029,name:"UnsortedNotUniqueFeeRecipients",msg:"Unsorted or not unique fee recipients"},{code:6030,name:"CreatorShouldNotBeZero",msg:"Creator should not be zero"},{code:6031,name:"StartTimeInThePast"},{code:6032,name:"EndTimeInThePast"},{code:6033,name:"EndTimeBeforeStartTime"},{code:6034,name:"TimeRangeTooLarge"},{code:6035,name:"EndTimeBeforeCurrentDay"},{code:6036,name:"SupplyUpdateForFinishedRange"},{code:6037,name:"DayIndexAfterEndIndex"},{code:6038,name:"DayInActiveRange"},{code:6039,name:"InvalidIncentiveMint"},{code:6040,name:"BuyNotEnoughSolToCoverRent",msg:"Buy: Not enough SOL to cover for rent exemption."},{code:6041,name:"BuyNotEnoughSolToCoverFees",msg:"Buy: Not enough SOL to cover for fees."},{code:6042,name:"BuySlippageBelowMinTokensOut",msg:"Slippage: Would buy less tokens than expected min_tokens_out"},{code:6043,name:"NameTooLong"},{code:6044,name:"SymbolTooLong"},{code:6045,name:"UriTooLong"},{code:6046,name:"CreateV2Disabled"},{code:6047,name:"CpitializeMayhemFailed"},{code:6048,name:"MayhemModeDisabled"}],types:[{name:"AdminSetCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"admin_set_creator_authority",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"old_creator",type:"pubkey"},{name:"new_creator",type:"pubkey"}]}},{name:"AdminSetIdlAuthorityEvent",type:{kind:"struct",fields:[{name:"idl_authority",type:"pubkey"}]}},{name:"AdminUpdateTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"day_number",type:"u64"},{name:"token_supply_per_day",type:"u64"},{name:"mint",type:"pubkey"},{name:"seconds_in_a_day",type:"i64"},{name:"timestamp",type:"i64"}]}},{name:"BondingCurve",type:{kind:"struct",fields:[{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"complete",type:"bool"},{name:"creator",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]}},{name:"ClaimTokenIncentivesEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"timestamp",type:"i64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"}]}},{name:"CloseUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"}]}},{name:"CollectCreatorFeeEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"creator",type:"pubkey"},{name:"creator_fee",type:"u64"}]}},{name:"CompleteEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"CompletePumpAmmMigrationEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"mint",type:"pubkey"},{name:"mint_amount",type:"u64"},{name:"sol_amount",type:"u64"},{name:"pool_migration_fee",type:"u64"},{name:"bonding_curve",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"pool",type:"pubkey"}]}},{name:"CreateEvent",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"user",type:"pubkey"},{name:"creator",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"token_program",type:"pubkey"},{name:"is_mayhem_mode",type:"bool"}]}},{name:"ExtendAccountEvent",type:{kind:"struct",fields:[{name:"account",type:"pubkey"},{name:"user",type:"pubkey"},{name:"current_size",type:"u64"},{name:"new_size",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"FeeConfig",type:{kind:"struct",fields:[{name:"bump",type:"u8"},{name:"admin",type:"pubkey"},{name:"flat_fees",type:{defined:{name:"Fees"}}},{name:"fee_tiers",type:{vec:{defined:{name:"FeeTier"}}}}]}},{name:"FeeTier",type:{kind:"struct",fields:[{name:"market_cap_lamports_threshold",type:"u128"},{name:"fees",type:{defined:{name:"Fees"}}}]}},{name:"Fees",type:{kind:"struct",fields:[{name:"lp_fee_bps",type:"u64"},{name:"protocol_fee_bps",type:"u64"},{name:"creator_fee_bps",type:"u64"}]}},{name:"Global",type:{kind:"struct",fields:[{name:"initialized",docs:["Unused"],type:"bool"},{name:"authority",type:"pubkey"},{name:"fee_recipient",type:"pubkey"},{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",docs:["Unused"],type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",7]}},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"},{name:"create_v2_enabled",type:"bool"},{name:"whitelist_pda",type:"pubkey"},{name:"reserved_fee_recipient",type:"pubkey"},{name:"mayhem_mode_enabled",type:"bool"},{name:"reserved_fee_recipients",type:{array:["pubkey",7]}}]}},{name:"GlobalVolumeAccumulator",type:{kind:"struct",fields:[{name:"start_time",type:"i64"},{name:"end_time",type:"i64"},{name:"seconds_in_a_day",type:"i64"},{name:"mint",type:"pubkey"},{name:"total_token_supply",type:{array:["u64",30]}},{name:"sol_volumes",type:{array:["u64",30]}}]}},{name:"InitUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"payer",type:"pubkey"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"OptionBool",type:{kind:"struct",fields:["bool"]}},{name:"ReservedFeeRecipientsEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"reserved_fee_recipient",type:"pubkey"},{name:"reserved_fee_recipients",type:{array:["pubkey",7]}}]}},{name:"SetCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetMetaplexCreatorEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"bonding_curve",type:"pubkey"},{name:"metadata",type:"pubkey"},{name:"creator",type:"pubkey"}]}},{name:"SetParamsEvent",type:{kind:"struct",fields:[{name:"initial_virtual_token_reserves",type:"u64"},{name:"initial_virtual_sol_reserves",type:"u64"},{name:"initial_real_token_reserves",type:"u64"},{name:"final_real_sol_reserves",type:"u64"},{name:"token_total_supply",type:"u64"},{name:"fee_basis_points",type:"u64"},{name:"withdraw_authority",type:"pubkey"},{name:"enable_migrate",type:"bool"},{name:"pool_migration_fee",type:"u64"},{name:"creator_fee_basis_points",type:"u64"},{name:"fee_recipients",type:{array:["pubkey",8]}},{name:"timestamp",type:"i64"},{name:"set_creator_authority",type:"pubkey"},{name:"admin_set_creator_authority",type:"pubkey"}]}},{name:"SyncUserVolumeAccumulatorEvent",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"total_claimed_tokens_before",type:"u64"},{name:"total_claimed_tokens_after",type:"u64"},{name:"timestamp",type:"i64"}]}},{name:"TradeEvent",docs:['ix_name: "buy" | "sell" | "buy_exact_sol_in"'],type:{kind:"struct",fields:[{name:"mint",type:"pubkey"},{name:"sol_amount",type:"u64"},{name:"token_amount",type:"u64"},{name:"is_buy",type:"bool"},{name:"user",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"virtual_sol_reserves",type:"u64"},{name:"virtual_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"fee_recipient",type:"pubkey"},{name:"fee_basis_points",type:"u64"},{name:"fee",type:"u64"},{name:"creator",type:"pubkey"},{name:"creator_fee_basis_points",type:"u64"},{name:"creator_fee",type:"u64"},{name:"track_volume",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"ix_name",type:"string"},{name:"mayhem_mode",type:"bool"}]}},{name:"UpdateGlobalAuthorityEvent",type:{kind:"struct",fields:[{name:"global",type:"pubkey"},{name:"authority",type:"pubkey"},{name:"new_authority",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"UpdateMayhemVirtualParamsEvent",type:{kind:"struct",fields:[{name:"timestamp",type:"i64"},{name:"mint",type:"pubkey"},{name:"virtual_token_reserves",type:"u64"},{name:"virtual_sol_reserves",type:"u64"},{name:"new_virtual_token_reserves",type:"u64"},{name:"new_virtual_sol_reserves",type:"u64"},{name:"real_token_reserves",type:"u64"},{name:"real_sol_reserves",type:"u64"}]}},{name:"UserVolumeAccumulator",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"needs_claim",type:"bool"},{name:"total_unclaimed_tokens",type:"u64"},{name:"total_claimed_tokens",type:"u64"},{name:"current_sol_volume",type:"u64"},{name:"last_update_timestamp",type:"i64"},{name:"has_total_claimed_tokens",type:"bool"}]}}]},eB=new d.default(1e15);function eW({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:i,isNewBondingCurve:a}){let{virtualSolReserves:o,virtualTokenReserves:s,isMayhemMode:l}=n,{protocolFeeBps:u,creatorFeeBps:h}=eq({global:e,feeConfig:t,mintSupply:l?r:eB,virtualSolReserves:o,virtualTokenReserves:s});return ez(i,u).add(a||!c.PublicKey.default.equals(n.creator)?ez(i,h):new d.default(0))}function eq({global:e,feeConfig:t,mintSupply:r,virtualSolReserves:n,virtualTokenReserves:i}){if(null!=t){let e=function({mintSupply:e,virtualSolReserves:t,virtualTokenReserves:r}){if(r.isZero())throw Error("Division by zero: virtual token reserves cannot be zero");return t.mul(e).div(r)}({mintSupply:r,virtualSolReserves:n,virtualTokenReserves:i});return function({feeTiers:e,marketCap:t}){let r=e[0];if(t.lt(r.marketCapLamportsThreshold))return r.fees;for(let r of e.slice().reverse())if(t.gte(r.marketCapLamportsThreshold))return r.fees;return r.fees}({feeTiers:t.feeTiers,marketCap:e})}return{protocolFeeBps:e.feeBasisPoints,creatorFeeBps:e.creatorFeeBasisPoints}}function ez(e,t){var r,n;return r=e.mul(t),n=new d.default(1e4),r.add(n.subn(1)).div(n)}function eV(e){return{virtualTokenReserves:e.initialVirtualTokenReserves,virtualSolReserves:e.initialVirtualSolReserves,realTokenReserves:e.initialRealTokenReserves,realSolReserves:new d.default(0),tokenTotalSupply:e.tokenTotalSupply,complete:!1,creator:c.PublicKey.default,isMayhemMode:e.mayhemModeEnabled}}function eH({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:i}){if(i.eq(new d.default(0)))return new d.default(0);let a=!1;if((null===n||null===r)&&(n=eV(e),r=e.tokenTotalSupply,a=!0),n.virtualTokenReserves.eq(new d.default(0)))return new d.default(0);let{virtualSolReserves:o,virtualTokenReserves:s}=n,{protocolFeeBps:l,creatorFeeBps:u}=eq({global:e,feeConfig:t,mintSupply:r,virtualSolReserves:o,virtualTokenReserves:s}),h=l.add(a||!c.PublicKey.default.equals(n.creator)?u:new d.default(0)),p=function({inputAmount:e,virtualTokenReserves:t,virtualSolReserves:r}){return e.mul(t).div(r.add(e))}({inputAmount:i.subn(1).muln(1e4).div(h.addn(1e4)),virtualTokenReserves:n.virtualTokenReserves,virtualSolReserves:n.virtualSolReserves});return d.default.min(p,n.realTokenReserves)}function eG({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:i}){if(i.eq(new d.default(0)))return new d.default(0);let a=!1;if((null===n||null===r)&&(n=eV(e),r=e.tokenTotalSupply,a=!0),n.virtualTokenReserves.eq(new d.default(0)))return new d.default(0);let o=function({minAmount:e,virtualTokenReserves:t,virtualSolReserves:r}){return e.mul(r).div(t.sub(e)).add(new d.default(1))}({minAmount:d.default.min(i,n.realTokenReserves),virtualTokenReserves:n.virtualTokenReserves,virtualSolReserves:n.virtualSolReserves});return o.add(eW({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:o,isNewBondingCurve:a}))}function eK({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:i}){if(i.eq(new d.default(0))||n.virtualTokenReserves.eq(new d.default(0)))return new d.default(0);let a=function({inputAmount:e,virtualTokenReserves:t,virtualSolReserves:r}){return e.mul(r).div(t.add(e))}({inputAmount:i,virtualTokenReserves:n.virtualTokenReserves,virtualSolReserves:n.virtualSolReserves});return a.sub(eW({global:e,feeConfig:t,mintSupply:r,bondingCurve:n,amount:a,isNewBondingCurve:!1}))}function eJ(){let e=Math.floor(Math.random()*eY.length);return new c.PublicKey(eY[e])}var eY=["62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV","7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ","7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX","9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz","AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY","CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM","FWsW1xNtWscwNmKv6wVsU1iTzRN6wmmk3MjxRP5tT7hz","G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP"],eZ=eX(null),eQ=class{constructor(e){this.connection=e,this.pumpProgram=eX(e),this.offlinePumpProgram=eZ,this.pumpAmmSdk=new eT(e),this.pumpAmmAdminSdk=new ev(e)}async fetchGlobal(){return await this.pumpProgram.account.global.fetch(e6)}async fetchFeeConfig(){return await this.pumpProgram.account.feeConfig.fetch(e8)}async fetchBondingCurve(e){return await this.pumpProgram.account.bondingCurve.fetch(e7(e))}async fetchBuyState(e,t,r=b){let[n,i]=await this.connection.getMultipleAccountsInfo([e7(e),j(e,t,!0,r)]);if(!n)throw Error(`Bonding curve account not found for mint: ${e.toBase58()}`);let a=e3.decodeBondingCurve(n);return{bondingCurveAccountInfo:n,bondingCurve:a,associatedUserAccountInfo:i}}async fetchSellState(e,t,r=b){let[n,i]=await this.connection.getMultipleAccountsInfo([e7(e),j(e,t,!0,r)]);if(!n)throw Error(`Bonding curve account not found for mint: ${e.toBase58()}`);if(!i)throw Error(`Associated token account not found for mint: ${e.toBase58()} and user: ${t.toBase58()}`);let a=e3.decodeBondingCurve(n);return{bondingCurveAccountInfo:n,bondingCurve:a}}async fetchGlobalVolumeAccumulator(){return await this.pumpProgram.account.globalVolumeAccumulator.fetch(e9)}async fetchUserVolumeAccumulator(e){return await this.pumpProgram.account.userVolumeAccumulator.fetchNullable(tn(e))}async fetchUserVolumeAccumulatorTotalStats(e){let t=await this.fetchUserVolumeAccumulator(e)??{totalUnclaimedTokens:new d.default(0),totalClaimedTokens:new d.default(0),currentSolVolume:new d.default(0)},r=await this.pumpAmmSdk.fetchUserVolumeAccumulator(e)??{totalUnclaimedTokens:new d.default(0),totalClaimedTokens:new d.default(0),currentSolVolume:new d.default(0)};return{totalUnclaimedTokens:t.totalUnclaimedTokens.add(r.totalUnclaimedTokens),totalClaimedTokens:t.totalClaimedTokens.add(r.totalClaimedTokens),currentSolVolume:t.currentSolVolume.add(r.currentSolVolume)}}async collectCoinCreatorFeeInstructions(e){let t=ep(e),r=ef(t,k,b),n=j(k,e,!0,b),[i,a]=await this.connection.getMultipleAccountsInfo([r,n]);return[await this.offlinePumpProgram.methods.collectCreatorFee().accountsPartial({creator:e}).instruction(),...await eS.collectCoinCreatorFee({coinCreator:e,quoteMint:k,quoteTokenProgram:b,coinCreatorVaultAuthority:t,coinCreatorVaultAta:r,coinCreatorTokenAccount:n,coinCreatorVaultAtaAccountInfo:i,coinCreatorTokenAccountInfo:a})]}async adminSetCoinCreatorInstructions(e,t){let r=await this.fetchGlobal();return[await this.offlinePumpProgram.methods.adminSetCreator(e).accountsPartial({adminSetCreatorAuthority:r.adminSetCreatorAuthority,mint:t}).instruction(),await this.pumpAmmAdminSdk.adminSetCoinCreator(t,e)]}async getCreatorVaultBalance(e){let t=te(e),r=await this.connection.getAccountInfo(t);if(null===r)return new d.default(0);let n=await this.connection.getMinimumBalanceForRentExemption(r.data.length);return new d.default(r.lamports<n?0:r.lamports-n)}async getCreatorVaultBalanceBothPrograms(e){let t=await this.getCreatorVaultBalance(e),r=await this.pumpAmmSdk.getCoinCreatorVaultBalance(e);return t.add(r)}async adminUpdateTokenIncentives(e,t,r,n,i=new d.default(86400),a=e2,o=x){let{authority:s}=await this.fetchGlobal();return await this.offlinePumpProgram.methods.adminUpdateTokenIncentives(e,t,i,r,n).accountsPartial({authority:s,mint:a,tokenProgram:o}).instruction()}async adminUpdateTokenIncentivesBothPrograms(e,t,r,n,i=new d.default(86400),a=e2,o=x){return[await this.adminUpdateTokenIncentives(e,t,r,n,i,a,o),await this.pumpAmmAdminSdk.adminUpdateTokenIncentives(e,t,r,n,i,a,o)]}async claimTokenIncentives(e,t){let{mint:r}=await this.fetchGlobalVolumeAccumulator();if(r.equals(c.PublicKey.default))return[];let[n,i]=await this.connection.getMultipleAccountsInfo([r,tn(e)]);return n&&i?[await this.offlinePumpProgram.methods.claimTokenIncentives().accountsPartial({user:e,payer:t,mint:r,tokenProgram:n.owner}).instruction()]:[]}async claimTokenIncentivesBothPrograms(e,t){return[...await this.claimTokenIncentives(e,t),...await this.pumpAmmSdk.claimTokenIncentives(e,t)]}async getTotalUnclaimedTokens(e){let[t,r]=await this.connection.getMultipleAccountsInfo([e9,tn(e)]);return t&&r?function(e,t,r=Date.now()/1e3){let{startTime:n,endTime:i,secondsInADay:a,totalTokenSupply:o,solVolumes:s}=e,{totalUnclaimedTokens:l,currentSolVolume:c,lastUpdateTimestamp:u}=t;if(n.eqn(0)||i.eqn(0)||a.eqn(0))return l;let h=new d.default(r);if(h.lt(n))return l;let p=h.sub(n).div(a).toNumber();if(u.lt(n))return l;let f=u.sub(n).div(a).toNumber();if(i.lt(n))return l;let m=i.sub(n).div(a).toNumber();if(p>f&&f<=m){let e=o[f],t=s[f];return t.eqn(0)?l:l.add(c.mul(e).div(t))}return l}(e3.decodeGlobalVolumeAccumulator(t),e3.decodeUserVolumeAccumulator(r)):new d.default(0)}async getTotalUnclaimedTokensBothPrograms(e){return(await this.getTotalUnclaimedTokens(e)).add(await this.pumpAmmSdk.getTotalUnclaimedTokens(e))}async getCurrentDayTokens(e){let[t,r]=await this.connection.getMultipleAccountsInfo([e9,tn(e)]);return t&&r?function(e,t,r=Date.now()/1e3){let{startTime:n,endTime:i,secondsInADay:a,totalTokenSupply:o,solVolumes:s}=e,{currentSolVolume:l,lastUpdateTimestamp:c}=t;if(n.eqn(0)||i.eqn(0)||a.eqn(0))return new d.default(0);let u=new d.default(r);if(u.lt(n)||u.gt(i))return new d.default(0);let h=u.sub(n).div(a).toNumber();if(c.lt(n))return new d.default(0);let p=c.sub(n).div(a).toNumber();if(i.lt(n)||h!==p)return new d.default(0);let f=o[h],m=s[h];return m.eqn(0)?new d.default(0):l.mul(f).div(m)}(e3.decodeGlobalVolumeAccumulator(t),e3.decodeUserVolumeAccumulator(r)):new d.default(0)}async getCurrentDayTokensBothPrograms(e){return(await this.getCurrentDayTokens(e)).add(await this.pumpAmmSdk.getCurrentDayTokens(e))}async syncUserVolumeAccumulatorBothPrograms(e){return[await e3.syncUserVolumeAccumulator(e),await eS.syncUserVolumeAccumulator(e)]}};function eX(e){return new N.Program(eD,new N.AnchorProvider(e,null,{}))}var e0=new c.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P");new c.PublicKey("pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA");var e1=new c.PublicKey("MAyhSmzXzV1pTf7LsNkrNwkWKTo4ougAJ1PPg47MD4e");new c.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ");var e2=new c.PublicKey("pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn"),e3=new class{constructor(){this.offlinePumpProgram=eZ}decodeGlobal(e){return this.offlinePumpProgram.coder.accounts.decode("global",e.data)}decodeFeeConfig(e){return this.offlinePumpProgram.coder.accounts.decode("feeConfig",e.data)}decodeBondingCurve(e){return this.offlinePumpProgram.coder.accounts.decode("bondingCurve",e.data)}decodeBondingCurveNullable(e){try{let t=e.data;if(t.length<82){let r=s.Buffer.alloc(82);t.copy(r),e={...e,data:r}}return this.decodeBondingCurve(e)}catch(e){return console.warn("Failed to decode bonding curve",e),null}}decodeGlobalVolumeAccumulator(e){return this.offlinePumpProgram.coder.accounts.decode("globalVolumeAccumulator",e.data)}decodeUserVolumeAccumulator(e){return this.offlinePumpProgram.coder.accounts.decode("userVolumeAccumulator",e.data)}decodeUserVolumeAccumulatorNullable(e){try{return this.decodeUserVolumeAccumulator(e)}catch(e){return console.warn("Failed to decode user volume accumulator",e),null}}async createInstruction({mint:e,name:t,symbol:r,uri:n,creator:i,user:a}){return await this.offlinePumpProgram.methods.create(t,r,n,i).accountsPartial({mint:e,user:a,tokenProgram:b}).instruction()}async createV2Instruction({mint:e,name:t,symbol:r,uri:n,creator:i,user:a,mayhemMode:o}){return await this.offlinePumpProgram.methods.createV2(t,r,n,i,o).accountsPartial({mint:e,user:a,tokenProgram:x,mayhemProgramId:e1,globalParams:ti(),solVault:to(),mayhemState:ta(e),mayhemTokenVault:ts(e)}).instruction()}async buyInstructions({global:e,bondingCurveAccountInfo:t,bondingCurve:r,associatedUserAccountInfo:n,mint:i,user:a,amount:o,solAmount:s,slippage:l,tokenProgram:c=b}){let d=[];t.data.length<151&&d.push(await this.extendAccountInstruction({account:e7(i),user:a}));let u=j(i,a,!0,c);return n||d.push(U(a,u,a,i,c)),d.push(await this.buyInstruction({global:e,mint:i,creator:r.creator,user:a,associatedUser:u,amount:o,solAmount:s,slippage:l,tokenProgram:c,mayhemMode:r.isMayhemMode})),d}async createV2AndBuyInstructions({global:e,mint:t,name:r,symbol:n,uri:i,creator:a,user:o,amount:s,solAmount:l,mayhemMode:c}){let d=j(t,o,!0,x);return[await this.createV2Instruction({mint:t,name:r,symbol:n,uri:i,creator:a,user:o,mayhemMode:c}),await this.extendAccountInstruction({account:e7(t),user:o}),U(o,d,o,t,x),await this.buyInstruction({global:e,mint:t,creator:a,user:o,associatedUser:d,amount:s,solAmount:l,slippage:1,tokenProgram:x,mayhemMode:c})]}async createAndBuyInstructions({global:e,mint:t,name:r,symbol:n,uri:i,creator:a,user:o,amount:s,solAmount:l}){let c=j(t,o,!0);return[await this.createInstruction({mint:t,name:r,symbol:n,uri:i,creator:a,user:o}),await this.extendAccountInstruction({account:e7(t),user:o}),U(o,c,o,t),await this.buyInstruction({global:e,mint:t,creator:a,user:o,associatedUser:c,amount:s,solAmount:l,slippage:1,tokenProgram:b,mayhemMode:!1})]}async buyInstruction({global:e,mint:t,creator:r,user:n,associatedUser:i,amount:a,solAmount:o,slippage:s,tokenProgram:l=b,mayhemMode:c=!1}){return await this.getBuyInstructionInternal({user:n,associatedUser:i,mint:t,creator:r,feeRecipient:e5(e,c),amount:a,solAmount:o.add(o.mul(new d.default(Math.floor(10*s))).div(new d.default(1e3))),tokenProgram:l})}async sellInstructions({global:e,bondingCurveAccountInfo:t,bondingCurve:r,mint:n,user:i,amount:a,solAmount:o,slippage:s,tokenProgram:l=b,mayhemMode:c=!1}){let u=[];return t.data.length<151&&u.push(await this.extendAccountInstruction({account:e7(n),user:i})),u.push(await this.getSellInstructionInternal({user:i,mint:n,creator:r.creator,feeRecipient:e5(e,c),amount:a,solAmount:o.sub(o.mul(new d.default(Math.floor(10*s))).div(new d.default(1e3))),tokenProgram:l})),u}async extendAccountInstruction({account:e,user:t}){return this.offlinePumpProgram.methods.extendAccount().accountsPartial({account:e,user:t}).instruction()}async migrateInstruction({withdrawAuthority:e,mint:t,user:r,tokenProgram:n=b}){let i=e7(t),a=j(t,i,!0,n),o=tt(t),s=j(t,o,!0,n),l=tr(t),c=j(t,l,!0,n);return this.offlinePumpProgram.methods.migrate().accountsPartial({mint:t,user:r,withdrawAuthority:e,associatedBondingCurve:a,poolAuthorityMintAccount:s,poolBaseTokenAccount:c}).instruction()}async syncUserVolumeAccumulator(e){return await this.offlinePumpProgram.methods.syncUserVolumeAccumulator().accountsPartial({user:e}).instruction()}async syncUserVolumeAccumulatorBothPrograms(e){return[await this.syncUserVolumeAccumulator(e),await eS.syncUserVolumeAccumulator(e)]}async setCreator({mint:e,setCreatorAuthority:t,creator:r}){return await this.offlinePumpProgram.methods.setCreator(r).accountsPartial({mint:e,setCreatorAuthority:t}).instruction()}async initUserVolumeAccumulator({payer:e,user:t}){return await this.offlinePumpProgram.methods.initUserVolumeAccumulator().accountsPartial({payer:e,user:t}).instruction()}async closeUserVolumeAccumulator(e){return await this.offlinePumpProgram.methods.closeUserVolumeAccumulator().accountsPartial({user:e}).instruction()}async getBuyInstructionRaw({user:e,mint:t,creator:r,amount:n,solAmount:i,feeRecipient:a=eJ(),tokenProgram:o=b}){return await this.getBuyInstructionInternal({user:e,associatedUser:j(t,e,!0,o),mint:t,creator:r,feeRecipient:a,amount:n,solAmount:i})}async getBuyInstructionInternal({user:e,associatedUser:t,mint:r,creator:n,feeRecipient:i,amount:a,solAmount:o,tokenProgram:s=b}){return await this.offlinePumpProgram.methods.buy(a,o,{0:!0}).accountsPartial({feeRecipient:i,mint:r,associatedUser:t,user:e,creatorVault:te(n),tokenProgram:s}).instruction()}async getSellInstructionRaw({user:e,mint:t,creator:r,amount:n,solAmount:i,feeRecipient:a=eJ(),tokenProgram:o=b}){return await this.getSellInstructionInternal({user:e,mint:t,creator:r,feeRecipient:a,amount:n,solAmount:i,tokenProgram:o})}async getSellInstructionInternal({user:e,mint:t,creator:r,feeRecipient:n,amount:i,solAmount:a,tokenProgram:o}){return await this.offlinePumpProgram.methods.sell(i,a).accountsPartial({feeRecipient:n,mint:t,associatedUser:j(t,e,!0,o),user:e,creatorVault:te(r),tokenProgram:o}).instruction()}};function e5(e,t){if(t){let t=[e.reservedFeeRecipient,...e.reservedFeeRecipients];return t[Math.floor(Math.random()*t.length)]}{let t=[e.feeRecipient,...e.feeRecipients];return t[Math.floor(Math.random()*t.length)]}}var e4=(o=null!=(i=eF())?eP(e$(i)):{},((e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of eO(t))eR.call(e,i)||i===r||ej(e,i,{get:()=>t[i],enumerable:!(n=eN(t,i))||n.enumerable});return e})(!a&&i&&i.__esModule?o:ej(o,"default",{value:i,enumerable:!0}),i)),e6=er([e4.Buffer.from("global")]),e8=ei([e4.Buffer.from("fee_config"),e0.toBuffer()]),e9=er([e4.Buffer.from("global_volume_accumulator")]);function e7(e){return er([e4.Buffer.from("bonding-curve"),new c.PublicKey(e).toBuffer()])}function te(e){return er([e4.Buffer.from("creator-vault"),e.toBuffer()])}function tt(e){return er([e4.Buffer.from("pool-authority"),e.toBuffer()])}function tr(e){return ec(0,tt(e),e,k)}function tn(e){return er([e4.Buffer.from("user_volume_accumulator"),e.toBuffer()])}var ti=()=>c.PublicKey.findProgramAddressSync([e4.Buffer.from("global-params")],e1)[0],ta=e=>c.PublicKey.findProgramAddressSync([e4.Buffer.from("mayhem-state"),e.toBuffer()],e1)[0],to=()=>c.PublicKey.findProgramAddressSync([e4.Buffer.from("sol-vault")],e1)[0],ts=e=>j(e,to(),!0,x);e.s(["GLOBAL_PDA",()=>e6,"OnlinePumpSdk",()=>eQ,"PUMP_FEE_CONFIG_PDA",()=>e8,"PUMP_PROGRAM_ID",()=>e0,"PUMP_SDK",()=>e3,"bondingCurvePda",()=>e7,"canonicalPumpPoolPda",()=>tr,"creatorVaultPda",()=>te,"getBuySolAmountFromTokenAmount",()=>eG,"getBuyTokenAmountFromSolAmount",()=>eH,"getSellSolAmountFromTokenAmount",()=>eK,"newBondingCurve",()=>eV,"pumpIdl",()=>eD,"pumpPoolAuthorityPda",()=>tt],913330);var tl,tc,td,tu,th,tp,tf,tm,tg=e.i(172e3),ty=e.i(942765),tw="0123456789abcdef",tv="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",tb="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",tx={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},t_=!0,tk="[DecimalError] ",tE=tk+"Invalid argument: ",tC=tk+"Precision limit exceeded",tA=tk+"crypto unavailable",tI="[object Decimal]",tS=Math.floor,tT=Math.pow,tP=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,tj=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,tN=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,tO=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t$=tv.length-1,tR=tb.length-1,tM={toStringTag:tI};function tU(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=tK(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=tK(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function tL(e,t,r){if(e!==~~e||e<t||e>r)throw Error(tE+e)}function tF(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=tT(10,7-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==tT(10,t-2)-1||(s==a/2||0==s)&&(e[i+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==tT(10,t-3)-1,o}function tD(e,t,r){for(var n,i,a=[0],o=0,s=e.length;o<s;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=tw.indexOf(e.charAt(o++)),n=0;n<a.length;n++)a[n]>r-1&&(void 0===a[n+1]&&(a[n+1]=0),a[n+1]+=a[n]/r|0,a[n]%=r)}return a.reverse()}tM.absoluteValue=tM.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),tW(e)},tM.ceil=function(){return tW(new this.constructor(this),this.e+1,2)},tM.clampedTo=tM.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(tE+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},tM.comparedTo=tM.cmp=function(e){var t,r,n,i,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,l=e.s;if(!a||!o)return s&&l?s!==l?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-l:0;if(s!==l)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},tM.cosine=tM.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/t3(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=t2(e,1,t.times(i),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,t5(n,r)),n.precision=e,n.rounding=t,tW(2==tm||3==tm?r.neg():r,e,t,!0)):new n(1):new n(NaN)},tM.cubeRoot=tM.cbrt=function(){var e,t,r,n,i,a,o,s,l,c,d=this.constructor;if(!this.isFinite()||this.isZero())return new d(this);for(t_=!1,(a=this.s*tT(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new d(a.toString()):(r=tU(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=tT(r,1/3),e=tS((e+1)/3)-(e%3==(e<0?-1:2)),(n=new d(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=d.precision)+3;;)if(n=tB((c=(l=(s=n).times(s).times(s)).plus(this)).plus(this).times(s),c.plus(l),o+2,1),tU(s.d).slice(0,o)===(r=tU(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(tW(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(tW(s,e+1,0),s.times(s).times(s).eq(this))){n=s;break}o+=4,i=1}return t_=!0,tW(n,e,d.rounding,t)},tM.decimalPlaces=tM.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-tS(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},tM.dividedBy=tM.div=function(e){return tB(this,new this.constructor(e))},tM.dividedToIntegerBy=tM.divToInt=function(e){var t=this.constructor;return tW(tB(this,new t(e),0,1,1),t.precision,t.rounding)},tM.equals=tM.eq=function(e){return 0===this.cmp(e)},tM.floor=function(){return tW(new this.constructor(this),this.e+1,3)},tM.greaterThan=tM.gt=function(e){return this.cmp(e)>0},tM.greaterThanOrEqualTo=tM.gte=function(e){var t=this.cmp(e);return 1==t||0===t},tM.hyperbolicCosine=tM.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/t3(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=t2(o,1,a.times(t),new o(1),!0);for(var l,c=e,d=new o(8);c--;)l=a.times(a),a=s.minus(l.times(d.minus(l.times(d))));return tW(a,o.precision=r,o.rounding=n,!0)},tM.hyperbolicSine=tM.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=t2(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=t2(a,2,i=i.times(1/t3(5,e)),i,!0);for(var o,s=new a(5),l=new a(16),c=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(c))))}return a.precision=t,a.rounding=r,tW(i,t,r,!0)},tM.hyperbolicTangent=tM.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,tB(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},tM.inverseCosine=tM.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?tH(t,n,i):new t(0):new t(NaN):e.isZero()?tH(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},tM.inverseHyperbolicCosine=tM.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,t_=!1,r=r.times(r).minus(1).sqrt().plus(r),t_=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},tM.inverseHyperbolicSine=tM.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,t_=!1,r=r.times(r).plus(1).sqrt().plus(r),t_=!0,n.precision=e,n.rounding=t,r.ln())},tM.inverseHyperbolicTangent=tM.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?tW(new a(i),e,t,!0):(a.precision=r=n-i.e,i=tB(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5)):new a(NaN)},tM.inverseSine=tM.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t)?0===t?((e=tH(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2))},tM.inverseTangent=tM.atan=function(){var e,t,r,n,i,a,o,s,l,c=this,d=c.constructor,u=d.precision,h=d.rounding;if(c.isFinite()){if(c.isZero())return new d(c);else if(c.abs().eq(1)&&u+4<=tR)return(o=tH(d,u+4,h).times(.25)).s=c.s,o}else{if(!c.s)return new d(NaN);if(u+4<=tR)return(o=tH(d,u+4,h).times(.5)).s=c.s,o}for(d.precision=s=u+10,d.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(t_=!1,t=Math.ceil(s/7),n=1,l=c.times(c),o=new d(c),i=c;-1!==e;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),t_=!0,tW(o,d.precision=u,d.rounding=h,!0)},tM.isFinite=function(){return!!this.d},tM.isInteger=tM.isInt=function(){return!!this.d&&tS(this.e/7)>this.d.length-2},tM.isNaN=function(){return!this.s},tM.isNegative=tM.isNeg=function(){return this.s<0},tM.isPositive=tM.isPos=function(){return this.s>0},tM.isZero=function(){return!!this.d&&0===this.d[0]},tM.lessThan=tM.lt=function(e){return 0>this.cmp(e)},tM.lessThanOrEqualTo=tM.lte=function(e){return 1>this.cmp(e)},tM.logarithm=tM.log=function(e){var t,r,n,i,a,o,s,l=this.constructor,c=l.precision,d=l.rounding;if(null==e)e=new l(10),t=!0;else{if(r=(e=new l(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new l(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(n=r[0];n%10==0;)n/=10;i=1!==n}if(t_=!1,tF((s=tB(a=tX(this,o=c+5),t?tV(l,o+10):tX(e,o),o,1)).d,n=c,d))do if(o+=10,s=tB(a=tX(this,o),t?tV(l,o+10):tX(e,o),o,1),!i){+tU(s.d).slice(n+1,n+15)+1==1e14&&(s=tW(s,c+1,0));break}while(tF(s.d,n+=10,d))return t_=!0,tW(s,c,d)},tM.minus=tM.sub=function(e){var t,r,n,i,a,o,s,l,c,d,u,h,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(c=this.d,h=e.d,s=p.precision,l=p.rounding,!c[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!c[0])return new p(3===l?-0:0);e=new p(this)}return t_?tW(e,s,l):e}if(r=tS(e.e/7),d=tS(this.e/7),c=c.slice(),a=d-r){for((u=a<0)?(t=c,a=-a,o=h.length):(t=h,r=d,o=c.length),a>(n=Math.max(Math.ceil(s/7),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((u=(n=c.length)<(o=h.length))&&(o=n),n=0;n<o;n++)if(c[n]!=h[n]){u=c[n]<h[n];break}a=0}for(u&&(t=c,c=h,h=t,e.s=-e.s),o=c.length,n=h.length-o;n>0;--n)c[o++]=0;for(n=h.length;n>a;){if(c[--n]<h[n]){for(i=n;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[n]+=1e7}c[n]-=h[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=tz(c,r),t_?tW(e,s,l):e):new p(3===l?-0:0)},tM.modulo=tM.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(t_=!1,9==r.modulo?(t=tB(this,e.abs(),0,3,1),t.s*=e.s):t=tB(this,e,0,r.modulo,1),t=t.times(e),t_=!0,this.minus(t)):tW(new r(this),r.precision,r.rounding):new r(NaN)},tM.naturalExponential=tM.exp=function(){return tQ(this)},tM.naturalLogarithm=tM.ln=function(){return tX(this)},tM.negated=tM.neg=function(){var e=new this.constructor(this);return e.s=-e.s,tW(e)},tM.plus=tM.add=function(e){var t,r,n,i,a,o,s,l,c,d,u=this.constructor;if(e=new u(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new u(e.d||this.s===e.s?this:NaN)):e=new u(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(c=this.d,d=e.d,s=u.precision,l=u.rounding,!c[0]||!d[0])return d[0]||(e=new u(this)),t_?tW(e,s,l):e;if(a=tS(this.e/7),n=tS(e.e/7),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=d.length):(r=d,n=a,o=c.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=c.length)-(i=d.length)<0&&(i=o,r=d,d=c,c=r),t=0;i;)t=(c[--i]=c[i]+d[i]+t)/1e7|0,c[i]%=1e7;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=tz(c,n),t_?tW(e,s,l):e},tM.precision=tM.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(tE+e);return this.d?(t=tG(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},tM.round=function(){var e=this.constructor;return tW(new e(this),this.e+1,e.rounding)},tM.sine=tM.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:t2(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t2(e,2,t=t.times(1/t3(5,r)),t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(n,t5(n,r)),n.precision=e,n.rounding=t,tW(tm>2?r.neg():r,e,t,!0)):new n(NaN)},tM.squareRoot=tM.sqrt=function(){var e,t,r,n,i,a,o=this.d,s=this.e,l=this.s,c=this.constructor;if(1!==l||!o||!o[0])return new c(!l||l<0&&(!o||o[0])?NaN:o?this:1/0);for(t_=!1,0==(l=Math.sqrt(+this))||l==1/0?(((t=tU(o)).length+s)%2==0&&(t+="0"),l=Math.sqrt(t),s=tS((s+1)/2)-(s<0||s%2),n=new c(t=l==1/0?"5e"+s:(t=l.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new c(l.toString()),r=(s=c.precision)+3;;)if(n=(a=n).plus(tB(this,a,r+2,1)).times(.5),tU(a.d).slice(0,r)===(t=tU(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(tW(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(tW(a,s+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return t_=!0,tW(n,s,c.rounding,e)},tM.tangent=tM.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=tB(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,tW(2==tm||4==tm?r.neg():r,e,t,!0)):new n(NaN)},tM.times=tM.mul=function(e){var t,r,n,i,a,o,s,l,c,d=this.constructor,u=this.d,h=(e=new d(e)).d;if(e.s*=this.s,!u||!u[0]||!h||!h[0])return new d(!e.s||u&&!u[0]&&!h||h&&!h[0]&&!u?NaN:!u||!h?e.s/0:0*e.s);for(r=tS(this.e/7)+tS(e.e/7),(l=u.length)<(c=h.length)&&(a=u,u=h,h=a,o=l,l=c,c=o),a=[],n=o=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+h[n]*u[i-n-1]+t,a[i--]=s%1e7|0,t=s/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=tz(a,r),t_?tW(e,d.precision,d.rounding):e},tM.toBinary=function(e,t){return t4(this,2,e,t)},tM.toDecimalPlaces=tM.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(tL(e,0,1e9),void 0===t?t=n.rounding:tL(t,0,8),tW(r,e+r.e+1,t))},tM.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=tq(n,!0):(tL(e,0,1e9),void 0===t?t=i.rounding:tL(t,0,8),r=tq(n=tW(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},tM.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=tq(this):(tL(e,0,1e9),void 0===t?t=i.rounding:tL(t,0,8),r=tq(n=tW(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},tM.toFraction=function(e){var t,r,n,i,a,o,s,l,c,d,u,h,p=this.d,f=this.constructor;if(!p)return new f(this);if(c=r=new f(1),n=l=new f(0),o=(a=(t=new f(n)).e=tG(p)-this.e-1)%7,t.d[0]=tT(10,o<0?7+o:o),null==e)e=a>0?t:c;else{if(!(s=new f(e)).isInt()||s.lt(c))throw Error(tE+s);e=s.gt(t)?a>0?t:c:s}for(t_=!1,s=new f(tU(p)),d=f.precision,f.precision=a=7*p.length*2;u=tB(s,t,0,1,1),1!=(i=r.plus(u.times(n))).cmp(e);)r=n,n=i,i=c,c=l.plus(u.times(i)),l=i,i=t,t=s.minus(u.times(i)),s=i;return i=tB(e.minus(r),n,0,1,1),l=l.plus(i.times(c)),r=r.plus(i.times(n)),l.s=c.s=this.s,h=1>tB(c,n,a,1).minus(this).abs().cmp(tB(l,r,a,1).minus(this).abs())?[c,n]:[l,r],f.precision=d,t_=!0,h},tM.toHexadecimal=tM.toHex=function(e,t){return t4(this,16,e,t)},tM.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:tL(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(t_=!1,r=tB(r,e,0,t,1).times(e),t_=!0,tW(r)):(e.s=r.s,r=e),r},tM.toNumber=function(){return+this},tM.toOctal=function(e,t){return t4(this,8,e,t)},tM.toPower=tM.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(tT(+s,c));if((s=new l(s)).eq(1))return s;if(n=l.precision,a=l.rounding,e.eq(1))return tW(s,n,a);if((t=tS(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=0x1fffffffffffff)return i=tJ(l,s,r,n),e.s<0?new l(1).div(i):tW(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new l(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=tT(+s,c))&&isFinite(r)?new l(r+"").e:tS(c*(Math.log("0."+tU(s.d))/Math.LN10+s.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(t_=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=tQ(e.times(tX(s,n+r)),n)).d&&tF((i=tW(i,n+5,1)).d,n,a)&&(t=n+10,+tU((i=tW(tQ(e.times(tX(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=tW(i,n+1,0))),i.s=o,t_=!0,l.rounding=a,tW(i,n,a))},tM.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=tq(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(tL(e,1,1e9),void 0===t?t=i.rounding:tL(t,0,8),r=tq(n=tW(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},tM.toSignificantDigits=tM.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(tL(e,1,1e9),void 0===t?t=r.rounding:tL(t,0,8)),tW(new r(this),e,t)},tM.toString=function(){var e=this.constructor,t=tq(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},tM.truncated=tM.trunc=function(){return tW(new this.constructor(this),this.e+1,1)},tM.valueOf=tM.toJSON=function(){var e=this.constructor,t=tq(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var tB=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o,s,l){var c,d,u,h,p,f,m,g,y,w,v,b,x,_,k,E,C,A,I,S,T=n.constructor,P=n.s==i.s?1:-1,j=n.d,N=i.d;if(!j||!j[0]||!N||!N[0])return new T(!n.s||!i.s||(j?N&&j[0]==N[0]:!N)?NaN:j&&0==j[0]||!N?0*P:P/0);for(l?(p=1,d=n.e-i.e):(l=1e7,p=7,d=tS(n.e/p)-tS(i.e/p)),I=N.length,C=j.length,w=(y=new T(P)).d=[],u=0;N[u]==(j[u]||0);u++);if(N[u]>(j[u]||0)&&d--,null==a?(_=a=T.precision,o=T.rounding):_=s?a+(n.e-i.e)+1:a,_<0)w.push(1),f=!0;else{if(_=_/p+2|0,u=0,1==I){for(h=0,N=N[0],_++;(u<C||h)&&_--;u++)k=h*l+(j[u]||0),w[u]=k/N|0,h=k%N|0;f=h||u<C}else{for((h=l/(N[0]+1)|0)>1&&(N=e(N,h,l),j=e(j,h,l),I=N.length,C=j.length),E=I,b=(v=j.slice(0,I)).length;b<I;)v[b++]=0;(S=N.slice()).unshift(0),A=N[0],N[1]>=l/2&&++A;do h=0,(c=t(N,v,I,b))<0?(x=v[0],I!=b&&(x=x*l+(v[1]||0)),(h=x/A|0)>1?(h>=l&&(h=l-1),g=(m=e(N,h,l)).length,b=v.length,1==(c=t(m,v,g,b))&&(h--,r(m,I<g?S:N,g,l))):(0==h&&(c=h=1),m=N.slice()),(g=m.length)<b&&m.unshift(0),r(v,m,b,l),-1==c&&(b=v.length,(c=t(N,v,I,b))<1&&(h++,r(v,I<b?S:N,b,l))),b=v.length):0===c&&(h++,v=[0]),w[u++]=h,c&&v[0]?v[b++]=j[E]||0:(v=[j[E]],b=1);while((E++<C||void 0!==v[0])&&_--)f=void 0!==v[0]}w[0]||w.shift()}if(1==p)y.e=d,tf=f;else{for(u=1,h=w[0];h>=10;h/=10)u++;y.e=u+d*p-1,tW(y,s?a+y.e+1:a,o,f)}return y}}();function tW(e,t,r,n){var i,a,o,s,l,c,d,u,h,p=e.constructor;n:if(null!=t){if(!(u=e.d))return e;for(i=1,s=u[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,o=t,l=(d=u[h=0])/tT(10,i-o-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(s=u.length))if(n){for(;s++<=h;)u.push(0);d=l=0,i=1,a%=7,o=a-7+1}else break n;else{for(i=1,d=s=u[h];s>=10;s/=10)i++;a%=7,l=(o=a-7+i)<0?0:d/tT(10,i-o-1)%10|0}if(n=n||t<0||void 0!==u[h+1]||(o<0?d:d%tT(10,i-o-1)),c=r<4?(l||n)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(a>0?o>0?d/tT(10,i-o):0:u[h-1])%10&1||r==(e.s<0?8:7)),t<1||!u[0])return u.length=0,c?(t-=e.e+1,u[0]=tT(10,(7-t%7)%7),e.e=-t||0):u[0]=e.e=0,e;if(0==a?(u.length=h,s=1,h--):(u.length=h+1,s=tT(10,7-a),u[h]=o>0?(d/tT(10,i-o)%tT(10,o)|0)*s:0),c)for(;;)if(0==h){for(a=1,o=u[0];o>=10;o/=10)a++;for(o=u[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==u[0]&&(u[0]=1));break}else{if(u[h]+=s,1e7!=u[h])break;u[h--]=0,s=1}for(a=u.length;0===u[--a];)u.pop()}return t_&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function tq(e,t,r){if(!e.isFinite())return t0(e);var n,i=e.e,a=tU(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+tK(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+tK(-i-1)+a,r&&(n=r-o)>0&&(a+=tK(n))):i>=o?(a+=tK(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+tK(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=tK(n))),a}function tz(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function tV(e,t,r){if(t>t$)throw t_=!0,r&&(e.precision=r),Error(tC);return tW(new e(tv),t,1,!0)}function tH(e,t,r){if(t>tR)throw Error(tC);return tW(new e(tb),t,r,!0)}function tG(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function tK(e){for(var t="";e--;)t+="0";return t}function tJ(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/7+4);for(t_=!1;;){if(r%2&&t6((a=a.times(t)).d,o)&&(i=!0),0===(r=tS(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}t6((t=t.times(t)).d,o)}return t_=!0,a}function tY(e){return 1&e.d[e.d.length-1]}function tZ(e,t,r){for(var n,i,a=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function tQ(e,t){var r,n,i,a,o,s,l,c=0,d=0,u=0,h=e.constructor,p=h.rounding,f=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(t_=!1,l=f):l=t,s=new h(.03125);e.e>-2;)e=e.times(s),u+=5;for(l+=n=Math.log(tT(2,u))/Math.LN10*2+5|0,r=a=o=new h(1),h.precision=l;;){if(a=tW(a.times(e),l,1),r=r.times(++d),tU((s=o.plus(tB(a,r,l,1))).d).slice(0,l)===tU(o.d).slice(0,l)){for(i=u;i--;)o=tW(o.times(o),l,1);if(null!=t)return h.precision=f,o;if(!(c<3&&tF(o.d,l-n,p,c)))return tW(o,h.precision=f,p,t_=!0);h.precision=l+=10,r=a=s=new h(1),d=0,c++}o=s}}function tX(e,t){var r,n,i,a,o,s,l,c,d,u,h,p=1,f=e,m=f.d,g=f.constructor,y=g.rounding,w=g.precision;if(f.s<0||!m||!m[0]||!f.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=f.s?NaN:m?0:f);if(null==t?(t_=!1,d=w):d=t,g.precision=d+=10,n=(r=tU(m)).charAt(0),!(15e14>Math.abs(a=f.e)))return c=tV(g,d+2,w).times(a+""),f=tX(new g(n+"."+r.slice(1)),d-10).plus(c),g.precision=w,null==t?tW(f,w,y,t_=!0):f;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=tU((f=f.times(e)).d)).charAt(0),p++;for(a=f.e,n>1?(f=new g("0."+r),a++):f=new g(n+"."+r.slice(1)),u=f,l=o=f=tB(f.minus(1),f.plus(1),d,1),h=tW(f.times(f),d,1),i=3;;){if(o=tW(o.times(h),d,1),tU((c=l.plus(tB(o,new g(i),d,1))).d).slice(0,d)===tU(l.d).slice(0,d)){if(l=l.times(2),0!==a&&(l=l.plus(tV(g,d+2,w).times(a+""))),l=tB(l,new g(p),d,1),null!=t)return g.precision=w,l;if(!tF(l.d,d-10,y,s))return tW(l,g.precision=w,y,t_=!0);g.precision=d+=10,c=o=f=tB(u.minus(1),u.plus(1),d,1),h=tW(f.times(f),d,1),i=s=1}l=c,i+=2}}function t0(e){return String(e.s*e.s/0)}function t1(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),t_&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function t2(e,t,r,n,i){var a,o,s,l,c=e.precision,d=Math.ceil(c/7);for(t_=!1,l=r.times(r),s=new e(n);;){if(o=tB(s.times(l),new e(t++*t++),c,1),s=i?n.plus(o):n.minus(o),n=tB(o.times(l),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[d]){for(a=d;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return t_=!0,o.d.length=d+1,o}function t3(e,t){for(var r=e;--t;)r*=e;return r}function t5(e,t){var r,n=t.s<0,i=tH(e,e.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return tm=n?4:1,t;if((r=t.divToInt(i)).isZero())tm=n?3:2;else{if((t=t.minus(r.times(i))).lte(a))return tm=tY(r)?n?2:3:n?4:1,t;tm=tY(r)?n?1:4:n?3:2}return t.minus(i).abs()}function t4(e,t,r,n){var i,a,o,s,l,c,d,u,h,p=e.constructor,f=void 0!==r;if(f?(tL(r,1,1e9),void 0===n?n=p.rounding:tL(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(o=(d=tq(e)).indexOf("."),f?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,o>=0&&(d=d.replace(".",""),(h=new p(1)).e=d.length-o,h.d=tD(tq(h),10,i),h.e=h.d.length),a=l=(u=tD(d,10,i)).length;0==u[--l];)u.pop();if(u[0]){if(o<0?a--:((e=new p(e)).d=u,e.e=a,u=(e=tB(e,h,r,n,0,i)).d,a=e.e,c=tf),o=u[r],s=i/2,c=c||void 0!==u[r+1],c=n<4?(void 0!==o||c)&&(0===n||n===(e.s<0?3:2)):o>s||o===s&&(4===n||c||6===n&&1&u[r-1]||n===(e.s<0?8:7)),u.length=r,c)for(;++u[--r]>i-1;)u[r]=0,r||(++a,u.unshift(1));for(l=u.length;!u[l-1];--l);for(o=0,d="";o<l;o++)d+=tw.charAt(u[o]);if(f){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)d+="0";for(l=(u=tD(d,i,t)).length;!u[l-1];--l);for(o=1,d="1.";o<l;o++)d+=tw.charAt(u[o])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>l)for(a-=l;a--;)d+="0";else a<l&&(d=d.slice(0,a)+"."+d.slice(a))}else d=f?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=t0(e);return e.s<0?"-"+d:d}function t6(e,t){if(e.length>t)return e.length=t,!0}function t8(e){return new this(e).abs()}function t9(e){return new this(e).acos()}function t7(e){return new this(e).acosh()}function re(e,t){return new this(e).plus(t)}function rt(e){return new this(e).asin()}function rr(e){return new this(e).asinh()}function rn(e){return new this(e).atan()}function ri(e){return new this(e).atanh()}function ra(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?tH(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=tH(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(tB(e,t,a,1)),t=tH(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(tB(e,t,a,1)):(r=tH(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function ro(e){return new this(e).cbrt()}function rs(e){return tW(e=new this(e),e.e+1,2)}function rl(e,t,r){return new this(e).clamp(t,r)}function rc(e){if(!e||"object"!=typeof e)throw Error(tk+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=tx[r]),void 0!==(n=e[r]))if(tS(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(tE+r+": "+n);if(r="crypto",i&&(this[r]=tx[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(tA);else this[r]=!1;else throw Error(tE+r+": "+n);return this}function rd(e){return new this(e).cos()}function ru(e){return new this(e).cosh()}function rh(e,t){return new this(e).div(t)}function rp(e){return new this(e).exp()}function rf(e){return tW(e=new this(e),e.e+1,3)}function rm(){var e,t,r=new this(0);for(e=0,t_=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return t_=!0,new this(1/0);r=t}return t_=!0,r.sqrt()}function rg(e){return e instanceof rU||e&&e.toStringTag===tI||!1}function ry(e){return new this(e).ln()}function rw(e,t){return new this(e).log(t)}function rv(e){return new this(e).log(2)}function rb(e){return new this(e).log(10)}function rx(){return tZ(this,arguments,-1)}function r_(){return tZ(this,arguments,1)}function rk(e,t){return new this(e).mod(t)}function rE(e,t){return new this(e).mul(t)}function rC(e,t){return new this(e).pow(t)}function rA(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:tL(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(tA);else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=7,n&&e&&(i=tT(10,7-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return o.e=r,o.d=s,o}function rI(e){return tW(e=new this(e),e.e+1,this.rounding)}function rS(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function rT(e){return new this(e).sin()}function rP(e){return new this(e).sinh()}function rj(e){return new this(e).sqrt()}function rN(e,t){return new this(e).sub(t)}function rO(){var e=0,t=arguments,r=new this(t[0]);for(t_=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return t_=!0,tW(r,this.precision,this.rounding)}function r$(e){return new this(e).tan()}function rR(e){return new this(e).tanh()}function rM(e){return tW(e=new this(e),e.e+1,1)}tM[Symbol.for("nodejs.util.inspect.custom")]=tM.toString,tM[Symbol.toStringTag]="Decimal";var rU=tM.constructor=function e(t){var r,n,i;function a(e){var t,r,n;if(!(this instanceof a))return new a(e);if(this.constructor=a,rg(e)){this.s=e.s,t_?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(n=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;t_?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return t1(this,e.toString())}if("string"===n)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),tO.test(e)?t1(this,e):function(e,t){var r,n,i,a,o,s,l,c,d;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),tO.test(t))return t1(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(tj.test(t))r=16,t=t.toLowerCase();else if(tP.test(t))r=2;else if(tN.test(t))r=8;else throw Error(tE+t);for((a=t.search(/p/i))>0?(l=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,n=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,i=tJ(n,new n(r),a,2*a)),a=d=(c=tD(t,r,1e7)).length-1;0===c[a];--a)c.pop();return a<0?new n(0*e.s):(e.e=tz(c,d),e.d=c,t_=!1,o&&(e=tB(e,i,4*s)),l&&(e=e.times(54>Math.abs(l)?tT(2,l):rU.pow(2,l))),t_=!0,e)}(this,e);if("bigint"===n)return e<0?(e=-e,this.s=-1):this.s=1,t1(this,e.toString());throw Error(tE+e)}if(a.prototype=tM,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=rc,a.clone=e,a.isDecimal=rg,a.abs=t8,a.acos=t9,a.acosh=t7,a.add=re,a.asin=rt,a.asinh=rr,a.atan=rn,a.atanh=ri,a.atan2=ra,a.cbrt=ro,a.ceil=rs,a.clamp=rl,a.cos=rd,a.cosh=ru,a.div=rh,a.exp=rp,a.floor=rf,a.hypot=rm,a.ln=ry,a.log=rw,a.log10=rb,a.log2=rv,a.max=rx,a.min=r_,a.mod=rk,a.mul=rE,a.pow=rC,a.random=rA,a.round=rI,a.sign=rS,a.sin=rT,a.sinh=rP,a.sqrt=rj,a.sub=rN,a.sum=rO,a.tan=r$,a.tanh=rR,a.trunc=rM,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(tx);tv=new rU(tv),tb=new rU(tb),e.s(["Decimal",()=>rU,"default",0,rU],958083);var rL="Transaction failed due to high slippage - please increase max slippage",rF=e=>{if(e0.equals(e.program))switch(e.error.errorCode.number){case 6002:case 6003:e.message=rL;return;default:return}if(X.equals(e.program)&&6004===e.error.errorCode.number){e.message=rL;return}},rD="processed";function rB(e,t,r){return new c.VersionedTransaction(new c.TransactionMessage({payerKey:e,instructions:t,recentBlockhash:r}).compileToV0Message())}async function rW(e,t){if(t.some(e=>e.programId.equals(c.ComputeBudgetProgram.programId)))throw Error("ComputeBudgetInstructions present in simulatedInstructions");let r=[nl({units:14e5,frontRunningProtection:!1}),c.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1})];return r.push(...t),rB(e,r,"11111111111111111111111111111111")}var rq=(0,N.parseIdlErrors)(eD);function rz(e){if("AccountNotFound"===e.err)return Error("Your account has 0 SOL. Please transfer some SOL to your account.");if(e.err?.InstructionError===void 0)return Error(JSON.stringify(e.err));let t=e.logs;if(!t)throw Error("Missing tx simulation logs on failure");let r=(0,N.translateError)(e,rq);if(r instanceof N.ProgramError)return r;if(r instanceof N.AnchorError)return rF(r),r;let n=function(e){let t=/Program (\w+) failed: (.+)/,r=/custom program error: (0x[0-9a-fA-F]+)/;for(let n of e){let i=n.match(t);if(i)switch(i[1]){case"11111111111111111111111111111111":switch(parseInt(i[2].match(r)[1])){case 0:return new rV("AccountAlreadyExists",`${e[e.indexOf(n)-1]}`);case 1:return new rV("InsufficientFunds",`${e[e.indexOf(n)-1]}`)}break;case"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8":switch(parseInt(i[2].match(r)[1])){case 30:return new rV("RaydiumExceededSlippage",`${e[e.indexOf(n)-2]}`);case 40:return new rV("RaydiumInsufficientFunds",`${e[e.indexOf(n)-2]}`)}break;case"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL":if("Provided owner is not allowed"===i[2])return new rV("IllegalOwner",`${n}`)}}return null}(t);return n||(t[t.length-1].includes("exceeded CUs meter at BPF instruction")?Error(`Exhausted compute units: ${t[t.length-2]}`):t.length>=4?Error([t[t.length-4],t[t.length-3]].join(" ")):Error(t.join(" ")))}var rV=class extends Error{constructor(e,t){super(`${e}: ${t}`),this.code=e}};async function rH(e,t,r){let n=await e.simulateTransaction(t,{sigVerify:!1,replaceRecentBlockhash:!0,commitment:rD}),i=n.value;if(i.err)throw console.error("failed to simulate transaction",n),rz(i);return i.unitsConsumed??r}async function rG(e,t,r="High"){try{let n=await fetch(e.rpcEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"getPriorityFeeEstimate",params:[{transaction:r4(t),options:{priorityLevel:r,transactionEncoding:"base64"}}]})}).then(e=>e.json());if(n.error)throw Error(n.error.message);return Math.floor(Math.min(Math.max(n?.result?.priorityFeeEstimate||0,1e5),1e8))}catch(e){console.error("failed to fetch priority fee",e)}return 1e5}async function rK(e,t,r,n,i,a,o){let s=await rW(t,r),[l,d]=await Promise.all([rH(e,s,n),rG(e,s,a)]);return[nl({units:l*i,frontRunningProtection:o}),c.ComputeBudgetProgram.setComputeUnitPrice({microLamports:d}),...r]}async function rJ({connection:e,blockhashWithExpiryBlockHeight:t,payer:r,wallet:n,instructions:i,defaultUnits:a,unitsScaleFactor:o,priorityLevel:s,frontRunningProtection:l,captchaToken:c,batchId:d,clientServerUrl:u,signBlock:h=async e=>e}){let p=await rK(e,r,i,a,o,s,l);return await rZ({connection:e,blockhashWithExpiryBlockHeight:t,payer:r,allInstructions:p,wallet:n,frontRunningProtection:l,captchaToken:c,batchId:d,signBlock:h,clientServerUrl:u})}async function rY({connection:e,blockhashWithExpiryBlockHeight:t,payer:r,wallet:n,instructions:i,defaultUnits:a,unitsScaleFactor:o,priorityLevel:s,frontRunningProtection:l,tipAmount:c,captchaToken:d,batchId:u,clientServerUrl:h}){let p=r1(i,a,l,c,r);return await rZ({connection:e,blockhashWithExpiryBlockHeight:t,payer:r,allInstructions:p,wallet:n,frontRunningProtection:l,captchaToken:d,batchId:u,clientServerUrl:h})}async function rZ({connection:e,blockhashWithExpiryBlockHeight:t,payer:r,allInstructions:n,wallet:i,frontRunningProtection:a,captchaToken:o,batchId:s,clientServerUrl:l,signBlock:c=async e=>e}){let{blockhash:d,lastValidBlockHeight:u}=t,h=rB(r,n,d),p=await c(h),f=await i.signTransaction(p),m=performance.now(),g=r3(f),y=r6(e,g,u);return function({connection:e,signature:t,signedTx:r,frontRunningProtection:n,captchaToken:i,lastValidBlockHeight:a,batchId:o,clientServerUrl:s}){var l,c,d;l=e,c=t,d=r,n?nn(c,d):(nt(c,d),nn(c,d),l.sendTransaction(d,{skipPreflight:!0,maxRetries:0})),ni(t,r,n,i,o,a,s)}({connection:e,signature:g,signedTx:f,frontRunningProtection:a,captchaToken:o,lastValidBlockHeight:u,batchId:s,clientServerUrl:l}),{signature:g,confirmTxPromise:y,signedTimestamp:m}}var rQ=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"].map(e=>new c.PublicKey(e)),rX=["pfnP85qobXv2wETniKjXBhxKvgivpfT8EGAcS8sb3bq","pfnSAoQWtJCDKnjmR8oduqbZYXr69Q4cFQ6VhgFkvgT","pfnntQ8jDjE6aP9uPVYBsTEnzwFZuQqBx9XZ7wpzXNC","pfn2d1g6xkwhykkyjtoccFbC7r19ADf5dGB2YnT1Hgw","pfnXi2FdpFUUn6VyoxUohNyWk2Nup3ruguTgK8jaZaF","pfnKWwarhjuKKg3WV3nw3wAE8zuymigT3vuJHwZeL4s","pfngGVVQLiVRFbLWw3Ektiv17ef9NiRZbcgdAhh4ZEW","pfnSbG36fCGpT8WsB1NEbQ2BH11iog6qjFqMEVCZZgV","pfnaxrmMoemfvbhXek6offTNXas11GtepGQMN9UF3gk","pfn9b35be4L7xh7G8P2jUzWsJAigrKDSoBeRMiyg75p","pfnaZXdkjJq26auzzFKeQm7YKphuNCdDGcJVqqb6awr","pfnUxCuZcfP6yidkG3EsqyR5DTbyie3R74fGoA5oB3J","pfnTcJ1i4mRYzbqGduF71RsooUCFkPSpk8UE7drCkjh","pfnEJvqLGddJxQTA9DcYLTbVwiFdT3KmLXo6UcnmcgC","pfn6dyanKiTTinHs887D7qe2S4727wzK7xi7ERGaizC","pfnSbziLrSSVNqPBD9tpx3Ud4VtbxwsXjdfYv9SmBDx"].map(e=>new c.PublicKey(e));function r0(){return rX[Math.floor(Math.random()*rX.length)]}function r1(e,t,r,n,i){let a=r2(r,n);return[nl({units:t,frontRunningProtection:r}),c.ComputeBudgetProgram.setComputeUnitPrice({microLamports:Math.floor(1e6*1e6/t)}),r?c.SystemProgram.transfer({fromPubkey:i,toPubkey:rQ[Math.floor(Math.random()*rQ.length)],lamports:a}):c.SystemProgram.transfer({fromPubkey:i,toPubkey:r0(),lamports:a}),...e]}function r2(e,t){return e?Math.floor(t*c.LAMPORTS_PER_SOL):1e6}function r3(e){return tg.bs58.encode(e.signatures[0])}function r5(e){let t=e.serialize();return tg.bs58.encode(t)}function r4(e){return s.Buffer.from(e.serialize()).toString("base64")}async function r6(e,t,r){let n=(await e.confirmTransaction({signature:t,blockhash:"",lastValidBlockHeight:r},rD)).value;if(null!==n.err)throw await r8(e,t);return n}async function r8(e,t){let r=await e.getTransaction(t,{maxSupportedTransactionVersion:0,commitment:"confirmed"});if(!r)return Error("transaction not found");let n=r.meta;if(!n)return Error("transaction meta not found");let{err:i,logMessages:a}=n;return a?rz({err:i,logs:a}):Error("transaction logMessages not found")}var r9="4ce4ba59-0216-4d12-9530-0ff85cef47c6",r7=[`https://ams1.secure.nozomi.temporal.xyz/?c=${r9}`,`https://ash1.secure.nozomi.temporal.xyz/?c=${r9}`,`https://ewr1.secure.nozomi.temporal.xyz/?c=${r9}`,`https://fra2.secure.nozomi.temporal.xyz/?c=${r9}`,`https://pit1.secure.nozomi.temporal.xyz/?c=${r9}`,`https://sgp1.secure.nozomi.temporal.xyz/?c=${r9}`,`https://tyo1.secure.nozomi.temporal.xyz/?c=${r9}`];function ne(e){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:1,method:"sendTransaction",params:[r4(e),{encoding:"base64"}]})}}function nt(e,t){let r=ne(t);r7.map(t=>fetch(t,r).then(e=>e.json()).then(r=>console.log(`temporal send-transaction submission tx=${e} endpoint=${t}`,r)).catch(r=>console.error(`failed to temporal send-transaction tx=${e} endpoint=${t}`,r)))}var nr=["https://mainnet.block-engine.jito.wtf/api/v1/transactions","https://amsterdam.mainnet.block-engine.jito.wtf/api/v1/transactions","https://frankfurt.mainnet.block-engine.jito.wtf/api/v1/transactions","https://london.mainnet.block-engine.jito.wtf/api/v1/transactions","https://ny.mainnet.block-engine.jito.wtf/api/v1/transactions","https://slc.mainnet.block-engine.jito.wtf/api/v1/transactions","https://singapore.mainnet.block-engine.jito.wtf/api/v1/transactions","https://tokyo.mainnet.block-engine.jito.wtf/api/v1/transactions"];function nn(e,t){let r=ne(t);nr.map(t=>fetch(t,r).then(e=>e.json()).then(r=>console.log(`jito send-transaction submission tx=${e} endpoint=${t}`,r)).catch(r=>console.error(`failed to jito send-transaction tx=${e} endpoint=${t}`,r)))}async function ni(e,t,r,n,i,a,o){let s=await fetch(`${o}/send-transaction`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({serializedTransaction:r4(t),retries:5,frontRunningProtection:r,captchaToken:encodeURIComponent(n),batchId:i,lastValidBlockHeight:a,encoding:"base64"})}).then(e=>e.json()).catch(t=>console.error(`failed to sendTxToClientServer tx=${e}`,t));console.log(`sendTxToClientServer tx=${e}`,s)}async function na({name:e,symbol:t,uri:r,creator:n,user:i,global:a,amount:o,solAmount:s,connection:l,wallet:d,captchaToken:u,priorityLevel:h,blockhashWithExpiryBlockHeight:p,clientServerUrl:f,coinCreationV2:m=!1,isMayhemMode:g=!1}){let y=c.Keypair.generate(),w=!0,v=await no(f);v||(v=y.publicKey,w=!1,console.log("Using a random keypair for the mint"));let b=m?await e3.createV2AndBuyInstructions({global:a,mint:v,name:e,symbol:t,uri:r,creator:n,user:i,amount:o,solAmount:s,mayhemMode:g}):await e3.createAndBuyInstructions({global:a,mint:v,name:e,symbol:t,uri:r,creator:n,user:i,amount:o,solAmount:s}),{signature:x,confirmTxPromise:_}=await rJ({connection:l,blockhashWithExpiryBlockHeight:p,payer:i,wallet:d,instructions:b,defaultUnits:39e4,unitsScaleFactor:1,priorityLevel:h,frontRunningProtection:!1,captchaToken:u,clientServerUrl:f,signBlock:async e=>w?await ns(f,{serializedTx:r5(e),mint:v.toString(),isFreeCoinCreation:!1}):(e.sign([y]),e)});return{mint:v,signature:x,confirmTxPromise:_}}var no=async e=>{try{let t=await fetch(`${e}/vanity/random-mint-public-key`),r=await t.json();return new c.PublicKey(r.pubkey)}catch(e){return console.error(`Failed to fetch a vanity key: ${e}`),null}};async function ns(e,t){let{serializedTx:r}=await fetch(`${e}/coins/sign-create-tx`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>e.json());return c.VersionedTransaction.deserialize(tg.bs58.decode(r))}function nl({frontRunningProtection:e,...t}){let r=new c.PublicKey("jitodontfront11111111111111111111111111pump"),n=c.ComputeBudgetProgram.setComputeUnitLimit(t);return e&&n.keys.push({pubkey:r,isSigner:!1,isWritable:!1}),n}var nc=(0,l.createContext)({});function nd(){return(0,l.useContext)(nc)}var nu={commitment:rD},nh=({children:e,endpoint:t,config:r=nu})=>{let n=(0,l.useMemo)(()=>new c.Connection(t,r),[t,r]);return(0,ty.jsx)(nc.Provider,{value:{connection:n},children:e})};function np(e,t){try{return e(t)}catch(e){return console.error("parse account info failed",e),null}}function nf(e,t=!1){let r=(0,l.createContext)(void 0);function n({accounts:n,children:i}){let{connection:a}=nd(),o=(0,l.useMemo)(()=>{let t=Math.min(e.length,n.length);return n.length!==e.length&&console.warn(`[createAccountRefContext] accounts.length (${n.length}) !== parsers.length (${e.length}); truncating to ${t}`),Array.from({length:t},(t,r)=>{let i=n[r].initialAccountInfo,a=null!=i?np(e[r].parse,i):null;return{accountInfo:i,parsed:a}})},[n]),s=(0,l.useRef)(o);(0,l.useEffect)(()=>{s.current=o},[o]);let c=(0,l.useRef)(new Set);(0,l.useEffect)(()=>{let r=!0,i=(t,n)=>{if(!r)return;let i=s.current[t]?.accountInfo;if(i?.lamports!==n.lamports||!i?.data?.equals(n.data)){let r=s.current.slice();r[t]={accountInfo:n,parsed:np(e[t].parse,n)},s.current=r;let i=s.current;for(let e of c.current)e(i)}},o=Math.min(e.length,n.length);if(t)for(let e=0;e<o;e++){let{pubkey:t}=n[e];a.getAccountInfo(t).then(t=>{t&&i(e,t)}).catch(()=>{})}let l=[];for(let e=0;e<o;e++){let{pubkey:t}=n[e],r=a.onAccountChange(t,t=>{i(e,t)});l.push(r)}return()=>{for(let e of(r=!1,l))a.removeAccountChangeListener(e).catch(()=>{})}},[a,n]);let d=(0,l.useCallback)(e=>(c.current.add(e),e(s.current),()=>{c.current.delete(e)}),[]),u=(0,l.useCallback)(()=>s.current,[]),h=(0,l.useMemo)(()=>({snapshotRef:s,subscribe:d,getSnapshot:u}),[d,u]);return(0,ty.jsx)(r.Provider,{value:h,children:i})}function i(){let e=(0,l.useContext)(r);if(!e)throw Error("useAccountRefContext must be used within Provider");return e}return n.displayName="MultipleSolanaAccountStatesProvider",{Provider:n,useAccountRefContext:i,useAccountState:function(){let{subscribe:e,getSnapshot:t}=i();return(0,l.useSyncExternalStore)(e,t,t)}}}async function nm(e,t){try{return await e.getAccountInfo(t)}catch(e){return console.error(`getAccountInfo(publicKey=${t.toString()}) failed`,e),null}}async function ng(e,t){let r=`${t.map(e=>e.toString())}`,n=t.map(()=>null);try{return await e.getMultipleAccountsInfo(t)}catch(e){return console.error(`getMultipleAccountsInfo(publicKeys=${r}) failed`,e),n}}var ny=e=>e.toNumber()/c.LAMPORTS_PER_SOL,nw=e=>e?"number"==typeof e?e/1e6:"string"==typeof e?new d.default(e).toNumber()/1e6:e.toNumber()/1e6:0;async function nv(e,t,r,n){let i,a,o,s,l,d,u=new c.PublicKey(e),h=tr(u),p=j(u,h,!0,r),f=j(k,h,!0);if(n){let e=[e7(u),h,p,f,u,j(u,n,!0,r)],[c,m,g,y,w,v]=await ng(t,e);i=c,a=m,o=g,s=y,l=w,d=v}else{let e=[e7(u),h,p,f,u],[r,n,c,m,g]=await ng(t,e);i=r,a=n,o=c,s=m,l=g,d=null}return{bondingCurveAccountInfo:i,poolAccountInfo:a,poolBaseAccountInfo:o,poolQuoteAccountInfo:s,mintAccountInfo:l,associatedUserAccountInfo:d}}async function nb(e){let[t,r,n,i]=await ng(e,[e6,ea,e8,el]);return{globalAccountInfo:t,ammGlobalConfigAccountInfo:r,feeConfigAccountInfo:n,ammFeeConfigAccountInfo:i}}async function nx(e,t){let[r,n,i,a]=await ng(e,[t,j(k,t,!0),te(t),ef(ep(t),k,b)]);return{userAccountInfo:r,userWsolAtaAccountInfo:n,creatorVaultAccountInfo:i,coinCreatorVaultAtaAccountInfo:a}}async function n_(e,t,r,n){let{bondingCurveAccountInfo:i,poolAccountInfo:a,poolBaseAccountInfo:o,poolQuoteAccountInfo:s,mintAccountInfo:l,associatedUserAccountInfo:c}=await nv(e,t,n,r);return{bondingCurveAccountInfo:i,bondingCurve:i?e3.decodeBondingCurveNullable(i):null,poolAccountInfo:a,pool:a?eS.decodePoolNullable(a):null,poolBaseTokenAccount:o?nS(o.data):null,poolQuoteTokenAccount:s?nS(s.data):null,mintAccount:l?nT(l.data):null,associatedUserAccountInfo:c}}var nk=(0,l.createContext)({address:void 0});function nE({children:e,address:t}){let r=(0,l.useMemo)(()=>({address:t?new c.PublicKey(t):void 0}),[t]);return(0,ty.jsx)(nk.Provider,{value:r,children:e})}function nC(){return(0,l.useContext)(nk)}var nA=(0,l.createContext)({bondingCurveAccountInfo:null,poolAccountInfo:null,poolBaseAccountInfo:null,poolQuoteAccountInfo:null,associatedUserAccountInfo:null,mintAccountInfo:null}),nI=({mint:e,tokenProgram:t,children:r})=>{let{connection:n}=nd(),{address:i}=nC(),[a,o]=(0,l.useState)({bondingCurveAccountInfo:null,poolAccountInfo:null,poolBaseAccountInfo:null,poolQuoteAccountInfo:null,associatedUserAccountInfo:null,mintAccountInfo:null});return(0,l.useEffect)(()=>{!async function(){o(await nv(e,n,new c.PublicKey(t),i))}()},[n,e,i]),(0,ty.jsx)(nA.Provider,{value:a,children:r})};function nS(e){try{return $.decode(new Uint8Array(e))}catch(e){return console.warn("Failed to parse token account",e),null}}function nT(e){try{return P.decode(new Uint8Array(e))}catch(e){return console.warn("Failed to parse mint account",e),null}}var{Provider:nP,useAccountRefContext:nj,useAccountState:nN}=nf([{parse:e=>e3.decodeBondingCurveNullable(e)},{parse:e=>eS.decodePoolNullable(e)},{parse:e=>nT(e.data)},{parse:e=>nS(e.data)},{parse:e=>nS(e.data)},{parse:e=>nS(e.data)}],!1),nO=({mint:e,tokenProgram:t,children:r})=>{let{bondingCurveAccountInfo:n,poolAccountInfo:i,mintAccountInfo:a,poolBaseAccountInfo:o,poolQuoteAccountInfo:s,associatedUserAccountInfo:d}=(()=>{let e=(0,l.useContext)(nA);if(!e)throw Error("useBondingCurveContext must be used within a BondingCurveProvider");return e})(),{address:u}=nC(),h=(0,l.useMemo)(()=>new c.PublicKey(e),[e]),p=(0,l.useMemo)(()=>tr(h),[h]),f=j(h,p,!0,new c.PublicKey(t)),m=j(k,p,!0);return(0,ty.jsx)(nP,{accounts:[{pubkey:e7(e),initialAccountInfo:n},{pubkey:p,initialAccountInfo:i},{pubkey:h,initialAccountInfo:a},{pubkey:f,initialAccountInfo:o},{pubkey:m,initialAccountInfo:s},{pubkey:j(h,u?new c.PublicKey(u):k,!0,u?new c.PublicKey(t):b),initialAccountInfo:d}],children:r})};function n$(){let[{accountInfo:e,parsed:t},{accountInfo:r,parsed:n},{parsed:i},{parsed:a},{parsed:o},{accountInfo:s,parsed:c}]=nN();return{bondingCurveAccountInfo:e,bondingCurve:t,poolAccountInfo:r,pool:n,mintAccount:i,poolBaseTokenAccount:a,poolQuoteTokenAccount:o,associatedUserAccountInfo:s,tokenBalance:(0,l.useMemo)(()=>new d.default(c?.amount?.toString()||0),[c])}}function nR(){let{snapshotRef:e}=nj();return{coinAccountsRef:e}}function nM(e){let{current:[{accountInfo:t,parsed:r},{accountInfo:n,parsed:i},{parsed:a},{parsed:o},{parsed:s},{accountInfo:l,parsed:c}]}=e;return{bondingCurveAccountInfo:t,bondingCurve:r,poolAccountInfo:n,pool:i,mintAccount:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,associatedUser:c,associatedUserAccountInfo:l}}var nU=(0,l.createContext)({userAccountInfo:null,userWsolAtaAccountInfo:null,creatorVaultAccountInfo:null,coinCreatorVaultAtaAccountInfo:null}),nL=({children:e})=>{let{connection:t}=nd(),{address:r}=nC(),[n,i]=(0,l.useState)({userAccountInfo:null,userWsolAtaAccountInfo:null,creatorVaultAccountInfo:null,coinCreatorVaultAtaAccountInfo:null});return(0,l.useEffect)(()=>{!async function(){r&&i(await nx(t,r))}()},[t,r]),(0,ty.jsx)(nU.Provider,{value:n,children:e})},nF=new d.default(890880),{Provider:nD,useAccountRefContext:nB,useAccountState:nW}=nf([{parse:e=>e},{parse:e=>nS(e.data)},{parse:e=>e},{parse:e=>nS(e.data)}],!1),nq=({children:e})=>{let{userAccountInfo:t,userWsolAtaAccountInfo:r,creatorVaultAccountInfo:n,coinCreatorVaultAtaAccountInfo:i}=(()=>{let e=(0,l.useContext)(nU);if(!e)throw Error("useBondingCurveContext must be used within a BondingCurveProvider");return e})(),{address:a}=nC(),o=(0,l.useMemo)(()=>a?new c.PublicKey(a):k,[a]);return(0,ty.jsx)(nD,{accounts:[{pubkey:o,initialAccountInfo:t},{pubkey:j(k,o,!0),initialAccountInfo:r},{pubkey:te(o),initialAccountInfo:n},{pubkey:ef(ep(o),k,b),initialAccountInfo:i}],children:e})};function nz(){let[{accountInfo:e},{accountInfo:t},{accountInfo:r},{parsed:n}]=nW(),i=(0,l.useMemo)(()=>{let e=new d.default(r?.lamports?.toString()||0).sub(nF),t=e.lt(new d.default(0))?new d.default(0):e,i=new d.default(n?.amount?.toString()||0);return new rU(t.add(i).toString()).div(c.LAMPORTS_PER_SOL).toFixed(9)},[n,r]);return{solBalance:e?.lamports||0,userWsolAccountInfo:t,combinedSolBalanceDisplay:i}}function nV(){let{snapshotRef:e}=nB();return{userAccountsRef:e}}function nH(e){let[{accountInfo:t},{accountInfo:r}]=e.current;return{solBalance:t?.lamports||0,userWsolAccountInfo:r}}var nG=(0,l.createContext)({globalAccountInfo:null,ammGlobalConfigAccountInfo:null,feeConfigAccountInfo:null,ammFeeConfigAccountInfo:null}),nK=({children:e})=>{let{connection:t}=nd(),[r,n]=(0,l.useState)({globalAccountInfo:null,ammGlobalConfigAccountInfo:null,feeConfigAccountInfo:null,ammFeeConfigAccountInfo:null});return(0,l.useEffect)(()=>{!async function(){n(await nb(t))}()},[t]),(0,ty.jsx)(nG.Provider,{value:r,children:e})},{Provider:nJ,useAccountRefContext:nY,useAccountState:nZ}=nf([{parse:e=>e3.decodeGlobal(e)},{parse:e=>eS.decodeGlobalConfig(e)},{parse:e=>e3.decodeFeeConfig(e)},{parse:e=>eS.decodeFeeConfig(e)}],!1),nQ=({children:e})=>{let{globalAccountInfo:t,ammGlobalConfigAccountInfo:r,feeConfigAccountInfo:n,ammFeeConfigAccountInfo:i}=(()=>{let e=(0,l.useContext)(nG);if(!e)throw Error("useBondingCurveContext must be used within a BondingCurveProvider");return e})();return(0,ty.jsx)(nJ,{accounts:[{pubkey:e6,initialAccountInfo:t},{pubkey:ea,initialAccountInfo:r},{pubkey:e8,initialAccountInfo:n},{pubkey:el,initialAccountInfo:i}],children:e})};function nX(){let[{parsed:e},{parsed:t},{parsed:r},{parsed:n}]=nZ();return{global:e,globalConfig:t,feeConfig:r,ammFeeConfig:n}}var n0=()=>{let{snapshotRef:e}=nY();return{globalAccountsRef:e}};function n1(e){let{current:[{parsed:t},{parsed:r},{parsed:n},{parsed:i}]}=e;return{global:t,globalConfig:r,feeConfig:n,ammFeeConfig:i}}var n2=(0,l.createContext)({blockhashWithExpiryBlockHeightRef:{current:null}}),n3=()=>(0,l.useContext)(n2),n5=({children:e})=>{let{connection:t}=nd(),r=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=!0,n=async()=>{if(!t)return;let n=await t.getLatestBlockhash();e&&(r.current=n)};n();let i=setInterval(n,5e3);return()=>{e=!1,clearInterval(i)}},[t]),(0,ty.jsx)(n2.Provider,{value:{blockhashWithExpiryBlockHeightRef:r},children:e})},n4=(0,l.createContext)({mint:k});function n6({children:e,mint:t}){let r=(0,l.useMemo)(()=>({mint:t?new c.PublicKey(t):k}),[t]);return(0,ty.jsx)(n4.Provider,{value:r,children:e})}function n8(){return(0,l.useContext)(n4)}var n9=({mint:e,isVisible:t,children:r,tokenProgram:n=b.toBase58()})=>t?(0,ty.jsx)(nI,{mint:e,tokenProgram:n,children:(0,ty.jsx)(n6,{mint:e,children:(0,ty.jsx)(nO,{mint:e,tokenProgram:n,children:r})})}):(0,ty.jsx)(ty.Fragment,{children:r}),n7=({children:e,endpoint:t,config:r=nu})=>(0,ty.jsx)(nh,{endpoint:t,config:r,children:(0,ty.jsx)(n5,{children:(0,ty.jsx)(nK,{children:(0,ty.jsx)(nQ,{children:e})})})}),ie=({address:e,children:t})=>(0,ty.jsx)(nE,{address:e,children:(0,ty.jsx)(nL,{children:(0,ty.jsx)(nq,{children:t})})});function it(){let{connection:e}=nd(),{globalAccountsRef:t}=n0(),{userAccountsRef:r}=nV(),{address:n}=nC(),i=(0,l.useCallback)(async({coin:e,parsedAmount:i,slippage:a,tipAmount:o,frontRunningProtection:s,operation:l,coinState:c})=>{let{global:d,globalConfig:u,feeConfig:h,ammFeeConfig:p}=n1(t),{solBalance:f,userWsolAccountInfo:m}=nH(r),{bondingCurve:g,poolAccountInfo:y,pool:w,poolBaseTokenAccount:v,poolQuoteTokenAccount:b,mintAccount:x,associatedUserAccountInfo:_,bondingCurveAccountInfo:k}=c;return await ia({coin:e,parsedAmount:i,slippage:a,bondingCurve:g,poolAccountInfo:y,pool:w,poolBaseTokenAccount:v,poolQuoteTokenAccount:b,mintAccount:x,globalConfig:u,ammFeeConfig:p,operation:l,user:n,associatedUserAccountInfo:_,userWsolAccountInfo:m,global:d,feeConfig:h,bondingCurveAccountInfo:k,tipAmount:o,solBalance:f,frontRunningProtection:s})},[n,t,r]);return{address:n,connection:e,getInstructions:i}}var ir=new d.default(1e15);function ii({solBalance:e,frontRunningProtection:t,tipAmount:r,solAmount:n,slippage:i,operationSpecificCosts:a}){let o=ic({solBalance:e,frontRunningProtection:t,tipAmount:r,operationSpecificCosts:a,isBuy:!0}),s=n.muln(100+i).divn(100);if(s.lte(o))return n;let l=o.divn((i+100)/100);return console.log(`computeBudget: Capping input SOL amount from solBalance=${e/c.LAMPORTS_PER_SOL} solAmount=${n.toNumber()/c.LAMPORTS_PER_SOL} maxSolAmount=${s.toNumber()/c.LAMPORTS_PER_SOL} to pumpBuyAvailableLamports=${o.toNumber()/c.LAMPORTS_PER_SOL} cappedSolAmount=${l.toNumber()/c.LAMPORTS_PER_SOL} `),l}async function ia({coin:e,parsedAmount:t,slippage:r,bondingCurve:n,poolAccountInfo:i,pool:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,mintAccount:l,globalConfig:d,ammFeeConfig:u,operation:h,user:p,associatedUserAccountInfo:f,userWsolAccountInfo:m,global:g,feeConfig:y,bondingCurveAccountInfo:w,tipAmount:v,solBalance:x,frontRunningProtection:_}){let k,E=new c.PublicKey(e.mint),C=e.token_program?new c.PublicKey(e.token_program):b,A=!!e.mayhem_state,I=await id({bondingCurve:n,poolAccountInfo:i,pool:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,globalConfig:d,ammFeeConfig:u,mintAccount:l,mint:E,parsedAmount:t,slippage:r,operation:h,user:p,associatedUserAccountInfo:f,userWsolAccountInfo:m,global:g,tipAmount:v,solBalance:x,frontRunningProtection:_,tokenProgram:C});if(I)return I;let S=l?iw(l):ir;if("sellTokenInput"===h&&n&&w){ic({solBalance:x,frontRunningProtection:_,tipAmount:v,operationSpecificCosts:()=>0,isBuy:!1});let e=eK({global:g,feeConfig:y,mintSupply:S,bondingCurve:n,amount:t});return{type:"sell",amount:t,solAmount:e,instructions:await e3.sellInstructions({global:g,bondingCurve:n,bondingCurveAccountInfo:w,mint:E,user:p,amount:t,solAmount:e,slippage:r,tokenProgram:C,mayhemMode:A}),defaultUnits:12e4,unitsScaleFactor:1.05}}if(!n||!w||!l){let r;r="buySolInput"===h?eH({global:g,feeConfig:y,mintSupply:null,bondingCurve:null,amount:t}):t;let n=eG({global:g,feeConfig:y,mintSupply:null,bondingCurve:null,amount:r});return{type:"buy",amount:r,solAmount:n,instructions:await e3.createAndBuyInstructions({global:g,mint:E,name:e.name,symbol:e.symbol,uri:e.raw_metadata_uri??e.metadata_uri,creator:new c.PublicKey(e.creator),user:p,amount:r,solAmount:n}),defaultUnits:39e4,unitsScaleFactor:1}}k="buySolInput"===h?eH({global:g,feeConfig:y,mintSupply:S,bondingCurve:n,amount:ii({solBalance:x,frontRunningProtection:_,tipAmount:v,solAmount:t,slippage:r,operationSpecificCosts:()=>2039280*!f})}):t;let T=eG({global:g,feeConfig:y,mintSupply:S,bondingCurve:n,amount:k});return{type:"buy",amount:k,solAmount:T,instructions:await e3.buyInstructions({global:g,bondingCurve:n,bondingCurveAccountInfo:w,associatedUserAccountInfo:f,mint:E,user:p,amount:k,solAmount:T,slippage:r,tokenProgram:C}),defaultUnits:12e4,unitsScaleFactor:1.05}}function io(e){return e.tokenTotalSupply.sub(e.initialRealTokenReserves)}function is(e,t){return t.realSolReserves.sub(e.poolMigrationFee)}async function il(e,t,r,n,i){let a=[];return a.push(await e3.migrateInstruction({withdrawAuthority:r.withdrawAuthority,mint:e,user:t,tokenProgram:i})),{type:"buySolInput"===n||"buyTokenInput"===n?"buy":"sell",amount:new d.default(0),solAmount:new d.default(0),instructions:a,defaultUnits:35e4,unitsScaleFactor:1}}function ic({solBalance:e,frontRunningProtection:t,tipAmount:r,operationSpecificCosts:n,isBuy:i}){let a=new d.default(5e3).addn(1e6).addn(r2(t,r)).addn(n()).addn(5e6*!!i);console.log(`computeBudget: minimumSol=${a.toNumber()/c.LAMPORTS_PER_SOL}`);let o=new d.default(e).sub(a);if(o.lten(0))throw Error("Not enough SOL to cover transaction fees and rent-exemption");return o}async function id({bondingCurve:e,poolAccountInfo:t,pool:r,poolBaseTokenAccount:n,poolQuoteTokenAccount:i,globalConfig:a,ammFeeConfig:o,mintAccount:s,mint:l,parsedAmount:c,slippage:d,operation:u,user:h,associatedUserAccountInfo:p,userWsolAccountInfo:f,global:m,tipAmount:g,solBalance:y,frontRunningProtection:w,tokenProgram:v}){if(!s||!e?.complete)return null;if(!r||!n||!i||!t)return await il(l,h,m,u,v);let b=iy(n),x=iy(i),_=ig({globalConfig:a,ammFeeConfig:o,mint:l,poolAccountInfo:t,pool:r,poolBaseTokenAccount:n,poolQuoteTokenAccount:i,baseMint:l,baseMintAccount:s,user:h,userBaseAccountInfo:p,userQuoteAccountInfo:f,tokenProgram:v});if("sellTokenInput"===u){ic({solBalance:y,frontRunningProtection:w,tipAmount:g,operationSpecificCosts:()=>2039280*!f,isBuy:!1});let{minQuote:e,uiQuote:t}=ih({base:c,slippage:d,baseReserve:b,quoteReserve:x,globalConfig:a,ammFeeConfig:o,baseMintAccount:s,baseMint:l,coinCreator:r.coinCreator,creator:r.creator}),n=await eS.sellInstructions(_,c,e);return{type:"sell",amount:c,solAmount:t,instructions:n,defaultUnits:2e5,unitsScaleFactor:1.05}}if("buySolInput"===u){let e=ii({solBalance:y,frontRunningProtection:w,tipAmount:g,solAmount:c,slippage:d,operationSpecificCosts:()=>{let e=0;return f||(e+=2039280),p||(e+=2039280),e}}),{base:t}=eE({quote:e,slippage:d,baseReserve:b,quoteReserve:x,globalConfig:a,baseMintAccount:s,baseMint:l,coinCreator:r.coinCreator,creator:r.creator,feeConfig:o}),{maxQuote:n}=ek({base:t,slippage:d,baseReserve:b,quoteReserve:x,globalConfig:a,coinCreator:r.coinCreator,creator:r.creator,feeConfig:o,baseMintAccount:s,baseMint:l});console.log(`buyInstructions base=${t} maxQuote=${n}`);let i=await eS.buyInstructions(_,t,n);return{type:"buy",amount:t,solAmount:e,instructions:i,defaultUnits:2e5,unitsScaleFactor:1.05}}let{uiQuote:k,maxQuote:E}=ek({base:c,slippage:d,baseReserve:b,quoteReserve:x,globalConfig:a,coinCreator:r.coinCreator,creator:r.creator,feeConfig:o,baseMintAccount:s,baseMint:l});console.log(`buyInstructions base=${c} maxQuote=${E}`);let C=await eS.buyInstructions(_,c,E);return{type:"buy",amount:c,solAmount:k,instructions:C,defaultUnits:2e5,unitsScaleFactor:1.05}}function iu({global:e,feeConfig:t,bondingCurve:r,globalConfig:n,ammFeeConfig:i,pool:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,baseMintAccount:l,baseMint:c,amount:d}){if(!r.complete)return eK({global:e,feeConfig:t,mintSupply:iw(l),bondingCurve:r,amount:d});if(!a||!o||!s){let{uiQuote:t}=ih({base:d,slippage:0,baseReserve:io(e),quoteReserve:is(e,r),globalConfig:n,ammFeeConfig:i,baseMintAccount:l,baseMint:c,coinCreator:r.creator,creator:tt(c)});return t}let{uiQuote:u}=ih({base:d,slippage:0,baseReserve:iy(o),quoteReserve:iy(s),globalConfig:n,baseMintAccount:l,baseMint:c,coinCreator:a.coinCreator,creator:a.creator,ammFeeConfig:i});return u}function ih({base:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,ammFeeConfig:a,baseMintAccount:o,baseMint:s,coinCreator:l,creator:c}){try{return eC({base:e,slippage:t,baseReserve:r,quoteReserve:n,globalConfig:i,baseMintAccount:o,baseMint:s,coinCreator:l,creator:c,feeConfig:a})}catch(a){return console.error("Error on sellBaseInputInternal",{base:e.toString(),slippage:t,baseReserve:r.toString(),quoteReserve:n.toString(),globalConfig:i,coinCreator:l.toBase58(),error:a instanceof Error?a.message:String(a)}),{uiQuote:new d.default(0),minQuote:new d.default(0),internalQuoteAmountOut:new d.default(0)}}}function ip({global:e,feeConfig:t,bondingCurve:r,globalConfig:n,ammFeeConfig:i,pool:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,baseMintAccount:l,baseMint:c,amount:d}){if(!l||!r?.complete)return eG({global:e,feeConfig:t,mintSupply:l?iw(l):null,bondingCurve:r,amount:d});if(!a||!o||!s){let{uiQuote:t}=ek({base:d,slippage:0,baseReserve:io(e),quoteReserve:is(e,r),globalConfig:n,baseMintAccount:l,baseMint:c,coinCreator:r.creator,creator:tt(c),feeConfig:i});return t}let{uiQuote:u}=ek({base:d,slippage:0,baseReserve:iy(o),quoteReserve:iy(s),globalConfig:n,baseMintAccount:l,baseMint:c,coinCreator:a.coinCreator,creator:a.creator,feeConfig:i});return u}function im({global:e,feeConfig:t,bondingCurve:r,globalConfig:n,ammFeeConfig:i,pool:a,poolBaseTokenAccount:o,poolQuoteTokenAccount:s,baseMintAccount:l,baseMint:c,amount:u}){if(!l||!r?.complete)try{return eH({global:e,feeConfig:t,mintSupply:l?iw(l):null,bondingCurve:r,amount:u})}catch(e){return console.error(`Error on getBuyTokenAmountFromSolAmount(amount=${u?.toString()}, bondingCurve=${r})`,e),new d.default(0)}if(!a||!o||!s){let{base:t}=eE({quote:u,slippage:0,baseReserve:io(e),quoteReserve:is(e,r),globalConfig:n,baseMintAccount:l,baseMint:c,coinCreator:r.creator,creator:tt(c),feeConfig:i});return t}let{base:h}=eE({quote:u,slippage:0,baseReserve:iy(o),quoteReserve:iy(s),globalConfig:n,baseMintAccount:l,baseMint:c,coinCreator:a.coinCreator,creator:a.creator,feeConfig:i});return h}function ig({globalConfig:e,ammFeeConfig:t,mint:r,poolAccountInfo:n,pool:i,poolBaseTokenAccount:a,poolQuoteTokenAccount:o,baseMint:s,baseMintAccount:l,user:c,userBaseAccountInfo:d,userQuoteAccountInfo:u,userBaseTokenAccount:h,userQuoteTokenAccount:p,tokenProgram:f}){return void 0===h&&(h=j(r,c,!0,f)),void 0===p&&(p=j(k,c,!0,b)),{globalConfig:e,feeConfig:t,poolKey:tr(r),poolAccountInfo:n,pool:i,poolBaseAmount:iy(a),poolQuoteAmount:iy(o),baseTokenProgram:f,quoteTokenProgram:b,baseMint:s,baseMintAccount:l,user:c,userBaseTokenAccount:h,userQuoteTokenAccount:p,userBaseAccountInfo:d,userQuoteAccountInfo:u}}function iy(e){return new d.default(e.amount.toString())}function iw(e){return new d.default(e.supply.toString())}var iv=(0,l.createContext)(void 0),ib=({children:e})=>{let{global:t,globalConfig:r,feeConfig:n,ammFeeConfig:i}=nX(),{bondingCurve:a,pool:o,poolBaseTokenAccount:s,poolQuoteTokenAccount:c,mintAccount:u,tokenBalance:h}=n$(),{mint:p}=n8(),[f,m]=(0,l.useState)(new d.default(0)),[g,y]=(0,l.useState)(null);return(0,l.useEffect)(()=>{if(!t||!a||!r||!h||!u||!p||h.eqn(0))return;let e=iu({global:t,feeConfig:n,bondingCurve:a,globalConfig:r,ammFeeConfig:i,pool:o,poolBaseTokenAccount:s,poolQuoteTokenAccount:c,baseMintAccount:u,baseMint:p,amount:h});f.lt(e)?(y("up"),m(e)):f.gt(e)&&(y("down"),m(e))},[a,t,n,r,i,o,s,c,u,p,f,h]),(0,l.useEffect)(()=>{setTimeout(()=>{y(null)},500)},[g]),(0,ty.jsx)(iv.Provider,{value:{tokenBalance:h,solAmount:f,netSolValueArrow:g},children:e})},ix=()=>{let e=(0,l.useContext)(iv);if(!e)throw Error("usePumpPositionContext must be used within PumpPositionProvider");return e};function i_(e,t){let r=(0,l.useRef)(t);(0,l.useEffect)(()=>{console.log(`[why-did-you-update] ${e} mounted`)},[]),(0,l.useEffect)(()=>{let n=Object.keys({...r.current,...t}),i={};n.forEach(e=>{r.current[e]!==t[e]&&(i[e]={from:r.current[e],to:t[e]})}),Object.keys(i).length&&console.log(`[why-did-you-update] ${e}`,i),r.current=t})}function ik({wallet:e,priorityLevel:t,clientServerUrl:r,coinCreationV2:n=!1,isMayhemMode:i=!1}){let{globalAccountsRef:a}=n0(),{connection:o}=nd(),{blockhashWithExpiryBlockHeightRef:s}=n3();return{signSendCreateBuyTx:(0,l.useCallback)(async({name:n,symbol:i,uri:l,creator:c,user:d,amount:u,solAmount:h,captchaToken:p,coinCreationV2:f,isMayhemMode:m})=>{let g=s.current,{global:y}=n1(a);if(y&&e&&g)return await na({name:n,symbol:i,uri:l,creator:c,user:d,global:y,amount:u,solAmount:h,connection:o,wallet:e,captchaToken:p,priorityLevel:t,blockhashWithExpiryBlockHeight:g,clientServerUrl:r,coinCreationV2:f,isMayhemMode:m})},[s,o,a,t,e])}}function iE(e,t,r,n){let[i,a]=(0,l.useState)(void 0),o=(0,l.useRef)(void 0);return i_(`${e} useOnAccountChange`,{logPrefix:e,connection:t,pubkey:r,decode:n}),(0,l.useEffect)(()=>{let i=!0,s=r.toString();(async()=>{let l=await nm(t,r);if(l&&i){let t=n(l);console.log(`${e} useOnAccountChange getAccountInfo(pubkey=${s}) decoded=${JSON.stringify(t)}`),a(t),o.current=t}})();let l=t.onAccountChange(r,t=>{let r=n(t),i=JSON.stringify(r);JSON.stringify(o.current)!==i&&(console.log(`${e} useOnAccountChange onAccountChange(pubkey=${s}) decoded=${i}`),a(r),o.current=r)});return console.log(`${e} useOnAccountChange onAccountChange(pubkey=${s}) subId=${l})`),()=>{i=!1,t.removeAccountChangeListener(l),console.log(`${e} useOnAccountChange removeAccountChangeListener(pubkey=${s}, subId=${l})`)}},[e,t,r,n]),i}function iC(){let{coinAccountsRef:e}=nR(),{getInstructions:t}=it();return{getInstructions:(0,l.useCallback)(({coin:r,parsedAmount:n,slippage:i,tipAmount:a,frontRunningProtection:o,operation:s})=>t({coin:r,parsedAmount:n,slippage:i,tipAmount:a,frontRunningProtection:o,operation:s,coinState:nM(e)}),[e,t])}}function iA(){let{address:e,connection:t,getInstructions:r}=it();return{getInstructions:(0,l.useCallback)(async({coin:n,parsedAmount:i,slippage:a,tipAmount:o,frontRunningProtection:s,operation:l})=>{if(!e)return null;let d=n.token_program?new c.PublicKey(n.token_program):b,u=await n_(n.mint,t,e,d);return{buildTxParams:await r({coin:n,parsedAmount:i,slippage:a,tipAmount:o,frontRunningProtection:s,operation:l,coinState:u}),coinState:u}},[e,t,r])}}function iI(e){let[t,r]=(0,l.useState)(0),[n,i]=(0,l.useState)(0),[a,o]=(0,l.useState)(!0),{global:s,globalConfig:c,feeConfig:u,ammFeeConfig:h}=nX(),{bondingCurve:p,pool:f,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,mintAccount:y}=n$(),{mint:w}=n8();(0,l.useEffect)(()=>{o(e)},[e]);let[v,b]=(0,l.useState)(null);return(0,l.useEffect)(()=>{setTimeout(()=>{b(null)},500)},[v]),(0,l.useEffect)(()=>{if(s&&c)try{if(e){if(a){let e=new d.default(Math.floor(1e9*(n||0))),t=im({global:s,feeConfig:u,bondingCurve:p,globalConfig:c,ammFeeConfig:h,pool:f,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,baseMintAccount:y,baseMint:w,amount:e});r(nw(t));return}let e=new d.default(1e6*(t||0)),o=ip({global:s,feeConfig:u,bondingCurve:p,globalConfig:c,ammFeeConfig:h,pool:f,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,baseMintAccount:y,baseMint:w,amount:e});i(ny(o));return}if(!p||!y||!w)return;let o=new d.default(1e6*(t||0)),l=iu({global:s,feeConfig:u,bondingCurve:p,globalConfig:c,ammFeeConfig:h,pool:f,poolBaseTokenAccount:m,poolQuoteTokenAccount:g,baseMintAccount:y,baseMint:w,amount:o}),v=ny(l);n<v?b("up"):n>v&&b("down"),i(v)}catch(e){console.error("usePumpQuote error",e)}},[p,e,a,n,t,s,u,c,h,f,m,g,y,w,i,r]),{amount:t,setAmount:r,solAmount:n,setSolAmount:i,nativeSelected:a,setNativeSelected:o,inputSolValueArrow:v,setInputSolValueArrow:b}}function iS({wallet:e,priorityLevel:t,clientServerUrl:r}){let{connection:n}=nd(),{blockhashWithExpiryBlockHeightRef:i}=n3();return{signAndSendTx:(0,l.useCallback)(async({instructions:a,defaultUnits:o,signBlock:s,captchaToken:l,batchId:c})=>{let d=i.current;if(d&&e)return await rJ({connection:n,blockhashWithExpiryBlockHeight:d,payer:e.publicKey,wallet:e,instructions:a,defaultUnits:o,unitsScaleFactor:1,priorityLevel:t,frontRunningProtection:!1,captchaToken:l,batchId:c,clientServerUrl:r,signBlock:s})},[i,r,n,t,e]),signAndSendTxWithoutComputeBudgetInstructions:(0,l.useCallback)(async({instructions:t,captchaToken:a,batchId:o})=>{let s=i.current;if(s&&e)return await rZ({connection:n,blockhashWithExpiryBlockHeight:s,payer:e.publicKey,allInstructions:t,wallet:e,frontRunningProtection:!1,captchaToken:a,batchId:o,clientServerUrl:r})},[i,r,n,e])}}function iT({wallet:e,priorityLevel:t,clientServerUrl:r}){let{connection:n}=nd(),{blockhashWithExpiryBlockHeightRef:i}=n3(),{signAndSendTx:a}=iS({wallet:e,priorityLevel:t,clientServerUrl:r});return{signAndSendSwapTx:(0,l.useCallback)(async({isBuySelected:o,mint:s,instructions:l,defaultUnits:c,unitsScaleFactor:d,frontRunningProtection:u,tipAmount:h,captchaToken:p,batchId:f,bondingCurve:m})=>{let g=i.current;return g&&e?o&&!m?(console.log(`Creating and buying mint=${s}`),await a({instructions:l,defaultUnits:c,signBlock:async e=>await ns(r,{serializedTx:r5(e),mint:s,isFreeCoinCreation:!0}),captchaToken:p,batchId:f})):await rY({connection:n,blockhashWithExpiryBlockHeight:g,payer:e.publicKey,wallet:e,instructions:l,defaultUnits:c,unitsScaleFactor:d,priorityLevel:t,frontRunningProtection:u,tipAmount:h,captchaToken:p,batchId:f,clientServerUrl:r}):void console.log("blockhashWithExpiryBlockHeight",g)},[i,r,n,t,a,e])}}function iP({wallet:e,priorityLevel:t,clientServerUrl:r}){let{getInstructions:n}=iA(),{signAndSendSwapTx:i}=iT({wallet:e,priorityLevel:t,clientServerUrl:r});return{trade:async({coin:e,operation:t,parsedAmount:r,slippage:a,frontRunningProtection:o,tipAmount:s,captchaToken:l,batchId:c})=>{let d=await n({coin:e,parsedAmount:r,slippage:a,tipAmount:s,frontRunningProtection:o,operation:t});if(!d)throw Error("Failed to get instructions for quick buy");let{buildTxParams:{instructions:u,defaultUnits:h,unitsScaleFactor:p},coinState:{bondingCurve:f}}=d;return i({isBuySelected:"buySolInput"===t||"buyTokenInput"===t,mint:e.mint,instructions:u,defaultUnits:h,unitsScaleFactor:p,frontRunningProtection:o,tipAmount:s,captchaToken:l,batchId:c,bondingCurve:f})}}}function ij({wallet:e,priorityLevel:t,clientServerUrl:r}){let{trade:n}=iP({wallet:e,priorityLevel:t,clientServerUrl:r});return{quickBuy:(0,l.useCallback)(async({coin:e,parsedAmount:t,slippage:r,frontRunningProtection:i,tipAmount:a,captchaToken:o,batchId:s})=>n({coin:e,operation:"buySolInput",parsedAmount:t,slippage:r,frontRunningProtection:i,tipAmount:a,captchaToken:o,batchId:s}),[n])}}function iN({wallet:e,priorityLevel:t,clientServerUrl:r}){let{getInstructions:n}=iC(),{coinAccountsRef:i}=nR(),{signAndSendSwapTx:a}=iT({wallet:e,priorityLevel:t,clientServerUrl:r});return{trade:(0,l.useCallback)(async({coin:e,operation:t,parsedAmount:r,slippage:o,frontRunningProtection:s,tipAmount:l,captchaToken:c,batchId:d})=>{let u=await n({coin:e,parsedAmount:r,slippage:o,tipAmount:l,frontRunningProtection:s,operation:t});if(!u)throw Error("Failed to get instructions for quick buy");let{instructions:h,defaultUnits:p,unitsScaleFactor:f,amount:m,solAmount:g}=u,{bondingCurve:y}=nM(i);return{signAndSendTxResponse:await a({isBuySelected:"buySolInput"===t||"buyTokenInput"===t,mint:e.mint,instructions:h,defaultUnits:p,unitsScaleFactor:f,frontRunningProtection:s,tipAmount:l,captchaToken:c,batchId:d,bondingCurve:y}),amount:m,solAmount:g}},[i,n,a])}}function iO(){let{userAccountsRef:e}=nV(),t=(0,l.useCallback)(({isBuySelected:t,nativeSelected:r,solAmount:n})=>{let{solBalance:i}=nH(e);return t&&r&&i<1e9*n},[e]),{coinAccountsRef:r}=nR();return{isSolBalanceInsufficientCallback:t,isTokenBalanceInsufficientCallback:(0,l.useCallback)(({isBuySelected:e,amount:t})=>{let{associatedUser:n}=nM(r);return!e&&new d.BN(n?.amount?.toString()||0).lt(((e,t=6)=>{let[r,n=""]=e.toString().split("."),i=n.slice(0,t).padEnd(t,"0");return new d.BN(r+i)})(t))},[r])}}e.s(["AMM_BUY_SELL_DEFAULT_UNITS",()=>2e5,"AMM_BUY_SELL_UNITS_SCALE_FACTOR",()=>1.05,"ATA_RENT_EXEMPTION_LAMPORTS",()=>2039280,"BUY_SELL_DEFAULT_UNITS",()=>12e4,"BUY_SELL_UNITS_SCALE_FACTOR",()=>1.05,"COLLECT_CREATOR_FEE_DEFAULT_UNITS",()=>1e5,"CREATE_DEFAULT_UNITS",()=>27e4,"CREATE_UNITS_SCALE_FACTOR",()=>1,"CoinProviders",()=>n9,"DEFAULT_COMMITMENT",()=>rD,"DEFAULT_CONFIG",()=>nu,"GlobalProviders",()=>n7,"LAMPORTS_PER_SIGNATURE",()=>5e3,"MAX_PRIORITY_FEE",()=>1e8,"MIGRATE_DEFAULT_UNITS",()=>35e4,"MIGRATE_UNITS_SCALE_FACTOR",()=>1,"MINIMUM_SELL_LAMPORTS",()=>5e6,"PRIORITY_FEE_IN_LAMPORTS",()=>1e6,"PUMP_AMM_SLIPPAGE_ERROR_CODE",()=>6004,"PUMP_BUY_SLIPPAGE_ERROR_CODE",()=>6002,"PUMP_MINT_SUPPLY",()=>ir,"PUMP_SELL_SLIPPAGE_ERROR_CODE",()=>6003,"PumpPositionProvider",()=>ib,"PumpSolanaError",()=>rV,"TRANSACTION_SLIPPAGE_ERROR_MESSAGE",()=>rL,"TRANSFER_COMPUTE_UNITS",()=>1e5,"TRANSFER_UNITS_SCALE_FACTOR",()=>1,"UserProviders",()=>ie,"canonicalPoolSwapSolanaState",()=>ig,"checkSolBalanceCanCoverSwapCosts",()=>ic,"computeBuySolAmountFromTokenAmount",()=>ip,"computeBuyTokenAmountFromSolAmount",()=>im,"computeSellSolAmountFromTokenAmount",()=>iu,"destructureCoinAccountsRef",()=>nM,"destructureGlobalAccountsRef",()=>n1,"destructureUserAccountsRef",()=>nH,"fetchAllCoinParsedState",()=>n_,"fetchAllCoinState",()=>nv,"fetchAllGlobalAccounts",()=>nb,"fetchAllUserAccounts",()=>nx,"getAccountInfo",()=>nm,"getBuySolInputAmountCappedToMaxAvailableSolBalance",()=>ii,"getCompletedCurveInstructions",()=>id,"getMultipleAccountsInfo",()=>ng,"getParsedError",()=>r8,"getPumpInstructions",()=>ia,"humanizeTokenAmount",()=>nw,"lamportsToSol",()=>ny,"mintAmount",()=>iw,"prependComputeBudgetInstructions",()=>rK,"prependSwapComputeBudgetInstructions",()=>r1,"returnErrorFromLogs",()=>rz,"sendTransactionToJito",()=>nn,"sendTransactionToTemporal",()=>nt,"sendTxToClientServer",()=>ni,"setUserFriendlyErrorMessage",()=>rF,"signAndSendCreateAndBuyTx",()=>na,"signAndSendTxFromAllInstructions",()=>rZ,"signAndSendTxFromInstructions",()=>rJ,"signAndSendTxFromSwapInstructions",()=>rY,"signCreateTx",()=>ns,"temporalTipAccount",()=>r0,"tipAmountInLamports",()=>r2,"tokenAmount",()=>iy,"transactionFromInstructions",()=>rB,"txSignature",()=>r3,"useCoinAccountsRefContext",()=>nR,"useCoinAccountsState",()=>n$,"useConnection",()=>nd,"useCreateCoin",()=>ik,"useGlobalAccountsRefContext",()=>n0,"useGlobalAccountsState",()=>nX,"useLatestBlockhash",()=>n3,"useOnAccountChange",()=>iE,"usePump",()=>iC,"usePumpCurrentCoinState",()=>iA,"usePumpExternalCoinState",()=>it,"usePumpPositionContext",()=>ix,"usePumpQuote",()=>iI,"useQuickBuy",()=>ij,"useSignAndSendSwapTx",()=>iT,"useSignAndSendTx",()=>iS,"useTrade",()=>iN,"useTradeCurrentState",()=>iP,"useUserAccountsRefContext",()=>nV,"useUserAccountsState",()=>nz,"useUserBalances",()=>iO,"useWhyDidYouUpdate",()=>i_,"versionedTxToBase58",()=>r5],401998)},254667,477633,259506,e=>{"use strict";let t,r,n,i,a,o,s,l,c,d,u,h,p,f,m,g,y,w,v;e.i(171580);let b={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},x=console,_={};Object.keys(b).forEach(e=>{_[e]=x[e]});let k="Datadog Browser SDK:",E={debug:_.debug.bind(x,k),log:_.log.bind(x,k),info:_.info.bind(x,k),warn:_.warn.bind(x,k),error:_.error.bind(x,k)},C="https://docs.datadoghq.com",A=`${C}/real_user_monitoring/browser/troubleshooting`,I="More details:";function S(e,t){return(...r)=>{try{return e(...r)}catch(e){E.error(t,e)}}}let T=!1;function P(e){T=e}function j(e){return function(){return N(e,this,arguments)}}function N(e,t,r){try{return e.apply(t,r)}catch(e){O(e)}}function O(e){if($(e),t)try{t(e)}catch(e){$(e)}}function $(...e){T&&E.error("[MONITOR]",...e)}function R(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}let M=R(),U="WorkerGlobalScope"in M,L="userContext",F="globalContext",D="accountContext",B="getContext",W="setContext",q="setContextProperty",z="removeContextProperty",V="clearContext",H=/[^\u0000-\u007F]/;function G(e){return H.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function K(e,t){let r,n=R();return n.Zone&&"function"==typeof n.Zone.__symbol__&&(r=e[n.Zone.__symbol__(t)]),r||(r=e[t]),r}function J(e,t){return K(R(),"setTimeout")(j(e),t)}function Y(e){K(R(),"clearTimeout")(e)}function Z(e,t){return K(R(),"setInterval")(j(e),t)}function Q(e){K(R(),"clearInterval")(e)}function X(){}function ee(e,t,r){if("object"!=typeof e||null===e)return JSON.stringify(e);let n=et(Object.prototype),i=et(Array.prototype),a=et(Object.getPrototypeOf(e)),o=et(e);try{return JSON.stringify(e,t,r)}catch(e){return"<error: unable to serialize object>"}finally{n(),i(),a(),o()}}function et(e){let t=e.toJSON;return t?(delete e.toJSON,()=>{e.toJSON=t}):X}function er(e,t=225280){let r=et(Object.prototype),n=et(Array.prototype),i=[],a=new WeakMap,o=en(e,"$",void 0,i,a),s=JSON.stringify(o),l=s?s.length:0;if(l>t)return void ei(t,"discarded",e);for(;i.length>0&&l<t;){let r=i.shift(),n=0;if(Array.isArray(r.source))for(let o=0;o<r.source.length;o++){let s=en(r.source[o],r.path,o,i,a);if(void 0!==s?l+=JSON.stringify(s).length:l+=4,l+=n,n=1,l>t){ei(t,"truncated",e);break}r.target[o]=s}else for(let o in r.source)if(Object.prototype.hasOwnProperty.call(r.source,o)){let s=en(r.source[o],r.path,o,i,a);if(void 0!==s&&(l+=JSON.stringify(s).length+n+o.length+3,n=1),l>t){ei(t,"truncated",e);break}r.target[o]=s}}return r(),n(),o}function en(e,t,r,n,i){let a=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!a||"object"!=typeof a){var o;return"bigint"==typeof(o=a)?`[BigInt] ${o.toString()}`:"function"==typeof o?`[Function] ${o.name||"unknown"}`:"symbol"==typeof o?`[Symbol] ${o.description||o.toString()}`:o}let s=function e(t){try{if(t instanceof Event){var r;return{type:(r=t).type,isTrusted:r.isTrusted,currentTarget:r.currentTarget?e(r.currentTarget):null,target:r.target?e(r.target):null}}if(t instanceof RegExp)return`[RegExp] ${t.toString()}`;let n=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch(e){}return"[Unserializable]"}(a);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(i.has(e))return`[Reference seen at ${i.get(e)}]`;let l=void 0!==r?`${t}.${r}`:t,c=Array.isArray(a)?[]:{};return i.set(e,l),n.push({source:a,target:c,path:l}),c}function ei(e,t,r){E.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,r)}function ea(e){var t,n;let i=[],a=ef(e,"stack"),o=String(e);if(a&&a.startsWith(o)&&(a=a.slice(o.length)),a&&a.split("\n").forEach(e=>{let t=function(e){let t=el.exec(e);if(!t)return;let r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=ec.exec(t[2]);return n&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}(e)||function(e){let t=ed.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){let t=eu.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){let t=eh.exec(e);if(!t)return;let r=t[3]&&t[3].indexOf(" > eval")>-1,n=ep.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}(e);t&&(!t.func&&t.line&&(t.func="?"),i.push(t))}),i.length>0&&function(){if(void 0!==r)return r;let[e,t]=[class extends Error{constructor(){super(),this.name="Error"}},Error].map(e=>new e);return r=eg(Object.getPrototypeOf(e))&&t.stack!==e.stack}()&&e instanceof Error){let r=[],a=e;for(;(a=Object.getPrototypeOf(a))&&eg(a);){let e=(null==(t=a.constructor)?void 0:t.name)||"?";r.push(e)}for(let e=r.length-1;e>=0&&(null==(n=i[0])?void 0:n.func)===r[e];e--)i.shift()}return{message:ef(e,"message"),name:ef(e,"name"),stack:i}}let eo="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",es="(?::(\\d+))",el=RegExp(`^\\s*at (.*?) ?\\(${eo}${es}?${es}?\\)?\\s*$`,"i"),ec=RegExp(`\\((\\S*)${es}${es}\\)`),ed=RegExp(`^\\s*at ?${eo}${es}?${es}??\\s*$`,"i"),eu=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,eh=/^\s*(.*?)(?:\((.*?)\))?(?:(?:(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?)|@)\s*$/i,ep=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function ef(e,t){if("object"!=typeof e||!e||!(t in e))return;let r=e[t];return"string"==typeof r?r:void 0}let em=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function eg(e){return String(e.constructor).startsWith("class ")}function ey(e){let t,r=Error(e);return r.name="HandlingStack",N(()=>{let e=ea(r);e.stack=e.stack.slice(2),t=ew(e)}),t}function ew(e){let t=ev(e);return e.stack.forEach(e=>{let r="?"===e.func?"<anonymous>":e.func,n=e.args&&e.args.length>0?`(${e.args.join(", ")})`:"",i=e.line?`:${e.line}`:"",a=e.line&&e.column?`:${e.column}`:"";t+=`
  at ${r}${n} @ ${e.url}${i}${a}`}),t}function ev(e){return`${e.name||"Error"}: ${e.message}`}let eb="No stack, consider using an instance of Error";function ex({stackTrace:e,originalError:t,handlingStack:r,componentStack:n,startClocks:i,nonErrorPrefix:a,useFallbackStack:o=!0,source:s,handling:l}){var c,d,u,h,p;let f=e_(t);return!e&&f&&(e=ea(t)),{startClocks:i,source:s,handling:l,handlingStack:r,componentStack:n,originalError:t,type:e?e.name:void 0,message:(c=e,d=f,u=a,h=t,(null==c?void 0:c.message)&&(null==c?void 0:c.name)?c.message:d?"Empty message":`${u} ${ee(er(h))}`),stack:e?ew(e):o?eb:void 0,causes:f?function(e,t){let r=e,n=[];for(;e_(null==r?void 0:r.cause)&&n.length<10;){let e=ea(r.cause);n.push({message:r.cause.message,source:t,type:null==e?void 0:e.name,stack:e&&ew(e)}),r=r.cause}return n.length?n:void 0}(t,s):void 0,fingerprint:e_(p=t)&&"dd_fingerprint"in p?String(p.dd_fingerprint):void 0,context:function(e){if(null!==e&&"object"==typeof e&&"dd_context"in e)return e.dd_context}(t)}}function e_(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function ek(e,t){return Object.keys(e).some(r=>e[r]===t)}function eE(e){return 0===Object.keys(e).length}(rN=rO||(rO={})).TRACK_INTAKE_REQUESTS="track_intake_requests",rN.USE_TREE_WALKER_FOR_ACTION_NAME="use_tree_walker_for_action_name",rN.FEATURE_OPERATION_VITAL="feature_operation_vital",rN.SHORT_SESSION_INVESTIGATION="short_session_investigation";let eC=new Set;function eA(e){let{env:t,service:r,version:n,datacenter:i,sdkVersion:a,variant:o}=e,s=[eI("sdk_version",null!=a?a:"6.22.0")];return t&&s.push(eI("env",t)),r&&s.push(eI("service",r)),n&&s.push(eI("version",n)),i&&s.push(eI("datacenter",i)),o&&s.push(eI("variant",o)),s}function eI(e,t){var r;let n=t?`${e}:${t}`:e;return(n.length>200||(r=n,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(r)))&&E.warn(`Tag ${n} doesn't meet tag requirements and will be sanitized. ${I} ${C}/getting_started/tagging/#defining-tags`),eS(n)}function eS(e){return e.replace(/,/g,"_")}let eT="datadoghq.com",eP=["ddsource","dd-api-key","dd-request-id"];function ej(e){var t;let r=null==(t=M.queueMicrotask)?void 0:t.bind(M);"function"==typeof r?r(j(e)):Promise.resolve().then(j(e))}class eN{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.addObserver(e),{unsubscribe:()=>this.removeObserver(e)}}notify(e){this.observers.forEach(t=>t(e))}addObserver(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0)}removeObserver(e){this.observers=this.observers.filter(t=>e!==t),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}function eO(...e){return new eN(t=>{let r=e.map(e=>e.subscribe(e=>t.notify(e)));return()=>r.forEach(e=>e.unsubscribe())})}class e$ extends eN{constructor(e){super(),this.maxBufferSize=e,this.buffer=[]}notify(e){this.buffer.push(e),this.buffer.length>this.maxBufferSize&&this.buffer.shift(),super.notify(e)}subscribe(e){let t=!1;return ej(()=>{for(let r of this.buffer){if(t)return;e(r)}t||this.addObserver(e)}),{unsubscribe:()=>{t=!0,this.removeObserver(e)}}}unbuffer(){ej(()=>{this.maxBufferSize=this.buffer.length=0})}}function eR(){return new Date().getTime()}function eM(){return performance.now()}function eU(){return{relative:eM(),timeStamp:eR()}}function eL(){var e,t;return void 0===n&&(n=null!=(t=null==(e=performance.timing)?void 0:e.navigationStart)?t:performance.timeOrigin),n}function eF(e,t){let r=M.__ddBrowserSdkExtensionCallback;r&&r({type:e,payload:t})}function eD(e){return 0!==e&&100*Math.random()<=e}function eB(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function eW(e,t,r=function(){if("undefined"!=typeof WeakSet){let e=new WeakSet;return{hasAlreadyBeenSeen(t){let r=e.has(t);return r||e.add(t),r}}}let e=[];return{hasAlreadyBeenSeen(t){let r=e.indexOf(t)>=0;return r||e.push(t),r}}}()){if(void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let e=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,e)}if(r.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let n=Array.isArray(e)?e:[];for(let e=0;e<t.length;++e)n[e]=eW(n[e],t[e],r);return n}let n="object"===eB(e)?e:{};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=eW(n[e],t[e],r));return n}function eq(...e){let t;for(let r of e)null!=r&&(t=eW(t,r));return t}function ez(){let e=R().DatadogEventBridge;if(e)return{getCapabilities(){var t;return JSON.parse((null==(t=e.getCapabilities)?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return null==(t=e.getPrivacyLevel)?void 0:t.call(e)},getAllowedWebViewHosts:()=>JSON.parse(e.getAllowedWebViewHosts()),send(t,r,n){e.send(JSON.stringify({eventType:t,event:r,view:n?{id:n}:void 0}))}}}function eV(e){var t;void 0===e&&(e=null==(t=R().location)?void 0:t.hostname);let r=ez();return!!r&&r.getAllowedWebViewHosts().some(t=>e===t||e.endsWith(`.${t}`))}function eH({messagesLimit:e,bytesLimit:t,durationLimit:r,pageMayExitObservable:n,sessionExpireObservable:i}){let a,o=n.subscribe(e=>u(e.reason)),s=i.subscribe(()=>u("session_expire")),l=new eN(()=>()=>{o.unsubscribe(),s.unsubscribe()}),c=0,d=0;function u(e){if(0===d)return;let t=d,r=c;d=0,c=0,h(),l.notify({reason:e,messagesCount:t,bytesCount:r})}function h(){Y(a),a=void 0}return{flushObservable:l,get messagesCount(){return d},notifyBeforeAddMessage(e){c+e>=t&&u("bytes_limit"),d+=1,c+=e,void 0===a&&(a=J(()=>{u("duration_limit")},r))},notifyAfterAddMessage(r=0){c+=r,d>=e?u("messages_limit"):c>=t&&u("bytes_limit")},notifyAfterRemoveMessage(e){c-=e,0==(d-=1)&&h()}}}let eG="agent",eK="console",eJ="logger",eY="source",eZ="report",eQ=0x1400000;function eX(e,t,r,n,i,a){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?e0(e,t,r,a,{onSuccess:()=>e1(0,t,r,n,i,a),onFailure:()=>{t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e}),function e(t,r,n,i,a){2===t.transportStatus&&J(()=>{e0(t.queuedPayloads.first(),t,r,a,{onSuccess:()=>{t.queuedPayloads.dequeue(),t.currentBackoffTime=1e3,e1(1,t,r,n,i,a)},onFailure:()=>{t.currentBackoffTime=Math.min(6e4,2*t.currentBackoffTime),e(t,r,n,i,a)}})},t.currentBackoffTime)}(t,r,n,i,a)}}):t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e})}function e0(e,t,r,n,{onSuccess:i,onFailure:a}){t.bandwidthMonitor.add(e),r(e,r=>{var o;t.bandwidthMonitor.remove(e),"opaque"!==(o=r).type&&(0===o.status&&!navigator.onLine||408===o.status||429===o.status||o.status>=500)?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:r.status},n.notify({type:"failure",bandwidth:t.bandwidthMonitor.stats(),payload:e}),a()):(t.transportStatus=0,n.notify({type:"success",bandwidth:t.bandwidthMonitor.stats(),payload:e}),i())})}function e1(e,t,r,n,i,a){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(i({message:`Reached max ${n} events size queued for upload: ${eQ/1048576}MiB`,source:eG,startClocks:eU()}),t.queueFullReported=!0);let o=t.queuedPayloads;for(t.queuedPayloads=e2();o.size()>0;)eX(o.dequeue(),t,r,n,i,a)}function e2(){let e=[];return{bytesCount:0,enqueue(t){return!this.isFull()&&(e.push(t),this.bytesCount+=t.bytesCount,!0)},first:()=>e[0],dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:()=>e.length,isFull(){return this.bytesCount>=eQ}}}function e3(e,t,r){let n=new eN,i={transportStatus:0,currentBackoffTime:1e3,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=81920&&this.ongoingRequestCount<32},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount},stats(){return{ongoingByteCount:this.ongoingByteCount,ongoingRequestCount:this.ongoingRequestCount}}},queuedPayloads:e2(),queueFullReported:!1};return{observable:n,send:a=>{for(let o of e)eX(a,i,(e,r)=>(function(e,t,r,n){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&r.bytesCount<t?fetch(e.build("fetch-keepalive",r),{method:"POST",body:r.data,keepalive:!0,mode:"cors"}).then(j(e=>null==n?void 0:n({status:e.status,type:e.type}))).catch(j(()=>e4(e,r,n))):e4(e,r,n)})(o,t,e,r),o.trackType,r,n)},sendOnExit:r=>{for(let n of e)!function(e,t,r){if(navigator.sendBeacon&&r.bytesCount<t)try{let t=e.build("beacon",r);if(navigator.sendBeacon(t,r.data))return}catch(e){var n;n=e,e5||(e5=!0,O(n))}e4(e,r)}(n,t,r)}}}let e5=!1;function e4(e,t,r){fetch(e.build("fetch",t),{method:"POST",body:t.data,mode:"cors"}).then(j(e=>null==r?void 0:r({status:e.status,type:e.type}))).catch(j(()=>null==r?void 0:r({status:0})))}function e6(e){return Object.values(e)}function e8(e,t,r,n,{once:i,capture:a,passive:o}={}){let s=j(t=>{(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(i&&u(),n(t))}),l=o?{capture:a,passive:o}:a,c=window.EventTarget&&t instanceof EventTarget?window.EventTarget.prototype:t,d=K(c,"addEventListener");function u(){let e=K(c,"removeEventListener");r.forEach(r=>e.call(t,r,s,l))}return r.forEach(e=>d.call(t,e,s,l)),{stop:u}}let e9={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function e7({encoder:e,request:t,flushController:r,messageBytesLimit:n}){let i={},a=r.flushObservable.subscribe(r=>(function(r){var n;let a=e6(i).join("\n");i={};let o=(n=r.reason,e6(e9).includes(n)),s=o?t.sendOnExit:t.send;if(o&&e.isAsync){let t=e.finishSync();t.outputBytesCount&&s(te(t));let r=[t.pendingData,a].filter(Boolean).join("\n");r&&s({data:r,bytesCount:G(r)})}else a&&e.write(e.isEmpty?a:`
${a}`),e.finish(e=>{s(te(e))})})(r));function o(t,a){let o,s,l=ee(t),c=e.estimateEncodedBytesCount(l);c>=n?E.warn(`Discarded a message whose size was bigger than the maximum allowed size ${n}KB. ${I} ${A}/#technical-limitations`):(void 0!==a&&void 0!==i[a]&&(o=i[a],delete i[a],s=e.estimateEncodedBytesCount(o),r.notifyAfterRemoveMessage(s)),r.notifyBeforeAddMessage(c),void 0!==a?(i[a]=l,r.notifyAfterAddMessage()):e.write(e.isEmpty?l:`
${l}`,e=>{r.notifyAfterAddMessage(e-c)}))}return{flushController:r,add:o,upsert:o,stop:a.unsubscribe}}function te(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}let tt="DISCARDED",tr="SKIPPED",tn="configuration",ti="usage",ta=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],to=["ddog-gov.com"];function ts(){return i||(i=new e$(100)),i}function tl(e,t){$(b.debug,e,t),ts().notify({rawEvent:{type:"log",message:e,status:"debug",...t}})}function tc(e,t){ts().notify({rawEvent:{type:"log",status:"error",...function(e){if(e_(e)){var t;let r=ea(e);return{error:{kind:r.name,stack:ew(((t=r).stack=t.stack.filter(e=>!e.url||ta.some(t=>e.url.startsWith(t))),t))},message:r.message}}return{error:{stack:eb},message:`Uncaught ${ee(e)}`}}(e),...t}})}function td(e){ts().notify({rawEvent:{type:ti,usage:e}})}function tu(e,t){t.silentMultipleInit||E.error(`${e} is already initialized.`)}let th={GRANTED:"granted",NOT_GRANTED:"not-granted"};function tp(e,t,r,n){return j((...i)=>(n&&td({feature:n}),e()[t][r](...i)))}function tf(e,t,r){e.changeObservable.subscribe(()=>{let n=e.getContext();r.add(e=>e[t].setContext(n))})}function tm(e,t,r,{computeHandlingStack:n}={}){let i=e[t];if("function"!=typeof i)if(!(t in e&&t.startsWith("on")))return{stop:X};else i=X;let a=!1,o=function(){let e;if(a)return i.apply(this,arguments);let t=Array.from(arguments);N(r,null,[{target:this,parameters:t,onPostCall:t=>{e=t},handlingStack:n?ey("instrumented method"):void 0}]);let o=i.apply(this,t);return e&&N(e,null,[o]),o};return e[t]=o,{stop:()=>{a=!0,e[t]===o&&(e[t]=i)}}}function tg(e,t,r){let n={...e};for(let[e,{required:i,type:a}]of Object.entries(t))"string"!==a||ty(n[e])||(n[e]=String(n[e])),i&&ty(n[e])&&E.warn(`The property ${e} of ${r} is required; context will not be sent to the intake.`);return n}function ty(e){return null==e||""===e}function tw(e="",{propertiesConfig:t={}}={}){let r={},n=new eN,i={getContext:()=>eW(void 0,r),setContext:a=>{let o;((o="object"===eB(a))||E.error("Unsupported context:",a),o)?r=er(tg(a,t,e)):i.clearContext(),n.notify()},setContextProperty:(i,a)=>{r=er(tg({...r,[i]:a},t,e)),n.notify()},removeContextProperty:i=>{delete r[i],tg(r,t,e),n.notify()},clearContext:()=>{r={},n.notify()},changeObservable:n};return i}function tv(e,t,r){let n=r.getHandler(),i=Array.isArray(n)?n:[n];return tx[e]>=tx[r.getLevel()]&&i.includes(t)}let tb={ok:"ok",debug:"debug",info:"info",notice:"notice",warn:"warn",error:"error",critical:"critical",alert:"alert",emerg:"emerg"},tx={[tb.ok]:0,[tb.debug]:1,[tb.info]:2,[tb.notice]:4,[tb.warn]:5,[tb.error]:6,[tb.critical]:7,[tb.alert]:8,[tb.emerg]:9};function t_(e,{includeMessage:t=!1}={}){return{stack:e.stack,kind:e.type,message:t?e.message:void 0,causes:e.causes,fingerprint:e.fingerprint,handling:e.handling}}let tk="http",tE=Object.keys(tb);class tC{constructor(e,t,r=tk,n=tb.debug,i={}){this.handleLogStrategy=e,this.handlerType=r,this.level=n,this.contextManager=tw("logger"),this.tags=[],this.contextManager.setContext(i),t&&this.contextManager.setContextProperty("logger",{name:t})}logImplementation(e,t,r=tb.info,n,i){let a,o=er(t);if(null!=n){let e=ex({originalError:n,nonErrorPrefix:"Provided",source:eJ,handling:"handled",startClocks:eU()});a=eq({error:t_(e,{includeMessage:!0})},e.context,o)}else a=o;this.handleLogStrategy({message:er(e),context:a,status:r},this,i)}log(e,t,r=tb.info,n){let i;tv(r,tk,this)&&(i=ey("log")),this.logImplementation(e,t,r,n,i)}setContext(e){this.contextManager.setContext(e)}getContext(){return this.contextManager.getContext()}setContextProperty(e,t){this.contextManager.setContextProperty(e,t)}removeContextProperty(e){this.contextManager.removeContextProperty(e)}clearContext(){this.contextManager.clearContext()}addTag(e,t){this.tags.push(eI(e,t))}removeTagsWithKey(e){let t=eS(e);this.tags=this.tags.filter(e=>e!==t&&!e.startsWith(`${t}:`))}getTags(){return this.tags.slice()}setHandler(e){this.handlerType=e}getHandler(){return this.handlerType}setLevel(e){this.level=e}getLevel(){return this.level}}function tA(e){return function(t,r,n){let i;tv(e,tk,this)&&(i=ey("log")),this.logImplementation(t,r,e,n,i)}}function tI(){return U?{}:{view:{referrer:document.referrer,url:window.location.href}}}function tS(e,t){let r=e.indexOf(t);r>=0&&e.splice(r,1)}function tT(e){return tP(e,location.href).href}function tP(e,t){let{URL:r}=function(){if(!a){let e,t;try{(e=document.createElement("iframe")).style.display="none",document.body.appendChild(e),t=e.contentWindow}catch(e){t=M}a={URL:t.URL},null==e||e.remove()}return a}();try{return void 0!==t?new r(e,t):new r(e)}catch(e){throw Error(`Failed to construct URL: ${String(e)}`)}}function tj(){return o||(o=new eN(e=>{if(!M.fetch)return;let{stop:t}=tm(M,"fetch",t=>(function({parameters:e,onPostCall:t,handlingStack:r},n){let[i,a]=e,o=a&&a.method;void 0===o&&i instanceof Request&&(o=i.method);let s=void 0!==o?String(o).toUpperCase():"GET",l=i instanceof Request?i.url:tT(String(i)),c={state:"start",init:a,input:i,method:s,startClocks:eU(),url:l,handlingStack:r};n.notify(c),e[0]=c.input,e[1]=c.init,t(e=>(function(e,t,r){function n(t){r.state="resolve",Object.assign(r,t),e.notify(r)}t.then(j(e=>{n({response:e,responseType:e.type,status:e.status,isAborted:!1})}),j(e=>{var t,i;n({status:0,isAborted:(null==(i=null==(t=r.init)?void 0:t.signal)?void 0:i.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))})(n,e,c))})(t,e),{computeHandlingStack:!0});return t})),o}!function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);a>3&&o&&Object.defineProperty(t,r,o)}([function(e,r,n){let i=n.value;n.value=function(...e){return(t?j(i):i).apply(this,e)}}],tC.prototype,"logImplementation",null),tC.prototype.ok=tA(tb.ok),tC.prototype.debug=tA(tb.debug),tC.prototype.info=tA(tb.info),tC.prototype.notice=tA(tb.notice),tC.prototype.warn=tA(tb.warn),tC.prototype.error=tA(tb.error),tC.prototype.critical=tA(tb.critical),tC.prototype.alert=tA(tb.alert),tC.prototype.emerg=tA(tb.emerg);let tN=[];function tO(e,t,r,n){var i,a;let o=(i=r,a=n,`_dd_c_${i}_${a}`);tN.push(e8(e,window,["storage"],({key:e})=>{o===e&&t.setContext(l())},void 0)),t.changeObservable.subscribe(function(){localStorage.setItem(o,JSON.stringify(t.getContext()))});let s=eq(l(),t.getContext());function l(){let e=localStorage.getItem(o);return e?JSON.parse(e):{}}eE(s)||t.setContext(s)}function t$(){return tw("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}})}function tR(){return tw("global context")}function tM(){return tw("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}})}function tU(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,tU)}let tL=/([\w-]+)\s*=\s*([^;]+)/g;function tF(e,t,r=0,n){let i=new Date;i.setTime(i.getTime()+r);let a=`expires=${i.toUTCString()}`,o=n&&n.crossSite?"none":"strict",s=n&&n.domain?`;domain=${n.domain}`:"",l=n&&n.secure?";secure":"",c=n&&n.partitioned?";partitioned":"";document.cookie=`${e}=${t};${a};path=/;samesite=${o}${s}${l}${c}`}function tD(e){var t=document.cookie;for(tL.lastIndex=0;;){let r=tL.exec(t);if(r){if(r[1]===e)return r[2]}else break}}function tB(e){return l||(l=function(e){let t=new Map;for(tL.lastIndex=0;;){let r=tL.exec(e);if(r)t.set(r[1],r[2]);else break}return t}(document.cookie)),l.get(e)}function tW(e=location.hostname,t=document.referrer){if(void 0===c){let r=function(e,t){try{return e||tP(t).hostname}catch(e){}}(e,t);if(r){let e=`dd_site_test_${tU()}`,t=r.split("."),n=t.pop();for(;t.length&&!tD(e);)tF(e,"test",1e3,{domain:n=`${t.pop()}.${n}`});tF(e,"",0,{domain:n}),c=n}}return c}let tq="_dd_s",tz=144e5,tV=9e5,tH=31536e6,tG="cookie",tK="local-storage",tJ=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function tY(e,t){let r={isExpired:"1"};return t.trackAnonymousUser&&((null==e?void 0:e.anonymousId)?r.anonymousId=null==e?void 0:e.anonymousId:r.anonymousId=tU()),r}function tZ(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||eR()-Number(t.created)<tz)&&(void 0===t.expire||eR()<Number(t.expire)))}function tQ(e){e.expire=String(eR()+tV)}function tX(e){return Object.entries(e).map(([e,t])=>"anonymousId"===e?`aid=${t}`:`${e}=${t}`).join("&")}function t0(e){let t={};return e&&(-1!==e.indexOf("&")||tJ.test(e))&&e.split("&").forEach(e=>{let r=tJ.exec(e);if(null!==r){let[,e,n]=r;"aid"===e?t.anonymousId=n:t[e]=n}}),t}function t1(e){let t=function(e){let t={};if(t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains){let e=tW();if(!e)return;t.domain=e}return t}(e);return t&&function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{let t=`dd_cookie_test_${tU()}`,r="test";tF(t,r,6e4,e);let n=tD(t)===r;return tF(t,"",0,e),n}catch(e){return E.error(e),!1}}(t)?{type:tG,cookieOptions:t}:void 0}function t2(e,t,r,n){tF(tq,tX(r),t.trackAnonymousUser?tH:n,e)}function t3(){return t0(tD(tq))}function t5(){try{let e=tU(),t=`_dd_test_${e}`;localStorage.setItem(t,e);let r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:tK}:void 0}catch(e){return}}function t4(e){localStorage.setItem(tq,tX(e))}function t6(){return t0(localStorage.getItem(tq))}let t8=[];function t9(e,t,r=0){var n;let i,{isLockEnabled:a,persistSession:o,expireSession:s}=t,l=e=>o({...e,lock:i}),c=()=>{let{lock:e,...r}=t.retrieveSession();return{session:r,lock:e&&!function(e){var t;let[,r]=e.split("--");return!r||(t=Number(r),eR()-t>1e3)}(e)?e:void 0}};if(d||(d=e),e!==d)return void t8.push(e);if(a&&r>=100)return void re(t);let u=c();if(a&&(u.lock||(i=tU()+"--"+eR(),l(u.session),(u=c()).lock!==i)))return void t7(e,t,r);let h=e.process(u.session);if(a&&(u=c()).lock!==i)return void t7(e,t,r);if(h&&(tZ(h)?s(h):(tQ(h),a?l(h):o(h))),a&&!(h&&tZ(h))){if((u=c()).lock!==i)return void t7(e,t,r);o(u.session),h=u.session}null==(n=e.after)||n.call(e,h||u.session),re(t)}function t7(e,t,r){J(()=>{t9(e,t,r+1)},10)}function re(e){d=void 0;let t=t8.shift();t&&t9(t,e)}let rt=["chrome-extension://","moz-extension://"];function rr(e){return rt.some(t=>e.includes(t))}function rn(e,t,r){let n=function(e,t){let r=`/api/v2/${t}`,n=e.proxy;if("string"==typeof n){let e=tT(n);return t=>`${e}?ddforward=${encodeURIComponent(`${r}?${t}`)}`}if("function"==typeof n)return e=>n({path:r,parameters:e});let i=function(e,t){let{site:r=eT,internalAnalyticsSubdomain:n}=t;if("logs"===e&&t.usePciIntake&&r===eT)return"pci.browser-intake-datadoghq.com";if(n&&r===eT)return`${n}.${eT}`;if("dd0g-gov.com"===r)return`http-intake.logs.${r}`;let i=r.split("."),a=i.pop();return`browser-intake-${i.join("-")}.${a}`}(t,e);return e=>`https://${i}${r}?${e}`}(e,t);return{build:(i,a)=>n(function({clientToken:e,internalAnalyticsSubdomain:t,source:r="browser"},n,i,{retry:a,encoding:o},s=[]){let l=[`ddsource=${r}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.22.0")}`,"dd-evp-origin=browser",`dd-request-id=${tU()}`].concat(s);return o&&l.push(`dd-evp-encoding=${o}`),"rum"===n&&(l.push(`batch_time=${eR()}`,`_dd.api=${i}`),a&&l.push(`_dd.retry_count=${a.count}`,`_dd.retry_after=${a.lastFailureStatus}`)),t&&l.reverse(),l.join("&")}(e,t,i,a,r)),trackType:t}}function ri(e,t){return null==e||"string"==typeof e||(E.error(`${t} must be defined as a string`),!1)}function ra(e,t){return void 0===e||!!("number"==typeof e&&e>=0&&e<=100)||(E.error(`${t} Sample Rate should be a number between 0 and 100`),!1)}let ro={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function rs(e){return{startClocks:eU(),source:eZ,handling:"unhandled",...e}}function rl(e,t,r,n,i){return r?ew({name:e,message:t,stack:[{func:"?",url:r,line:null!=n?n:void 0,column:null!=i?i:void 0}]}):void 0}function rc(e,t,r){let n;return void 0===e?[]:"all"===e||Array.isArray(e)&&e.every(e=>t.includes(e))?"all"===e?t:(n=new Set,e.forEach(e=>n.add(e)),Array.from(n)):void E.error(`${r} should be "all" or an array with allowed values "${t.join('", "')}"`)}function rd(){return!U&&!!(M._DATADOG_SYNTHETICS_INJECTS_RUM||tB("datadog-synthetics-injects-rum"))}function ru(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(r,n){let i=G(r);t+=i,e+=r,n&&n(i)},finish(e){e(this.finishSync())},finishSync(){let r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount:e=>e.length}}let rh=1/0,rp=null,rf=new Set,rm=[];async function rg(){let e,t,r=t3();tl("Unexpected session state",{session:r,isSyntheticsTest:"string"==typeof(e=window._DATADOG_SYNTHETICS_PUBLIC_ID||tB("datadog-synthetics-public-id"))&&!!e&&"string"==typeof(t=window._DATADOG_SYNTHETICS_RESULT_ID||tB("datadog-synthetics-result-id"))&&!!t,createdTimestamp:null==r?void 0:r.created,expireTimestamp:null==r?void 0:r.expire,cookie:await ry(),currentDomain:`${window.location.protocol}//${window.location.hostname}`})}async function ry(){let e;return{count:(e="cookieStore"in window?await window.cookieStore.getAll(tq):document.cookie.split(/\s*;\s*/).filter(e=>e.startsWith(tq))).length,domain:tW()||"undefined",...e}}function rw(e,t){var r;return"0"===(r=t)||"1"===r?t:eD(e.sessionSampleRate)?"1":"0"}let rv={},rb={[b.log]:tb.info,[b.debug]:tb.debug,[b.info]:tb.info,[b.warn]:tb.warn,[b.error]:tb.error},rx=new WeakMap;function r_({target:e,parameters:[t,r]}){rx.set(e,{state:"open",method:String(t).toUpperCase(),url:tT(String(r))})}function rk({target:e}){let t=rx.get(e);t&&(t.isAborted=!0)}function rE(e,t){return e.length>t.requestErrorResponseLengthLimit?`${e.substring(0,t.requestErrorResponseLengthLimit)}...`:e}let rC=class{constructor(){this.callbacks={}}notify(e,t){let r=this.callbacks[e];r&&r.forEach(e=>e(t))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter(e=>t!==e)}}}},rA={[tb.ok]:b.debug,[tb.debug]:b.debug,[tb.info]:b.info,[tb.notice]:b.info,[tb.warn]:b.warn,[tb.error]:b.error,[tb.critical]:b.error,[tb.alert]:b.error,[tb.emerg]:b.error},rI=function(){let e={};return{register:(t,r)=>(e[t]||(e[t]=[]),e[t].push(r),{unregister:()=>{e[t]=e[t].filter(e=>e!==r)}}),triggerHook(t,r){let n=e[t]||[],i=[];for(let e of n){let t=e(r);if(t===tt)return tt;t!==tr&&i.push(t)}return eq(...i)}}},rS="logs",rT=(rP=function(e,r,n,i){var a,o,l,c,d,h,p,f;let m,g,y,w,v,k,E,C,A,I=new rC,S=rI(),T=[];I.subscribe(1,e=>eF("logs",e));let P=e=>{I.notify(0,{rawLogsEvent:{message:e.message,date:e.startClocks.timeStamp,origin:eG,status:tb.error}}),tl("Error reported to customer",{"error.message":e.message})},$=U?new eN:new eN(t=>{let{stop:r}=e8(e,window,["visibilitychange","freeze"],e=>{"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:e9.HIDDEN}):"freeze"===e.type&&t.notify({reason:e9.FROZEN})},{capture:!0}),n=e8(e,window,["beforeunload"],()=>{t.notify({reason:e9.UNLOADING})},void 0).stop;return()=>{r(),n()}}),R=function(e,r,n,i,a,o){let s=new eN,{stop:l}=function(e,t,r,n,i){let a=[];if(eV()){let e=ez(),t=i.subscribe(t=>e.send("internal_telemetry",t));a.push(t.unsubscribe)}else{let o=[e.rumEndpointBuilder];e.replica&&"datad0g.com"===e.site&&o.push(e.replica.rumEndpointBuilder);let s=e7({encoder:n(4),request:e3(o,e.batchBytesLimit,t),flushController:eH({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageMayExitObservable:r,sessionExpireObservable:new eN}),messageBytesLimit:e.messageBytesLimit});a.push(s.stop);let l=i.subscribe(s.add);a.push(l.unsubscribe)}return{stop:()=>a.forEach(e=>e())}}(r,i,a,o,s),{enabled:c,metricsEnabled:d}=function(e,r,n,i,a=1){var o;let s={},l=!to.includes(r.site)&&eD(r.telemetrySampleRate),c={log:l,[tn]:l&&eD(r.telemetryConfigurationSampleRate),[ti]:l&&eD(r.telemetryUsageSampleRate),metric:l&&eD(a)},d={is_local_file:(null==(o=M.location)?void 0:o.protocol)==="file:",is_worker:U},u=ts();return u.subscribe(({rawEvent:t,metricName:a})=>{var o,l,u,h,p;let f,m;if(a&&!c.metric||!c[t.type])return;let g=a||t.status||t.type,y=s[g];if(y||(y=s[g]=new Set),y.size>=r.maxTelemetryEventsPerPage)return;let w=ee(t);if(y.has(w))return;let v=n.triggerHook(1,{startTime:eU().relative});if(v===tt)return;let b=(o=v,l=e,u=t,h=d,m={type:"telemetry",date:eU().timeStamp,service:l,version:"6.22.0",source:"browser",_dd:{format_version:2},telemetry:eq(u,{runtime_env:h,connectivity:{status:(f=M.navigator).onLine?"connected":"not_connected",interfaces:f.connection&&f.connection.type?[f.connection.type]:void 0,effective_type:null==(p=f.connection)?void 0:p.effectiveType},sdk_setup:"npm"}),ddtags:eA(r).join(","),experimental_features:Array.from(eC)},eq(m,o));i.notify(b),eF("telemetry",b),y.add(w)}),u.unbuffer(),t=tc,{enabled:l,metricsEnabled:c.metric}}(e,r,n,s);return{stop:l,enabled:c,metricsEnabled:d}}("browser-logs-sdk",e,S,P,$,ru);T.push(R.stop);let L=!e.sessionStoreStrategyType||eV()||rd()?(m="1"===rw(e)?{}:void 0,{findTrackedSession:()=>m,expireObservable:new eN}):{findTrackedSession:(e,t={returnInactive:!1})=>{let r=g.findSession(e,t);return r&&"1"===r.trackingType?{id:r.id,anonymousId:r.anonymousId}:void 0},expireObservable:(g=function(e,t,r,n){var i;let a=new eN,o=new eN,l=function(e,t,r,n,i=function(e,t){return e.type===tG?function(e,t){let r={isLockEnabled:0===(null!=s?s:s=function(e=window){var t;let r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?0:(null==(t=e.navigator.vendor)?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?1:2}()),persistSession:r=>t2(t,e,r,tV),retrieveSession:t3,expireSession:r=>t2(t,e,tY(r,e),tz)};if(!tB(tq)){let e=tB("_dd"),t=tB("_dd_r"),n=tB("_dd_l"),i={};e&&(i.id=e),n&&/^[01]$/.test(n)&&(i.logs=n),t&&/^[012]$/.test(t)&&(i.rum=t),eE(i)||(tQ(i),r.persistSession(i))}return r}(t,e.cookieOptions):{isLockEnabled:!1,persistSession:t4,retrieveSession:t6,expireSession:e=>(function(e,t){t4(tY(e,t))})(e,t)}}(e,t)){var a;let o,l,c,d,u=new eN,h=new eN,p=new eN,f=Z(function(){let e=i.retrieveSession();tZ(e)?t9({process:e=>tZ(e)?tY(e,t):void 0,after:y},i):y(e)},1e3);w();let{throttled:m,cancel:g}=(a=()=>{t9({process:e=>{if(eE(e))return;let t=y(e);return function(e){if(eE(e))return;let t=n(e[r]);e[r]=t,delete e.isExpired,"0"===t||e.id||(e.id=tU(),e.created=String(eR()))}(t),t},after:e=>{eE(e)||v()||(o=e,u.notify()),o=e}},i)},d=!1,{throttled:(...e)=>{if(d){l=e;return}a(...e),d=!0,c=J(()=>{l&&a(...l),d=!1,l=void 0},1e3)},cancel:()=>{Y(c),d=!1,l=void 0}});function y(e){var n;return tZ(e)&&(e=tY(e,t)),v()&&((n=e,o.id!==n.id||o[r]!==n[r])?(o=tY(o,t),h.notify()):(p.notify({previousState:o,newState:e}),o=e)),e}function w(){t9({process:e=>{if(eE(e))return tY(e,t)},after:e=>{o=e}},i)}function v(){return(null==o?void 0:o[r])!==void 0}return{expandOrRenewSession:m,expandSession:function(){t9({process:e=>v()?y(e):void 0},i)},getSession:()=>o,renewObservable:u,expireObservable:h,sessionStateUpdateObservable:p,restartSession:w,expire:()=>{g(),i.expireSession(o),y(tY(o,t))},stop:()=>{Q(f)},updateSessionState:function(e){t9({process:t=>({...t,...e}),after:y},i)}}}(e.sessionStoreStrategyType,e,t,r);rm.push(()=>l.stop());let c=function({expireDelay:e,maxEntries:t}){let r=[];rp||(rp=Z(()=>void rf.forEach(e=>e()),6e4));let n=()=>{let t=eM()-e;for(;r.length>0&&r[r.length-1].endTime<t;)r.pop()};return rf.add(n),{add:function(e,n){let i={value:e,startTime:n,endTime:rh,remove:()=>{tS(r,i)},close:e=>{i.endTime=e}};return t&&r.length>=t&&r.pop(),r.unshift(i),i},find:function(e=rh,t={returnInactive:!1}){for(let n of r)if(n.startTime<=e){if(t.returnInactive||e<=n.endTime)return n.value;break}},closeActive:function(e){let t=r[0];t&&t.endTime===rh&&t.close(e)},findAll:function(e=rh,t=0){let n=e+t;return r.filter(t=>t.startTime<=n&&e<=t.endTime).map(e=>e.value)},reset:function(){r=[]},stop:function(){rf.delete(n),0===rf.size&&rp&&(Q(rp),rp=null)}}}({expireDelay:tz});if(rm.push(()=>c.stop()),l.renewObservable.subscribe(()=>{c.add(d(),eM()),a.notify()}),l.expireObservable.subscribe(()=>{o.notify(),c.closeActive(eM())}),l.expandOrRenewSession(),c.add(d(),{relative:0,timeStamp:eL()}.relative),i=rO.SHORT_SESSION_INVESTIGATION,eC.has(i)){let t=l.getSession();t&&function(e,t){if(!window.cookieStore||!t.created)return;let r=Number(t.created),n=eR(),{stop:i}=e8(e,cookieStore,["change"],function(e){let a=function(e,t){for(let r=e.length-1;r>=0;r-=1){let n=e[r];if(t(n,r,e))return n}}(e.changed,e=>e.name===tq);if(!a)return;let o=eR()-r;if(o>84e4)i();else{let e=t0(a.value);if(e.id&&e.id!==t.id){i();let r=eR()-n;ry().then(n=>{tl("Session cookie changed",{time:r,session_age:o,old:t,new:e,cookie:n})}).catch(O)}}},void 0);rm.push(i)}(e,t)}function d(){let e=l.getSession();return e?{id:e.id,trackingType:e[t],isReplayForced:!!e.forcedReplay,anonymousId:e.anonymousId}:(rg().catch(()=>void 0),{id:"invalid",trackingType:"0",isReplayForced:!1,anonymousId:void 0})}return n.observable.subscribe(()=>{n.isGranted()?l.expandOrRenewSession():l.expire()}),function(e,t){let{stop:r}=e8(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});rm.push(r)}(e,()=>{n.isGranted()&&l.expandOrRenewSession()}),function(e,t){let r=()=>{"visible"===document.visibilityState&&t()},{stop:n}=e8(e,document,["visibilitychange"],r,void 0);rm.push(n);let i=Z(r,6e4);rm.push(()=>{Q(i)})}(e,()=>l.expandSession()),function(e,t){let{stop:r}=e8(e,window,["resume"],t,{capture:!0});rm.push(r)}(e,()=>l.restartSession()),{findSession:(e,t)=>c.find(e,t),renewObservable:a,expireObservable:o,sessionStateUpdateObservable:l.sessionStateUpdateObservable,expire:l.expire,updateSessionState:l.updateSessionState}}(e,"logs",t=>rw(e,t),n)).expireObservable};function F(){return n.isGranted()?tr:tt}S.register(0,F),S.register(1,F),S.register(0,({startTime:t})=>{let r=L.findTrackedSession(t);return L.findTrackedSession(t,{returnInactive:!0})?{service:e.service,session_id:r?r.id:void 0,session:r?{id:r.id}:void 0}:tt}),S.register(1,({startTime:e})=>{let t=L.findTrackedSession(e);return t&&t.id?{session:{id:t.id}}:tr});let D=(y=t$(),e.storeContextsAcrossPages&&tO(e,y,rS,4),S.register(0,()=>{let e=y.getContext();return eE(e)||!e.id?tr:{account:e}}),y),B=(w=tM(),e.storeContextsAcrossPages&&tO(e,w,rS,1),S.register(0,({eventType:t,startTime:r})=>{let n=w.getContext(),i=L.findTrackedSession(r);return(i&&i.anonymousId&&!n.anonymous_id&&e.trackAnonymousUser&&(n.anonymous_id=i.anonymousId),eE(n))?tr:{type:t,usr:n}}),S.register(1,({startTime:e})=>{var t;return{anonymous_id:null==(t=L.findTrackedSession(e))?void 0:t.anonymousId}}),w),W=(v=tR(),e.storeContextsAcrossPages&&tO(e,v,rS,2),S.register(0,()=>{let e=v.getContext();return e}),v);function q(e){let t=function(e,t){if(t&&t.getInternalContext)return t.getInternalContext(e)}(e,rd()?M.DD_RUM_SYNTHETICS:M.DD_RUM);if(t)return t}S.register(0,({startTime:e})=>{let t=q(e);return t||tr}),S.register(1,({startTime:e})=>{var t,r;let n=q(e);return n?{application:{id:n.application_id},view:{id:null==(t=n.view)?void 0:t.id},action:{id:null==(r=n.user_action)?void 0:r.id}}:tr}),function(e,t){var r;if(e.forwardErrorsToLogs)(U?new eN:(!u&&(r=e,u=new eN(e=>{let{stop:t}=tm(XMLHttpRequest.prototype,"open",r_),{stop:n}=tm(XMLHttpRequest.prototype,"send",t=>{!function({target:e,parameters:[t],handlingStack:r},n,i){let a=rx.get(e);if(!a)return;a.state="start",a.startClocks=eU(),a.isAborted=!1,a.xhr=e,a.handlingStack=r,a.body=t;let o=!1,{stop:s}=tm(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&l()}),l=()=>{var t;c(),s(),o||(o=!0,a.state="complete",t=a.startClocks.timeStamp,a.duration=eR()-t,a.status=e.status,i.notify({...a}))},{stop:c}=e8(n,e,["loadend"],l,void 0);i.notify(a)}(t,r,e)},{computeHandlingStack:!0}),{stop:i}=tm(XMLHttpRequest.prototype,"abort",rk);return()=>{t(),n(),i()}})),u)).subscribe(e=>{"complete"===e.state&&n("xhr",e)}),tj().subscribe(e=>{"resolve"===e.state&&n("fetch",e)});function n(r,n){var i,a,o,s,l,c,d,u,h,p,f,m;let g;function y(e){let i={isAborted:n.isAborted,handlingStack:n.handlingStack};t.notify(0,{rawLogsEvent:{message:`${"xhr"===r?"XHR":"Fetch"} error ${n.method} ${n.url}`,date:n.startClocks.timeStamp,error:{stack:e||"Failed to load",handling:void 0},http:{method:n.method,status_code:n.status,url:n.url},status:tb.error,origin:"network"},domainContext:i})}i=n.url,!eP.every(e=>i.includes(e))&&(0===(a=n).status&&"opaque"!==a.responseType||n.status>=500)&&("xhr"in n?(o=n.xhr,s=e,y("string"==typeof o.response?rE(o.response,s):o.response)):n.response?(l=n.response,c=e,d=y,(g=function(e){try{return e.clone()}catch(e){return}}(l))&&g.body?window.TextDecoder?(u=g.body,h=c.requestErrorResponseLengthLimit,p=(e,t)=>{e?d(`Unable to retrieve response: ${e}`):d(t)},function(e,t,r){let n=e.getReader(),i=[],a=0;function o(){let e,o;if(n.cancel().catch(X),r.collectStreamBody){let t;if(1===i.length)t=i[0];else{t=new Uint8Array(a);let e=0;i.forEach(r=>{t.set(r,e),e+=r.length})}e=t.slice(0,r.bytesLimit),o=t.length>r.bytesLimit}t(void 0,e,o)}!function e(){n.read().then(j(t=>{t.done?o():(r.collectStreamBody&&i.push(t.value),(a+=t.value.length)>r.bytesLimit?o():e())}),j(e=>t(e)))}()}(u,(e,t,r)=>{if(e)p(e);else{let e=new TextDecoder().decode(t);r&&(e+="..."),p(void 0,e)}},{bytesLimit:h,collectStreamBody:!0})):g.text().then(j(e=>d(rE(e,c))),j(e=>d(`Unable to retrieve response: ${e}`))):d()):n.error&&(f=n.error,m=e,y(rE(ew(ea(f)),m))))}}(e,I),o=e,l=I,c=i,o.forwardErrorsToLogs&&c.subscribe(e=>{if(0===e.type){let t=e.error;l.notify(0,{rawLogsEvent:{message:t.message,date:t.startClocks.timeStamp,error:t_(t),origin:eY,status:tb.error},messageContext:t.context})}}),i.unbuffer(),d=e,h=I,eO(...d.forwardConsoleLogs.map(e=>{var t;return rv[e]||(rv[e]=(t=e,new eN(e=>{let r=x[t];return x[t]=(...n)=>{r.apply(console,n);let i=ey("console error");N(()=>{e.notify(function(e,t,r){let n=e.map(e=>{var t;return"string"==typeof(t=e)?er(t):e_(t)?ev(ea(t)):ee(er(t),void 0,2)}).join(" ");if(t===b.error){let i=ex({originalError:e.find(e_),handlingStack:r,startClocks:eU(),source:eK,handling:"handled",nonErrorPrefix:"Provided",useFallbackStack:!1});return i.message=n,{api:t,message:n,handlingStack:r,error:i}}return{api:t,message:n,error:void 0,handlingStack:r}}(n,t,i))})},()=>{x[t]=r}}))),rv[e]})).subscribe(e=>{var t;let r={rawLogsEvent:{date:eR(),message:e.message,origin:eK,error:e.error&&t_(e.error),status:rb[e.api]},messageContext:null==(t=e.error)?void 0:t.context,domainContext:{handlingStack:e.handlingStack}};h.notify(0,r)}),(a=e.forwardReports,k=[],a.includes(ro.cspViolation)&&k.push((p=e,new eN(e=>{let{stop:t}=e8(p,document,["securitypolicyviolation"],t=>{var r;let n;e.notify((r=t,n=`'${r.blockedURI}' blocked by '${r.effectiveDirective}' directive`,rs({type:r.effectiveDirective,message:`${ro.cspViolation}: ${n}`,originalError:r,csp:{disposition:r.disposition},stack:rl(r.effectiveDirective,r.originalPolicy?`${n} of the policy "${function(e,t,r=""){let n=e.charCodeAt(99),i=n>=55296&&n<=56319?101:100;return e.length<=i?e:`${e.slice(0,i)}${r}`}(r.originalPolicy,0,"...")}"`:"no policy",r.sourceFile,r.lineNumber,r.columnNumber)})))},void 0);return t}))),(E=a.filter(e=>e!==ro.cspViolation)).length&&k.push((f=E,new eN(e=>{if(!window.ReportingObserver)return;let t=j((t,r)=>t.forEach(t=>e.notify(function(e){let{type:t,body:r}=e;return rs({type:r.id,message:`${t}: ${r.message}`,originalError:e,stack:rl(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}(t)))),r=new window.ReportingObserver(t,{types:f,buffered:!0});return r.observe(),()=>{r.disconnect()}}))),eO(...k)).subscribe(e=>{let t,r=e.message,n="deprecation"===e.originalError.type?tb.warn:tb.error;if(n===tb.error)t=t_(e);else{var i,a;e.stack&&(r+=` Found in ${i=e.stack,null==(a=/@ (.+)/.exec(i))?void 0:a[1]}`)}I.notify(0,{rawLogsEvent:{date:eR(),message:r,origin:eZ,error:t,status:n}})});let{handleLog:z}={handleLog:function(e,t,r,n,i){let a=eq(t.getContext(),e.context);if(tv(e.status,"console",t)&&function({status:e,message:t},r){_[rA[e]].call(x,t,r)}(e,a),tv(e.status,tk,t)){let o={rawLogsEvent:{date:i||eR(),message:e.message,status:e.status,origin:eJ},messageContext:a,savedCommonContext:n,ddtags:t.getTags()};r&&(o.domainContext={handlingStack:r}),I.notify(0,o)}}};if(C=tE.concat(["custom"]),A={},C.forEach(t=>{var r;let n,i;A[t]=(r=e.eventRateLimiterThreshold,n=0,i=!1,{isLimitReached(){if(0===n&&J(()=>{n=0},6e4),(n+=1)<=r||i)return i=!1,!1;if(n===r+1){i=!0;try{P({message:`Reached max number of ${t}s by minute: ${r}`,source:eG,startClocks:eU()})}finally{i=!1}}return!0}})}),I.subscribe(0,({rawLogsEvent:t,messageContext:n,savedCommonContext:i,domainContext:a,ddtags:o=[]})=>{var s,l;let c=t.date-eL(),d=i||r(),u=S.triggerHook(0,{startTime:c});if(u===tt)return;let h=eA(e),p=eq({view:d.view},u,t,n,{ddtags:h.concat(o).join(",")});(null==(s=e.beforeSend)?void 0:s.call(e,p,a))===!1||p.origin!==eG&&(null!=(l=A[p.status])?l:A.custom).isLimitReached()||I.notify(1,p)}),eV()){let e;e=ez(),I.subscribe(1,t=>{e.send("log",t)})}else{let t,r,{stop:n}=(t=[e.logsEndpointBuilder],e.replica&&t.push(e.replica.logsEndpointBuilder),r=e7({encoder:ru(),request:e3(t,e.batchBytesLimit,P),flushController:eH({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageMayExitObservable:$,sessionExpireObservable:L.expireObservable}),messageBytesLimit:e.messageBytesLimit}),I.subscribe(1,e=>{r.add(e)}),r);T.push(()=>n())}return{handleLog:z,getInternalContext:({get:e=>{let t=L.findTrackedSession(e);if(t)return{session_id:t.id}}}).get,accountContext:D,globalContext:W,userContext:B,stop:()=>{T.forEach(e=>e())}}},m={tryToInit(e){rj||(rj=e)},update(e){rj=e,p.notify()},isGranted:()=>rj===th.GRANTED,observable:p=new eN},g=function(e=function(){return new eN(e=>{var t,r;let n=(t,r)=>{let n=ex({stackTrace:r,originalError:t,startClocks:eU(),nonErrorPrefix:"Uncaught",source:eY,handling:"unhandled"});e.notify(n)},{stop:i}=(t=n,tm(R(),"onerror",({parameters:[e,r,n,i,a]})=>{let o;e_(a)||(o=function(e,t,r,n){var i;let a,o;if(void 0===t)return;let{name:s,message:l}=(i=e,"[object String]"===({}).toString.call(i)&&([,a,o]=em.exec(i)),{name:a,message:o});return{name:s,message:l,stack:[{url:t,column:n,line:r}]}}(e,r,n,i)),t(null!=a?a:e,o)})),{stop:a}=(r=n,tm(R(),"onunhandledrejection",({parameters:[e]})=>{r(e.reason||"Empty reason")}));return()=>{i(),a()}})}){let t=new e$(500),r=e().subscribe(e=>{t.notify({type:0,error:e})});return{observable:t,stop:()=>{r.unsubscribe()}}}().observable,y=function(e,t,r){let n,i,a,o=(a=[],{add:e=>{a.push(e)>500&&a.splice(0,1)},remove:e=>{tS(a,e)},drain:e=>{a.forEach(t=>t(e)),a.length=0}}),s=tR();tf(s,F,o);let l=t$();tf(l,D,o);let c=tM();tf(c,L,o);let d=t.observable.subscribe(u);function u(){if(!i||!n||!t.isGranted())return;d.unsubscribe();let e=r(n,i);o.drain(e)}return{init(e,r){var a,o,s,l;let c;if(!e)return void E.error("Missing configuration");if(Array.isArray(a=e.enableExperimentalFeatures)&&a.filter(e=>ek(rO,e)).forEach(e=>{eC.add(e)}),eV()&&(e={...e,clientToken:"empty"}),n=e,c={session_sample_rate:(s=o=e).sessionSampleRate,telemetry_sample_rate:s.telemetrySampleRate,telemetry_configuration_sample_rate:s.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:s.telemetryUsageSampleRate,use_before_send:!!s.beforeSend,use_partitioned_cross_site_session_cookie:s.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:s.useSecureSessionCookie,use_proxy:!!s.proxy,silent_multiple_init:s.silentMultipleInit,track_session_across_subdomains:s.trackSessionAcrossSubdomains,track_anonymous_user:s.trackAnonymousUser,session_persistence:s.sessionPersistence,allow_fallback_to_local_storage:!!s.allowFallbackToLocalStorage,store_contexts_across_pages:!!s.storeContextsAcrossPages,allow_untrusted_events:!!s.allowUntrustedEvents,tracking_consent:s.trackingConsent,use_allowed_tracking_origins:Array.isArray(s.allowedTrackingOrigins),source:s.source,sdk_version:s.sdkVersion,variant:s.variant},l={forward_errors_to_logs:o.forwardErrorsToLogs,forward_console_logs:o.forwardConsoleLogs,forward_reports:o.forwardReports,use_pci_intake:o.usePciIntake,...c},ts().notify({rawEvent:{type:tn,configuration:l}}),i)return void tu("DD_LOGS",e);let d=function(e,t){!0===e.usePciIntake&&e.site&&"datadoghq.com"!==e.site&&E.warn("PCI compliance for Logs is only available for Datadog organizations in the US1 site. Default intake will be used.");let r=function(e,t){var r,n,i,a,o,s,l,c,d,u,h,p,f;if(!e||!e.clientToken)return void E.error("Client Token is not configured, we will not send any data.");if(void 0!==e.allowedTrackingOrigins&&!Array.isArray(e.allowedTrackingOrigins))return void E.error("Allowed Tracking Origins must be an array");if((!(h=e.site)||"string"!=typeof h||/(datadog|ddog|datad0g|dd0g)/.test(h)||(E.error(`Site should be a valid Datadog site. ${I} ${C}/getting_started/site/.`),0))&&ra(e.sessionSampleRate,"Session")&&ra(e.telemetrySampleRate,"Telemetry")&&ra(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&ra(e.telemetryUsageSampleRate,"Telemetry Usage")&&ri(e.version,"Version")&&ri(e.env,"Env")&&ri(e.service,"Service")&&function(e,t,r="undefined"!=typeof location?location.origin:""){let n=e.allowedTrackingOrigins;if(!n)return!function(e,t=""){return!rr(e)&&rr(t.split("\n").filter(e=>{let t=e.trim();return t.length&&/^at\s+|@/.test(t)})[1]||"")}(r,t)||(E.error("Running the Browser SDK in a Web extension content script is forbidden unless the `allowedTrackingOrigins` option is provided."),!1);let i=function(e,t,r=!1){return e.some(e=>{try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return r?t.startsWith(e):e===t}catch(e){E.error(e)}return!1})}(n,r);return i||E.error("SDK initialized on a non-allowed domain."),i}(e,null!=t?t:"")){let t,h,m;if(void 0!==e.trackingConsent&&!ek(th,e.trackingConsent))return void E.error('Tracking Consent should be either "granted" or "not-granted"');return{beforeSend:e.beforeSend&&S(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:U?void 0:function(e){switch(e.sessionPersistence){case tG:return t1(e);case tK:return t5();case void 0:{let t=t1(e);return!t&&e.allowFallbackToLocalStorage&&(t=t5()),t}default:E.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}(e),sessionSampleRate:null!=(r=e.sessionSampleRate)?r:100,telemetrySampleRate:null!=(n=e.telemetrySampleRate)?n:20,telemetryConfigurationSampleRate:null!=(i=e.telemetryConfigurationSampleRate)?i:5,telemetryUsageSampleRate:null!=(a=e.telemetryUsageSampleRate)?a:5,service:null!=(o=e.service)?o:void 0,env:null!=(s=e.env)?s:void 0,version:null!=(l=e.version)?l:void 0,datacenter:null!=(c=e.datacenter)?c:void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!=(d=e.trackingConsent)?d:th.GRANTED,trackAnonymousUser:null==(u=e.trackAnonymousUser)||u,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16384,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:3e4,batchMessagesLimit:U?1:50,messageBytesLimit:262144,variant:e.variant,sdkVersion:e.sdkVersion,...(t=e.site||eT,h="flutter"===(p=e.source)||"unity"===p?p:"browser",m={logsEndpointBuilder:rn(f={...e,site:t,source:h},"logs"),rumEndpointBuilder:rn(f,"rum"),profilingEndpointBuilder:rn(f,"profile"),sessionReplayEndpointBuilder:rn(f,"replay"),exposuresEndpointBuilder:rn(f,"exposures")},{replica:function(e){if(!e.replica)return;let t={...e,site:eT,clientToken:e.replica.clientToken};return{logsEndpointBuilder:rn(t,"logs"),rumEndpointBuilder:rn(t,"rum",[`application.id=${e.replica.applicationId}`])}}({...e,site:t,source:h}),site:t,source:h,...m})}}}(e,t),n=rc(e.forwardConsoleLogs,e6(b),"Forward Console Logs"),i=rc(e.forwardReports,e6(ro),"Forward Reports");if(r&&n&&i)return e.forwardErrorsToLogs&&!n.includes(b.error)&&n.push(b.error),{forwardErrorsToLogs:!1!==e.forwardErrorsToLogs,forwardConsoleLogs:n,forwardReports:i,requestErrorResponseLengthLimit:32768,...r}}(e,r);d&&(i=d,tj().subscribe(X),t.tryToInit(d.trackingConsent),u())},get initConfiguration(){return n},globalContext:s,accountContext:l,userContext:c,getInternalContext:X,handleLog(t,r,n,i=e(),a=eR()){o.add(e=>e.handleLog(t,r,n,i,a))}}}(tI,m,(e,t)=>{let r=rP(t,tI,m,g);return y={init:e=>{tu("DD_LOGS",e)},initConfiguration:e,...r},r}),w=()=>y,v={},Object.defineProperty(f={version:"6.22.0",onReady(e){e()},...{logger:new tC((...e)=>y.handleLog(...e)),init:e=>{let t=Error().stack;N(()=>y.init(e,t))},setTrackingConsent:j(e=>{m.update(e),td({feature:"set-tracking-consent",tracking_consent:e})}),getGlobalContext:tp(w,F,B),setGlobalContext:tp(w,F,W),setGlobalContextProperty:tp(w,F,q),removeGlobalContextProperty:tp(w,F,z),clearGlobalContext:tp(w,F,V),createLogger:j((e,t={})=>(v[e]=new tC((...e)=>y.handleLog(...e),er(e),t.handler,t.level,er(t.context)),v[e])),getLogger:j(e=>v[e]),getInitConfiguration:j(()=>eW(void 0,y.initConfiguration)),getInternalContext:j(e=>y.getInternalContext(e)),setUser:tp(w,L,W),getUser:tp(w,L,B),setUserProperty:tp(w,L,q),removeUserProperty:tp(w,L,z),clearUser:tp(w,L,V),setAccount:tp(w,D,W),getAccount:tp(w,D,B),setAccountProperty:tp(w,D,q),removeAccountProperty:tp(w,D,z),clearAccount:tp(w,D,V)}},"_setDebug",{get:()=>P,enumerable:!1}),f);r$=R(),(h=r$[rR="DD_LOGS"])&&!h.q&&h.version&&E.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),r$[rR]=rT,h&&h.q&&h.q.forEach(e=>S(e,"onReady callback threw an error:")()),e.s(["datadogLogs",0,rT],477633);var rP,rj,rN,rO,r$,rR,rM=e.i(447700);let rU=["devnet","prod"].includes("prod")?rM.LogLevelFilter.INFO:rM.LogLevelFilter.DEBUG,rL=void 0!==window.document;e.s(["LOG_LEVEL",0,rU,"isBrowser",0,rL],259506);class rF{consoleLoggingEnabled=!1;sourcePackage=rM.SOURCE_PACKAGE;userAddress;logLevel=rU;setUserAddress(e){this.userAddress=e}clearUserAddress(){this.userAddress=void 0}shouldLog(e){return e>=this.logLevel}init(e){e.forwardConsoleLogs&&e.forwardConsoleLogs.length>0&&(this.consoleLoggingEnabled=!1),rL&&rT.init(e)}getEnrichedContext(e){return{...e,source:this.sourcePackage,...this.userAddress?{userAddress:this.userAddress}:{}}}getConsoleArgs(e,t,r){let n=[`[${e.toUpperCase()}] ${t}`];return r&&Object.keys(r).length>0&&n.push(r),n}log(e,t,r){let n=this.getEnrichedContext(r);if(this.consoleLoggingEnabled){let n=this.getConsoleArgs(e,t,r);console.log(n[0],...n.slice(1))}let i="*"===e?n:{...n,logGroup:e};rL&&this.shouldLog(rM.LogLevelFilter.INFO)&&rT.logger.info(t,i)}info(e,t){let r=this.getEnrichedContext(t);if(this.consoleLoggingEnabled){let r=this.getConsoleArgs("info",e,t);console.info(r[0],...r.slice(1))}rL&&this.shouldLog(rM.LogLevelFilter.INFO)&&rT.logger.info(e,r)}warn(e,t){let r=this.getEnrichedContext(t);if(this.consoleLoggingEnabled){let r=this.getConsoleArgs("warn",e,t);console.warn(r[0],...r.slice(1))}rL&&this.shouldLog(rM.LogLevelFilter.WARN)&&rT.logger.warn(e,r)}error(e,t){let r=this.getEnrichedContext(t);if(this.consoleLoggingEnabled){let r=this.getConsoleArgs("error",e,t);console.error(r[0],...r.slice(1))}rL&&this.shouldLog(rM.LogLevelFilter.ERROR)&&rT.logger.error(e,r)}debug(e,t){let r=this.getEnrichedContext(t);if(this.consoleLoggingEnabled){let r=this.getConsoleArgs("debug",e,t);console.debug(r[0],...r.slice(1))}rL&&this.shouldLog(rM.LogLevelFilter.DEBUG)&&rT.logger.debug(e,r)}}let rD=new rF;e.s(["Logger",()=>rF,"logger",0,rD],254667)},658070,e=>{"use strict";var t=e.i(281675);let r=[],n={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){i("call","select")},connect:()=>Promise.reject(i("call","connect")),disconnect:()=>Promise.reject(i("call","disconnect")),sendTransaction:()=>Promise.reject(i("call","sendTransaction")),signTransaction:()=>Promise.reject(i("call","signTransaction")),signAllTransactions:()=>Promise.reject(i("call","signAllTransactions")),signMessage:()=>Promise.reject(i("call","signMessage")),signIn:()=>Promise.reject(i("call","signIn"))};function i(e,t){let r=Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(r),r}Object.defineProperty(n,"wallets",{get:()=>(i("read","wallets"),r)}),Object.defineProperty(n,"wallet",{get:()=>(i("read","wallet"),null)}),Object.defineProperty(n,"publicKey",{get:()=>(i("read","publicKey"),null)});let a=(0,t.createContext)(n);function o(){return(0,t.useContext)(a)}e.s(["WalletContext",0,a,"useWallet",()=>o])},638243,e=>{"use strict";var t=e.i(281675);function r(e,r){let n=(0,t.useState)(()=>{try{let t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){"undefined"!=typeof window&&console.error(e)}return r}),i=n[0],a=(0,t.useRef)(!0);return(0,t.useEffect)(()=>{if(a.current){a.current=!1;return}try{null===i?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(i))}catch(e){"undefined"!=typeof window&&console.error(e)}},[i,e]),n}e.s(["useLocalStorage",()=>r])},107983,(e,t,r)=>{"use strict";var n=e.r(281675),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,o=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,d=n[1];return s(function(){i.value=r,i.getSnapshot=t,c(i)&&d({inst:i})},[e,r,t]),o(function(){return c(i)&&d({inst:i}),e(function(){c(i)&&d({inst:i})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:d},33347,(e,t,r)=>{"use strict";t.exports=e.r(107983)},655703,686815,440805,108996,528600,e=>{"use strict";let t;var r=e.i(942765),n=e.i(213722),i=e.i(107186),a=e.i(752246);e.s(["usePrivy",()=>a.X],686815);var a=a,o=e.i(281675),s=a,l=e.i(153752);e.i(130125);var c=a;e.s(["useSolanaWallets",()=>c.a7],440805);var c=a,d=e.i(401998),u=e.i(254667),h=e.i(711774),p=e.i(426091),f=e.i(658070),m=e.i(638243),g=e.i(235828),y=e.i(344048),w=e.i(536925);async function v(e,t,r){if(!(0,n.isInitialized)())return;let i=Object.entries(r||{}).reduce((e,[t,r])=>(e[`flags_${t}`]=r,e),{}),a={...t,...i,env:"prod"};(0,n.FullStory)("setIdentity",{uid:e,properties:a})}e.i(171580);var b=e.i(649785);e.i(364512);var x=e.i(33347);let _=()=>{},k=_(),E=Object,C=e=>e===k,A=(e,t)=>({...e,...t}),I=new WeakMap,S=0,T=e=>{let t,r,n=typeof e,i=e&&e.constructor,a=i==Date;if(E(e)!==e||a||i==RegExp)t=a?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=I.get(e))return t;if(t=++S+"~",I.set(e,t),i==Array){for(r=0,t="@";r<e.length;r++)t+=T(e[r])+",";I.set(e,t)}if(i==E){t="#";let n=E.keys(e).sort();for(;!C(r=n.pop());)C(e[r])||(t+=r+":"+T(e[r])+",");I.set(e,t)}}return t},P=new WeakMap,j={},N={},O="undefined",$=typeof window!=O,R=typeof document!=O,M=(e,t)=>{let r=P.get(e);return[()=>!C(t)&&e.get(t)||j,n=>{if(!C(t)){let i=e.get(t);t in N||(N[t]=i),r[5](t,A(i,n),i||j)}},r[6],()=>!C(t)&&t in N?N[t]:!C(t)&&e.get(t)||j]},U=!0,[L,F]=$&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[_,_],D={initFocus:e=>(R&&document.addEventListener("visibilitychange",e),L("focus",e),()=>{R&&document.removeEventListener("visibilitychange",e),F("focus",e)}),initReconnect:e=>{let t=()=>{U=!0,e()},r=()=>{U=!1};return L("online",t),L("offline",r),()=>{F("online",t),F("offline",r)}}},B=!o.default.useId,W=!$||"Deno"in window,q=W?o.useEffect:o.useLayoutEffect,z="undefined"!=typeof navigator&&navigator.connection,V=!W&&z&&(["slow-2g","2g"].includes(z.effectiveType)||z.saveData),H=e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?T(e):"",t]},G=0,K=()=>++G;async function J(...e){let[t,r,n,i]=e,a=A({populateCache:!0,throwOnError:!0},"boolean"==typeof i?{revalidate:i}:i||{}),o=a.populateCache,s=a.rollbackOnError,l=a.optimisticData,c=a.throwOnError;if("function"==typeof r){let e=[];for(let n of t.keys())!/^\$(inf|sub)\$/.test(n)&&r(t.get(n)._k)&&e.push(n);return Promise.all(e.map(d))}return d(r);async function d(r){let i,[d]=H(r);if(!d)return;let[u,h]=M(t,d),[p,f,m,g]=P.get(t),y=()=>{let e=p[d];return("function"==typeof a.revalidate?a.revalidate(u().data,r):!1!==a.revalidate)&&(delete m[d],delete g[d],e&&e[0])?e[0](2).then(()=>u().data):u().data};if(e.length<3)return y();let w=n,v=K();f[d]=[v,0];let b=!C(l),x=u(),_=x.data,E=x._c,A=C(E)?_:E;if(b&&h({data:l="function"==typeof l?l(A,_):l,_c:A}),"function"==typeof w)try{w=w(A)}catch(e){i=e}if(w&&"function"==typeof w.then){let e;if(w=await w.catch(e=>{i=e}),v!==f[d][0]){if(i)throw i;return w}i&&b&&(e=i,"function"==typeof s?s(e):!1!==s)&&(o=!0,h({data:A,_c:k}))}if(o&&!i&&("function"==typeof o?h({data:o(w,A),error:k,_c:k}):h({data:w,error:k,_c:k})),f[d][1]=K(),Promise.resolve(y()).then(()=>{h({_c:k})}),i){if(c)throw i;return}return w}}let Y=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},Z=(e,t)=>{if(!P.has(e)){let r=A(D,t),n={},i=J.bind(k,e),a=_,o={},s=(e,t)=>{let r=o[e]||[];return o[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},l=(t,r,n)=>{e.set(t,r);let i=o[t];if(i)for(let e of i)e(r,n)},c=()=>{if(!P.has(e)&&(P.set(e,[n,{},{},{},i,l,s]),!W)){let t=r.initFocus(setTimeout.bind(k,Y.bind(k,n,0))),i=r.initReconnect(setTimeout.bind(k,Y.bind(k,n,1)));a=()=>{t&&t(),i&&i(),P.delete(e)}}};return c(),[e,i,c,a]}return[e,P.get(e)[4]]},[Q,X]=Z(new Map),ee=A({onLoadingSlow:_,onSuccess:_,onError:_,onErrorRetry:(e,t,r,n,i)=>{let a=r.errorRetryCount,o=i.retryCount,s=~~((Math.random()+.5)*(1<<(o<8?o:8)))*r.errorRetryInterval;(C(a)||!(o>a))&&setTimeout(n,s,i)},onDiscarded:_,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:V?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:V?5e3:3e3,compare:(e,t)=>T(e)==T(t),isPaused:()=>!1,cache:Q,mutate:X,fallback:{}},{isOnline:()=>U,isVisible:()=>{let e=R&&document.visibilityState;return C(e)||"hidden"!==e}}),et=(e,t)=>{let r=A(e,t);if(t){let{use:n,fallback:i}=e,{use:a,fallback:o}=t;n&&a&&(r.use=n.concat(a)),i&&o&&(r.fallback=A(i,o))}return r},er=(0,o.createContext)({}),en=$&&window.__SWR_DEVTOOLS_USE__,ei=(en?window.__SWR_DEVTOOLS_USE__:[]).concat(e=>(t,r,n)=>{let i=r&&((...e)=>{let[n]=H(t),[,,,i]=P.get(Q);if(n.startsWith("$inf$"))return r(...e);let a=i[n];return C(a)?r(...e):(delete i[n],a)});return e(t,i,n)});en&&(window.__SWR_DEVTOOLS_REACT__=o.default);let ea=o.default.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),eo={dedupe:!0};E.defineProperty(e=>{let{value:t}=e,r=(0,o.useContext)(er),n="function"==typeof t,i=(0,o.useMemo)(()=>n?t(r):t,[n,r,t]),a=(0,o.useMemo)(()=>n?i:et(r,i),[n,r,i]),s=i&&i.provider,l=(0,o.useRef)(k);s&&!l.current&&(l.current=Z(s(a.cache||Q),i));let c=l.current;return c&&(a.cache=c[0],a.mutate=c[1]),q(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,o.createElement)(er.Provider,A(e,{value:a}))},"defaultValue",{value:ee});let es=(t=(e,t,r)=>{let{cache:n,compare:i,suspense:a,fallbackData:s,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:d,refreshWhenHidden:u,refreshWhenOffline:h,keepPreviousData:p}=r,[f,m,g,y]=P.get(n),[w,v]=H(e),b=(0,o.useRef)(!1),_=(0,o.useRef)(!1),E=(0,o.useRef)(w),I=(0,o.useRef)(t),S=(0,o.useRef)(r),T=()=>S.current.isVisible()&&S.current.isOnline(),[j,N,R,U]=M(n,w),L=(0,o.useRef)({}).current,F=C(s)?r.fallback[w]:s,D=(e,t)=>{for(let r in L)if("data"===r){if(!i(e[r],t[r])&&(!C(e[r])||!i(et,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},z=(0,o.useMemo)(()=>{let e=!!w&&!!t&&(C(l)?!S.current.isPaused()&&!a&&(!!C(c)||c):l),r=t=>{let r=A(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},n=j(),i=U(),o=r(n),s=n===i?o:r(i),d=o;return[()=>{let e=r(j());return D(e,d)?(d.data=e.data,d.isLoading=e.isLoading,d.isValidating=e.isValidating,d.error=e.error,d):(d=e,e)},()=>s]},[n,w]),V=(0,x.useSyncExternalStore)((0,o.useCallback)(e=>R(w,(t,r)=>{D(r,t)||e()}),[n,w]),z[0],z[1]),G=!b.current,Y=f[w]&&f[w].length>0,Z=V.data,Q=C(Z)?F:Z,X=V.error,ee=(0,o.useRef)(Q),et=p?C(Z)?ee.current:Z:Q,er=(!Y||!!C(X))&&(G&&!C(l)?l:!S.current.isPaused()&&(a?!C(Q)&&c:C(Q)||c)),en=!!(w&&t&&G&&er),ei=C(V.isValidating)?en:V.isValidating,es=C(V.isLoading)?en:V.isLoading,el=(0,o.useCallback)(async e=>{let t,n,a=I.current;if(!w||!a||_.current||S.current.isPaused())return!1;let o=!0,s=e||{},l=!g[w]||!s.dedupe,c=()=>B?!_.current&&w===E.current&&b.current:w===E.current,d={isValidating:!1,isLoading:!1},u=()=>{N(d)},h=()=>{let e=g[w];e&&e[1]===n&&delete g[w]},p={isValidating:!0};C(j().data)&&(p.isLoading=!0);try{if(l&&(N(p),r.loadingTimeout&&C(j().data)&&setTimeout(()=>{o&&c()&&S.current.onLoadingSlow(w,r)},r.loadingTimeout),g[w]=[a(v),K()]),[t,n]=g[w],t=await t,l&&setTimeout(h,r.dedupingInterval),!g[w]||g[w][1]!==n)return l&&c()&&S.current.onDiscarded(w),!1;d.error=k;let e=m[w];if(!C(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return u(),l&&c()&&S.current.onDiscarded(w),!1;let s=j().data;d.data=i(s,t)?s:t,l&&c()&&S.current.onSuccess(t,w,r)}catch(r){h();let e=S.current,{shouldRetryOnError:t}=e;!e.isPaused()&&(d.error=r,l&&c())&&(e.onError(r,w,e),(!0===t||"function"==typeof t&&t(r))&&(!S.current.revalidateOnFocus||!S.current.revalidateOnReconnect||T())&&e.onErrorRetry(r,w,e,e=>{let t=f[w];t&&t[0]&&t[0](3,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0}))}return o=!1,u(),!0},[w,n]),ec=(0,o.useCallback)((...e)=>J(n,E.current,...e),[]);if(q(()=>{I.current=t,S.current=r,C(Z)||(ee.current=Z)}),q(()=>{var e;let t;if(!w)return;let r=el.bind(k,eo),n=0,i=(e=(e,t={})=>{if(0==e){let e=Date.now();S.current.revalidateOnFocus&&e>n&&T()&&(n=e+S.current.focusThrottleInterval,r())}else if(1==e)S.current.revalidateOnReconnect&&T()&&r();else if(2==e)return el();else if(3==e)return el(t)},(t=f[w]||(f[w]=[])).push(e),()=>{let r=t.indexOf(e);r>=0&&(t[r]=t[t.length-1],t.pop())});if(_.current=!1,E.current=w,b.current=!0,N({_k:v}),er)if(C(Q)||W)r();else $&&typeof window.requestAnimationFrame!=O?window.requestAnimationFrame(r):setTimeout(r,1);return()=>{_.current=!0,i()}},[w]),q(()=>{let e;function t(){let t="function"==typeof d?d(j().data):d;t&&-1!==e&&(e=setTimeout(r,t))}function r(){!j().error&&(u||S.current.isVisible())&&(h||S.current.isOnline())?el(eo).then(t):t()}return t(),()=>{e&&(clearTimeout(e),e=-1)}},[d,u,h,w]),(0,o.useDebugValue)(et),a&&C(Q)&&w){if(!B&&W)throw Error("Fallback data is required when using suspense in SSR.");I.current=t,S.current=r,_.current=!1;let e=y[w];if(C(e)||ea(ec(e)),C(X)){let e=el(eo);C(et)||(e.status="fulfilled",e.value=!0),ea(e)}else throw X}return{mutate:ec,get data(){return L.data=!0,et},get error(){return L.error=!0,X},get isValidating(){return L.isValidating=!0,ei},get isLoading(){return L.isLoading=!0,es}}},function(...e){let r=A(ee,(0,o.useContext)(er)),[n,i,a]="function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],s=et(r,a),l=t,{use:c}=s,d=(c||[]).concat(ei);for(let e=d.length;e--;)l=d[e](l);return l(n,i||s.fetcher||null,s)});e.s(["default",()=>es],108996);let el=e=>fetch(e).then(e=>e.json()),ec=(e,t)=>{let r,n,i,a=(0,b.c)(9),o=void 0===t||t;a[0]!==e||a[1]!==o?(r=o&&e?`${(0,h.getClientServerUrl)()}/users/${e}`:null,a[0]=e,a[1]=o,a[2]=r):r=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(n={revalidateOnFocus:!1,dedupingInterval:3e5},a[3]=n):n=a[3];let{data:s,error:l,mutate:c,isLoading:d}=es(r,el,n);return a[4]!==l||a[5]!==c||a[6]!==d||a[7]!==s?(i={user:s,error:l,fetchUser:c,isLoading:d},a[4]=l,a[5]=c,a[6]=d,a[7]=s,a[8]=i):i=a[8],i};e.s(["useUser",0,ec],528600);var ed=e.i(579759);let eu=()=>{let e=Date.now();return{message:`Sign in to pump.fun: ${e}`,timestamp:e}},eh=async(e,t,r)=>{try{let n=new g.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),i=new g.TransactionInstruction({keys:[],programId:n,data:ed.Buffer.from(r,"utf8")}),a=new g.Transaction().add(i),{blockhash:o}=await e.getLatestBlockhash("finalized");return a.recentBlockhash=o,a.feePayer=new g.PublicKey(t),a}catch(e){return console.error("Error creating memo transaction:",e),null}},ep="LOGIN_NOT_ALLOWED",ef="LOGIN_FAILED";class em extends Error{errorName;message;cause;constructor(e,t,r){super(),this.errorName=e,this.message=t,this.cause=r}}let eg=(0,o.createContext)({});e.s(["ProfileProvider",0,({children:e,flags:t={}})=>{let[b,x]=(0,o.useState)(!1),[_,k]=(0,o.useState)(!1),[E,C]=(0,o.useState)(!1),{connection:A}=(0,d.useConnection)(),{signMessage:I,publicKey:S,disconnect:T,signTransaction:P}=(0,f.useWallet)(),j=function(){let{publicKey:e,signTransaction:t,signAllTransactions:r}=(0,f.useWallet)();return(0,o.useMemo)(()=>e&&t&&r?{publicKey:e,signTransaction:t,signAllTransactions:r}:void 0,[e,t,r])}(),{logout:N,authenticated:O,ready:$}=(0,a.X)(),{createWallet:R,wallets:M,ready:U}=(0,c.a7)(),{login:L}=function(e){let{login:t}=(0,o.useContext)(l.P);return(0,s.u)("login",e),{login:t}}({onComplete:async({user:e})=>{k(!1);let t=e.linkedAccounts.find(e=>"wallet"===e.type&&"privy"===e.walletClientType&&"solana"===e.chainType);if(t)try{await er(t.address)}catch(e){if(e instanceof em&&e.errorName===ep)throw await ee(),k(!0),e;throw new em(ef,"Failed to login",e)}t||await R()}}),[F,D]=(0,m.useLocalStorage)("decoded-jwt",null),[,B]=(0,w.useLocalStorage)("last-sort-update",0),W=(0,o.useMemo)(()=>M.find(e=>"privy"===e.walletClientType),[M]),q=(0,o.useMemo)(()=>$&&U?O?W?.address:F?.address:void console.log("ProfileProvider Privy not ready"),[$,U,O,W?.address,F?.address]),z=$&&U,V=q??(()=>{if("undefined"!=typeof document)for(let e of document.cookie.split(";")){let[t,r]=e.trim().split("=");if("auth_token"===t&&r)try{let e=r.split(".");if(3!==e.length)return;let t=e[1];if(!t)return;let n=JSON.parse(atob(t.replace(/-/g,"+").replace(/_/g,"/")));if(n?.address)return n.address.toLowerCase()}catch{break}}})()??void 0,H=(0,o.useMemo)(()=>!O&&!!(S&&!F),[F,O,S]),{user:G,fetchUser:K}=ec(q),[J,Y]=(0,o.useState)(!1),Z=async(e,t)=>{let r=[];for(let n of t)r.push(await e.signTransaction(n));return r},Q=(0,o.useMemo)(()=>W?{...W,publicKey:new g.PublicKey(W.address),signAllTransactions:async e=>await Z(W,e)}:void 0,[W]),X=(0,o.useMemo)(()=>O?Q:j,[j,Q,O]),ee=(0,o.useCallback)(async()=>{O&&await N(),await T(),await fetch(`${(0,h.getClientServerUrl)()}/auth/logout`,{method:"POST",credentials:"include"}).then(e=>e.json()),u.logger.clearUserAddress();try{localStorage.removeItem("moderator-storage")}catch{}D(null),B(0)},[T,N,O]),et=(0,o.useCallback)(async()=>{try{let e=await fetch(`${(0,h.getClientServerUrl)()}/auth/my-profile`,{method:"GET",credentials:"include",headers:{"Cache-Control":"no-cache"}});if(304===e.status&&console.log("ProfileProvider: Received 304 from server ok = ",e.ok),!e.ok&&304!==e.status){B(0),D(null);return}let t=await e.json();JSON.stringify(F)!==JSON.stringify(t)&&D(t)}catch(e){console.error(e),B(0),D(null)}},[F]),er=(0,o.useCallback)(async e=>{if(405===(await fetch(`${(0,h.getClientServerUrl)()}/check/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(e=>e.json()).catch(()=>({statusCode:405}))).statusCode)throw new em(ep,"Wallet connection unsuccessful")},[]),en=(0,o.useCallback)(async(e,t,r,n)=>{let i={address:e,signature:t,timestamp:r};n&&(i.transaction=n);let a=await fetch(`${(0,h.getClientServerUrl)()}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(i)});if(!a.ok&&405==a.status)throw O&&(k(!0),await N()),await T(),new em(ep,"Wallet connection unsuccessful")},[O,k,N,T]),ei=(0,o.useCallback)(async(e,t)=>{if(!t||!e)throw Error("Wallet not connected");let{message:r,timestamp:n}=eu(),i=await t(new TextEncoder().encode(r)),a=y.default.encode(i);await en(e,a,n)},[en]),ea=(0,o.useCallback)(async e=>{if(e&&P)try{let{message:t,timestamp:r}=eu(),n=await eh(A,e,t);if(!n)throw Error("Failed to create transaction");let i=await P(n),a=Array.from(i.serialize());if(!i.signature)throw Error("Transaction signature is missing");let o=y.default.encode(i.signature);await en(e,o,r,a)}catch(e){console.error("error signing for squads",e)}},[P,A,en]),eo=(0,o.useCallback)(async()=>{x(!0);try{(0,p.isSquadsXWallet)()?await ea(S?.toBase58()):await ei(S?.toBase58(),I),await et()}catch(e){if(e instanceof em)throw e;throw new em(ef,"Failed to login",e)}finally{x(!1)}},[S,et,ei,ea,I]);(0,o.useEffect)(()=>{(async()=>{if(_)console.error("Privy Wallet got disconnected - not signing in");else{let e=M.find(e=>"privy"===e.walletClientType);e&&(!F||F.address!==e.address)&&(await ei(e.address,e.signMessage),await et())}})()},[M,_,F,ei,et]);let es=(0,o.useRef)(!1);return(0,o.useEffect)(()=>{!es.current&&q&&(async()=>{try{await et(),es.current=!0}catch(e){console.error("Error refreshing JWT:",e)}})()},[q]),(0,o.useEffect)(()=>{let e=()=>{let e=(0,n.isInitialized)();return e&&Y(!0),e};e();let t=setInterval(()=>{e()&&clearInterval(t)},2e3);return()=>clearInterval(t)},[]),(0,o.useEffect)(()=>{q&&((0,i.sendGTMEvent)({user_id:q}),u.logger.setUserAddress(q),J&&v(q,void 0,t))},[q,J,t]),(0,o.useEffect)(()=>{if(F){if(1e3*F.exp<Date.now()){B(0),D(null);return}fetch(`${(0,h.getClientServerUrl)()}/users/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:F.address})})}},[F]),(0,r.jsx)(eg.Provider,{value:{decodedJwt:F,login:eo,privyLogin:L,privyLoginFailed:_,loginLoading:b,XAccountConnected:E,setXAccountConnected:C,address:q,user:G,roles:F?.roles,fetchUser:K,logout:ee,requiresLogin:H,wallet:X,shouldUsePrivy:O,authReady:z,effectiveAddress:V},children:e})},"useProfile",0,()=>(0,o.useContext)(eg)],655703)}]);