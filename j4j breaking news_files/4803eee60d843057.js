(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,749606,927578,687470,e=>{"use strict";var t=e.i(649785),i=e.i(281675),r=e.i(454616);e.i(254667);var o=e.i(738045),a=o;let n=async(e,t,i=a.SEGMENT_DOWNLOAD_MAX_RETRIES)=>{for(let r=1;r<=i;r++)try{let i=await fetch(e);if(!i.ok)throw Error(`HTTP ${i.status}`);return{index:t,data:new Uint8Array(await i.arrayBuffer())}}catch(e){if(r===i)return{index:t,data:null,error:e.message};await new Promise(e=>setTimeout(e,500*Math.pow(2,r-1)))}return{index:t,data:null,error:"Max retries exceeded"}},s=async(e,t,i=a.SEGMENT_DOWNLOAD_CONCURRENCY,r=a.SEGMENT_DOWNLOAD_MAX_RETRIES)=>Promise.all(e.slice(t,t+i).map((e,i)=>n(e,t+i,r))),l=async(e,t)=>{let i=e.split("\n").filter(e=>e.trim()),r=[];for(let e=0;e<i.length;e++){let o=i[e].trim();if(o&&!o.startsWith("#")){let e=o.startsWith("http")?o:new URL(o,t).href;r.push(e)}}return r},c=async e=>{let t=await fetch(e);if(!t.ok)throw Error(`Failed to fetch content: ${t.status}`);return await t.text()},d=async(e,t)=>{let i=Array(e.length).fill(null),r=0;for(let o=0;o<e.length;o+=1){let a=await s(e,o);for(let e of a)e.data&&(i[e.index]=e.data,r+=1);o+=a.length-1;let n=Math.round(r/e.length*100);t?.(n,r,e.length)}let o=[];for(let e=0;e<i.length;e++){let t=i[e];if(!t)throw Error("We lost the connection while downloading. Please try again.");o.push(t)}return i.length=0,o},m=async(e,t)=>{let i=e.split("\n"),r=[],o=null;for(let e=0;e<i.length;e++){let a=i[e].trim();if(!a)continue;if(a.startsWith("#EXTINF:")){let e=Number.parseFloat(a.substring(8).split(",")[0].trim());o=Number.isFinite(e)?e:null;continue}if(a.startsWith("#"))continue;let n=a.startsWith("http")?a:new URL(a,t).href;null!==o?(r.push({url:n,durationSec:o}),o=null):r.push({url:n,durationSec:0})}return r},u=async e=>{let t=await c(e),i=h(e);return await m(t,i)},h=e=>{let t=e.lastIndexOf("/");return t>=0?e.substring(0,t+1):e};e.s(["buildDownloadFilename",0,e=>{let t=e&&e.trim().length>0?e:"Video";return`${t}.mp4`},"buildMultipartDownloadFilename",0,(e,t,i)=>{let r=e&&e.trim().length>0?e:"Video";return`${r} - Part ${t} of ${i}.mp4`},"buildSegmentsWithDurations",0,u,"constructUserErrorMessage",0,e=>{if(!e)return"We couldn’t start the download. Please try again.";let t=e.toLowerCase();return t.includes("available")?"This video isn’t available right now.":t.includes("connection")||t.includes("fetch")?"We lost the connection while downloading. Please check your internet and try again.":t.includes("prepare")||t.includes("remux")?"Something went wrong preparing the file. Please try again.":"We couldn’t start the download. Please try again."},"downloadAllSegmentsWithProgress",0,d,"downloadSegmentsBatch",0,s,"parseM3u8",0,l,"saveBlobAsFile",0,(e,t,i="video/mp4")=>{let r=new Blob([e],{type:i}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},"splitSegmentsByDuration",0,(e,t)=>{if(!Array.isArray(e)||0===e.length)return[];if(t<=0)return[e.map(e=>e.url)];let i=[],r=[],o=0;for(let a=0;a<e.length;a++){let n=e[a];r.push(n.url),(o+=n.durationSec)>=t&&(i.push(r),r=[],o=0)}return r.length>0&&i.push(r),i}],927578);let p=e=>{let t=new URL(window.location.href);e?t.searchParams.set("clip",e):t.searchParams.delete("clip"),window.history.pushState({},"",t.toString()),window.dispatchEvent(new PopStateEvent("popstate")),window.scrollTo({top:0,behavior:"smooth"});let i=document.getElementById("coin-content-container");i&&i.scrollTo({top:0,behavior:"smooth"})},g=e=>{let t=new URL(window.location.href);t.searchParams.set(o.ARCHIVED_FILTER_PARAM,e),window.history.pushState({},"",t.toString()),window.dispatchEvent(new PopStateEvent("popstate"))},f=()=>{let e=new URL(window.location.href).searchParams.get(o.ARCHIVED_FILTER_PARAM);return e&&(e===r.ArchivedVideosFilter.ALL||e===r.ArchivedVideosFilter.ACTIVE||e===r.ArchivedVideosFilter.HIDDEN||e===r.ArchivedVideosFilter.CLIPS)?e:null},x=()=>new URL(window.location.href).searchParams.get("clip");e.s(["formatDuration",0,e=>{let t=Math.floor(e/3600),i=Math.floor(e%3600/60),r=e%60;return t>0?`${t}:${i.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${i}:${r.toString().padStart(2,"0")}`},"getArchivedFilterParam",0,f,"getClipParam",0,x,"hasClipParam",0,()=>new URL(window.location.href).searchParams.has("clip"),"updateArchivedFilterParam",0,g,"updateClipParam",0,p],687470);let v=r.ArchivedVideosFilter.ACTIVE;function y(e){return p(e)}function b(e){return g(e)}e.s(["useClipParam",0,()=>{let e,r,o,a=(0,t.c)(7),[n,s]=(0,i.useState)(null),[l,c]=(0,i.useState)(null);a[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{s(x()),c(f());let e=()=>{s(x()),c(f())};return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)},r=[],a[0]=e,a[1]=r):(e=a[0],r=a[1]),(0,i.useEffect)(e,r);let d=!!n,m=l??v,u=!!l;return a[2]!==n||a[3]!==d||a[4]!==m||a[5]!==u?(o={clipParam:n,hasClipParam:d,setClipParam:y,filter:m,setFilter:b,hasArchivedFilter:u},a[2]=n,a[3]=d,a[4]=m,a[5]=u,a[6]=o):o=a[6],o}],749606)},421996,e=>{"use strict";e.s(["ClipActionConfirmation",()=>a]);var t=e.i(942765),i=e.i(649785),r=e.i(546781),o=e.i(51837);let a=e=>{let a,n,s,l,c,d,m,u,h,p,g,f,x,v,y,b=(0,i.c)(25),{message:w,onConfirm:j,toast:C,clip:S}=e;return b[0]===Symbol.for("react.memo_cache_sentinel")?(a={display:"flex",flexDirection:"column",gap:0,minWidth:320,position:"relative",padding:"16px 8px 12px 8px",background:"#18181b",borderRadius:12,boxShadow:"0 8px 32px rgba(0,0,0,0.25)"},b[0]=a):a=b[0],b[1]!==C?(n=()=>C.dismiss(),b[1]=C,b[2]=n):n=b[2],b[3]===Symbol.for("react.memo_cache_sentinel")?(s={position:"absolute",top:12,right:12,background:"transparent",border:"none",color:"#aaa",fontSize:28,cursor:"pointer",zIndex:50,padding:4,borderRadius:999,transition:"background 0.2s"},b[3]=s):s=b[3],b[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(r.X,{size:28}),b[4]=l):l=b[4],b[5]!==n?(c=(0,t.jsx)("button",{onClick:n,style:s,"aria-label":"Close",type:"button",children:l}),b[5]=n,b[6]=c):c=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",justifyContent:"center",background:"#232323",borderRadius:8,padding:8,marginBottom:20,marginTop:8},b[7]=d):d=b[7],b[8]!==S?(m=(0,t.jsx)("div",{style:d,children:(0,t.jsx)(o.ArchivedVideoCard,{clip:S,canEdit:!1})}),b[8]=S,b[9]=m):m=b[9],b[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("div",{style:{height:1,background:"#333",margin:"0 0 20px 0"}}),p={textAlign:"center",marginBottom:16},u={fontWeight:600,fontSize:18,color:"#fff"},b[10]=u,b[11]=h,b[12]=p):(u=b[10],h=b[11],p=b[12]),b[13]!==w?(g=(0,t.jsx)("div",{style:p,children:(0,t.jsx)("span",{style:u,children:w})}),b[13]=w,b[14]=g):g=b[14],b[15]===Symbol.for("react.memo_cache_sentinel")?(f={display:"flex",justifyContent:"center"},x={background:"#87ef9b",color:"black",border:"none",borderRadius:6,padding:"10px 28px",fontSize:16,fontWeight:600,cursor:"pointer",boxShadow:"0 2px 8px rgba(135,239,155,0.08)",transition:"background 0.2s, box-shadow 0.2s"},b[15]=f,b[16]=x):(f=b[15],x=b[16]),b[17]!==j||b[18]!==C?(v=(0,t.jsx)("div",{style:f,children:(0,t.jsx)("button",{style:x,onClick:()=>{C.dismiss(),j()},type:"button",children:"Confirm"})}),b[17]=j,b[18]=C,b[19]=v):v=b[19],b[20]!==g||b[21]!==v||b[22]!==c||b[23]!==m?(y=(0,t.jsxs)("div",{style:a,children:[c,m,h,g,v]}),b[20]=g,b[21]=v,b[22]=c,b[23]=m,b[24]=y):y=b[24],y}},8126,e=>{"use strict";var t=e.i(10785),i=e.i(203350);e.s(["trackClipStatusDownloaded",0,({clipId:e,mint:r,context:o})=>{let a={clipId:e,mint:r,statusType:t.ClipStatusType.DOWNLOADED};(0,i.recordUserEvent)((0,t.createCodeClipStatus)(a),o)},"trackHideClip",0,({clipId:e,mint:r,reason:o,context:a})=>{let n={clipId:e,mint:r,actionType:t.HideClipActionType.HIDE,reason:o};(0,i.recordUserEvent)((0,t.createInteractHideClip)(n),a)},"trackUnhideClip",0,({clipId:e,mint:r,context:o})=>{let a={clipId:e,mint:r,actionType:t.HideClipActionType.UNHIDE};(0,i.recordUserEvent)((0,t.createInteractHideClip)(a),o)}])},749156,749944,752269,472125,e=>{"use strict";e.s(["useClipHideActions",()=>M,"useClipThumbnailActions",()=>D,"useClipTitleActions",()=>O],749156);var t=e.i(649785),i=e.i(281675),r=e.i(654747),o=e.i(421996),a=e.i(132838),n=e.i(738045),s=e.i(8126),l=e.i(967388),c=e.i(927578);let d=Error("failed to get response body reader"),m=Error("failed to complete download"),u=async(e,t)=>{let i,r=await fetch(e);try{let o=parseInt(r.headers.get("Content-Length")||"-1"),a=r.body?.getReader();if(!a)throw d;let n=[],s=0;for(;;){let{done:i,value:r}=await a.read(),l=r?r.length:0;if(i){if(-1!=o&&o!==s)throw m;t&&t({url:e,total:o,received:s,delta:l,done:i});break}n.push(r),s+=l,t&&t({url:e,total:o,received:s,delta:l,done:i})}let l=new Uint8Array(s),c=0;for(let e of n)l.set(e,c),c+=e.length;i=l.buffer}catch(o){console.log("failed to send download progress event: ",o),i=await r.arrayBuffer(),t&&t({url:e,total:i.byteLength,received:i.byteLength,delta:0,done:!0})}return i},h=async(e,t,i=!1,r)=>{let o=new Blob([i?await u(e,r):await (await fetch(e)).arrayBuffer()],{type:t});return URL.createObjectURL(o)};var p=e.i(254667);let g=null,f=async()=>{let e=window;if(e.__FFmpeg)return e.__FFmpeg;let t=`${window.location.origin}/@ffmpeg/ffmpeg/esm/index.js`,i=new Blob([`
    import(${JSON.stringify(t)})
      .then(mod => { window.__FFmpeg = mod.FFmpeg; })
      .catch(err => { console.error('[FFmpeg wrapper load error]', err); });
  `],{type:"text/javascript"}),r=URL.createObjectURL(i);await new Promise((e,t)=>{let i=document.createElement("script");i.type="module",i.src=r,i.onload=()=>{URL.revokeObjectURL(r),e()},i.onerror=()=>{URL.revokeObjectURL(r),t(Error("Failed to load FFmpeg wrapper module script"))},document.head.appendChild(i)});let o=Date.now()+3e3;for(;!e.__FFmpeg&&Date.now()<o;)await new Promise(e=>setTimeout(e,50));if(!e.__FFmpeg)throw Error("FFmpeg wrapper not found after module load");return e.__FFmpeg},x=async()=>{if(g)return g;let e=new(await f()),t=`${n.FFMPEG_CDN_BASE}/@ffmpeg/core/esm`;try{p.logger.debug("[getFFmpeg] Resolving local ESM blob URLs");let i=await h(`${t}/ffmpeg-core.js`,"text/javascript"),r=await h(`${t}/ffmpeg-core.wasm`,"application/wasm"),o=`${window.location.origin}/@ffmpeg/ffmpeg/esm/worker.js`;e.on("log",({message:e})=>{p.logger.debug("[ffmpeg log]",{message:e})}),globalThis.__FFMPEG_WORKER_URL=o,p.logger.debug("[getFFmpeg] Loading core (blob URLs)"),await e.load({coreURL:i,wasmURL:r,workerURL:o}),p.logger.debug("[getFFmpeg] Core loaded")}catch(e){throw p.logger.error("[getFFmpeg] Failed to load core",{error:e}),e}return g=e,e},v=async({ffmpeg:e,segments:t,onProgress:i})=>{if(!t.length)throw Error("No segments provided");i?.({phase:"writing",percent:0}),p.logger.debug("[remuxTsSegmentsToMp4] Writing segments",{count:t.length});let r=[];for(let i=0;i<t.length;i++){let o=`seg_${String(i).padStart(4,"0")}.ts`;await e.writeFile(o,t[i]),r.push(`file '${o}'`)}let o=new TextEncoder().encode(r.join("\n"));await e.writeFile("list.txt",o);let a=0;e.on("progress",({progress:e})=>{let t=Math.max(0,Math.min(100,Math.round(100*e)));t>=a+5&&(a=t,i?.({phase:"remuxing",percent:t}),p.logger.debug("[remuxTsSegmentsToMp4] Remux progress",{percent:t}))});try{p.logger.debug("[remuxTsSegmentsToMp4] Exec start"),await e.exec([...n.FFMPEG_REMUX_ARGS]),p.logger.debug("[remuxTsSegmentsToMp4] Exec done")}finally{e.on("progress",()=>{})}i?.({phase:"finalizing"}),p.logger.debug("[remuxTsSegmentsToMp4] Reading out.mp4");let s=await e.readFile("out.mp4");for(let i=0;i<t.length;i++){let t=`seg_${String(i).padStart(4,"0")}.ts`;try{await e.deleteFile(t)}catch{}}try{await e.deleteFile("list.txt")}catch{}try{await e.deleteFile("out.mp4")}catch{}return s};var y=e.i(54567);e.s(["useDownloadClip",0,({onSuccess:e,onError:t}={})=>(0,a.useMutation)({mutationFn:async i=>{let o=`download-${i.clipId}`,a="undefined"!=typeof performance?performance.now():Date.now();y.logger.info("[useDownloadClip] Download started",{clipId:i.clipId}),r.default.loading("Initializing downloader…",{id:o});try{r.default.loading("Preparing your download…",{id:o}),y.logger.debug("[useDownloadClip] Fetching playlist",{url:i.playlistUrl});let t=await (0,c.buildSegmentsWithDurations)(i.playlistUrl);if(0===t.length)throw Error("This video isn’t available right now.");let d=(0,c.splitSegmentsByDuration)(t,n.LONG_VIDEO_CHUNK_SECONDS);if(0===d.length)throw Error("This video isn’t available right now.");y.logger.debug("[useDownloadClip] Segments parsed",{count:t.length,parts:d.length});let m=0,u=await x();if(1===d.length){let e=d[0],t=await (0,c.downloadAllSegmentsWithProgress)(e,e=>r.default.loading(`Downloading… ${e}%`,{id:o}));y.logger.debug("[useDownloadClip] Download complete",{count:t.length}),r.default.loading("Getting your file ready…",{id:o});let a=await v({ffmpeg:u,segments:t,onProgress:({phase:e,percent:t})=>{"remuxing"===e?r.default.loading(`Getting your file ready… ${t??0}%`,{id:o}):"finalizing"===e&&r.default.loading("Almost done…",{id:o})}});(0,c.saveBlobAsFile)(a,(0,c.buildDownloadFilename)(i.title),"video/mp4"),m+=a.byteLength}else for(let e=0;e<d.length;e++){let t=e+1,a=d.length,n=d[e];r.default.loading(`Preparing Part ${t}/${a}…`,{id:o});let s=await (0,c.downloadAllSegmentsWithProgress)(n,e=>r.default.loading(`Downloading… ${e}% (Part ${t}/${a})`,{id:o}));r.default.loading(`Getting your file ready… (Part ${t}/${a})`,{id:o});let l=await v({ffmpeg:u,segments:s,onProgress:({phase:e,percent:i})=>{"remuxing"===e?r.default.loading(`Getting your file ready… ${i??0}% (Part ${t}/${a})`,{id:o}):"finalizing"===e&&r.default.loading(`Almost done… (Part ${t}/${a})`,{id:o})}}),h=(0,c.buildMultipartDownloadFilename)(i.title,t,a);(0,c.saveBlobAsFile)(l,h,"video/mp4"),m+=l.byteLength}let h="undefined"!=typeof performance?performance.now():Date.now();y.logger.info("[useDownloadClip] Download completed",{clipId:i.clipId,bytesTotal:m,totalElapsedMs:Math.round(h-a)}),r.default.success("Download complete",{id:o,duration:4e3}),(0,s.trackClipStatusDownloaded)({clipId:i.clipId,mint:i.roomName,context:l.CLIP_SOURCE_CONTEXTS.ARCHIVED_VIDEO_PLAYER}),e?.()}catch(a){let e=a instanceof Error?a.message:String(a);throw y.logger.error("[useDownloadClip] Download error",{clipId:i.clipId,stage:"download",error:e}),r.default.error((0,c.constructUserErrorMessage)(e),{id:o}),t?.(a instanceof Error?a:Error(e)),a}}})],749944);var b=e.i(606933),w=e.i(936736),j=e.i(690877);let C="get-clip-by-id";e.s(["GET_CLIP_BY_ID_QUERY_KEY",0,C,"useGetClipById",0,e=>{let i,r,o,a=(0,t.c)(11),{roomName:n,clipId:s,enabled:l,onSuccess:c}=e;a[0]!==s||a[1]!==n?(i=[C,n,s],a[0]=s,a[1]=n,a[2]=i):i=a[2],a[3]!==s||a[4]!==c||a[5]!==n?(r=async()=>{if(!n||!s)throw Error("Missing roomName or clipId");let e=await w.api.get(`clips/${n}/${s}`).json();return c?.(e),e},a[3]=s,a[4]=c,a[5]=n,a[6]=r):r=a[6];let d=!!n&&!!s&&(void 0===l||l);return a[7]!==i||a[8]!==r||a[9]!==d?(o={queryKey:i,queryFn:r,enabled:d},a[7]=i,a[8]=r,a[9]=d,a[10]=o):o=a[10],(0,j.useQuery)(o)}],752269);let S="get-clip-counts";e.s(["GET_CLIP_COUNTS_QUERY_KEY",0,S,"useGetClipCounts",0,e=>{let i,r,o,a=(0,t.c)(7),{roomName:n,enabled:s}=e;a[0]!==n?(i=[S,n],r=async()=>{y.logger.debug("[useGetClipCounts] Fetching clip counts",{roomName:n});let e=await w.api.get(`clips/${n}/counts`).json();return y.logger.debug("[useGetClipCounts] Clip counts success",{roomName:n,...e}),e},a[0]=n,a[1]=i,a[2]=r):(i=a[1],r=a[2]);let l=!!n&&(void 0===s||s);return a[3]!==i||a[4]!==r||a[5]!==l?(o={queryKey:i,queryFn:r,enabled:l},a[3]=i,a[4]=r,a[5]=l,a[6]=o):o=a[6],(0,j.useQuery)(o)}],472125);var N=e.i(852655);function _(e){(0,s.trackHideClip)({clipId:e.clipId,mint:e.mintId,reason:e.reason,context:l.CLIP_SOURCE_CONTEXTS.CLIP_CARD})}async function E(e){let{roomName:t,clipId:i,reason:r,mintId:o}=e;y.logger.debug("[useHideClip] Hiding clip",{roomName:t,clipId:i,reason:r,mintId:o});let a=await w.api.patch(`clips/${t}/${i}/hide`,{json:{reason:r,mintId:o}});return y.logger.debug("[useHideClip] Hide clip success",{roomName:t,clipId:i}),a}function k(e){return e?{...e,hidden:!0}:e}function T(e,t){y.logger.error("[useHideClip] Hide clip error",{roomName:t?.roomName,clipId:t?.clipId,reason:t?.reason,error:e.message})}function I(e){(0,s.trackUnhideClip)({clipId:e.clipId,mint:e.mintId,context:l.CLIP_SOURCE_CONTEXTS.CLIP_CARD})}async function L(e){let{roomName:t,clipId:i,mintId:r}=e;y.logger.debug("[useUnhideClip] Unhiding clip",{roomName:t,clipId:i,mintId:r});let o=await w.api.patch(`clips/${t}/${i}/unhide`,{json:{mintId:r}});return y.logger.debug("[useUnhideClip] Unhide clip success",{roomName:t,clipId:i}),o}function A(e){return e?{...e,hidden:!1}:e}function P(e,t){y.logger.error("[useUnhideClip] Unhide clip error",{roomName:t?.roomName,clipId:t?.clipId,error:e.message})}async function R(e){let{roomName:t,clipId:i,title:r}=e;return w.api.patch(`clips/${t}/${i}/title`,{json:{title:r},headers:{"Content-Type":"application/json"}})}async function F(e){let{roomName:t,clipId:i,file:r,mintId:o}=e,a=new FormData;return a.append("thumbnail",r),a.append("mintId",o),w.api.post(`clips/${t}/${i}/thumbnail`,{body:a})}let M=e=>{let n,s,l,c,d,m,u,h,p,g=(0,t.c)(10),{clip:f,mintId:x}=e,{mutate:v,isPending:y}=(d=(0,t.c)(2),m=(0,b.useQueryClient)(),d[0]!==m?(c={onMutate:_,mutationFn:E,onSuccess:(e,t)=>{m.setQueriesData({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]},e=>e?{...e,pages:e.pages.map(e=>({...e,clips:e.clips.filter(e=>e.clipId!==t.clipId)})),pageParams:e.pageParams}:e),m.setQueriesData({queryKey:[C,t.roomName,t.clipId]},k),m.invalidateQueries({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]}),m.invalidateQueries({queryKey:[C,t.roomName,t.clipId]}),m.invalidateQueries({queryKey:[S,t.roomName]})},onError:T},d[0]=m,d[1]=c):c=d[1],(0,a.useMutation)(c)),{mutate:w,isPending:j}=(h=(0,t.c)(2),p=(0,b.useQueryClient)(),h[0]!==p?(u={onMutate:I,mutationFn:L,onSuccess:(e,t)=>{p.setQueriesData({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]},e=>e?{...e,pages:e.pages.map(e=>({...e,clips:e.clips.map(e=>e.clipId===t.clipId?{...e,hidden:!1}:e)})),pageParams:e.pageParams}:e),p.setQueriesData({queryKey:[C,t.roomName,t.clipId]},A),p.invalidateQueries({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]}),p.invalidateQueries({queryKey:[C,t.roomName,t.clipId]}),p.invalidateQueries({queryKey:[S,t.roomName]})},onError:P},h[0]=p,h[1]=u):u=h[1],(0,a.useMutation)(u)),R=y||j;return g[0]!==f||g[1]!==v||g[2]!==x||g[3]!==w?(s=e=>{e?.stopPropagation();let t=f.hidden?"Are you sure you want to unhide this video?":"Are you sure you want to hide this video? This video will no longer be visible to anyone.";(0,r.default)(e=>i.default.createElement(o.ClipActionConfirmation,{message:t,onConfirm:n,toast:{id:e.id,dismiss:()=>r.default.dismiss(e.id)},clip:f}),{duration:25e3,style:{padding:0,background:"none",boxShadow:"none"}})},n=()=>{f.hidden?w({roomName:f.roomName,clipId:f.clipId,mintId:x},{onSuccess:U,onError:V}):v({roomName:f.roomName,clipId:f.clipId,reason:"user_hidden",mintId:x},{onSuccess:B,onError:G})},g[0]=f,g[1]=v,g[2]=x,g[3]=w,g[4]=n,g[5]=s):(n=g[4],s=g[5]),g[6]!==n||g[7]!==s||g[8]!==R?(l={handleHideVideo:s,confirmHideVideo:n,isProcessing:R},g[6]=n,g[7]=s,g[8]=R,g[9]=l):l=g[9],l},D=e=>{let i,o,n,s,l,c=(0,t.c)(8),{clip:d,mintId:m,onThumbnailModalClose:u}=e,{mutate:h,isPending:p}=(s=(0,t.c)(2),l=(0,b.useQueryClient)(),s[0]!==l?(n={mutationFn:F,onSuccess:(e,t)=>{l.invalidateQueries({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]})}},s[0]=l,s[1]=n):n=s[1],(0,a.useMutation)(n));c[0]!==d||c[1]!==m||c[2]!==u||c[3]!==h?(i=async e=>{h({roomName:d.roomName,clipId:d.clipId,file:e,mintId:m},{onSuccess:()=>{u?.(),r.default.success("Thumbnail updated successfully.")},onError:W})},c[0]=d,c[1]=m,c[2]=u,c[3]=h,c[4]=i):i=c[4];let g=i;return c[5]!==g||c[6]!==p?(o={handleThumbnailUpload:g,isUploading:p},c[5]=g,c[6]=p,c[7]=o):o=c[7],o},O=e=>{let i,o,n,s,l,c=(0,t.c)(8),{clip:d,mintId:m,onTitleModalClose:u}=e,{mutate:h,isPending:p}=(s=(0,t.c)(2),l=(0,b.useQueryClient)(),s[0]!==l?(n={mutationFn:R,onSuccess:(e,t)=>{l.invalidateQueries({queryKey:[N.GET_CLIPS_FOR_ROOM_QUERY_KEY,t.roomName]}),l.invalidateQueries({queryKey:[C,t.roomName,t.clipId]})}},s[0]=l,s[1]=n):n=s[1],(0,a.useMutation)(n));c[0]!==d||c[1]!==m||c[2]!==u||c[3]!==h?(i=async e=>{h({roomName:d.roomName,clipId:d.clipId,title:e,mintId:m},{onSuccess:()=>{u?.(),r.default.success("Title updated successfully.")},onError:$})},c[0]=d,c[1]=m,c[2]=u,c[3]=h,c[4]=i):i=c[4];let g=i;return c[5]!==g||c[6]!==p?(o={handleTitleUpdate:g,isUpdating:p},c[5]=g,c[6]=p,c[7]=o):o=c[7],o};function U(){r.default.success("Video successfully unhidden.")}function V(e){r.default.error("Failed to unhide video: "+(e?.message||e))}function B(){r.default.success("Video successfully hidden.")}function G(e){r.default.error("Failed to hide video: "+(e?.message||e))}function W(e){r.default.error("Failed to update thumbnail: "+(e?.message||e))}function $(e){r.default.error("Failed to update title: "+(e?.message||e))}},27479,421972,305253,914343,355124,e=>{"use strict";var t=e.i(942765),i=e.i(649785);e.s(["EyeIcon",0,e=>{let r,o,a=(0,i.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M1.375 8.232a0.667 0.667 0 0 1 0-.464 7.167 7.167 0 0 1 13.251 0 0.667 0.667 0 0 1 0 .464 7.167 7.167 0 0 1-13.251 0",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("circle",{cx:"8",cy:"8",r:"2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=r):r=a[0],a[1]!==n?(o=(0,t.jsx)("div",{className:n,children:r}),a[1]=n,a[2]=o):o=a[2],o}],27479),e.s(["EyeOffIcon",0,e=>{let r,o,a=(0,i.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M7.155 3.384a7.163 7.163 0 0 1 7.47 4.383 0.667 0.667 0 0 1 0 .464 7.165 7.165 0 0 1-.963 1.66",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M9.389 9.439a2 2 0 0 1-2.828-2.828",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M11.653 11.666a7.167 7.167 0 0 1-10.278-3.434 0.667 0.667 0 0 1 0-.464 7.167 7.167 0 0 1 2.964-3.429",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"m1.333 1.333 13.334 13.334",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=r):r=a[0],a[1]!==n?(o=(0,t.jsx)("div",{className:n,children:r}),a[1]=n,a[2]=o):o=a[2],o}],421972),e.s(["ImagePlusIcon",0,e=>{let r,o,a=(0,i.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M10.667 3.333h4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M12.667 1.333v4",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M14 7.667V13.333a1.333 1.333 0 0 1-1.333 1.334H3.333A1.333 1.333 0 0 1 2 13.333V3.333a1.333 1.333 0 0 1 1.333-1.333h5",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"m14 10-2.057-2.057a1.333 1.333 0 0 0-1.886 0L4 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("circle",{cx:"6",cy:"6",r:"1.333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=r):r=a[0],a[1]!==n?(o=(0,t.jsx)("div",{className:n,children:r}),a[1]=n,a[2]=o):o=a[2],o}],305253),e.s(["MoreVerticalIcon",0,e=>{let r,o,a,n,s,l,c,d,m=(0,i.c)(11),{className:u}=e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("ellipse",{cx:"10",cy:"3.5",rx:"2",ry:"1.75",fill:"currentColor"}),o=(0,t.jsx)("ellipse",{cx:"10",cy:"3.5",rx:"0.25",ry:"0.25",fill:"black"}),a=(0,t.jsx)("ellipse",{cx:"10",cy:"10",rx:"2",ry:"1.75",fill:"currentColor"}),n=(0,t.jsx)("ellipse",{cx:"10",cy:"10",rx:"0.25",ry:"0.25",fill:"black"}),s=(0,t.jsx)("ellipse",{cx:"10",cy:"16.5",rx:"2",ry:"1.75",fill:"currentColor"}),l=(0,t.jsx)("ellipse",{cx:"10",cy:"16.5",rx:"0.25",ry:"0.25",fill:"black"}),m[0]=r,m[1]=o,m[2]=a,m[3]=n,m[4]=s,m[5]=l):(r=m[0],o=m[1],a=m[2],n=m[3],s=m[4],l=m[5]),m[6]!==u?(c=(0,t.jsxs)("svg",{className:u,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r,o,a,n,s,l]}),m[6]=u,m[7]=c):c=m[7],m[8]!==u||m[9]!==c?(d=(0,t.jsx)("div",{className:u,children:c}),m[8]=u,m[9]=c,m[10]=d):d=m[10],d}],914343),e.s(["TypeIcon",0,e=>{let r,o,a=(0,i.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("polyline",{points:"2.667 4.667 2.667 2.667 13.333 2.667 13.333 4.667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("line",{x1:"6",x2:"10",y1:"13.333",y2:"13.333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("line",{x1:"8",x2:"8",y1:"2.667",y2:"13.333",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=r):r=a[0],a[1]!==n?(o=(0,t.jsx)("div",{className:n,children:r}),a[1]=n,a[2]=o):o=a[2],o}],355124)},416050,e=>{"use strict";let t=e.i(952544).environment.clipCdnUrl,i=({mintId:e,clipId:i})=>{let r=encodeURIComponent(e),o=encodeURIComponent(i);return`${t}/${r}/${o}`},r=async e=>{if("undefined"!=typeof navigator&&navigator.clipboard?.writeText)return void await navigator.clipboard.writeText(e);if("undefined"!=typeof document){let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}},o=async({mintId:e,clipId:t})=>{let o=i({mintId:e,clipId:t});return await r(o),o};e.s(["buildClipUrl",0,i,"copyClipUrl",0,o,"copyTextToClipboard",0,r])},51837,964731,205208,488456,e=>{"use strict";e.s(["ArchivedVideoCard",()=>A],51837);var t=e.i(942765),i=e.i(649785),r=e.i(528600),o=e.i(264458),a=e.i(749156),n=e.i(162786),s=e.i(325320),l=e.i(474877),c=e.i(687470),d=e.i(29054),m=e.i(574953);e.s(["ArchivedVideoCardEditMenu",()=>C],964731);var u=e.i(281675),h=e.i(654747),p=e.i(180075),g=e.i(27479),f=e.i(421972),x=e.i(305253),v=e.i(914343),y=e.i(355124),b=e.i(416050),w=e.i(54567);let j=e=>{let r,o,a=(0,i.c)(7),{onClick:n,disabled:s,icon:l,text:c}=e,d=void 0!==s&&s;return a[0]!==l?(r=(0,t.jsx)("span",{className:"text-livestream-muted",children:l}),a[0]=l,a[1]=r):r=a[1],a[2]!==d||a[3]!==n||a[4]!==r||a[5]!==c?(o=(0,t.jsxs)("button",{onClick:n,disabled:d,className:" flex w-full items-center gap-3 rounded-md px-4 py-2 text-left transition-colors duration-150 hover:bg-white/20 disabled:opacity-50",children:[r,c]}),a[2]=d,a[3]=n,a[4]=r,a[5]=c,a[6]=o):o=a[6],o},C=e=>{let r,o,s,l,c,d,m,C,S,N,_,E,k,T=(0,i.c)(39),{clip:I,mintId:L,onThumbnailModalOpen:A,onTitleModalOpen:P,inline:R}=e,{value:F,toggleValue:M,setFalse:D}=(0,n.useBoolean)(!1),O=(0,u.useRef)(null);T[0]!==I||T[1]!==L?(r={clip:I,mintId:L},T[0]=I,T[1]=L,T[2]=r):r=T[2];let{handleHideVideo:U,isProcessing:V}=(0,a.useClipHideActions)(r);T[3]!==D||T[4]!==F?(o=()=>{let e=e=>{O.current&&!O.current.contains(e.target)&&D()};return F&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},s=[F,D],T[3]=D,T[4]=F,T[5]=o,T[6]=s):(o=T[5],s=T[6]),(0,u.useEffect)(o,s),T[7]!==D||T[8]!==A?(l=e=>{e.stopPropagation(),A(),D()},T[7]=D,T[8]=A,T[9]=l):l=T[9];let B=l;T[10]!==M?(c=e=>{e.stopPropagation(),M()},T[10]=M,T[11]=c):c=T[11];let G=c;T[12]!==D||T[13]!==U?(d=e=>{e.stopPropagation(),U(),D()},T[12]=D,T[13]=U,T[14]=d):d=T[14];let W=d;T[15]!==I||T[16]!==D||T[17]!==L?(m=async e=>{e.stopPropagation();try{await (0,b.copyClipUrl)({mintId:L,clipId:I.clipId}),h.default.success("Link copied to clipboard!")}catch(e){w.logger.error("Failed to copy link",{error:e}),h.default.error("Failed to copy link")}D()},T[15]=I,T[16]=D,T[17]=L,T[18]=m):m=T[18];let $=m;T[19]!==D||T[20]!==P?(C=e=>{e.stopPropagation(),P(),D()},T[19]=D,T[20]=P,T[21]=C):C=T[21];let H=C,K=void 0!==R&&R?"relative":"absolute right-2 top-1";return T[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(v.MoreVerticalIcon,{className:"h-4 w-4"}),T[22]=S):S=T[22],T[23]!==G?(N=(0,t.jsx)("button",{onClick:G,className:"rounded-lg bg-black/50 p-1 text-white transition-all duration-200 hover:bg-black/60",children:S}),T[23]=G,T[24]=N):N=T[24],T[25]!==I||T[26]!==H||T[27]!==$||T[28]!==B||T[29]!==W||T[30]!==F||T[31]!==V?(_=F&&(0,t.jsxs)("div",{className:"absolute right-0 top-full z-50 mt-1 w-44 rounded-lg bg-[#2B313B] p-1 text-xs text-white shadow-xl backdrop-blur-sm",children:[(0,t.jsx)(j,{onClick:B,icon:(0,t.jsx)(x.ImagePlusIcon,{className:"h-4 w-4"}),text:"Change cover"}),(0,t.jsx)(j,{onClick:W,disabled:V,icon:I.hidden?(0,t.jsx)(g.EyeIcon,{className:"h-4 w-4"}):(0,t.jsx)(f.EyeOffIcon,{className:"h-4 w-4"}),text:I.hidden?"Unhide video":"Hide video"}),(0,t.jsx)(j,{onClick:$,icon:(0,t.jsx)(p.CopyIcon,{className:"h-4 w-4",copied:!1}),text:"Copy link"}),(0,t.jsx)(j,{onClick:H,icon:(0,t.jsx)(y.TypeIcon,{className:"h-4 w-4"}),text:"Change title"})]}),T[25]=I,T[26]=H,T[27]=$,T[28]=B,T[29]=W,T[30]=F,T[31]=V,T[32]=_):_=T[32],T[33]!==N||T[34]!==_?(E=(0,t.jsxs)("div",{className:"relative",children:[N,_]}),T[33]=N,T[34]=_,T[35]=E):E=T[35],T[36]!==K||T[37]!==E?(k=(0,t.jsx)("div",{className:K,ref:O,children:E}),T[36]=K,T[37]=E,T[38]=k):k=T[38],k};var S=e.i(38816),N=e.i(662042),_=e.i(546781),E=e.i(154057);let k=e=>{let r,o,a,n,s,l,c,d,m,h,p,g,f,x,v,y,b,w,j,C,S,k,I,L,A,P=(0,i.c)(57),{isOpen:R,onClose:F,onUpload:M,time:D,isLoading:O}=e,U=void 0!==O&&O,[V,B]=(0,u.useState)(null);P[0]!==U||P[1]!==R||P[2]!==F?(r=()=>{let e=e=>{"Escape"===e.key&&R&&!U&&F()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},o=[R,F,U],P[0]=U,P[1]=R,P[2]=F,P[3]=r,P[4]=o):(r=P[3],o=P[4]),(0,u.useEffect)(r,o),P[5]!==R?(a=()=>{R||B(null)},n=[R],P[5]=R,P[6]=a,P[7]=n):(a=P[6],n=P[7]),(0,u.useEffect)(a,n),P[8]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{let t=e[0];t&&B(URL.createObjectURL(t))},P[8]=s):s=P[8];let G=s;P[9]!==V?(l=()=>()=>{V&&URL.revokeObjectURL(V)},c=[V],P[9]=V,P[10]=l,P[11]=c):(l=P[10],c=P[11]),(0,u.useEffect)(l,c),P[12]===Symbol.for("react.memo_cache_sentinel")?(d={"image/*":[".png",".jpg",".jpeg",".webp"]},P[12]=d):d=P[12],P[13]!==U?(m={onDrop:G,accept:d,maxFiles:1,multiple:!1,disabled:U},P[13]=U,P[14]=m):m=P[14];let{getRootProps:W,getInputProps:$,isDragActive:H}=(0,E.useDropzone)(m);P[15]!==M||P[16]!==V?(h=()=>{V&&fetch(V).then(T).then(e=>{M(new File([e],"thumbnail.jpg",{type:"image/jpeg"}))})},P[15]=M,P[16]=V,P[17]=h):h=P[17];let K=h;if(!R)return null;P[18]!==D?(p=(0,t.jsxs)("h2",{className:"text-lg font-medium text-white",children:["Change cover for Clip from ",D]}),P[18]=D,P[19]=p):p=P[19],P[20]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Upload new cover image"}),P[20]=g):g=P[20],P[21]!==p?(f=(0,t.jsxs)("div",{children:[p,g]}),P[21]=p,P[22]=f):f=P[22],P[23]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(_.X,{size:18}),P[23]=x):x=P[23],P[24]!==U||P[25]!==F?(v=(0,t.jsx)("button",{onClick:F,className:"text-gray-500 hover:text-gray-400",disabled:U,children:x}),P[24]=U,P[25]=F,P[26]=v):v=P[26],P[27]!==f||P[28]!==v?(y=(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[f,v]})}),P[27]=f,P[28]=v,P[29]=y):y=P[29],P[30]!==W?(b=W(),P[30]=W,P[31]=b):b=P[31];let Q=`mb-4 flex h-48 cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-700 bg-[#141414] p-6 transition-colors ${H?"border-[#87EF9B] bg-[#87EF9B]/5":""} ${U?"cursor-not-allowed opacity-50":""}`;P[32]!==$?(w=$(),P[32]=$,P[33]=w):w=P[33],P[34]!==U||P[35]!==w?(j=(0,t.jsx)("input",{...w,disabled:U}),P[34]=U,P[35]=w,P[36]=j):j=P[36],P[37]!==V?(C=V?(0,t.jsx)("img",{src:V,alt:"Preview",className:"h-full w-full object-contain"}):(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(N.ImageIcon,{className:"mx-auto mb-3 h-8 w-8 text-gray-600"}),(0,t.jsx)("button",{className:"mb-2 rounded bg-[#87EF9B] px-4 py-1.5 text-sm font-medium text-black hover:bg-[#87EF9B]/90",children:"select file"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"or drag and drop it here"})]}),P[37]=V,P[38]=C):C=P[38],P[39]!==b||P[40]!==Q||P[41]!==j||P[42]!==C?(S=(0,t.jsxs)("div",{...b,className:Q,children:[j,C]}),P[39]=b,P[40]=Q,P[41]=j,P[42]=C,P[43]=S):S=P[43],P[44]!==U||P[45]!==F?(k=(0,t.jsx)("button",{onClick:F,className:"rounded px-4 py-1.5 text-sm font-medium text-gray-400 hover:text-gray-300",disabled:U,children:"Cancel"}),P[44]=U,P[45]=F,P[46]=k):k=P[46];let z=!V||U;return P[47]!==K||P[48]!==z?(I=(0,t.jsx)("button",{onClick:K,disabled:z,className:"rounded bg-[#87ef9b] px-4 py-1.5 text-sm font-medium text-black transition-colors hover:bg-[#87ef9b]/90 disabled:cursor-not-allowed disabled:opacity-50",children:"Save changes"}),P[47]=K,P[48]=z,P[49]=I):I=P[49],P[50]!==k||P[51]!==I?(L=(0,t.jsxs)("div",{className:"flex justify-end gap-3",children:[k,I]}),P[50]=k,P[51]=I,P[52]=L):L=P[52],P[53]!==y||P[54]!==S||P[55]!==L?(A=(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,t.jsxs)("div",{className:"w-[500px] rounded-lg bg-[#1e1e1e] p-6",children:[y,S,L]})}),P[53]=y,P[54]=S,P[55]=L,P[56]=A):A=P[56],A};function T(e){return e.blob()}e.s(["ThumbnailUploadModal",0,k],205208);let I=e=>{let r,o,a=(0,i.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M12 4 4 12",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"m4 4 8 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=r):r=a[0],a[1]!==n?(o=(0,t.jsx)("div",{className:n,children:r}),a[1]=n,a[2]=o):o=a[2],o},L=e=>{let r,o,a,n,s,l,c,d,m,h,p,g,f,x,v,y,b,w=(0,i.c)(43),{isOpen:j,onClose:C,onSave:S,currentTitle:N,isLoading:_}=e,E=void 0!==_&&_,[k,T]=(0,u.useState)(N||"");w[0]!==N||w[1]!==j?(r=()=>{j&&T(N||"")},o=[j,N],w[0]=N,w[1]=j,w[2]=r,w[3]=o):(r=w[2],o=w[3]),(0,u.useEffect)(r,o),w[4]!==S||w[5]!==k?(a=()=>{let e=k.trim();0!==e.length&&S(e)},w[4]=S,w[5]=k,w[6]=a):a=w[6];let L=a;w[7]!==L||w[8]!==C?(n=e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&C():(e.preventDefault(),L())},w[7]=L,w[8]=C,w[9]=n):n=w[9];let A=n;if(!j)return null;w[10]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Edit Title"}),w[10]=s):s=w[10],w[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsx)(I,{className:"h-5 w-5"}),w[11]=l):l=w[11],w[12]!==E||w[13]!==C?(c=(0,t.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[s,(0,t.jsx)("button",{onClick:C,className:"rounded p-1 text-gray-400 transition-colors hover:text-white",disabled:E,children:l})]}),w[12]=E,w[13]=C,w[14]=c):c=w[14],w[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("label",{htmlFor:"title",className:"mb-2 block text-sm font-medium text-gray-300",children:"Title"}),w[15]=d):d=w[15],w[16]===Symbol.for("react.memo_cache_sentinel")?(m=e=>T(e.target.value),w[16]=m):m=w[16],w[17]!==A||w[18]!==E||w[19]!==k?(h=(0,t.jsx)("input",{id:"title",type:"text",value:k,onChange:m,onKeyDown:A,placeholder:"Enter title...",className:"w-full rounded border border-gray-600 bg-gray-700 px-3 py-2 text-white placeholder-gray-400 focus:border-green-400 focus:outline-none focus:ring-1 focus:ring-green-400",disabled:E,maxLength:100,autoFocus:!0}),w[17]=A,w[18]=E,w[19]=k,w[20]=h):h=w[20],w[21]!==k.length?(p=(0,t.jsxs)("div",{className:"mt-1 text-xs text-gray-400",children:[k.length,"/100 characters"]}),w[21]=k.length,w[22]=p):p=w[22],w[23]!==h||w[24]!==p?(g=(0,t.jsxs)("div",{className:"mb-4",children:[d,h,p]}),w[23]=h,w[24]=p,w[25]=g):g=w[25],w[26]!==E||w[27]!==C?(f=(0,t.jsx)("button",{onClick:C,className:"flex-1 rounded bg-gray-600 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-gray-500 disabled:cursor-not-allowed disabled:opacity-50",disabled:E,children:"Cancel"}),w[26]=E,w[27]=C,w[28]=f):f=w[28],w[29]!==E||w[30]!==k?(x=E||0===k.trim().length,w[29]=E,w[30]=k,w[31]=x):x=w[31];let P=E?"Saving...":"Save";return w[32]!==L||w[33]!==x||w[34]!==P?(v=(0,t.jsx)("button",{onClick:L,disabled:x,className:"flex-1 rounded bg-green-500 px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-green-400 disabled:cursor-not-allowed disabled:opacity-50",children:P}),w[32]=L,w[33]=x,w[34]=P,w[35]=v):v=w[35],w[36]!==f||w[37]!==v?(y=(0,t.jsxs)("div",{className:"flex gap-3",children:[f,v]}),w[36]=f,w[37]=v,w[38]=y):y=w[38],w[39]!==g||w[40]!==y||w[41]!==c?(b=(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-bg-secondary p-6 shadow-xl",children:[c,g,y]})}),w[39]=g,w[40]=y,w[41]=c,w[42]=b):b=w[42],b};e.s(["TitleEditModal",0,L],488456);let A=e=>{let u,h,p,g,f,x,v,y,b,w,j,N,_,E,T,I,A,P,R,F,M,D=(0,i.c)(73),{clip:O,className:U,canEdit:V,fluid:B}=e,G=void 0!==B&&B,{mintId:W}=(0,s.useLivestreamContext)(),{canModerateRoom:$}=(0,l.useRoomModerationContext)();D[0]!==O.duration?(u=(0,c.formatDuration)(O.duration),D[0]=O.duration,D[1]=u):u=D[1];let H=u,{value:K,setTrue:Q,setFalse:z}=(0,n.useBoolean)(!1),{value:Y,setTrue:q,setFalse:X}=(0,n.useBoolean)(!1);D[2]!==O||D[3]!==z||D[4]!==W?(h={clip:O,mintId:W,onThumbnailModalClose:z},D[2]=O,D[3]=z,D[4]=W,D[5]=h):h=D[5];let{handleThumbnailUpload:J,isUploading:Z}=(0,a.useClipThumbnailActions)(h);D[6]!==O||D[7]!==X||D[8]!==W?(p={clip:O,mintId:W,onTitleModalClose:X},D[6]=O,D[7]=X,D[8]=W,D[9]=p):p=D[9];let{handleTitleUpdate:ee,isUpdating:et}=(0,a.useClipTitleActions)(p),{user:ei}=(0,r.useUser)(O.highlightCreatorAddress??"");D[10]!==O.highlightCreatorAddress||D[11]!==ei?(g=(0,m.getDisplayUser)(ei,O.highlightCreatorAddress),D[10]=O.highlightCreatorAddress,D[11]=ei,D[12]=g):g=D[12];let er=g,eo=!G;return D[13]!==U||D[14]!==G||D[15]!==eo?(f=(0,o.default)({"w-full":G,"w-[220px] shrink-0":eo},"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-lg",U),D[13]=U,D[14]=G,D[15]=eo,D[16]=f):f=D[16],D[17]!==O.clipId?(x=()=>(0,c.updateClipParam)(O.clipId),D[17]=O.clipId,D[18]=x):x=D[18],D[19]!==O.thumbnailUrl?(v=(0,t.jsx)("img",{src:O.thumbnailUrl,alt:"Clip thumbnail",className:"aspect-video w-full rounded-lg object-cover transition-all duration-200 hover:brightness-110"}),D[19]=O.thumbnailUrl,D[20]=v):v=D[20],D[21]!==H?(y=(0,t.jsx)("span",{className:"absolute bottom-2 right-2 rounded bg-black/50 p-[2px] text-xs text-white",children:H}),D[21]=H,D[22]=y):y=D[22],D[23]!==V||D[24]!==$||D[25]!==O||D[26]!==W||D[27]!==q||D[28]!==Q?(b=(V||$)&&(0,t.jsx)(C,{clip:O,mintId:W,onThumbnailModalOpen:Q,onTitleModalOpen:q}),D[23]=V,D[24]=$,D[25]=O,D[26]=W,D[27]=q,D[28]=Q,D[29]=b):b=D[29],D[30]!==y||D[31]!==b||D[32]!==v?(w=(0,t.jsxs)("div",{className:"relative",children:[v,y,b]}),D[30]=y,D[31]=b,D[32]=v,D[33]=w):w=D[33],D[34]!==O?(j=(0,S.getClipTitle)(O),D[34]=O,D[35]=j):j=D[35],D[36]!==j?(N=(0,t.jsx)("div",{className:"line-clamp-1 text-ellipsis text-xs font-bold text-white",children:j}),D[36]=j,D[37]=N):N=D[37],D[38]!==O.startTime?(_=(0,d.formatRelativeDate)(O.startTime),D[38]=O.startTime,D[39]=_):_=D[39],D[40]!==_?(E=(0,t.jsx)("div",{className:"text-xs text-livestream-muted",children:_}),D[40]=_,D[41]=E):E=D[41],D[42]!==N||D[43]!==E?(T=(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[N,E]}),D[42]=N,D[43]=E,D[44]=T):T=D[44],D[45]!==er?(I=er&&(0,t.jsx)("div",{className:"flex-shrink-0 text-right",children:(0,t.jsx)("div",{className:"line-clamp-1 text-ellipsis text-xs text-livestream-muted",children:er})}),D[45]=er,D[46]=I):I=D[46],D[47]!==T||D[48]!==I?(A=(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[T,I]})}),D[47]=T,D[48]=I,D[49]=A):A=D[49],D[50]!==w||D[51]!==A||D[52]!==f||D[53]!==x?(P=(0,t.jsxs)("div",{className:f,onClick:x,children:[w,A]}),D[50]=w,D[51]=A,D[52]=f,D[53]=x,D[54]=P):P=D[54],D[55]!==V||D[56]!==O.startTime||D[57]!==z||D[58]!==J||D[59]!==K||D[60]!==Z?(R=V&&(0,t.jsx)(k,{isOpen:K,onClose:z,onUpload:J,time:(0,d.formatRelativeDate)(O.startTime),isLoading:Z}),D[55]=V,D[56]=O.startTime,D[57]=z,D[58]=J,D[59]=K,D[60]=Z,D[61]=R):R=D[61],D[62]!==V||D[63]!==O.title||D[64]!==X||D[65]!==ee||D[66]!==Y||D[67]!==et?(F=V&&(0,t.jsx)(L,{isOpen:Y,onClose:X,onSave:ee,currentTitle:O.title,isLoading:et}),D[62]=V,D[63]=O.title,D[64]=X,D[65]=ee,D[66]=Y,D[67]=et,D[68]=F):F=D[68],D[69]!==P||D[70]!==R||D[71]!==F?(M=(0,t.jsxs)(t.Fragment,{children:[P,R,F]}),D[69]=P,D[70]=R,D[71]=F,D[72]=M):M=D[72],M}},481541,e=>{"use strict";var t=e.i(942765),i=e.i(649785),r=e.i(113318),o=e.i(65259);e.s(["AnimatedIconSwap",0,e=>{let a,n=(0,i.c)(5),{isActive:s,activeIcon:l,inactiveIcon:c,className:d}=e;return n[0]!==l||n[1]!==d||n[2]!==c||n[3]!==s?(a=(0,t.jsx)("span",{className:"relative inline-flex items-center justify-center",children:(0,t.jsx)(r.AnimatePresence,{mode:"wait",children:s?(0,t.jsx)(o.motion.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.15},className:d,children:l},"active"):(0,t.jsx)(o.motion.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{duration:.15},className:d,children:c},"inactive")})}),n[0]=l,n[1]=d,n[2]=c,n[3]=s,n[4]=a):a=n[4],a}])},40011,857819,e=>{"use strict";var t=e.i(942765),i=e.i(649785),r=e.i(264458),o=e.i(65259),a=e.i(654747),n=e.i(481541),s=e.i(162786),l=e.i(180075),c=e.i(416050),d=e.i(54567),m=e.i(323888);e.s(["CopyLinkButton",0,e=>{let u,h,p,g,f,x,v,y,b=(0,i.c)(19),{url:w,label:j,size:C,className:S}=e,N=void 0===C?"large":C,{value:_,setTrue:E,setFalse:k}=(0,s.useBoolean)(!1);b[0]!==_||b[1]!==k||b[2]!==E||b[3]!==w?(u=async()=>{if(!_)try{await (0,c.copyTextToClipboard)(w),a.default.success("Link copied to clipboard!"),E(),window.setTimeout(()=>k(),3e3)}catch(e){d.logger.error("Failed to copy link",{error:e}),a.default.error("Failed to copy link")}},b[0]=_,b[1]=k,b[2]=E,b[3]=w,b[4]=u):u=b[4];let T=u;b[5]===Symbol.for("react.memo_cache_sentinel")?(h={scale:1.05},p={scale:.95},b[5]=h,b[6]=p):(h=b[5],p=b[6]),b[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(l.CopyIcon,{className:"h-4 w-4",copied:!0}),f=(0,t.jsx)(l.CopyIcon,{className:"h-4 w-4",copied:!1}),b[7]=g,b[8]=f):(g=b[7],f=b[8]),b[9]!==_?(x=(0,t.jsx)(n.AnimatedIconSwap,{isActive:_,activeIcon:g,inactiveIcon:f,className:"h-4 w-4"}),b[9]=_,b[10]=x):x=b[10];let I=_?"Copied!":void 0===j?"Copy Link":j;return b[11]!==S?(v=(0,r.default)("w-[120px] whitespace-nowrap transition-colors duration-200",S),b[11]=S,b[12]=v):v=b[12],b[13]!==T||b[14]!==N||b[15]!==v||b[16]!==x||b[17]!==I?(y=(0,t.jsx)(o.motion.div,{whileHover:h,whileTap:p,children:(0,t.jsx)(m.PumpButton,{onClick:T,icon:x,label:I,size:N,className:v})}),b[13]=T,b[14]=N,b[15]=v,b[16]=x,b[17]=I,b[18]=y):y=b[18],y}],40011);var u=e.i(557398),h=e.i(378964),p=e.i(157633),g=e.i(517770),f=e.i(894089),x=e.i(812423);let v=()=>{let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(g.PlayButton,{className:f.buttonStyles,children:[(0,t.jsx)(p.IconPlay,{size:x.ICON_SIZE,className:"hidden group-data-[paused]:block"}),(0,t.jsx)(p.IconPause,{size:x.ICON_SIZE,className:"group-data-[paused]:hidden"})]}),(0,t.jsx)(g.Gesture,{className:"pointer-coarse:hidden absolute inset-0 z-0 block h-full w-full",event:"pointerup",action:"toggle:paused"})]}),r[0]=e):e=r[0],e};var y=e.i(931305);let b=()=>{let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(g.timeSlider.Root,{className:"group relative inline-flex w-full cursor-pointer touch-none select-none items-center outline-none aria-hidden:hidden",children:[(0,t.jsxs)(g.timeSlider.Track,{className:y.sliderTrackStyles,children:[(0,t.jsx)(g.timeSlider.TrackFill,{className:y.sliderFillStyles}),(0,t.jsx)(g.timeSlider.Progress,{className:y.sliderProgressStyles})]}),(0,t.jsx)(g.timeSlider.Thumb,{className:y.sliderThumbStyles})]}),r[0]=e):e=r[0],e},w=()=>{let e,r,o,a=(0,i.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(g.Time,{type:"current",className:"text-white",style:{WebkitTextStroke:"1px rgba(0, 0, 0, 0.12)"}}),r=(0,t.jsx)("div",{className:"mx-1 text-white/80",children:"/"}),a[0]=e,a[1]=r):(e=a[0],r=a[1]),a[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsxs)("div",{className:"flex items-center text-sm font-medium",children:[e,r,(0,t.jsx)(g.Time,{type:"duration",className:"text-white",style:{WebkitTextStroke:"1px rgba(0, 0, 0, 0.12)"}})]}),a[2]=o):o=a[2],o};var j=e.i(476088);let C=()=>{let e,r=(0,i.c)(1);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(u.Bottom,{Top:(0,t.jsx)(b,{}),LeftBottom:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{}),(0,t.jsx)(j.Volume,{}),(0,t.jsx)(w,{})]}),RightBottom:(0,t.jsx)(h.Pip,{})}),r[0]=e):e=r[0],e};var S=e.i(305088);e.s(["VodPlayer",0,e=>{let r,o,a=(0,i.c)(3);return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(C,{}),a[0]=r):r=a[0],a[1]!==e?(o=(0,t.jsx)(S.Player,{playerName:"VodPlayer",streamType:"on-demand",Bottom:r,hasAutoPip:!0,...e}),a[1]=e,a[2]=o):o=a[2],o}],857819)},723394,313768,e=>{"use strict";var t,i=e.i(942765),r=e.i(649785),o=e.i(749606),a=e.i(921753),n=e.i(325320),s=e.i(264458),l=e.i(675898),c=e.i(281675),d=e.i(40011),m=e.i(323888),u=e.i(446152),h=e.i(857819),p=e.i(738045),g=e.i(967388),f=e.i(8126),x=e.i(749156),v=e.i(749944);let y=e=>{let t,o,a=(0,r.c)(3),{className:n}=e;return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M14 10v2.667a1.333 1.333 0 0 1-1.333 1.333H3.333A1.333 1.333 0 0 1 2 12.667V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("polyline",{points:"4.667 6.667 8 10 11.333 6.667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("line",{x1:"8",x2:"8",y1:"10",y2:"2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),a[0]=t):t=a[0],a[1]!==n?(o=(0,i.jsx)("div",{className:n,children:t}),a[1]=n,a[2]=o):o=a[2],o};var b=e.i(474877),w=e.i(952544),j=e.i(128296),C=e.i(29054),S=e.i(226302),N=e.i(416050),_=e.i(54567),E=e.i(752269),k=e.i(964731),T=e.i(38816),I=e.i(205208),L=e.i(488456);let A=e=>{let t,a,A,R,F,M,D,O,U,V,B,G,W,$,H,K,Q,z,Y,q,X,J,Z,ee,et,ei,er,eo,ea,en=(0,r.c)(91),{className:es,canEdit:el}=e,{mintId:ec}=(0,n.useLivestreamContext)(),{clipParam:ed}=(0,o.useClipParam)(),[em,eu]=(0,c.useState)(!1),[eh,ep]=(0,c.useState)(!1),[eg,ef]=(0,c.useState)(!1),{canModerateRoom:ex}=(0,b.useRoomModerationContext)(),ev=ed||"",ey=!!ed;en[0]!==ec||en[1]!==ev||en[2]!==ey?(t={roomName:ec,clipId:ev,enabled:ey},en[0]=ec,en[1]=ev,en[2]=ey,en[3]=t):t=en[3];let{data:eb,isLoading:ew}=(0,E.useGetClipById)(t);en[4]===Symbol.for("react.memo_cache_sentinel")?(a=()=>eu(!1),en[4]=a):a=en[4],en[5]!==eb||en[6]!==ec?(A={clip:eb,mintId:ec,onThumbnailModalClose:a},en[5]=eb,en[6]=ec,en[7]=A):A=en[7];let{handleThumbnailUpload:ej,isUploading:eC}=(0,x.useClipThumbnailActions)(A);en[8]===Symbol.for("react.memo_cache_sentinel")?(R=()=>ep(!1),en[8]=R):R=en[8],en[9]!==eb||en[10]!==ec?(F={clip:eb,mintId:ec,onTitleModalClose:R},en[9]=eb,en[10]=ec,en[11]=F):F=en[11];let{handleTitleUpdate:eS,isUpdating:eN}=(0,x.useClipTitleActions)(F);en[12]===Symbol.for("react.memo_cache_sentinel")?(M={onError:P},en[12]=M):M=en[12];let{mutate:e_,isPending:eE}=(0,v.useDownloadClip)(M);en[13]===Symbol.for("react.memo_cache_sentinel")?(D=()=>{ep(!0)},en[13]=D):D=en[13];let ek=D;en[14]!==eb||en[15]!==e_||en[16]!==ec?(O=()=>{if(!eb)return;let e=eb.mp4Url;if(e&&e.length>0){(0,f.trackClipStatusDownloaded)({clipId:eb.clipId,mint:ec,context:g.CLIP_SOURCE_CONTEXTS.ARCHIVED_VIDEO_PLAYER}),(0,S.download)(e,`${eb.title??"Video"}.mp4`);return}if(eb.duration>=p.LONG_VIDEO_THRESHOLD_SECONDS){_.logger.info("[ArchivedVideoPlayer] Download blocked (long video)",{clipId:eb.clipId,durationSec:eb.duration,thresholdSec:p.LONG_VIDEO_THRESHOLD_SECONDS,mintId:ec}),ef(!0);return}e_(eb)},en[14]=eb,en[15]=e_,en[16]=ec,en[17]=O):O=en[17];let eT=O;if(!ed)return null;if(ew){let e;return en[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(l.Loader,{className:"animate-spin"}),en[18]=e):e=en[18],e}if(!eb)return null;en[19]!==es?(U=(0,s.default)(es,"mx-auto w-full max-w-[900px] p-0"),en[19]=es,en[20]=U):U=en[20];let eI=eb.playlistUrl??eb.mp4Url,eL=eb.clipId;en[21]!==eb?(V=(0,T.getClipTitle)(eb),en[21]=eb,en[22]=V):V=en[22];let eA=eb.clipType===j.ClipType.Complete?"vod":"clip";en[23]!==eb.clipId||en[24]!==ec||en[25]!==eI||en[26]!==V||en[27]!==eA?(B=(0,i.jsx)(h.VodPlayer,{src:eI,videoId:eL,roomId:ec,videoTitle:V,videoType:eA}),en[23]=eb.clipId,en[24]=ec,en[25]=eI,en[26]=V,en[27]=eA,en[28]=B):B=en[28],en[29]!==eb?(G=(0,T.getClipTitle)(eb),en[29]=eb,en[30]=G):G=en[30],en[31]!==G?(W=(0,i.jsx)("h1",{className:"text-xl font-bold text-white",children:G}),en[31]=G,en[32]=W):W=en[32],en[33]!==eb.startTime?($=(0,C.formatRelativeDate)(eb.startTime),en[33]=eb.startTime,en[34]=$):$=en[34],en[35]!==$?(H=(0,i.jsx)("div",{className:"text-sm leading-[14px] text-livestream-muted",children:$}),en[35]=$,en[36]=H):H=en[36],en[37]!==W||en[38]!==H?(K=(0,i.jsx)("div",{className:"flex items-start gap-2",children:(0,i.jsxs)("div",{children:[W,H]})}),en[37]=W,en[38]=H,en[39]=K):K=en[39],en[40]!==eb.clipId||en[41]!==ec?(Q=(0,N.buildClipUrl)({mintId:ec,clipId:eb.clipId}),en[40]=eb.clipId,en[41]=ec,en[42]=Q):Q=en[42],en[43]!==Q?(z=(0,i.jsx)(d.CopyLinkButton,{url:Q,size:"large",className:"px-4"}),en[43]=Q,en[44]=z):z=en[44],en[45]!==eT||en[46]!==eE?(Y=w.featureFlags[w.FeatureFlags.DOWNLOAD_CLIPS_ENABLED]&&(0,i.jsx)(m.PumpButton,{onClick:eT,disabled:eE,icon:(0,i.jsx)(y,{className:"h-4 w-4"}),label:eE?"Downloading…":"Download",size:"large",className:"px-4",appearance:"outline"}),en[45]=eT,en[46]=eE,en[47]=Y):Y=en[47],en[48]!==el||en[49]!==ex||en[50]!==eb||en[51]!==ec?(q=(el||ex)&&(0,i.jsx)(k.ArchivedVideoCardEditMenu,{clip:eb,mintId:ec,onThumbnailModalOpen:()=>eu(!0),onTitleModalOpen:ek,inline:!0}),en[48]=el,en[49]=ex,en[50]=eb,en[51]=ec,en[52]=q):q=en[52],en[53]!==z||en[54]!==Y||en[55]!==q?(X=(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[z,Y,q]}),en[53]=z,en[54]=Y,en[55]=q,en[56]=X):X=en[56],en[57]!==K||en[58]!==X?(J=(0,i.jsx)("div",{className:"my-4",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[K,X]})}),en[57]=K,en[58]=X,en[59]=J):J=en[59],en[60]!==el||en[61]!==eb.startTime||en[62]!==ej||en[63]!==em||en[64]!==eC?(Z=el&&(0,i.jsx)(I.ThumbnailUploadModal,{isOpen:em,onClose:()=>eu(!1),onUpload:ej,time:(0,C.formatDate)(eb.startTime),isLoading:eC}),en[60]=el,en[61]=eb.startTime,en[62]=ej,en[63]=em,en[64]=eC,en[65]=Z):Z=en[65],en[66]!==el||en[67]!==eb.title||en[68]!==eS||en[69]!==eh||en[70]!==eN?(ee=el&&(0,i.jsx)(L.TitleEditModal,{isOpen:eh,onClose:()=>ep(!1),onSave:eS,currentTitle:eb.title,isLoading:eN}),en[66]=el,en[67]=eb.title,en[68]=eS,en[69]=eh,en[70]=eN,en[71]=ee):ee=en[71];let eP=`This video will be divided into ${Math.ceil(eb.duration/p.LONG_VIDEO_CHUNK_SECONDS)} parts. Continue?`;en[72]===Symbol.for("react.memo_cache_sentinel")?(et=(0,i.jsx)(m.PumpButton,{label:"Cancel",onClick:()=>ef(!1),size:"large",className:"px-4",appearance:"outline"}),en[72]=et):et=en[72];let eR=eE?"Starting…":"Download";return en[73]!==eb||en[74]!==e_?(ei=()=>{ef(!1),e_(eb)},en[73]=eb,en[74]=e_,en[75]=ei):ei=en[75],en[76]!==eE||en[77]!==eR||en[78]!==ei?(er=(0,i.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[et,(0,i.jsx)(m.PumpButton,{label:eR,onClick:ei,size:"large",className:"px-4",disabled:eE})]}),en[76]=eE,en[77]=eR,en[78]=ei,en[79]=er):er=en[79],en[80]!==eg||en[81]!==eP||en[82]!==er?(eo=(0,i.jsx)(u.Dialog,{open:eg,onOpenChange:ef,title:"Long video download",description:eP,children:er}),en[80]=eg,en[81]=eP,en[82]=er,en[83]=eo):eo=en[83],en[84]!==U||en[85]!==B||en[86]!==J||en[87]!==Z||en[88]!==ee||en[89]!==eo?(ea=(0,i.jsxs)("div",{className:U,children:[B,J,Z,ee,eo]}),en[84]=U,en[85]=B,en[86]=J,en[87]=Z,en[88]=ee,en[89]=eo,en[90]=ea):ea=en[90],ea};function P(e){return _.logger.error("[ArchivedVideoPlayer] Download error",{error:e})}var R=e.i(654747),F=e.i(454616),M=e.i(472125),D=e.i(852655);function O(e){return e.clips}function U(e){return e.clips}function V(e){return e.clipType===j.ClipType.Highlight}function B(e,t){return new Date(t.startTime).getTime()-new Date(e.startTime).getTime()}function G(e){return!e.hidden}function W(e){return e.hidden}function $(e){return!e.hidden}var H=e.i(419157),K=e.i(51837);let Q=(0,c.forwardRef)(({label:e,count:t,onClick:r,selected:o,isLoading:a},n)=>(0,i.jsxs)("button",{ref:n,onClick:r,className:(0,s.default)("flex items-center pb-3 text-sm font-bold leading-[18px] transition-colors duration-200",o?"font-extrabold text-white":"text-livestream-muted hover:text-gray-200"),children:[e,a?(0,i.jsx)(l.Loader,{className:"ml-2 h-3 w-3 animate-spin text-livestream-muted"}):(0,i.jsx)("span",{className:"ml-1 text-xs font-normal text-livestream-muted",children:t})]}));Q.displayName="ArchivedVideosFilterTab";let z=e=>{let t,o,a,n,s,l=(0,r.c)(16),{setFilter:d,selectedFilter:m,counts:u,canEdit:h,isLoadingCounts:p}=e,g=(0,c.useRef)(null);l[0]===Symbol.for("react.memo_cache_sentinel")?(t={},l[0]=t):t=l[0];let f=(0,c.useRef)(t);l[1]===Symbol.for("react.memo_cache_sentinel")?(o={left:0,width:0},l[1]=o):o=l[1];let[x,v]=(0,c.useState)(o);if(l[2]!==m?(a=()=>{let e=f.current[m],t=g.current;if(e&&t){let i=t.getBoundingClientRect(),r=e.getBoundingClientRect();v({left:r.left-i.left,width:r.width})}},n=[m],l[2]=m,l[3]=a,l[4]=n):(a=l[3],n=l[4]),(0,c.useEffect)(a,n),l[5]!==h||l[6]!==u||l[7]!==x.left||l[8]!==x.width||l[9]!==p||l[10]!==m||l[11]!==d){let e,t=h?Object.values(F.ArchivedVideosFilter):[F.ArchivedVideosFilter.ACTIVE,F.ArchivedVideosFilter.CLIPS],r=`${x.left}px`,o=`${x.width}px`;l[13]!==r||l[14]!==o?(e=(0,i.jsx)("div",{className:"absolute bottom-0 h-0.5 bg-livestream-green transition-all duration-300 ease-out",style:{left:r,width:o}}),l[13]=r,l[14]=o,l[15]=e):e=l[15],s=(0,i.jsxs)("div",{ref:g,className:"relative flex gap-8",children:[e,t.map(e=>(0,i.jsx)(Q,{ref:t=>{f.current[e]=t},label:(0,T.getArchivedVideosFilterLabels)(e,h),count:u[e],onClick:()=>d(e),selected:m===e,isLoading:!!p},e))]}),l[5]=h,l[6]=u,l[7]=x.left,l[8]=x.width,l[9]=p,l[10]=m,l[11]=d,l[12]=s}else s=l[12];return s},Y=e=>{let t,a,l,d,m,u,h,p,g,f,x=(0,r.c)(36),{className:v,canEdit:y}=e,{mintId:b}=(0,n.useLivestreamContext)(),w=(0,c.useRef)(null);x[0]!==y||x[1]!==b?(t={roomName:b,canEdit:y,limit:20},x[0]=y,x[1]=b,x[2]=t):t=x[2];let{filter:C,setFilter:S,clips:N,isLoading:_,isFetching:E,error:k,hasNextPage:T,fetchNextPage:I,counts:L,isLoadingCounts:A,isEmpty:P,emptyText:Q}=(e=>{let t,i,a,n,s,l,c,d,m,u,h=(0,r.c)(47),{roomName:p,canEdit:g,limit:f}=e,x=void 0!==g&&g,v=void 0===f?20:f,{filter:y,setFilter:b}=(0,o.useClipParam)(),w=y===F.ArchivedVideosFilter.ALL,C=y===F.ArchivedVideosFilter.CLIPS,S=!!p&&!C,N=!!p&&(w||C);h[0]!==x||h[1]!==v||h[2]!==p||h[3]!==S?(t={roomName:p,limit:v,enabled:S,includeUserHidden:x,clipType:j.ClipType.Complete},h[0]=x,h[1]=v,h[2]=p,h[3]=S,h[4]=t):t=h[4];let _=(0,D.useGetClipsForRoom)(t);h[5]!==x||h[6]!==v||h[7]!==p||h[8]!==N?(i={roomName:p,limit:v,enabled:N,includeUserHidden:x,clipType:j.ClipType.Highlight},h[5]=x,h[6]=v,h[7]=p,h[8]=N,h[9]=i):i=h[9];let E=(0,D.useGetClipsForRoom)(i),k=!!p;h[10]!==p||h[11]!==k?(a={roomName:p,enabled:k},h[10]=p,h[11]=k,h[12]=a):a=h[12];let T=(0,M.useGetClipCounts)(a),I=!!S&&_.isLoading||!!N&&E.isLoading,L=!!S&&_.isFetching||!!N&&E.isFetching;n=C?E.error:w?_.error||E.error:_.error;let A=S&&!!_.hasNextPage||N&&!!E.hasNextPage;h[13]!==_||h[14]!==w||h[15]!==C||h[16]!==E?(s=()=>{if(C)return void E.fetchNextPage?.();if(w){_.hasNextPage&&_.fetchNextPage?.(),E.hasNextPage&&E.fetchNextPage?.();return}_.fetchNextPage?.()},h[13]=_,h[14]=w,h[15]=C,h[16]=E,h[17]=s):s=h[17];let P=s;if(h[18]!==_.data?.pages||h[19]!==w||h[20]!==C||h[21]!==E.data?.pages){e:{let e=_.data?.pages.flatMap(O)??[],t=(E.data?.pages.flatMap(U)??[]).filter(V);if(C){l=t;break e}if(w){l=[...e,...t].sort(B);break e}l=e}h[18]=_.data?.pages,h[19]=w,h[20]=C,h[21]=E.data?.pages,h[22]=l}else l=h[22];let R=l;t:{switch(y){case F.ArchivedVideosFilter.ALL:c=R;break t;case F.ArchivedVideosFilter.ACTIVE:{let e;h[23]!==R?(e=R.filter(G),h[23]=R,h[24]=e):e=h[24],c=e;break t}case F.ArchivedVideosFilter.HIDDEN:{let e;h[25]!==R?(e=R.filter(W),h[25]=R,h[26]=e):e=h[26],c=e;break t}case F.ArchivedVideosFilter.CLIPS:{let e;h[27]!==R?(e=R.filter($),h[27]=R,h[28]=e):e=h[28],c=e;break t}}c=void 0}let H=c,K=T.data?.total??0,Q=T.data?.visible??0,z=T.data?.hidden??0,Y=T.data?.clips??0;h[29]!==Y||h[30]!==z||h[31]!==K||h[32]!==Q?(d={[F.ArchivedVideosFilter.ALL]:K,[F.ArchivedVideosFilter.ACTIVE]:Q,[F.ArchivedVideosFilter.HIDDEN]:z,[F.ArchivedVideosFilter.CLIPS]:Y},h[29]=Y,h[30]=z,h[31]=K,h[32]=Q,h[33]=d):d=h[33];let q=d,X=0===H.length;i:{if(y===F.ArchivedVideosFilter.HIDDEN){m="No hidden archived videos";break i}if(y===F.ArchivedVideosFilter.CLIPS){m="No clips";break i}if(y===F.ArchivedVideosFilter.ACTIVE){m="No visible archived videos";break i}m="No archived videos"}let J=m;return h[34]!==H||h[35]!==q||h[36]!==T.isLoading||h[37]!==J||h[38]!==n||h[39]!==P||h[40]!==y||h[41]!==A||h[42]!==X||h[43]!==L||h[44]!==I||h[45]!==b?(u={filter:y,setFilter:b,clips:H,isLoading:I,isFetching:L,error:n,hasNextPage:A,fetchNextPage:P,counts:q,isLoadingCounts:T.isLoading,isEmpty:X,emptyText:J},h[34]=H,h[35]=q,h[36]=T.isLoading,h[37]=J,h[38]=n,h[39]=P,h[40]=y,h[41]=A,h[42]=X,h[43]=L,h[44]=I,h[45]=b,h[46]=u):u=h[46],u})(t);if(x[3]!==I||x[4]!==T||x[5]!==E?(a=()=>{if(!T||!w.current)return;let e=new IntersectionObserver(e=>{let[t]=e;t.isIntersecting&&!E&&I()});return e.observe(w.current),()=>e.disconnect()},l=[T,E,I],x[3]=I,x[4]=T,x[5]=E,x[6]=a,x[7]=l):(a=x[6],l=x[7]),(0,c.useEffect)(a,l),k){let e;return x[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"text-center text-red-500",children:"Error loading archived videos. Please try again later."}),x[8]=e):e=x[8],e}if(_){let e;return x[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,i.jsx)(H.PumpPillLoader,{glowSize:100})}),x[9]=e):e=x[9],e}return x[10]!==v?(d=(0,s.default)("rounded-lg border border-[#27272A] bg-bg-secondary p-4",v),x[10]=v,x[11]=d):d=x[11],x[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)(R.Toaster,{position:"top-right"}),x[12]=m):m=x[12],x[13]!==L.active||x[14]!==L.all||x[15]!==L.clips||x[16]!==L.hidden?(u={all:L.all,active:L.active,hidden:L.hidden,clips:L.clips},x[13]=L.active,x[14]=L.all,x[15]=L.clips,x[16]=L.hidden,x[17]=u):u=x[17],x[18]!==y||x[19]!==C||x[20]!==A||x[21]!==S||x[22]!==u?(h=(0,i.jsx)("div",{className:"mb-4",children:(0,i.jsx)(z,{setFilter:S,selectedFilter:C,counts:u,isLoadingCounts:A,canEdit:y})}),x[18]=y,x[19]=C,x[20]=A,x[21]=S,x[22]=u,x[23]=h):h=x[23],x[24]!==y||x[25]!==Q||x[26]!==N||x[27]!==P?(p=(0,i.jsx)("div",{className:"@container",children:P?(0,i.jsx)("div",{className:"py-8 text-center text-gray-400",children:Q}):(0,i.jsx)("div",{className:"grid gap-4 @sm:grid-cols-2 @3xl:grid-cols-4 @5xl:grid-cols-5",children:N.map(e=>(0,i.jsx)(K.ArchivedVideoCard,{clip:e,canEdit:y,fluid:!0},e.clipId))})}),x[24]=y,x[25]=Q,x[26]=N,x[27]=P,x[28]=p):p=x[28],x[29]!==T?(g=T&&(0,i.jsx)("div",{ref:w,className:"my-20 flex w-full items-center justify-center",children:(0,i.jsx)(H.PumpPillLoader,{glowSize:100})}),x[29]=T,x[30]=g):g=x[30],x[31]!==d||x[32]!==h||x[33]!==p||x[34]!==g?(f=(0,i.jsxs)("div",{className:d,children:[m,h,p,g]}),x[31]=d,x[32]=h,x[33]=p,x[34]=g,x[35]=f):f=x[35],f},q=e=>{let t,o,s,l,c=(0,r.c)(9),{className:d}=e,{mintId:m}=(0,n.useLivestreamContext)();c[0]!==m?(t={mintId:m},c[0]=m,c[1]=t):t=c[1];let{data:u}=(0,a.useIsApprovedCreator)(t);return c[2]!==u?(o=(0,i.jsx)(A,{canEdit:u}),s=(0,i.jsx)(Y,{canEdit:u}),c[2]=u,c[3]=o,c[4]=s):(o=c[3],s=c[4]),c[5]!==d||c[6]!==o||c[7]!==s?(l=(0,i.jsxs)("div",{className:d,children:[o,s]}),c[5]=d,c[6]=o,c[7]=s,c[8]=l):l=c[8],l};var X=e.i(275762),J=e.i(689740);let Z=e=>{let t,o,a,s,l,d,m=(0,r.c)(14),{className:u}=e,{mintId:h}=(0,n.useLivestreamContext)(),p=(0,X.useLivestream)(h),{showTitle:g}=(0,J.useLivestreamViewingPropsStore)();m[0]!==p?(t=p?.streamStartTimestamp?(0,C.getAgoTime)(p.streamStartTimestamp):"",m[0]=p,m[1]=t):t=m[1];let[f,x]=(0,c.useState)(t);m[2]!==p?(o=()=>{let e=setInterval(()=>{p?.streamStartTimestamp&&x((0,C.getAgoTime)(p.streamStartTimestamp))},6e4);return p?.streamStartTimestamp&&x((0,C.getAgoTime)(p.streamStartTimestamp)),()=>clearInterval(e)},m[2]=p,m[3]=o):o=m[3];let v=p?.streamStartTimestamp;return(m[4]!==v?(a=[v],m[4]=v,m[5]=a):a=m[5],(0,c.useEffect)(o,a),p?.title&&g)?(m[6]!==p.title?(s=(0,i.jsx)("p",{className:"font-sans text-xl font-bold text-white",children:p.title}),m[6]=p.title,m[7]=s):s=m[7],m[8]!==f?(l=f&&(0,i.jsxs)("p",{className:"font-sans text-sm text-[#9DA3AE]",children:["Started ",f," ago"]}),m[8]=f,m[9]=l):l=m[9],m[10]!==u||m[11]!==s||m[12]!==l?(d=(0,i.jsxs)("div",{className:u,children:[s,l]}),m[10]=u,m[11]=s,m[12]=l,m[13]=d):d=m[13],d):null};var ee=e.i(575976);let et=e=>{let t,o,a,l,c,d=(0,r.c)(10),{className:m,maxWidth:u}=e,{isMobile:h}=(0,n.useLivestreamContext)(),p=!h&&"rounded-[8px]";d[0]!==m||d[1]!==p?(t=(0,s.default)(m,"bg-black","flex aspect-video w-full flex-row items-center justify-center gap-[8px] border border-gray-500",p),d[0]=m,d[1]=p,d[2]=t):t=d[2];let g=h?void 0:u;return d[3]!==g?(o={maxWidth:g},d[3]=g,d[4]=o):o=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(ee.SadIcon,{}),l=(0,i.jsx)("p",{className:"max-w-[300px] text-white",children:"this stream has been removed for violating pump.fun's Terms of Service"}),d[5]=a,d[6]=l):(a=d[5],l=d[6]),d[7]!==t||d[8]!==o?(c=(0,i.jsxs)("div",{className:t,id:"livestream-banned-container",style:o,children:[a,l]}),d[7]=t,d[8]=o,d[9]=c):c=d[9],c};e.s(["LivestreamBanned",0,et],313768);var ei=e.i(655703),er=e.i(529326),eo=e.i(692433),ea=e.i(955526),en=e.i(247889),es=e.i(302636),el=e.i(733633),ec=e.i(525665);e.i(618832),e.i(249437);var ed=e.i(305288),em=e.i(484169),eu=e.i(895581);let eh=e=>{let t,o,a,l,d,m,u,h,p,g=(0,r.c)(24),{audioEnabled:f,videoEnabled:x,containerRef:v}=e,{audioDeviceId:y,videoDeviceId:b}=(0,es.useDeviceSelectionContext)();g[0]!==y||g[1]!==f?(t=!!f&&{deviceId:y},g[0]=y,g[1]=f,g[2]=t):t=g[2],g[3]!==b||g[4]!==x?(o=!!x&&{deviceId:b},g[3]=b,g[4]=x,g[5]=o):o=g[5],g[6]!==t||g[7]!==o?(a={audio:t,video:o},g[6]=t,g[7]=o,g[8]=a):a=g[8];let w=function(e,t){let[i,r]=c.useState(),o=c.useMemo(()=>new em.Mutex,[]);return c.useEffect(()=>{let t=!1,i=[];return o.lock().then(async o=>{try{(e.audio||e.video)&&(i=await (0,em.createLocalTracks)(e),t?i.forEach(e=>e.stop()):r(i))}catch(e){ed.l.error(e)}finally{o()}}),()=>{t=!0,i.forEach(e=>{e.stop()})}},[JSON.stringify(e,ec.r),void 0,o]),i}(a),{isMobile:j}=(0,n.useLivestreamContext)();g[9]!==w?(l=w?.find(ep),g[9]=w,g[10]=l):l=g[10];let C=l,S=(0,c.useRef)(null);g[11]!==C?(d=()=>{let e=S.current;return e&&C&&(C.unmute(),C.attach(e)),()=>{e&&C&&C.detach(e)}},m=[C],g[11]=C,g[12]=d,g[13]=m):(d=g[12],m=g[13]),(0,c.useEffect)(d,m);let N=!j;g[14]!==j||g[15]!==N?(u=(0,s.default)("flex aspect-video h-full w-full items-center justify-center overflow-hidden bg-black","text-white",{"rounded-[8px]":N,"rounded-none":j}),g[14]=j,g[15]=N,g[16]=u):u=g[16];let _=u;return g[17]!==x||g[18]!==C?(h=C&&x?(0,i.jsx)("video",{ref:S,className:"h-full w-full object-cover"}):(0,i.jsx)(eu.ParticipantPlaceholderIcon,{width:60}),g[17]=x,g[18]=C,g[19]=h):h=g[19],g[20]!==_||g[21]!==v||g[22]!==h?(p=(0,i.jsx)("div",{ref:v,className:_,children:h}),g[20]=_,g[21]=v,g[22]=h,g[23]=p):p=g[23],p};function ep(e){return e.kind===em.Track.Kind.Video}var eg=e.i(695857),ef=((t={}).TERMS="terms",t.STREAM_PREVIEW="stream-preview",t.CHAT_OPTIONS="chat-options",t);let ex={terms:"terms and conditions","stream-preview":"stream preview","chat-options":"chat options"},ev={interactive:"Pump Studio (webcam)","view-only":"RTMP (OBS/streaming software)"};var ey=e.i(553104),eb=e.i(325348);let ew=c.forwardRef(({className:e,...t},r)=>(0,i.jsx)(eb.Root,{className:(0,s.default)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/20 focus-visible:ring-offset-2 focus-visible:ring-offset-gray-900 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-livestream-green data-[state=unchecked]:bg-gray-600",e),...t,ref:r,children:(0,i.jsx)(eb.Thumb,{className:(0,s.default)("pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ew.displayName=eb.Root.displayName;let ej=e=>{let t,o,a,n,c,d,m,u,h,p=(0,r.c)(20),{tokenGateMode:g,setTokenGateMode:f,isLoading:x,className:v}=e,y=void 0!==x&&x;p[0]!==f?(t=e=>{f(e?"on":"off")},p[0]=f,p[1]=t):t=p[1];let b=t;p[2]!==v?(o=(0,s.default)("w-full",v),p[2]=v,p[3]=o):o=p[3];let w="on"===g;return p[4]!==b||p[5]!==y||p[6]!==w?(a=(0,i.jsx)(ew,{checked:w,onCheckedChange:b,disabled:y,className:"scale-[0.65]"}),p[4]=b,p[5]=y,p[6]=w,p[7]=a):a=p[7],p[8]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsx)("span",{className:"ml-2 text-sm",children:"Only token holders can chat"}),p[8]=n):n=p[8],p[9]!==y?(c=y&&(0,i.jsx)(l.Loader,{className:"ml-2 h-3 w-3 animate-spin text-white/60"}),p[9]=y,p[10]=c):c=p[10],p[11]!==a||p[12]!==c?(d=(0,i.jsxs)("div",{className:"flex items-center",children:[a,n,c]}),p[11]=a,p[12]=c,p[13]=d):d=p[13],p[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsx)("p",{className:"mt-1 text-xs text-white/60",children:"You can change this anytime during your stream in the stream settings menu"}),p[14]=m):m=p[14],p[15]!==d?(u=(0,i.jsxs)("div",{children:[d,m]}),p[15]=d,p[16]=u):u=p[16],p[17]!==u||p[18]!==o?(h=(0,i.jsx)("div",{className:o,children:u}),p[17]=u,p[18]=o,p[19]=h):h=p[19],h},eC=e=>{let t,o=(0,r.c)(4),{tokenGateMode:a,setTokenGateMode:n,isTokenGateLoading:s}=e;return o[0]!==s||o[1]!==n||o[2]!==a?(t=(0,i.jsx)("div",{className:"flex flex-col gap-5",children:(0,i.jsx)(ej,{tokenGateMode:a,setTokenGateMode:n,isLoading:s})}),o[0]=s,o[1]=n,o[2]=a,o[3]=t):t=o[3],t};var eS=e.i(435135),eN=e.i(470049),e_=e.i(132838),eE=e.i(606933),ek=e.i(641768),eT=e.i(936736),eI=e.i(212761);let eL=e=>{var t;let o,a,s,l,c,d,u,h,p,f,x=(0,r.c)(18),{className:v,mode:y,title:b,tokenGateMode:j,creatorUsername:C,isTitleValid:S}=e,N=void 0!==S&&S,{mintId:E,setIsDisconnected:k,setToken:T,setShowBackstage:I}=(0,n.useLivestreamContext)();x[0]!==C||x[1]!==E||x[2]!==T?(o={mintId:E,creatorUsername:C,onSuccess:T},x[0]=C,x[1]=E,x[2]=T,x[3]=o):o=x[3];let{mutateAsync:L,isPending:A}=(t=o,p=(0,r.c)(13),f=(0,eE.useQueryClient)(),p[0]!==t?(l=()=>{_.logger.debug("[useCreateLivestream] Attempting to create livestream via API",{mintId:t.mintId})},c=async e=>{let{mode:i,title:r}=e;return eT.api.post("livestream/create",{json:{mintId:t.mintId,mode:i,title:r,creatorUsername:t.creatorUsername}}).json()},p[0]=t,p[1]=l,p[2]=c):(l=p[1],c=p[2]),p[3]!==t||p[4]!==f?(d=(e,i)=>{let{title:r}=i;_.logger.debug("[useCreateLivestream] Successfully created livestream, invalidating query",{mintId:t.mintId,receivedToken:e?.token}),t.onSuccess(e),f.invalidateQueries({queryKey:[eI.GET_LIVESTREAM_QUERY_KEY,t.mintId]}).then(()=>{let e=f.getQueryData([eI.GET_LIVESTREAM_QUERY_KEY,t.mintId]);e?.id?(0,ek.trackLivestreamStart)({mint:t.mintId,livestreamId:String(e.id),title:r,context:g.LIFECYCLE_SOURCE_CONTEXTS.GO_LIVE_BUTTON}):_.logger.warn("[useCreateLivestream] Could not track livestream start - no ID in cache after refetch",{mintId:t.mintId})})},p[3]=t,p[4]=f,p[5]=d):d=p[5],p[6]!==t?(u=e=>{_.logger.error("[useCreateLivestream] Failed to create livestream",{mintId:t.mintId,error:e.message||"Unknown error during livestream creation"})},p[6]=t,p[7]=u):u=p[7],p[8]!==l||p[9]!==c||p[10]!==d||p[11]!==u?(h={onMutate:l,mutationFn:c,onSuccess:d,onError:u},p[8]=l,p[9]=c,p[10]=d,p[11]=u,p[12]=h):h=p[12],(0,e_.useMutation)(h)),{setTokenGate:P}=(0,ea.useTokenGateConfig)();x[4]!==L||x[5]!==E||x[6]!==y||x[7]!==k||x[8]!==I||x[9]!==P||x[10]!==b||x[11]!==j?(a=async e=>{e.preventDefault(),_.logger.info("[StartStreamButton] handleStartStream called.",{mintId:E,title:b,tokenGateMode:j});try{if(w.featureFlags[w.FeatureFlags.TOKEN_GATING_ENABLED]){let e="on"===j;P(e).catch(e=>{_.logger.error("[StartStreamButton] Failed to configure token gate:",{mintId:E,error:e instanceof Error?e.message:String(e)})})}await L({mode:y,title:b}),I(!1),k(!1)}catch(e){_.logger.error("[StartStreamButton] Error from createLivestream or subsequent state sets:",{mintId:E,error:e instanceof Error?e.message:String(e)})}},x[4]=L,x[5]=E,x[6]=y,x[7]=k,x[8]=I,x[9]=P,x[10]=b,x[11]=j,x[12]=a):a=x[12];let R=a,F=A||!N,M=N?void 0:"Please add a title";return x[13]!==v||x[14]!==R||x[15]!==F||x[16]!==M?(s=(0,i.jsx)(m.PumpButton,{disabled:F,label:"go live",onClick:R,className:v,tooltip:M}),x[13]=v,x[14]=R,x[15]=F,x[16]=M,x[17]=s):s=x[17],s},eA=e=>{let t,o,a,s,l=(0,r.c)(15),{activeTab:c,isEndOfTermsVisible:d,onClick:u,title:h,mode:p,tokenGateMode:g}=e,{mintId:f}=(0,n.useLivestreamContext)();l[0]!==f?(t={mintId:f},l[0]=f,l[1]=t):t=l[1];let{coinInfo:x}=(0,eN.useLivestreamCoinInfo)(t);l[2]!==h?(o=!!h&&h.trim().length>=eS.LIVESTREAM_TITLE_MIN_LENGTH,l[2]=h,l[3]=o):o=l[3];let v=o;if(c===ef.CHAT_OPTIONS||c===ef.STREAM_PREVIEW&&!w.featureFlags[w.FeatureFlags.TOKEN_GATING_ENABLED]){let e,t=x?.creatorUsername;return l[4]!==v||l[5]!==p||l[6]!==t||l[7]!==h||l[8]!==g?(e=(0,i.jsx)(eL,{className:"w-full",title:h,mode:p,tokenGateMode:g,creatorUsername:t,isTitleValid:v}),l[4]=v,l[5]=p,l[6]=t,l[7]=h,l[8]=g,l[9]=e):e=l[9],e}let y="",b=!1;return c===ef.TERMS?y=d?"I agree":"scroll to end":c===ef.STREAM_PREVIEW&&(y="Next",b=!v,a=v?void 0:"Please add a title"),l[10]!==b||l[11]!==y||l[12]!==u||l[13]!==a?(s=(0,i.jsx)(m.PumpButton,{label:y,className:"w-full",onClick:u,disabled:b,tooltip:a}),l[10]=b,l[11]=y,l[12]=u,l[13]=a,l[14]=s):s=l[14],s};var eP=e.i(681750),eR=e.i(630419),eF=e.i(755574),eM=e.i(139854),eD=e.i(588174);let eO=e=>{let t,o,a,n,s,l,c,d,m=(0,r.c)(16);return m[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,i.jsx)("p",{className:"text-sm text-white",children:"Video/audio inputs"}),m[0]=t):t=m[0],m[1]!==e.toggleVideo||m[2]!==e.videoEnabled?(o=(0,i.jsx)(eF.VideoToggleButton,{videoEnabled:e.videoEnabled,setVideoEnabled:e.toggleVideo}),m[1]=e.toggleVideo,m[2]=e.videoEnabled,m[3]=o):o=m[3],m[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)(eD.SelectVideoDevice,{isBackstage:!0}),m[4]=a):a=m[4],m[5]!==o?(n=(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[o,a]}),m[5]=o,m[6]=n):n=m[6],m[7]!==e.audioEnabled||m[8]!==e.toggleAudio?(s=(0,i.jsx)(eR.MicToggleButton,{audioEnabled:e.audioEnabled,setAudioEnabled:e.toggleAudio}),m[7]=e.audioEnabled,m[8]=e.toggleAudio,m[9]=s):s=m[9],m[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsx)(eM.SelectAudioDevice,{isBackstage:!0}),m[10]=l):l=m[10],m[11]!==s?(c=(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[s,l]}),m[11]=s,m[12]=c):c=m[12],m[13]!==n||m[14]!==c?(d=(0,i.jsxs)("div",{className:"flex flex-col gap-4",children:[t,n,c]}),m[13]=n,m[14]=c,m[15]=d):d=m[15],d};var eU=e.i(968717),eV=e.i(166037),eB=e.i(198200);let eG=e=>{let t,o,a,n,l,d,m,u,h,p,g,f,x,v=(0,r.c)(26),{mode:y,setMode:b,className:w}=e,[j,C]=(0,c.useState)(!1),S=j?"up":"down";v[0]!==b?(t=e=>{b(e),C(!1)},v[0]=b,v[1]=t):t=v[1];let N=t;v[2]!==w?(o=(0,s.default)("w-full",w),v[2]=w,v[3]=o):o=v[3],v[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)("p",{className:"mb-2 text-sm text-white",children:"Broadcast mode"}),v[4]=a):a=v[4],v[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,s.default)("flex w-full cursor-pointer items-center justify-between","bg-transparent text-white focus:outline-none"),v[5]=n):n=v[5];let _=ev[y];return v[6]!==S?(l=(0,i.jsx)(eB.ChevronArrowIcon,{direction:S}),v[6]=S,v[7]=l):l=v[7],v[8]!==_||v[9]!==l?(d=(0,i.jsx)(eU.Trigger,{"aria-label":"Choose mode",className:n,children:(0,i.jsx)(eP.Input,{value:_,placeholder:"Choose mode",onChange:eW,className:"!cursor-pointer",icon:l})}),v[8]=_,v[9]=l,v[10]=d):d=v[10],v[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,s.default)("w-[272px] -translate-x-[1px] bg-[#27272A]","overflow-hidden rounded-md p-2 text-white shadow-lg"),h={zIndex:eV.Z_INDEXES.Selector.content},m=Object.keys(ev),v[11]=m,v[12]=u,v[13]=h):(m=v[11],u=v[12],h=v[13]),v[14]!==N?(p=(0,i.jsx)(eU.Portal,{children:(0,i.jsx)(eU.Content,{side:"bottom",position:"popper",sideOffset:10,className:u,style:h,children:m.map((e,t)=>(0,i.jsx)("div",{onClick:()=>N(e),className:"w-full cursor-pointer rounded-md p-2 text-[14px] leading-[18px] hover:bg-white/10",children:ev[e]},t))})}),v[14]=N,v[15]=p):p=v[15],v[16]!==j||v[17]!==y||v[18]!==b||v[19]!==p||v[20]!==d?(g=(0,i.jsxs)(eU.Root,{value:y,onValueChange:b,onOpenChange:C,open:j,children:[d,p]}),v[16]=j,v[17]=y,v[18]=b,v[19]=p,v[20]=d,v[21]=g):g=v[21],v[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)("p",{className:"mt-2 text-xs text-[#9DA3AE]",children:"Choose a broadcast type for your stream"}),v[22]=f):f=v[22],v[23]!==g||v[24]!==o?(x=(0,i.jsxs)("div",{className:o,children:[a,g,f]}),v[23]=g,v[24]=o,v[25]=x):x=v[25],x};function eW(){}let e$=e=>{let t,o,a,n,s,l=(0,r.c)(16),{title:c,setTitle:d,mode:m,setMode:u}=e,h=w.featureFlags[w.FeatureFlags.SCALE_MODE_CREATION_ENABLED];l[0]!==e||l[1]!==u?(t=t=>{u(t);let i="interactive"===t;e.toggleVideo(i),e.toggleAudio(i)},l[0]=e,l[1]=u,l[2]=t):t=l[2];let p=t;return l[3]!==p||l[4]!==m?(o=h&&(0,i.jsx)(eG,{mode:m,setMode:p}),l[3]=p,l[4]=m,l[5]=o):o=l[5],l[6]!==m||l[7]!==e?(a="interactive"===m&&(0,i.jsx)(eO,{...e}),l[6]=m,l[7]=e,l[8]=a):a=l[8],l[9]!==d||l[10]!==c?(n=(0,i.jsx)(eP.Input,{placeholder:"Enter a descriptive title...",value:c,onChange:d,maxLength:eS.LIVESTREAM_TITLE_MAX_LENGTH,title:"Stream title (required)",className:"mb-2"}),l[9]=d,l[10]=c,l[11]=n):n=l[11],l[12]!==o||l[13]!==a||l[14]!==n?(s=(0,i.jsxs)("div",{className:"flex flex-col gap-5",children:[o,a,n]}),l[12]=o,l[13]=a,l[14]=n,l[15]=s):s=l[15],s},eH=()=>{let e,t,o,a,n,s,l,c,d,m,u,h,p,g,f,x,v,y,b,w,j,C,S,N,_,E,k,T,I,L,A,P=(0,r.c)(31);return P[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Livestream Moderation Policy"}),t=(0,i.jsx)("p",{className:"mb-3",children:"Purpose: To cultivate a social environment on pump fun that preserves creativity and freedom of expression and encourages meaningful engagement amongst users, free of illegal, harmful, and negative interactions. We consider this moderation policy to be a living document, and you should check it frequently as it will be updated from time to time, including in response to feedback from the community, moderators, policy experts, and other stakeholders."}),o=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Restriction on Underage Use"}),a=(0,i.jsx)("p",{className:"mb-3",children:"Livestreaming—whether streaming yourself, watching a stream, or chatting with other viewers—is restricted to users above the age of 18. pump fun takes this user restriction seriously. If we identify a user violating this policy, we will promptly terminate your account. We reserve the right to require age verification where we deem it necessary, and whether verification is necessary is subject to our sole and absolute discretion."}),n=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Appropriateness of Content"}),s=(0,i.jsx)("p",{className:"mb-3",children:"Aside from the prohibitions listed below, pump fun does not intend to universally define what content is 'appropriate' or 'inappropriate.' There is an implicit assumption that some content - perhaps much content - generally defined as NSFW will in fact appear on pump fun. The livestreaming platform is intended exclusively for users above the age of 18. pump fun reserves the right to unilaterally determine the appropriateness of content where necessary and to moderate it accordingly."}),l=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Prohibited Content"}),c=(0,i.jsx)("p",{className:"mb-3",children:"Streams containing any of the following are prohibited and subject to immediate termination and suspension of future access to pump fun livestreams or to pump fun itself."}),P[0]=e,P[1]=t,P[2]=o,P[3]=a,P[4]=n,P[5]=s,P[6]=l,P[7]=c):(e=P[0],t=P[1],o=P[2],a=P[3],n=P[4],s=P[5],l=P[6],c=P[7]),P[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Violence:"})," Graphic violence, threats, glorification of violent acts, or content promoting self-harm. pump fun takes violence seriously, and it is considered a zero-tolerance violation. Accounts associated with such activities should expect to be indefinitely suspended. Specific examples include:"]}),P[8]=d):d=P[8],P[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Attempts or threats to physically harm or kill yourself or others"}),(0,i.jsx)("li",{children:"Attempts or threats to hack, dox, DDOS, or SWAT others"}),(0,i.jsx)("li",{children:"Use of weapons to physically threaten, intimidate, harm, or kill"}),(0,i.jsx)("li",{children:"Encouraging others to participate in acts that may harm others"}),(0,i.jsx)("li",{children:"Promotion of sexual violence"})]}),P[9]=m):m=P[9],P[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Harassment:"})," People experience harassment in different ways, including targeted abuse, bullying, sexual harassment, or coordinated harassment campaigns. Specific examples include:"]}),P[10]=u):u=P[10],P[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Encouraging harm or death to someone else"}),(0,i.jsx)("li",{children:"Implied threats of violence"}),(0,i.jsx)("li",{children:'Sharing negative doctored or "deep fake" content to intentionally abuse or degrade another person'}),(0,i.jsx)("li",{children:"Stalking"}),(0,i.jsx)("li",{children:"Unwanted sexual advances"}),(0,i.jsx)("li",{children:"Advocating or encouraging sexual violence against someone else"})]}),P[11]=h):h=P[11],P[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Sexual Content:"})," Sexual and pornographic content as well as nudity without context. Even where consensual, this content is frequently subject to other rules and regulations that make it unsupportable. Specific examples include:"]}),P[12]=p):p=P[12],P[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Explicit, simulated, fictional, or implied sex or masturbation"}),(0,i.jsx)("li",{children:"Advertisement or solicitation of sex, including prostitution, escorts, and filmed sexual activity"}),(0,i.jsx)("li",{children:"Consensual sexual activities"}),(0,i.jsx)("li",{children:"Non-consensual sexual activities and sexual exploitation"}),(0,i.jsx)("li",{children:"Encouraging or directing viewers to engage in sexual acts"})]}),P[13]=g):g=P[13],P[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Youth Endangerment:"})," ","Livestreaming may not be targeted to people under the age of 18 and may not contain any content that features or promotes activities that endanger youth. We report all illegal content or activity to the National Center for Missing and Exploited Children, which works with global law enforcement agencies. The consequence for engaging in youth endangerment activity is immediate and indefinite suspension as well as reporting to law enforcement. Specific examples include:"]}),P[14]=f):f=P[14],P[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:'Content promoting or constituting child sexual abuse material ("CSAM") (e.g., sexually explicit content or sexualized images of youth including AI generated images)'}),(0,i.jsx)("li",{children:"Content that promotes or depicts the sexual exploitation or grooming of children"}),(0,i.jsx)("li",{children:"Sharing information about or links to third-party sites that contain CSAM"}),(0,i.jsx)("li",{children:"Identifying CSAM victims (e.g., name or image)"}),(0,i.jsx)("li",{children:"Grooming or otherwise purposefully exposing youth to sexually explicit language or material, as well as engaging in sexual conversations in chat with youth"})]}),P[15]=x):x=P[15],P[16]===Symbol.for("react.memo_cache_sentinel")?(v=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Illegal Activities:"})," Content promoting illicit behavior or violations of the law in pump fun's jurisdictions and your own. Any content or activity featuring, encouraging, or soliciting illegal activity may be reported to law enforcement. Specific examples include:"]}),P[16]=v):v=P[16],P[17]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Engaging in or encouraging human trafficking (e.g., sex trafficking, sales of children)"}),(0,i.jsx)("li",{children:"Buying or selling illegal firearms, drugs, or counterfeit goods"}),(0,i.jsx)("li",{children:"Defamation"}),(0,i.jsx)("li",{children:"Destroying or stealing someone else's property or public property"})]}),P[17]=y):y=P[17],P[18]===Symbol.for("react.memo_cache_sentinel")?(b=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Privacy Violations:"})," Sharing personal information without consent, doxxing (i.e. the unauthorized association of a person's identity with their online handle or persona), or unauthorized broadcasting of private individuals' likenesses. Specific examples include:"]}),P[18]=b):b=P[18],P[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"AI generated images and deep fakes"}),(0,i.jsx)("li",{children:"Promoting or encouraging impersonation of others"}),(0,i.jsx)("li",{children:"Disclosure of personal information of non-public figures without their consent"}),(0,i.jsx)("li",{children:"Disclosure of personal information of public figures for the purposes of prohibited harassment or illegal activity"})]}),P[19]=w):w=P[19],P[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Copyright Violations:"})," ","Unauthorized broadcasting of protected content, trademarked content, or the use of intellectual property belonging to another person without permission. You may not use or share content that you do not own or have the right to share. Specific examples include:"]}),P[20]=j):j=P[20],P[21]===Symbol.for("react.memo_cache_sentinel")?(C=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Use of copyrighted songs"}),(0,i.jsx)("li",{children:"Content created by others on different platforms"}),(0,i.jsx)("li",{children:"Pirated content, including games, movies, television shows, or sporting events"}),(0,i.jsx)("li",{children:"Trademarked good or services"})]}),P[21]=C):C=P[21],P[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,i.jsxs)("p",{className:"mb-3",children:["Pump fun's DMCA guidelines are available"," ",(0,i.jsx)("a",{href:"https://pump.fun/docs/dmca-policy?include-nsfw=true",target:"_blank",rel:"noopener noreferrer",className:"font-bold text-livestream-green",children:"here"}),", which include information on submitting a copyright infringement notification."]}),P[22]=S):S=P[22],P[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsxs)("span",{className:"mb-3",children:[(0,i.jsx)("span",{className:"mb-3 underline",children:"Terrorism or Violent Extremism:"})," ","Glorification of or encouragement of acts which would cause harm to others or significant harm to property. Any content or activity supporting or promoting terrorism or violent extremism may be reported to law enforcement. Specific examples include:"]}),P[23]=N):N=P[23],P[24]===Symbol.for("react.memo_cache_sentinel")?(_=(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Display or linking to terrorist propaganda"}),(0,i.jsx)("li",{children:"Graphic footage or images of terrorist violence for the purpose of encouraging, supporting, or glorifying the conduct"})]}),E=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Enforcement"}),k=(0,i.jsx)("p",{className:"mb-3",children:"Violation of this policy may result in termination of livestreams and user account(s). This policy is enforced at the sole discretion of pump fun. While our moderators work diligently to ensure that this policy is not violated, we may not discover every violation of this policy. The publication of material which violates this policy and is not discovered by our moderators does not constitute a waiver of our right to enforce this policy, in its entirety, to any subsequently posted content."}),T=(0,i.jsx)("p",{className:"mb-3",children:"If you believe that any content violates our guidelines or your rights, please let us know by contacting legal@pump.fun. Clearly identify the content in question and explain the concern. Our moderation team will promptly review your request and make a determination."}),I=(0,i.jsx)("p",{className:"mb-3",children:"Content determined to violate these rules will be removed. pump fun reserves the right to ban any user violating these rules and to make appropriate referrals to law enforcement if any posted content violates the law."}),L=(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Creator Responsibilities"}),P[24]=_,P[25]=E,P[26]=k,P[27]=T,P[28]=I,P[29]=L):(_=P[24],E=P[25],k=P[26],T=P[27],I=P[28],L=P[29]),P[30]===Symbol.for("react.memo_cache_sentinel")?(A=(0,i.jsxs)("div",{className:"pb-[20px] text-[12px] leading-[16px] text-white",children:[e,t,o,a,n,s,l,c,d,m,u,h,p,g,f,x,v,y,b,w,j,C,S,N,_,E,k,T,I,L,(0,i.jsxs)("ul",{className:"mb-3 list-disc space-y-2 pl-5",children:[(0,i.jsx)("li",{children:"Follow the moderation policy"}),(0,i.jsx)("li",{children:"Review moderation guidelines before streaming sensitive topics"})]}),(0,i.jsx)("p",{className:"mb-3 font-bold",children:"Appeals Process"}),(0,i.jsx)("p",{className:"mb-3",children:"We acknowledge that mistakes may be made in enforcing this policy and, to the extent a user believes that their content has been mistakenly removed and does not violate this policy and/or the user's account was banned as a result of the violation, such user may appeal."}),(0,i.jsx)("p",{className:"mb-3",children:"Contact legal@pump.fun clearly stating your reasons for appealing our decision. Include relevant details to help us reconsider the matter. Our moderation team will promptly re-evaluate your content based on your appeal. We'll provide you with a final decision and explanation by email."}),(0,i.jsx)("p",{className:"mb-3",children:"pump fun retains the ultimate discretion to determine whether content violates this policy."})]}),P[30]=A):A=P[30],A},eK=e=>{let t,o,a,s,l,d,m,u=(0,r.c)(32),{dialogOpen:h,handleCloseDialog:p,tab:f,handleScroll:x,handleFooterClick:v,isScrolledToEnd:y,endOfTermsRef:b}=(()=>{let e,t,i,o,a,s,l,d=(0,r.c)(19),{setShowBackstage:m,mintId:u}=(0,n.useLivestreamContext)(),[h,p]=(0,c.useState)(ef.TERMS),[f,x]=(0,c.useState)(!0),v=(0,c.useRef)(null),[y,b]=(0,c.useState)(!1);d[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{v.current&&v.current.scrollIntoView({behavior:"smooth",block:"nearest"})},d[0]=e):e=d[0];let j=e;d[1]!==y?(t=e=>{let t=e.currentTarget,i=t.scrollHeight-t.scrollTop-t.clientHeight<=20;i!==y&&b(i)},d[1]=y,d[2]=t):t=d[2];let C=t;d[3]!==y||d[4]!==u||d[5]!==h?(i=e=>{e.stopPropagation(),h===ef.TERMS&&(y?((0,ey.trackTermsAgreed)({mint:u??"",context:g.LIVESTREAM_MODAL_SOURCE_CONTEXTS.TERMS}),p(ef.STREAM_PREVIEW)):j()),h===ef.STREAM_PREVIEW&&w.featureFlags[w.FeatureFlags.TOKEN_GATING_ENABLED]&&p(ef.CHAT_OPTIONS)},d[3]=y,d[4]=u,d[5]=h,d[6]=i):i=d[6];let S=i;d[7]!==m?(o=()=>{m(!1),x(!1)},d[7]=m,d[8]=o):o=d[8];let N=o;return d[9]!==u?(a=()=>{(0,ey.trackTermsShown)({mint:u??"",context:g.LIVESTREAM_MODAL_SOURCE_CONTEXTS.TERMS})},s=[u],d[9]=u,d[10]=a,d[11]=s):(a=d[10],s=d[11]),(0,c.useEffect)(a,s),d[12]!==f||d[13]!==N||d[14]!==S||d[15]!==C||d[16]!==y||d[17]!==h?(l={tab:h,dialogOpen:f,endOfTermsRef:v,isScrolledToEnd:y,handleScroll:C,handleFooterClick:S,handleCloseDialog:N,scrollToEndOfTerms:j},d[12]=f,d[13]=N,d[14]=S,d[15]=C,d[16]=y,d[17]=h,d[18]=l):l=d[18],l})(),j=h&&f===ef.TERMS;u[0]!==e.videoStreamRef||u[1]!==j?(t={enabled:j,targetRef:e.videoStreamRef},u[0]=e.videoStreamRef,u[1]=j,u[2]=t):t=u[2],(e=>{let t,i,o=(0,r.c)(6),{enabled:a,targetRef:n,behavior:s,offset:l}=e,d=void 0===s?"smooth":s,m=void 0===l?0:l;o[0]!==d||o[1]!==a||o[2]!==m||o[3]!==n?(t=()=>{if(a&&n.current){let e=setTimeout(()=>{if(!n.current)return;let e=n.current.getBoundingClientRect(),t=window.scrollY||document.documentElement.scrollTop,i=e.top+t-m;window.scrollTo({top:i,behavior:d})},50);return()=>clearTimeout(e)}},i=[a,d,m,n],o[0]=d,o[1]=a,o[2]=m,o[3]=n,o[4]=t,o[5]=i):(t=o[4],i=o[5]),(0,c.useEffect)(t,i)})(t);let C=ex[f];return u[3]!==v||u[4]!==y||u[5]!==e.mode||u[6]!==e.title||u[7]!==e.tokenGateMode||u[8]!==f?(o={element:(0,i.jsx)(eA,{activeTab:f,isEndOfTermsVisible:y,onClick:v,title:e.title,mode:e.mode,tokenGateMode:e.tokenGateMode}),sticky:!0},u[3]=v,u[4]=y,u[5]=e.mode,u[6]=e.title,u[7]=e.tokenGateMode,u[8]=f,u[9]=o):o=u[9],u[10]===Symbol.for("react.memo_cache_sentinel")?(a={showCloseButton:!0,disableCloseOutside:!0},u[10]=a):a=u[10],u[11]!==b||u[12]!==f?(s=f===ef.TERMS&&(0,i.jsxs)("div",{children:[(0,i.jsx)(eH,{}),(0,i.jsx)("div",{ref:b})]}),u[11]=b,u[12]=f,u[13]=s):s=u[13],u[14]!==e||u[15]!==f?(l=f===ef.STREAM_PREVIEW&&(0,i.jsx)(e$,{...e}),u[14]=e,u[15]=f,u[16]=l):l=u[16],u[17]!==e.isTokenGateLoading||u[18]!==e.setTokenGateMode||u[19]!==e.title||u[20]!==e.tokenGateMode||u[21]!==f?(d=f===ef.CHAT_OPTIONS&&(0,i.jsx)(eC,{tokenGateMode:e.tokenGateMode,setTokenGateMode:e.setTokenGateMode,isTokenGateLoading:e.isTokenGateLoading,title:e.title}),u[17]=e.isTokenGateLoading,u[18]=e.setTokenGateMode,u[19]=e.title,u[20]=e.tokenGateMode,u[21]=f,u[22]=d):d=u[22],u[23]!==h||u[24]!==p||u[25]!==x||u[26]!==C||u[27]!==o||u[28]!==s||u[29]!==l||u[30]!==d?(m=(0,i.jsxs)(eg.LivestreamBlurDialog,{open:h,closeDialog:p,title:C,onScroll:x,footer:o,closeProps:a,children:[s,l,d]}),u[23]=h,u[24]=p,u[25]=x,u[26]=C,u[27]=o,u[28]=s,u[29]=l,u[30]=d,u[31]=m):m=u[31],m},eQ=()=>{let e,t,o,a,s,l,d,m=(0,r.c)(23),{showBackstage:u}=(0,n.useLivestreamContext)(),{audioEnabled:h,videoEnabled:p,toggleAudio:g,toggleVideo:f}=(()=>{let e,t,i,o=(0,r.c)(9),{userChoices:a,saveAudioInputEnabled:n,saveVideoInputEnabled:s}=(0,en.usePersistentUserChoices)(),[l,d]=(0,c.useState)(a.audioEnabled),[m,u]=(0,c.useState)(a.videoEnabled);o[0]!==n?(e=e=>{d(e),n(e)},o[0]=n,o[1]=e):e=o[1];let h=e;o[2]!==s?(t=e=>{u(e),s(e)},o[2]=s,o[3]=t):t=o[3];let p=t;return o[4]!==l||o[5]!==h||o[6]!==p||o[7]!==m?(i={audioEnabled:l,videoEnabled:m,toggleAudio:h,toggleVideo:p},o[4]=l,o[5]=h,o[6]=p,o[7]=m,o[8]=i):i=o[8],i})(),{isTokenGateOn:x,isLoading:v}=(0,ea.useTokenGateConfig)(),[y,b]=(0,c.useState)(void 0),[w,j]=(0,c.useState)("interactive"),[C,S]=(0,c.useState)("off"),N=(0,c.useRef)(null);return(m[0]!==v||m[1]!==x?(e=()=>{v||S(x?"on":"off")},t=[x,v],m[0]=v,m[1]=x,m[2]=e,m[3]=t):(e=m[2],t=m[3]),(0,c.useEffect)(e,t),u)?(m[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,i.jsx)(el.ParticipantControls,{isBackstage:!0}),m[4]=o):o=m[4],m[5]!==h||m[6]!==p?(a=(0,i.jsx)(eh,{audioEnabled:h,videoEnabled:p,containerRef:N}),m[5]=h,m[6]=p,m[7]=a):a=m[7],m[8]!==h||m[9]!==v||m[10]!==w||m[11]!==y||m[12]!==g||m[13]!==f||m[14]!==C||m[15]!==p?(s=(0,i.jsx)(eK,{toggleAudio:g,toggleVideo:f,audioEnabled:h,videoEnabled:p,title:y,setTitle:b,mode:w,setMode:j,tokenGateMode:C,setTokenGateMode:S,isTokenGateLoading:v,videoStreamRef:N}),m[8]=h,m[9]=v,m[10]=w,m[11]=y,m[12]=g,m[13]=f,m[14]=C,m[15]=p,m[16]=s):s=m[16],m[17]!==y?(l=(0,i.jsx)("p",{className:"mt-4 font-sans text-xl font-bold text-white",children:y}),m[17]=y,m[18]=l):l=m[18],m[19]!==a||m[20]!==s||m[21]!==l?(d=(0,i.jsx)(es.DeviceSelectionProvider,{canPublishHint:!0,children:(0,i.jsxs)("div",{className:"group relative h-full w-full",children:[o,a,s,l]})}),m[19]=a,m[20]=s,m[21]=l,m[22]=d):d=m[22],d):null};var ez=e.i(236435);let eY=e=>{let t,o,a,s=(0,r.c)(11),{overlay:l}=e,{token:c,mintId:d,setToken:m}=(0,n.useLivestreamContext)(),u=(0,X.useLivestream)(d),{address:h}=(0,ei.useProfile)(),p=!!u;return s[0]!==d||s[1]!==m||s[2]!==p?(t={mintId:d,onSuccess:m,viewer:!1,enabled:p},s[0]=d,s[1]=m,s[2]=p,s[3]=t):t=s[3],(0,eo.useAutoJoinLivestream)(t),s[4]!==l||s[5]!==c?(o=c?(0,i.jsx)(ez.LiveKitRoom,{overlay:l}):(0,i.jsx)(eQ,{}),s[4]=l,s[5]=c,s[6]=o):o=s[6],s[7]!==h||s[8]!==d||s[9]!==o?(a=(0,i.jsx)(er.ParticipantInteractionsStateProvider,{roomId:d,currentUserAddress:h,children:o}),s[7]=h,s[8]=d,s[9]=o,s[10]=a):a=s[10],a};var eq=e.i(841550);e.s(["CoinLivestream",0,e=>{let t,s,l,c,d,m=(0,r.c)(20),{className:u,maxWidth:h,overlay:p,role:g,creator:f}=e,{mintId:x,isBanned:v,livechatUser:y}=(0,n.useLivestreamContext)(),b=void 0===g,w=y?.address??void 0;m[0]!==x||m[1]!==b||m[2]!==w?(t={mintId:x,enabled:b,walletAddress:w},m[0]=x,m[1]=b,m[2]=w,m[3]=t):t=m[3];let{data:j,isLoading:C}=(0,a.useIsApprovedCreator)(t),S=g||(j?"host":"viewer"),{hasClipParam:N,hasArchivedFilter:_}=(0,o.useClipParam)();if(C||void 0===j&&"viewer"!==g)return null;if(v){let e;return m[4]!==u||m[5]!==h?(e=(0,i.jsx)(et,{maxWidth:h,className:u}),m[4]=u,m[5]=h,m[6]=e):e=m[6],e}if(N||_){let e;return m[7]!==u?(e=(0,i.jsx)(q,{className:u}),m[7]=u,m[8]=e):e=m[8],e}return m[9]!==S?(s="host"===S&&(0,i.jsx)(eY,{}),m[9]=S,m[10]=s):s=m[10],m[11]!==f||m[12]!==S||m[13]!==p?(l="viewer"===S&&(0,i.jsx)(eq.LivestreamParticipantView,{overlay:p,viewer:!0,creator:f}),m[11]=f,m[12]=S,m[13]=p,m[14]=l):l=m[14],m[15]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(Z,{className:"mt-4"}),m[15]=c):c=m[15],m[16]!==u||m[17]!==s||m[18]!==l?(d=(0,i.jsxs)("div",{className:u,children:[s,l,c]}),m[16]=u,m[17]=s,m[18]=l,m[19]=d):d=m[19],d}],723394)}]);