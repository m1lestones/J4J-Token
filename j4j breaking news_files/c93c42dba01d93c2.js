(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,933256,e=>{"use strict";e.i(353110);var r=e.i(494692);e.s(["humanizeTokenAmount",0,e=>e?"number"==typeof e?e/1e6:"string"==typeof e?new r.BN(e).toNumber()/1e6:e.toNumber()/1e6:0])},674214,e=>{"use strict";let r;function n(e,r){return new Promise(function(n,o){let a;return i(e).then(function(e){try{return a=e,n(new Blob([r.slice(0,2),a,r.slice(2)],{type:"image/jpeg"}))}catch(e){return o(e)}},o)})}let i=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),o=0;if(65496!==i.getUint16(o))return n("not a valid JPEG");for(o+=2;;){let a=i.getUint16(o);if(65498===a)break;let s=i.getUint16(o+2);if(65505===a&&0x45786966===i.getUint32(o+4)){let a,l=o+10;switch(i.getUint16(l)){case 18761:a=!0;break;case 19789:a=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,a))return n("TIFF header contains invalid version");let c=i.getUint32(l+4,a),u=l+c+2+12*i.getUint16(l+c,a);for(let e=l+c+2;e<u;e+=12)if(274==i.getUint16(e,a)){if(3!==i.getUint16(e+2,a))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,a))return n("Orientation data count is invalid");i.setUint16(e+8,1,a);break}return r(e.slice(o,o+2+s))}o+=2+s}return r(new Blob)}),i.readAsArrayBuffer(e)});var o,a,s,l,c={};({get exports(){return c},set exports(t){c=t}}).exports=s={},s.parse=function(e,r){for(var n=s.bin.readUshort,i=s.bin.readUint,o=0,a={},l=new Uint8Array(e),c=l.length-4;0x6054b50!=i(l,c);)c--;var u=n(l,o=c+4+4);n(l,o+=2);var d=i(l,o+=2),m=i(l,o+=4);o+=4,o=m;for(var p=0;p<u;p++){i(l,o),o+=4,o+=4,o+=4,i(l,o+=4),d=i(l,o+=4);var f=i(l,o+=4),g=n(l,o+=4),h=n(l,o+2),y=n(l,o+4);o+=6;var b=i(l,o+=8);o+=4,o+=g+h+y,s._readLocal(l,b,a,d,f,r)}return a},s._readLocal=function(e,r,n,i,o,a){var l=s.bin.readUshort,c=s.bin.readUint;c(e,r),l(e,r+=4),l(e,r+=2);var u=l(e,r+=2);c(e,r+=2),c(e,r+=4),r+=4;var d=l(e,r+=8),m=l(e,r+=2);r+=2;var p=s.bin.readUTF8(e,r,d);if(r+=d,r+=m,a)n[p]={size:o,csize:i};else{var f=new Uint8Array(e.buffer,r);if(0==u)n[p]=new Uint8Array(f.buffer.slice(r,r+i));else{if(8!=u)throw"unknown compression method: "+u;var g=new Uint8Array(o);s.inflateRaw(f,g),n[p]=g}}},s.inflateRaw=function(e,r){return s.F.inflate(e,r)},s.inflate=function(e,r){return e[0],e[1],s.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},s.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=s.F.deflateRaw(e,i,n,r.level);var o=s.adler(e,0,e.length);return i[n+0]=o>>>24&255,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=o>>>0&255,new Uint8Array(i.buffer,0,n+4)},s.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=s.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},s.encode=function(e,r){null==r&&(r=!1);var n=0,i=s.bin.writeUint,o=s.bin.writeUshort,a={};for(var l in e){var c=!s._noNeed(l)&&!r,u=e[l],d=s.crc.crc(u,0,u.length);a[l]={cpr:c,usize:u.length,crc:d,file:c?s.deflateRaw(u):u}}for(var l in a)n+=a[l].file.length+30+46+2*s.bin.sizeUTF8(l);var m=new Uint8Array(n+=22),p=0,f=[];for(var l in a){var g=a[l];f.push(p),p=s._writeHeader(m,p,l,g,0)}var h=0,y=p;for(var l in a)g=a[l],f.push(p),p=s._writeHeader(m,p,l,g,1,f[h++]);var b=p-y;return i(m,p,0x6054b50),p+=4,o(m,p+=4,h),o(m,p+=2,h),i(m,p+=2,b),i(m,p+=4,y),p+=4,p+=2,m.buffer},s._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},s._writeHeader=function(e,r,n,i,o,a){var l=s.bin.writeUint,c=s.bin.writeUshort,u=i.file;return l(e,r,0==o?0x4034b50:0x2014b50),r+=4,1==o&&(r+=2),c(e,r,20),c(e,r+=2,0),c(e,r+=2,8*!!i.cpr),l(e,r+=2,0),l(e,r+=4,i.crc),l(e,r+=4,u.length),l(e,r+=4,i.usize),c(e,r+=4,s.bin.sizeUTF8(n)),c(e,r+=2,0),r+=2,1==o&&(r+=2,r+=2,l(e,r+=6,a),r+=4),r+=s.bin.writeUTF8(e,r,n),0==o&&(e.set(u,r),r+=u.length),r},s.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var o=0;o<i;o++)e=s.crc.table[255&(e^r[n+o])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^s.crc.update(0xffffffff,e,r,n)}},s.adler=function(e,r,n){for(var i=1,o=0,a=r,s=r+n;a<s;){for(var l=Math.min(a+5552,s);a<l;)o+=i+=e[a++];i%=65521,o%=65521}return o<<16|i},s.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,o="",a=0;a<n;a++)o+="%"+s.bin.pad(e[r+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return s.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,o=0,a=0;a<i;a++){var s=n.charCodeAt(a);if(0==(0xffffff80&s))e[r+o]=s,o++;else if(0==(0xfffff800&s))e[r+o]=192|s>>6,e[r+o+1]=128|63&s,o+=2;else if(0==(0xffff0000&s))e[r+o]=224|s>>12,e[r+o+1]=128|s>>6&63,e[r+o+2]=128|63&s,o+=3;else{if(0!=(0xffe00000&s))throw"e";e[r+o]=240|s>>18,e[r+o+1]=128|s>>12&63,e[r+o+2]=128|s>>6&63,e[r+o+3]=128|63&s,o+=4}}return o},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e.charCodeAt(i);if(0==(0xffffff80&o))n++;else if(0==(0xfffff800&o))n+=2;else if(0==(0xffff0000&o))n+=3;else{if(0!=(0xffe00000&o))throw"e";n+=4}}return n}},s.F={},s.F.deflateRaw=function(e,r,n,i){var o=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],a=s.F.U,l=s.F._goodIndex;s.F._hash;var c=s.F._putsE,u=0,d=n<<3,m=0,p=e.length;if(0==i){for(;u<p;)c(r,d,+(u+(I=Math.min(65535,p-u))==p)),d=s.F._copyExact(e,u,I,r,d+8),u+=I;return d>>>3}var f=a.lits,g=a.strt,h=a.prev,y=0,b=0,S=0,A=0,w=0,T=0;for(p>2&&(g[T=s.F._hash(e,0)]=0),u=0;u<p;u++){if(w=T,u+1<p-2){T=s.F._hash(e,u+1);var k=u+1&32767;h[k]=g[T],g[T]=k}if(m<=u){(y>14e3||b>26697)&&p-u>100&&(m<u&&(f[y]=u-m,y+=2,m=u),d=s.F._writeBlock(+(u==p-1||m==p),f,y,A,e,S,u-S,r,d),y=b=A=0,S=u);var C=0;u<p-2&&(C=s.F._bestMatch(e,u,h,w,Math.min(o[2],p-u),o[3]));var I=C>>>16,v=65535&C;if(0!=C){v=65535&C;var P=l(I=C>>>16,a.of0);a.lhst[257+P]++;var L=l(v,a.df0);a.dhst[L]++,A+=a.exb[P]+a.dxb[L],f[y]=I<<23|u-m,f[y+1]=v<<16|P<<8|L,y+=2,m=u+I}else a.lhst[e[u]]++;b++}}for(S==u&&0!=e.length||(m<u&&(f[y]=u-m,y+=2,m=u),d=s.F._writeBlock(1,f,y,A,e,S,u-S,r,d),y=0,b=0,y=b=A=0,S=u);0!=(7&d);)d++;return d>>>3},s.F._bestMatch=function(e,r,n,i,o,a){var l=32767&r,c=n[l],u=l-c+32768&32767;if(c==l||i!=s.F._hash(e,r-u))return 0;for(var d=0,m=0,p=Math.min(32767,r);u<=p&&0!=--a&&c!=l;){if(0==d||e[r+d]==e[r+d-u]){var f=s.F._howLong(e,r,u);if(f>d){if(m=u,(d=f)>=o)break;u+2<f&&(f=u+2);for(var g=0,h=0;h<f-2;h++){var y=r-u+h+32768&32767,b=y-n[y]+32768&32767;b>g&&(g=b,c=y)}}}u+=(l=c)-(c=n[l])+32768&32767}return d<<16|m},s.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,o=Math.min(e.length,r+258);for(r+=3;r<o&&e[r]==e[r-n];)r++;return r-i},s.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(e,r,n,i,o,a,l,c,u){var d,m,p,f,g,h,y,b,S,A,w,T=s.F.U,k=s.F._putsF,C=s.F._putsE;T.lhst[256]++,f=(p=s.F.getTrees())[0],g=p[1],h=p[2],y=p[3],b=p[4],S=p[5],A=p[6],w=p[7];var I=32+(0==(u+3&7)?0:8-(u+3&7))+(l<<3),v=i+s.F.contSize(T.fltree,T.lhst)+s.F.contSize(T.fdtree,T.dhst),P=i+s.F.contSize(T.ltree,T.lhst)+s.F.contSize(T.dtree,T.dhst);P+=14+3*S+s.F.contSize(T.itree,T.ihst)+(2*T.ihst[16]+3*T.ihst[17]+7*T.ihst[18]);for(var L=0;L<286;L++)T.lhst[L]=0;for(L=0;L<30;L++)T.dhst[L]=0;for(L=0;L<19;L++)T.ihst[L]=0;var _=I<v&&I<P?0:v<P?1:2;if(k(c,u,e),k(c,u+1,_),u+=3,0==_){for(;0!=(7&u);)u++;u=s.F._copyExact(o,a,l,c,u)}else{if(1==_&&(d=T.fltree,m=T.fdtree),2==_){s.F.makeCodes(T.ltree,f),s.F.revCodes(T.ltree,f),s.F.makeCodes(T.dtree,g),s.F.revCodes(T.dtree,g),s.F.makeCodes(T.itree,h),s.F.revCodes(T.itree,h),d=T.ltree,m=T.dtree,C(c,u,y-257),C(c,u+=5,b-1),C(c,u+=5,S-4),u+=4;for(var x=0;x<S;x++)C(c,u+3*x,T.itree[1+(T.ordr[x]<<1)]);u+=3*S,u=s.F._codeTiny(A,T.itree,c,u),u=s.F._codeTiny(w,T.itree,c,u)}for(var D=a,E=0;E<n;E+=2){for(var R=r[E],O=R>>>23,U=D+(8388607&R);D<U;)u=s.F._writeLit(o[D++],d,c,u);if(0!=O){var B=r[E+1],V=B>>16,M=B>>8&255,F=255&B;C(c,u=s.F._writeLit(257+M,d,c,u),O-T.of0[M]),u+=T.exb[M],k(c,u=s.F._writeLit(F,m,c,u),V-T.df0[F]),u+=T.dxb[F],D+=O}}u=s.F._writeLit(256,d,c,u)}return u},s.F._copyExact=function(e,r,n,i,o){var a=o>>>3;return i[a]=n,i[a+1]=n>>>8,i[a+2]=255-i[a],i[a+3]=255-i[a+1],a+=4,i.set(new Uint8Array(e.buffer,r,n),a),o+(n+4<<3)},s.F.getTrees=function(){for(var e=s.F.U,r=s.F._hufTree(e.lhst,e.ltree,15),n=s.F._hufTree(e.dhst,e.dtree,15),i=[],o=s.F._lenCodes(e.ltree,i),a=[],l=s.F._lenCodes(e.dtree,a),c=0;c<i.length;c+=2)e.ihst[i[c]]++;for(c=0;c<a.length;c+=2)e.ihst[a[c]]++;for(var u=s.F._hufTree(e.ihst,e.itree,7),d=19;d>4&&0==e.itree[1+(e.ordr[d-1]<<1)];)d--;return[r,n,u,o,l,d,i,a]},s.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},s.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},s.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},s.F._codeTiny=function(e,r,n,i){for(var o=0;o<e.length;o+=2){var a=e[o],l=e[o+1];i=s.F._writeLit(a,r,n,i);var c=16==a?2:17==a?3:7;a>15&&(s.F._putsE(n,i,l,c),i+=c)}return i},s.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var o=e[i+1],a=i+3<n?e[i+3]:-1,s=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==o&&a==o&&s==o){for(var c=i+5;c+2<n&&e[c+2]==o;)c+=2;(u=Math.min(c+1-i>>>1,138))<11?r.push(17,u-3):r.push(18,u-11),i+=2*u-2}else if(o==l&&a==o&&s==o){for(c=i+5;c+2<n&&e[c+2]==o;)c+=2;var u=Math.min(c+1-i>>>1,6);r.push(16,u-3),i+=2*u-2}else r.push(o,0)}return n>>>1},s.F._hufTree=function(e,r,n){var i=[],o=e.length,a=r.length,l=0;for(l=0;l<a;l+=2)r[l]=0,r[l+1]=0;for(l=0;l<o;l++)0!=e[l]&&i.push({lit:l,f:e[l]});var c=i.length,u=i.slice(0);if(0==c)return 0;if(1==c){var d=i[0].lit;return u=+(0==d),r[1+(d<<1)]=1,r[1+(u<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var m=i[0],p=i[1],f=0,g=1,h=2;for(i[0]={lit:-1,f:m.f+p.f,l:m,r:p,d:0};g!=c-1;)m=f!=g&&(h==c||i[f].f<i[h].f)?i[f++]:i[h++],p=f!=g&&(h==c||i[f].f<i[h].f)?i[f++]:i[h++],i[g++]={lit:-1,f:m.f+p.f,l:m,r:p};var y=s.F.setDepth(i[g-1],0);for(y>n&&(s.F.restrictDepth(u,n,y),y=n),l=0;l<c;l++)r[1+(u[l].lit<<1)]=u[l].d;return y},s.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(s.F.setDepth(e.l,r+1),s.F.setDepth(e.r,r+1))},s.F.restrictDepth=function(e,r,n){var i=0,o=1<<n-r,a=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var s=e[i].d;e[i].d=r,a+=o-(1<<n-s)}for(a>>>=n-r;a>0;)(s=e[i].d)<r?(e[i].d++,a-=1<<r-s-1):i++;for(;i>=0;i--)e[i].d==r&&a<0&&(e[i].d--,a++);0!=a&&console.log("debt left")},s.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},s.F._writeLit=function(e,r,n,i){return s.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},s.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=s.F,o=i._bitsF,a=i._bitsE,l=i._decodeTiny,c=i.makeCodes,u=i.codes2map,d=i._get17,m=i.U,p=null==r;p&&(r=new n(e.length>>>2<<3));for(var f,g,h=0,y=0,b=0,S=0,A=0,w=0,T=0,k=0,C=0;0==h;)if(h=o(e,C,1),y=o(e,C+1,2),C+=3,0!=y){if(p&&(r=s.F._check(r,k+131072)),1==y&&(f=m.flmap,g=m.fdmap,w=511,T=31),2==y){b=a(e,C,5)+257,S=a(e,C+5,5)+1,A=a(e,C+10,4)+4,C+=14;for(var I=0;I<38;I+=2)m.itree[I]=0,m.itree[I+1]=0;var v=1;for(I=0;I<A;I++){var P=a(e,C+3*I,3);m.itree[1+(m.ordr[I]<<1)]=P,P>v&&(v=P)}C+=3*A,c(m.itree,v),u(m.itree,v,m.imap),f=m.lmap,g=m.dmap,C=l(m.imap,(1<<v)-1,b+S,e,C,m.ttree);var L=i._copyOut(m.ttree,0,b,m.ltree);w=(1<<L)-1;var _=i._copyOut(m.ttree,b,S,m.dtree);T=(1<<_)-1,c(m.ltree,L),u(m.ltree,L,f),c(m.dtree,_),u(m.dtree,_,g)}for(;;){var x=f[d(e,C)&w];C+=15&x;var D=x>>>4;if(D>>>8==0)r[k++]=D;else{if(256==D)break;var E=k+D-254;if(D>264){var R=m.ldef[D-257];E=k+(R>>>3)+a(e,C,7&R),C+=7&R}var O=g[d(e,C)&T];C+=15&O;var U=O>>>4,B=m.ddef[U],V=(B>>>4)+o(e,C,15&B);for(C+=15&B,p&&(r=s.F._check(r,k+131072));k<E;)r[k]=r[k++-V],r[k]=r[k++-V],r[k]=r[k++-V],r[k]=r[k++-V];k=E}}}else{0!=(7&C)&&(C+=8-(7&C));var M=4+(C>>>3),F=e[M-4]|e[M-3]<<8;p&&(r=s.F._check(r,k+F)),r.set(new n(e.buffer,e.byteOffset+M,F),k),C=M+F<<3,k+=F}return r.length==k?r:r.slice(0,k)},s.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},s.F._decodeTiny=function(e,r,n,i,o,a){for(var l=s.F._bitsE,c=s.F._get17,u=0;u<n;){var d=e[c(i,o)&r];o+=15&d;var m=d>>>4;if(m<=15)a[u]=m,u++;else{var p=0,f=0;16==m?(f=3+l(i,o,2),o+=2,p=a[u-1]):17==m?(f=3+l(i,o,3),o+=3):18==m&&(f=11+l(i,o,7),o+=7);for(var g=u+f;u<g;)a[u]=p,u++}}return o},s.F._copyOut=function(e,r,n,i){for(var o=0,a=0,s=i.length>>>1;a<n;){var l=e[a+r];i[a<<1]=0,i[1+(a<<1)]=l,l>o&&(o=l),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},s.F.makeCodes=function(e,r){for(var n,i,o,a,l=s.F.U,c=e.length,u=l.bl_count,d=0;d<=r;d++)u[d]=0;for(d=1;d<c;d+=2)u[e[d]]++;var m=l.next_code;for(n=0,u[0]=0,i=1;i<=r;i++)n=n+u[i-1]<<1,m[i]=n;for(o=0;o<c;o+=2)0!=(a=e[o+1])&&(e[o]=m[a],m[a]++)},s.F.codes2map=function(e,r,n){for(var i=e.length,o=s.F.U.rev15,a=0;a<i;a+=2)if(0!=e[a+1])for(var l=a>>1,c=e[a+1],u=l<<4|c,d=r-c,m=e[a]<<d,p=m+(1<<d);m!=p;)n[o[m]>>>15-r]=u,m++},s.F.revCodes=function(e,r){for(var n=s.F.U.rev15,i=15-r,o=0;o<e.length;o+=2){var a=e[o]<<r-e[o+1];e[o]=n[a]>>>i}},s.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},s.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},s.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},s.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},s.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},s.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},s.F.U=(o=Uint16Array,a=Uint32Array,{next_code:new o(16),bl_count:new o(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new o(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new a(32),flmap:new o(512),fltree:[],fdmap:new o(32),fdtree:[],lmap:new o(32768),ltree:[],ttree:[],dmap:new o(32768),dtree:[],imap:new o(512),itree:[],rev15:new o(32768),lhst:new a(286),dhst:new a(30),ihst:new a(19),lits:new a(15e3),strt:new o(65536),prev:new o(32768)}),function(){for(var e=s.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),s.F.makeCodes(e.fltree,9),s.F.codes2map(e.fltree,9,e.flmap),s.F.revCodes(e.fltree,9),i(e.fdtree,32,5),s.F.makeCodes(e.fdtree,5),s.F.codes2map(e.fdtree,5,e.fdmap),s.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var u=(l={__proto__:null,default:c},[c].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in l)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(l,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(l));let d=function(){let e,r,n;var i={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(e[r+o]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let o=0;o<n;o++)i.push(e[r+o]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,r,n){let o,a="";for(let o=0;o<n;o++)a+=`%${i.pad(e[r+o].toString(16))}`;try{o=decodeURIComponent(a)}catch(o){return i.readASCII(e,r,n)}return o}};function o(e,r,n,o){let a=r*n,s=Math.ceil(r*c(o)/8),l=new Uint8Array(4*a),u=new Uint32Array(l.buffer),{ctype:d}=o,{depth:m}=o,p=i.readUshort;if(6==d){let r=a<<2;if(8==m)for(var f=0;f<r;f+=4)l[f]=e[f],l[f+1]=e[f+1],l[f+2]=e[f+2],l[f+3]=e[f+3];if(16==m)for(f=0;f<r;f++)l[f]=e[f<<1]}else if(2==d){let r=o.tabs.tRNS;if(null==r){if(8==m)for(f=0;f<a;f++){var g=3*f;u[f]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==m)for(f=0;f<a;f++)g=6*f,u[f]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g]}else{var h=r[0];let n=r[1],i=r[2];if(8==m)for(f=0;f<a;f++){var y=f<<2;g=3*f,u[f]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==h&&e[g+1]==n&&e[g+2]==i&&(l[y+3]=0)}if(16==m)for(f=0;f<a;f++)y=f<<2,g=6*f,u[f]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g],p(e,g)==h&&p(e,g+2)==n&&p(e,g+4)==i&&(l[y+3]=0)}}else if(3==d){let i=o.tabs.PLTE,c=o.tabs.tRNS,u=c?c.length:0;if(1==m)for(var b,S=0;S<n;S++){var A=S*s,w=S*r;for(f=0;f<r;f++){y=w+f<<2;var T=3*(b=e[A+(f>>3)]>>7-(7&f)&1);l[y]=i[T],l[y+1]=i[T+1],l[y+2]=i[T+2],l[y+3]=b<u?c[b]:255}}if(2==m)for(S=0;S<n;S++)for(A=S*s,w=S*r,f=0;f<r;f++)y=w+f<<2,T=3*(b=e[A+(f>>2)]>>6-((3&f)<<1)&3),l[y]=i[T],l[y+1]=i[T+1],l[y+2]=i[T+2],l[y+3]=b<u?c[b]:255;if(4==m)for(S=0;S<n;S++)for(A=S*s,w=S*r,f=0;f<r;f++)y=w+f<<2,T=3*(b=e[A+(f>>1)]>>4-((1&f)<<2)&15),l[y]=i[T],l[y+1]=i[T+1],l[y+2]=i[T+2],l[y+3]=b<u?c[b]:255;if(8==m)for(f=0;f<a;f++)y=f<<2,T=3*(b=e[f]),l[y]=i[T],l[y+1]=i[T+1],l[y+2]=i[T+2],l[y+3]=b<u?c[b]:255}else if(4==d){if(8==m)for(f=0;f<a;f++){y=f<<2;var k,C=e[k=f<<1];l[y]=C,l[y+1]=C,l[y+2]=C,l[y+3]=e[k+1]}if(16==m)for(f=0;f<a;f++)y=f<<2,C=e[k=f<<2],l[y]=C,l[y+1]=C,l[y+2]=C,l[y+3]=e[k+2]}else if(0==d)for(h=o.tabs.tRNS?o.tabs.tRNS:-1,S=0;S<n;S++){let n=S*s,i=S*r;if(1==m)for(var I=0;I<r;I++){var v=255*((C=255*(e[n+(I>>>3)]>>>7-(7&I)&1))!=255*h);u[i+I]=v<<24|C<<16|C<<8|C}else if(2==m)for(I=0;I<r;I++)v=255*((C=85*(e[n+(I>>>2)]>>>6-((3&I)<<1)&3))!=85*h),u[i+I]=v<<24|C<<16|C<<8|C;else if(4==m)for(I=0;I<r;I++)v=255*((C=17*(e[n+(I>>>1)]>>>4-((1&I)<<2)&15))!=17*h),u[i+I]=v<<24|C<<16|C<<8|C;else if(8==m)for(I=0;I<r;I++)v=255*((C=e[n+I])!=h),u[i+I]=v<<24|C<<16|C<<8|C;else if(16==m)for(I=0;I<r;I++)C=e[n+(I<<1)],v=255*(p(e,n+(I<<1))!=h),u[i+I]=v<<24|C<<16|C<<8|C}return l}function a(e,r,n,i){let o=new Uint8Array((Math.ceil(n*c(e)/8)+1+e.interlace)*i);return r=e.tabs.CgBI?l(r,o):s(r,o),0==e.interlace?r=u(r,e,0,n,i):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,o=c(r),a=o>>3,s=Math.ceil(n*o/8),l=new Uint8Array(i*s),d=0,m=[0,0,4,0,2,0,1],p=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],h=0;for(;h<7;){let c=f[h],b=g[h],S=0,A=0,w=m[h];for(;w<i;)w+=c,A++;let T=p[h];for(;T<n;)T+=b,S++;let k=Math.ceil(S*o/8);u(e,r,d,S,A);let C=0,I=m[h];for(;I<i;){let r=p[h],i=d+C*k<<3;for(;r<n;){var y;if(1==o&&(y=(y=e[i>>3])>>7-(7&i)&1,l[I*s+(r>>3)]|=y<<7-(7&r)),2==o&&(y=(y=e[i>>3])>>6-(7&i)&3,l[I*s+(r>>2)]|=y<<6-((3&r)<<1)),4==o&&(y=(y=e[i>>3])>>4-(7&i)&15,l[I*s+(r>>1)]|=y<<4-((1&r)<<2)),o>=8){let n=I*s+r*a;for(let r=0;r<a;r++)l[n+r]=e[(i>>3)+r]}i+=o,r+=b}C++,I+=c}S*A!=0&&(d+=A*(1+k)),h+=1}return l}(r,e)),r}function s(e,r){return l(new Uint8Array(e.buffer,2,e.length-6),r)}var l=((e={}).N=function(r,n){let i=Uint8Array,o,a,s=0,l=0,c=0,u=0,d=0,m=0,p=0,f=0,g=0;if(3==r[0]&&0==r[1])return n||new i(0);let h=e.b,y=e.e,b=e.R,S=e.n,A=e.A,w=e.Z,T=e.m,k=null==n;for(k&&(n=new i(r.length>>>2<<5));0==s;)if(s=h(r,g,1),l=h(r,g+1,2),g+=3,0!=l){if(k&&(n=e.W(n,f+131072)),1==l&&(o=T.J,a=T.h,m=511,p=31),2==l){c=y(r,g,5)+257,u=y(r,g+5,5)+1,d=y(r,g+10,4)+4,g+=14;let n=1;for(var C=0;C<38;C+=2)T.Q[C]=0,T.Q[C+1]=0;for(C=0;C<d;C++){let e=y(r,g+3*C,3);T.Q[1+(T.X[C]<<1)]=e,e>n&&(n=e)}g+=3*d,S(T.Q,n),A(T.Q,n,T.u),o=T.w,a=T.d,g=b(T.u,(1<<n)-1,c+u,r,g,T.v);let i=e.V(T.v,0,c,T.C);m=(1<<i)-1;let s=e.V(T.v,c,u,T.D);p=(1<<s)-1,S(T.C,i),A(T.C,i,o),S(T.D,s),A(T.D,s,a)}for(;;){let e=o[w(r,g)&m];g+=15&e;let i=e>>>4;if(i>>>8==0)n[f++]=i;else{if(256==i)break;{let e=f+i-254;if(i>264){let n=T.q[i-257];e=f+(n>>>3)+y(r,g,7&n),g+=7&n}let o=a[w(r,g)&p];g+=15&o;let s=o>>>4,l=T.c[s],c=(l>>>4)+h(r,g,15&l);for(g+=15&l;f<e;)n[f]=n[f++-c],n[f]=n[f++-c],n[f]=n[f++-c],n[f]=n[f++-c];f=e}}}}else{0!=(7&g)&&(g+=8-(7&g));let o=4+(g>>>3),a=r[o-4]|r[o-3]<<8;k&&(n=e.W(n,f+a)),n.set(new i(r.buffer,r.byteOffset+o,a),f),g=o+a<<3,f+=a}return n.length==f?n:n.slice(0,f)},e.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.R=function(r,n,i,o,a,s){let l=e.e,c=e.Z,u=0;for(;u<i;){let e=r[c(o,a)&n];a+=15&e;let i=e>>>4;if(i<=15)s[u]=i,u++;else{let e=0,r=0;16==i?(r=3+l(o,a,2),a+=2,e=s[u-1]):17==i?(r=3+l(o,a,3),a+=3):18==i&&(r=11+l(o,a,7),a+=7);let n=u+r;for(;u<n;)s[u]=e,u++}}return a},e.V=function(e,r,n,i){let o=0,a=0,s=i.length>>>1;for(;a<n;){let n=e[a+r];i[a<<1]=0,i[1+(a<<1)]=n,n>o&&(o=n),a++}for(;a<s;)i[a<<1]=0,i[1+(a<<1)]=0,a++;return o},e.n=function(r,n){let i,o,a,s,l=e.m,c=r.length,u=l.j;for(var d=0;d<=n;d++)u[d]=0;for(d=1;d<c;d+=2)u[r[d]]++;let m=l.K;for(i=0,u[0]=0,o=1;o<=n;o++)i=i+u[o-1]<<1,m[o]=i;for(a=0;a<c;a+=2)0!=(s=r[a+1])&&(r[a]=m[s],m[s]++)},e.A=function(r,n,i){let o=r.length,a=e.m.r;for(let e=0;e<o;e+=2)if(0!=r[e+1]){let o=e>>1,s=r[e+1],l=o<<4|s,c=n-s,u=r[e]<<c,d=u+(1<<c);for(;u!=d;)i[a[u]>>>15-n]=l,u++}},e.l=function(r,n){let i=e.m.r,o=15-n;for(let e=0;e<r.length;e+=2){let a=r[e]<<n-r[e+1];r[e]=i[a]>>>o}},e.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},r=Uint16Array,n=Uint32Array,e.m={K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new r(65536),g:new r(32768)},function(){let r=e.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.n(r._,9),e.A(r._,9,r.J),e.l(r._,9),i(r.$,32,5),e.n(r.$,5),e.A(r.$,5,r.h),e.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.N);function c(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function u(e,r,n,i,o){let a,s,l=c(r),u=Math.ceil(i*l/8);l=Math.ceil(l/8);let m=e[n],p=0;if(m>1&&(e[n]=[0,0,1][m-2]),3==m)for(p=l;p<u;p++)e[p+1]=e[p+1]+(e[p+1-l]>>>1)&255;for(let r=0;r<o;r++)if(m=e[(s=(a=n+r*u)+r+1)-1],p=0,0==m)for(;p<u;p++)e[a+p]=e[s+p];else if(1==m){for(;p<l;p++)e[a+p]=e[s+p];for(;p<u;p++)e[a+p]=e[s+p]+e[a+p-l]}else if(2==m)for(;p<u;p++)e[a+p]=e[s+p]+e[a+p-u];else if(3==m){for(;p<l;p++)e[a+p]=e[s+p]+(e[a+p-u]>>>1);for(;p<u;p++)e[a+p]=e[s+p]+(e[a+p-u]+e[a+p-l]>>>1)}else{for(;p<l;p++)e[a+p]=e[s+p]+d(0,e[a+p-u],0);for(;p<u;p++)e[a+p]=e[s+p]+d(e[a+p-l],e[a+p-u],e[a+p-l-u])}return e}function d(e,r,n){let i=e+r-n,o=i-e,a=i-r,s=i-n;return o*o<=a*a&&o*o<=s*s?e:a*a<=s*s?r:n}function m(e,r,n,i,o,a,s,l,c){let u=Math.min(r,o),d=Math.min(n,a),m=0,p=0;for(let n=0;n<d;n++)for(let a=0;a<u;a++)if(s>=0&&l>=0?(m=n*r+a<<2,p=(l+n)*o+s+a<<2):(m=(-l+n)*r-s+a<<2,p=n*o+a<<2),0==c)i[p]=e[m],i[p+1]=e[m+1],i[p+2]=e[m+2],i[p+3]=e[m+3];else if(1==c){var f=e[m+3]*(1/255),g=e[m]*f,h=e[m+1]*f,y=e[m+2]*f,b=i[p+3]*(1/255),S=i[p]*b,A=i[p+1]*b,w=i[p+2]*b;let r=1-f,n=f+b*r,o=0==n?0:1/n;i[p+3]=255*n,i[p+0]=(g+S*r)*o,i[p+1]=(h+A*r)*o,i[p+2]=(y+w*r)*o}else if(2==c)f=e[m+3],g=e[m],h=e[m+1],y=e[m+2],b=i[p+3],S=i[p],A=i[p+1],w=i[p+2],f==b&&g==S&&h==A&&y==w?(i[p]=0,i[p+1]=0,i[p+2]=0,i[p+3]=0):(i[p]=g,i[p+1]=h,i[p+2]=y,i[p+3]=f);else if(3==c){if(f=e[m+3],g=e[m],h=e[m+1],y=e[m+2],b=i[p+3],S=i[p],A=i[p+1],w=i[p+2],f==b&&g==S&&h==A&&y==w)continue;if(f<220&&b>20)return!1}return!0}return{decode:function(e){let r=new Uint8Array(e),n=8,o=i.readUshort,c=i.readUint,u={tabs:{},frames:[]},d=new Uint8Array(r.length),m,p=0,f=0,g=[137,80,78,71,13,10,26,10];for(var h,y=0;y<8;y++)if(r[y]!=g[y])throw"The input is not a PNG file!";for(;n<r.length;){let e=i.readUint(r,n);n+=4;let g=i.readASCII(r,n,4);if(n+=4,"IHDR"==g)b=n,u.width=i.readUint(r,b),b+=4,u.height=i.readUint(r,b),u.depth=r[b+=4],u.ctype=r[++b],u.compress=r[++b],u.filter=r[++b],u.interlace=r[++b],b++;else if("iCCP"==g){for(var b,S,A=n;0!=r[A];)A++;i.readASCII(r,n,A-n),r[A+1];let o=r.slice(A+2,n+e),a=null;try{a=s(o)}catch(e){a=l(o)}u.tabs[g]=a}else if("CgBI"==g)u.tabs[g]=r.slice(n,n+4);else if("IDAT"==g){for(y=0;y<e;y++)d[p+y]=r[n+y];p+=e}else if("acTL"==g)u.tabs[g]={num_frames:c(r,n),num_plays:c(r,n+4)},m=new Uint8Array(r.length);else if("fcTL"==g){0!=f&&((h=u.frames[u.frames.length-1]).data=a(u,m.slice(0,f),h.rect.width,h.rect.height),f=0);let e={x:c(r,n+12),y:c(r,n+16),width:c(r,n+4),height:c(r,n+8)},i=o(r,n+22),s={rect:e,delay:Math.round(1e3*(i=o(r,n+20)/(0==i?100:i))),dispose:r[n+24],blend:r[n+25]};u.frames.push(s)}else if("fdAT"==g){for(y=0;y<e-4;y++)m[f+y]=r[n+y+4];f+=e-4}else if("pHYs"==g)u.tabs[g]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==g)for(y=0,u.tabs[g]=[];y<8;y++)u.tabs[g].push(i.readUint(r,n+4*y));else if("tEXt"==g||"zTXt"==g){null==u.tabs[g]&&(u.tabs[g]={});var w=i.nextZero(r,n),T=i.readASCII(r,n,w-n),k=n+e-w-1;if("tEXt"==g)S=i.readASCII(r,w+1,k);else{var C=s(r.slice(w+2,w+2+k));S=i.readUTF8(C,0,C.length)}u.tabs[g][T]=S}else if("iTXt"==g){null==u.tabs[g]&&(u.tabs[g]={}),w=0,A=n,w=i.nextZero(r,A),T=i.readASCII(r,A,w-A);let o=r[A=w+1];r[A+1],A+=2,w=i.nextZero(r,A),i.readASCII(r,A,w-A),A=w+1,w=i.nextZero(r,A),i.readUTF8(r,A,w-A),k=e-((A=w+1)-n),0==o?S=i.readUTF8(r,A,k):(C=s(r.slice(A,A+k)),S=i.readUTF8(C,0,C.length)),u.tabs[g][T]=S}else if("PLTE"==g)u.tabs[g]=i.readBytes(r,n,e);else if("hIST"==g){let e=u.tabs.PLTE.length/3;for(y=0,u.tabs[g]=[];y<e;y++)u.tabs[g].push(o(r,n+2*y))}else if("tRNS"==g)3==u.ctype?u.tabs[g]=i.readBytes(r,n,e):0==u.ctype?u.tabs[g]=o(r,n):2==u.ctype&&(u.tabs[g]=[o(r,n),o(r,n+2),o(r,n+4)]);else if("gAMA"==g)u.tabs[g]=i.readUint(r,n)/1e5;else if("sRGB"==g)u.tabs[g]=r[n];else if("bKGD"==g)0==u.ctype||4==u.ctype?u.tabs[g]=[o(r,n)]:2==u.ctype||6==u.ctype?u.tabs[g]=[o(r,n),o(r,n+2),o(r,n+4)]:3==u.ctype&&(u.tabs[g]=r[n]);else if("IEND"==g)break;n+=e,i.readUint(r,n),n+=4}return 0!=f&&((h=u.frames[u.frames.length-1]).data=a(u,m.slice(0,f),h.rect.width,h.rect.height)),u.data=a(u,d,u.width,u.height),delete u.compress,delete u.interlace,delete u.filter,u},toRGBA8:function(e){let r=e.width,n=e.height;if(null==e.tabs.acTL)return[o(e.data,r,n,e).buffer];let i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let a=r*n*4,s=new Uint8Array(a),l=new Uint8Array(a),c=new Uint8Array(a);for(let d=0;d<e.frames.length;d++){let p=e.frames[d],f=p.rect.x,g=p.rect.y,h=p.rect.width,y=p.rect.height,b=o(p.data,h,y,e);if(0!=d)for(var u=0;u<a;u++)c[u]=s[u];if(0==p.blend?m(b,h,y,s,r,n,f,g,0):1==p.blend&&m(b,h,y,s,r,n,f,g,1),i.push(s.buffer.slice(0)),0==p.dispose);else if(1==p.dispose)m(l,h,y,s,r,n,f,g,0);else if(2==p.dispose)for(u=0;u<a;u++)s[u]=c[u]}return i},_paeth:d,_copyTile:m,_bin:i}}();!function(){let{_copyTile:e}=d,{_bin:r}=d,n=d._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,o){for(let a=0;a<o;a++)e=i.table[255&(e^r[n+a])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function o(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function a(e){return Math.max(0,Math.min(255,e))}function s(e,r){let n=e[0]-r[0],i=e[1]-r[1],o=e[2]-r[2],a=e[3]-r[3];return n*n+i*i+o*o+a*a}function l(e,r,n,i,l,c,u){null==u&&(u=1);let d=i.length,m=[];for(var p,f=0;f<d;f++){let e=i[f];m.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(f=0;f<d;f++){let e=0xffffffff;for(var g=0,h=0;h<d;h++){var y=s(m[f],m[h]);h!=f&&y<e&&(e=y,g=h)}}let b=new Uint32Array(l.buffer),S=new Int16Array(r*n*4),A=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(f=0;f<A.length;f++)A[f]=255*((A[f]+.5)/16-.5);for(let l=0;l<n;l++)for(let w=0;w<r;w++){f=4*(l*r+w),2!=u?p=[a(e[f]+S[f]),a(e[f+1]+S[f+1]),a(e[f+2]+S[f+2]),a(e[f+3]+S[f+3])]:(y=A[4*(3&l)+(3&w)],p=[a(e[f]+y),a(e[f+1]+y),a(e[f+2]+y),a(e[f+3]+y)]),g=0;let T=0xffffff;for(h=0;h<d;h++){let e=s(p,m[h]);e<T&&(T=e,g=h)}let k=m[g],C=[p[0]-k[0],p[1]-k[1],p[2]-k[2],p[3]-k[3]];1==u&&(w!=r-1&&o(C,S,f+4,7),l!=n-1&&(0!=w&&o(C,S,f+4*r-4,3),o(C,S,f+4*r,5),w!=r-1&&o(C,S,f+4*r+4,1))),c[f>>2]=g,b[f>>2]=i[g]}}function c(e,n,o,a,s){null==s&&(s={});let{crc:l}=i,c=r.writeUint,u=r.writeUshort,d=r.writeASCII,m=8,p=e.frames.length>1,f,g=!1,h=33+20*!!p;if(null!=s.sRGB&&(h+=13),null!=s.pHYs&&(h+=21),null!=s.iCCP&&(h+=21+(f=pako.deflate(s.iCCP)).length+4),3==e.ctype){for(var y=e.plte.length,b=0;b<y;b++)e.plte[b]>>>24!=255&&(g=!0);h+=8+3*y+4+(g?8+ +y+4:0)}for(var S=0;S<e.frames.length;S++)p&&(h+=38),h+=(k=e.frames[S]).cimg.length+12,0!=S&&(h+=4);let A=new Uint8Array(h+=12),w=[137,80,78,71,13,10,26,10];for(b=0;b<8;b++)A[b]=w[b];if(c(A,m,13),d(A,m+=4,"IHDR"),c(A,m+=4,n),c(A,m+=4,o),A[m+=4]=e.depth,A[++m]=e.ctype,A[++m]=0,A[++m]=0,A[++m]=0,c(A,++m,l(A,m-17,17)),m+=4,null!=s.sRGB&&(c(A,m,1),d(A,m+=4,"sRGB"),A[m+=4]=s.sRGB,c(A,++m,l(A,m-5,5)),m+=4),null!=s.iCCP){let e=13+f.length;c(A,m,e),d(A,m+=4,"iCCP"),d(A,m+=4,"ICC profile"),m+=11,m+=2,A.set(f,m),c(A,m+=f.length,l(A,m-(e+4),e+4)),m+=4}if(null!=s.pHYs&&(c(A,m,9),d(A,m+=4,"pHYs"),c(A,m+=4,s.pHYs[0]),c(A,m+=4,s.pHYs[1]),A[m+=4]=s.pHYs[2],c(A,++m,l(A,m-13,13)),m+=4),p&&(c(A,m,8),d(A,m+=4,"acTL"),c(A,m+=4,e.frames.length),c(A,m+=4,null!=s.loop?s.loop:0),c(A,m+=4,l(A,m-12,12)),m+=4),3==e.ctype){for(c(A,m,3*(y=e.plte.length)),d(A,m+=4,"PLTE"),m+=4,b=0;b<y;b++){let r=3*b,n=e.plte[b],i=255&n,o=n>>>8&255,a=n>>>16&255;A[m+r+0]=i,A[m+r+1]=o,A[m+r+2]=a}if(c(A,m+=3*y,l(A,m-3*y-4,3*y+4)),m+=4,g){for(c(A,m,y),d(A,m+=4,"tRNS"),m+=4,b=0;b<y;b++)A[m+b]=e.plte[b]>>>24&255;c(A,m+=y,l(A,m-y-4,y+4)),m+=4}}let T=0;for(S=0;S<e.frames.length;S++){var k=e.frames[S];p&&(c(A,m,26),d(A,m+=4,"fcTL"),c(A,m+=4,T++),c(A,m+=4,k.rect.width),c(A,m+=4,k.rect.height),c(A,m+=4,k.rect.x),c(A,m+=4,k.rect.y),u(A,m+=4,a[S]),u(A,m+=2,1e3),A[m+=2]=k.dispose,A[++m]=k.blend,c(A,++m,l(A,m-30,30)),m+=4);let r=k.cimg;c(A,m,(y=r.length)+4*(0!=S));let n=m+=4;d(A,m,0==S?"IDAT":"fdAT"),m+=4,0!=S&&(c(A,m,T++),m+=4),A.set(r,m),c(A,m+=y,l(A,n,m-n)),m+=4}return c(A,m,0),d(A,m+=4,"IEND"),c(A,m+=4,l(A,m-4,4)),m+=4,A.buffer}function m(e,r,i){for(let o=0;o<e.frames.length;o++){let a=e.frames[o];a.rect.width;let s=a.rect.height,l=new Uint8Array(s*a.bpl+s);a.cimg=function(e,r,i,o,a,s,l){let c=[],d,m=[0,1,2,3,4];-1!=s?m=[s]:(r*o>5e5||1==i)&&(m=[0]),l&&(d={level:0});for(var p=0;p<m.length;p++){for(let s=0;s<r;s++)!function(e,r,i,o,a,s){let l=i*o,c=l+i;if(e[c]=s,c++,0==s)if(o<500)for(var u=0;u<o;u++)e[c+u]=r[l+u];else e.set(new Uint8Array(r.buffer,l,o),c);else if(1==s){for(u=0;u<a;u++)e[c+u]=r[l+u];for(u=a;u<o;u++)e[c+u]=r[l+u]-r[l+u-a]+256&255}else if(0==i){for(u=0;u<a;u++)e[c+u]=r[l+u];if(2==s)for(u=a;u<o;u++)e[c+u]=r[l+u];if(3==s)for(u=a;u<o;u++)e[c+u]=r[l+u]-(r[l+u-a]>>1)+256&255;if(4==s)for(u=a;u<o;u++)e[c+u]=r[l+u]-n(r[l+u-a],0,0)+256&255}else{if(2==s)for(u=0;u<o;u++)e[c+u]=r[l+u]+256-r[l+u-o]&255;if(3==s){for(u=0;u<a;u++)e[c+u]=r[l+u]+256-(r[l+u-o]>>1)&255;for(u=a;u<o;u++)e[c+u]=r[l+u]+256-(r[l+u-o]+r[l+u-a]>>1)&255}if(4==s){for(u=0;u<a;u++)e[c+u]=r[l+u]+256-n(0,r[l+u-o],0)&255;for(u=a;u<o;u++)e[c+u]=r[l+u]+256-n(r[l+u-a],r[l+u-o],r[l+u-a-o])&255}}}(a,e,s,o,i,m[p]);c.push(u.deflate(a,d))}let f,g=1e9;for(p=0;p<c.length;p++)c[p].length<g&&(f=p,g=c[p].length);return c[f]}(a.img,s,a.bpp,a.bpl,l,r,i)}}function p(r,n,i,o,a){let s=a[0],c=a[1],u=a[2],d=a[3],m=a[4],p=a[5],y=6,b=8,S=255;for(var A=0;A<r.length;A++){let e=new Uint8Array(r[A]);for(var w=e.length,T=0;T<w;T+=4)S&=e[T+3]}let k=255!=S,C=function(r,n,i,o,a,s){let l=[];for(var c,u=0;u<r.length;u++){let c=new Uint8Array(r[u]),f=new Uint32Array(c.buffer),h=0,y=0,b=n,S=i,A=+!!o;if(0!=u){let w=s||o||1==u||0!=l[u-2].dispose?1:2,T=0,k=1e9;for(let e=0;e<w;e++){var d,m=new Uint8Array(r[u-1-e]);let o=new Uint32Array(r[u-1-e]),s=n,l=i,c=-1,g=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)f[p=e*n+r]!=o[p]&&(r<s&&(s=r),r>c&&(c=r),e<l&&(l=e),e>g&&(g=e));-1==c&&(s=l=c=g=0),a&&(1==(1&s)&&s--,1==(1&l)&&l--);let A=(c-s+1)*(g-l+1);A<k&&(k=A,T=e,h=s,y=l,b=c-s+1,S=g-l+1)}m=new Uint8Array(r[u-1-T]),1==T&&(l[u-1].dispose=2),e(m,n,i,d=new Uint8Array(b*S*4),b,S,-h,-y,0),1==(A=+!!e(c,n,i,d,b,S,-h,-y,3))?g(c,n,i,d,{x:h,y:y,width:b,height:S}):e(c,n,i,d,b,S,-h,-y,0)}else d=c.slice(0);l.push({rect:{x:h,y:y,width:b,height:S},img:d,blend:A,dispose:0})}if(o)for(u=0;u<l.length;u++){if(1==(c=l[u]).blend)continue;let e=c.rect,o=l[u-1].rect,s=Math.min(e.x,o.x),d=Math.min(e.y,o.y),m={x:s,y:d,width:Math.max(e.x+e.width,o.x+o.width)-s,height:Math.max(e.y+e.height,o.y+o.height)-d};l[u-1].dispose=1,u-1!=0&&f(r,n,i,l,u-1,m,a),f(r,n,i,l,u,m,a)}if(1!=r.length)for(var p=0;p<l.length;p++)(c=l[p]).rect.width,c.rect.height;return l}(r,n,i,s,c,u),I={},v=[],P=[];if(0!=o){let e=[];for(T=0;T<C.length;T++)e.push(C[T].img.buffer);let r=h(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),o=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),a=r.length;for(let e=0;e<a;e+=4){let n=r[e],a=r[e+1],s=r[e+2],l=r[e+3];0==l&&(n=a=s=0),i[o+e]=n,i[o+e+1]=a,i[o+e+2]=s,i[o+e+3]=l}o+=a}return i.buffer}(e),o);for(T=0;T<r.plte.length;T++)v.push(r.plte[T].est.rgba);let n=0;for(T=0;T<C.length;T++){let e=(_=C[T]).img.length;var L=new Uint8Array(r.inds.buffer,n>>2,e>>2);P.push(L);let i=new Uint8Array(r.abuf,n,e);p&&l(_.img,_.rect.width,_.rect.height,v,i,L),_.img.set(i),n+=e}}else for(A=0;A<C.length;A++){var _=C[A];let e=new Uint32Array(_.img.buffer);var x=_.rect.width;for(L=new Uint8Array(w=e.length),P.push(L),T=0;T<w;T++){let r=e[T];if(0!=T&&r==e[T-1])L[T]=L[T-1];else if(T>x&&r==e[T-x])L[T]=L[T-x];else{let e=I[r];if(null==e&&(I[r]=e=v.length,v.push(r),v.length>=300))break;L[T]=e}}}let D=v.length;for(D<=256&&0==m&&(b=Math.max(b=D<=2?1:D<=4?2:D<=16?4:8,d)),A=0;A<C.length;A++){(_=C[A]).rect.x,_.rect.y,x=_.rect.width;let e=_.rect.height,r=_.img;new Uint32Array(r.buffer);let n=4*x,i=4;if(D<=256&&0==m){var E=new Uint8Array((n=Math.ceil(b*x/8))*e);let o=P[A];for(let r=0;r<e;r++){T=r*n;let e=r*x;if(8==b)for(var R=0;R<x;R++)E[T+R]=o[e+R];else if(4==b)for(R=0;R<x;R++)E[T+(R>>1)]|=o[e+R]<<4-4*(1&R);else if(2==b)for(R=0;R<x;R++)E[T+(R>>2)]|=o[e+R]<<6-2*(3&R);else if(1==b)for(R=0;R<x;R++)E[T+(R>>3)]|=o[e+R]<<7-(7&R)}r=E,y=3,i=1}else if(0==k&&1==C.length){E=new Uint8Array(x*e*3);let o=x*e;for(T=0;T<o;T++){let e=3*T,n=4*T;E[e]=r[n],E[e+1]=r[n+1],E[e+2]=r[n+2]}r=E,y=2,i=3,n=3*x}_.img=r,_.bpl=n,_.bpp=i}return{ctype:y,depth:b,plte:v,frames:C}}function f(r,n,i,o,a,s,l){let c=Uint8Array,u=Uint32Array,d=new c(r[a-1]),m=new u(r[a-1]),p=a+1<r.length?new c(r[a+1]):null,f=new c(r[a]),h=new u(f.buffer),y=n,b=i,S=-1,A=-1;for(let e=0;e<s.height;e++)for(let r=0;r<s.width;r++){let i=s.x+r,l=s.y+e,c=l*n+i,u=h[c];0==u||0==o[a-1].dispose&&m[c]==u&&(null==p||0!=p[4*c+3])||(i<y&&(y=i),i>S&&(S=i),l<b&&(b=l),l>A&&(A=l))}-1==S&&(y=b=S=A=0),l&&(1==(1&y)&&y--,1==(1&b)&&b--),s={x:y,y:b,width:S-y+1,height:A-b+1};let w=o[a];w.rect=s,w.blend=1,w.img=new Uint8Array(s.width*s.height*4),0==o[a-1].dispose?(e(d,n,i,w.img,s.width,s.height,-s.x,-s.y,0),g(f,n,i,w.img,s)):e(f,n,i,w.img,s.width,s.height,-s.x,-s.y,0)}function g(r,n,i,o,a){e(r,n,i,o,a.width,a.height,-a.x,-a.y,2)}function h(e,r){let n,i=new Uint8Array(e),o=i.slice(0),a=new Uint32Array(o.buffer),s=y(o,r),l=s[0],c=s[1],u=i.length,d=new Uint8Array(u>>2);if(i.length<2e7)for(var m=0;m<u;m+=4)n=b(l,p=i[m]*(1/255),f=i[m+1]*(1/255),g=i[m+2]*(1/255),h=i[m+3]*(1/255)),d[m>>2]=n.ind,a[m>>2]=n.est.rgba;else for(m=0;m<u;m+=4){var p=i[m]*(1/255),f=i[m+1]*(1/255),g=i[m+2]*(1/255),h=i[m+3]*(1/255);for(n=l;n.left;)n=0>=S(n.est,p,f,g,h)?n.left:n.right;d[m>>2]=n.ind,a[m>>2]=n.est.rgba}return{abuf:o.buffer,inds:d,plte:c}}function y(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),o={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=w(e,o.i0,o.i1),o.est=T(o.bst);let a=[o];for(;a.length<r;){let r=0,o=0;for(var s=0;s<a.length;s++)a[s].est.L>r&&(r=a[s].est.L,o=s);if(r<n)break;let l=a[o],c=function(e,r,n,i,o,a){for(i-=4;n<i;){for(;A(e,n,o)<=a;)n+=4;for(;A(e,i,o)>a;)i-=4;if(n>=i)break;let s=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=s,n+=4,i-=4}for(;A(e,n,o)>a;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=c||l.i1<=c){l.est.L=0;continue}let u={i0:l.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};u.bst=w(e,u.i0,u.i1),u.est=T(u.bst);let d={i0:c,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(s=0,d.bst={R:[],m:[],N:l.bst.N-u.bst.N};s<16;s++)d.bst.R[s]=l.bst.R[s]-u.bst.R[s];for(s=0;s<4;s++)d.bst.m[s]=l.bst.m[s]-u.bst.m[s];d.est=T(d.bst),l.left=u,l.right=d,a[o]=u,a.push(d)}for(a.sort((e,r)=>r.bst.N-e.bst.N),s=0;s<a.length;s++)a[s].ind=s;return[o,a]}function b(e,r,n,i,o){if(null==e.left){var a;let s,l,c,u;return a=e.est.q,s=r-a[0],l=n-a[1],c=i-a[2],e.tdst=s*s+l*l+c*c+(u=o-a[3])*u,e}let s=S(e.est,r,n,i,o),l=e.left,c=e.right;s>0&&(l=e.right,c=e.left);let u=b(l,r,n,i,o);if(u.tdst<=s*s)return u;let d=b(c,r,n,i,o);return d.tdst<u.tdst?d:u}function S(e,r,n,i,o){let{e:a}=e;return a[0]*r+a[1]*n+a[2]*i+a[3]*o-e.eMq}function A(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function w(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=[0,0,0,0];for(let a=r;a<n;a+=4){let r=e[a]*(1/255),n=e[a+1]*(1/255),s=e[a+2]*(1/255),l=e[a+3]*(1/255);o[0]+=r,o[1]+=n,o[2]+=s,o[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*s,i[3]+=r*l,i[5]+=n*n,i[6]+=n*s,i[7]+=n*l,i[10]+=s*s,i[11]+=s*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:o,N:n-r>>2}}function T(e){let{R:r}=e,{m:n}=e,{N:i}=e,o=n[0],a=n[1],s=n[2],l=n[3],c=0==i?0:1/i,u=[r[0]-o*o*c,r[1]-o*a*c,r[2]-o*s*c,r[3]-o*l*c,r[4]-a*o*c,r[5]-a*a*c,r[6]-a*s*c,r[7]-a*l*c,r[8]-s*o*c,r[9]-s*a*c,r[10]-s*s*c,r[11]-s*l*c,r[12]-l*o*c,r[13]-l*a*c,r[14]-l*s*c,r[15]-l*l*c],d=[Math.random(),Math.random(),Math.random(),Math.random()],m=0,p=0;if(0!=i)for(let e=0;e<16&&(d=k.multVec(u,d),p=Math.sqrt(k.dot(d,d)),d=k.sml(1/p,d),!(0!=e&&1e-9>Math.abs(p-m)));e++)m=p;let f=[o*c,a*c,s*c,l*c];return{Cov:u,q:f,e:d,L:m,eMq255:k.dot(k.sml(255,f),d),eMq:k.dot(d,f),rgba:(Math.round(255*f[3])<<24|Math.round(255*f[2])<<16|Math.round(255*f[1])<<8|(0|Math.round(255*f[0])))>>>0}}var k={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};d.encode=function(e,r,n,i,o,a,s){null==i&&(i=0),null==s&&(s=!1);let l=p(e,r,n,i,[!1,!1,!1,0,s,!1]);return m(l,-1),c(l,r,n,o,a)},d.encodeLL=function(e,r,n,i,o,a,s,l){let u={ctype:0+2*(1!=i)+4*(0!=o),depth:a,frames:[]},d=(i+o)*a,p=d*r;for(let i=0;i<e.length;i++)u.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(d/8),bpl:Math.ceil(p/8)});return m(u,0,!0),c(u,r,n,s,l)},d.encode.compress=p,d.encode.dither=l,d.quantize=h,d.quantize.getKDtree=y,d.quantize.getNearest=b}();let m={toArrayBuffer(e,r){let n=e.width,i=e.height,o=n<<2,a=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),s=(32*n+31)/32<<2,l=s*i,c=122+l,u=new ArrayBuffer(c),d=new DataView(u),p,f,g,h,y=1048576,b=0,S=0,A=0;function w(e){d.setUint16(S,e,!0),S+=2}function T(e){d.setUint32(S,e,!0),S+=4}w(19778),T(c),S+=4,T(122),T(108),T(n),T(-i>>>0),w(1),w(32),T(3),T(l),T(2835),T(2835),S+=8,T(0xff0000),T(65280),T(255),T(0xff000000),T(0x57696e20),function e(){for(;b<i&&y>0;){for(h=122+b*s,p=0;p<o;)y--,g=(f=a[A++])>>>24,d.setUint32(h+p,f<<8|g),p+=4;b++}A<a.length?(y=1048576,setTimeout(e,m._dly)):r(u)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var p={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},f={[p.CHROME]:16384,[p.FIREFOX]:11180,[p.DESKTOP_SAFARI]:16384,[p.IE]:8192,[p.IOS]:4096,[p.ETC]:8192};let g="undefined"!=typeof window,h="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,y=g&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),b=(g||h)&&(y&&y.getOriginalSymbol(window,"File")||"undefined"!=typeof File&&File),S=(g||h)&&(y&&y.getOriginalSymbol(window,"FileReader")||"undefined"!=typeof FileReader&&FileReader);function A(e,r,n=Date.now()){return new Promise(i=>{let o=e.split(","),a=o[0].match(/:(.*?);/)[1],s=globalThis.atob(o[1]),l=s.length,c=new Uint8Array(l);for(;l--;)c[l]=s.charCodeAt(l);let u=new Blob([c],{type:a});u.name=r,u.lastModified=n,i(u)})}function w(e){return new Promise((r,n)=>{let i=new S;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function T(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function k(){if(void 0!==k.cachedResult)return k.cachedResult;let e=p.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=p.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=p.IOS:/Safari/i.test(r)?e=p.DESKTOP_SAFARI:/Firefox/i.test(r)?e=p.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=p.IE),k.cachedResult=e,k.cachedResult}function C(e,r){let n=f[k()],i=e,o=r,a=i*o,s=i>o?o/i:i/o;for(;a>n*n;){let e=(n+i)/2,r=(n+o)/2;e<r?(o=r,i=r*s):(o=e*s,i=e),a=i*o}return{width:i,height:o}}function I(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function v(e,r){let{width:n,height:i}=C(e.width,e.height),[o,a]=I(n,i);return r&&/jpe?g/.test(r)&&(a.fillStyle="white",a.fillRect(0,0,o.width,o.height)),a.drawImage(e,0,0,o.width,o.height),o}function P(){return void 0!==P.cachedResult||(P.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"undefined"!=typeof document&&"ontouchend"in document),P.cachedResult}function L(e,r={}){return new Promise(function(n,i){let o,a;var s=function(){try{return a=v(o,r.fileType||e.type),n([o,a])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return w(e).then(function(e){try{return r=e,T(r).then(function(e){try{return o=e,function(){try{return s()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(P()||[p.DESKTOP_SAFARI,p.MOBILE_SAFARI].includes(k()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return o=e,s()}catch(e){return l()}},l)}catch(e){l()}})}function _(e,r,n,i,o=1){return new Promise(function(a,s){let l;if("image/png"===r){let a,s;return a=e.getContext("2d"),{data:s}=a.getImageData(0,0,e.width,e.height),(l=new Blob([d.encode([s.buffer],e.width,e.height,4096*o)],{type:r})).name=n,l.lastModified=i,p.call(this)}if("image/bmp"===r)return new Promise(r=>m.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,u.call(this)}catch(e){return s(e)}}).bind(this),s);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:o}).then((function(e){try{return(l=e).name=n,l.lastModified=i,c.call(this)}catch(e){return s(e)}}).bind(this),s);return A(e.toDataURL(r,o),n,i).then((function(e){try{return l=e,c.call(this)}catch(e){return s(e)}}).bind(this),s);function c(){return u.call(this)}function u(){return p.call(this)}function p(){return a(l)}})}function x(e){e.width=0,e.height=0}function D(){return new Promise(function(e,r){let n,i,o,a;return void 0!==D.cachedResult?e(D.cachedResult):A("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(s){try{return n=s,L(n).then(function(s){try{return i=s[1],_(i,n.type,n.name,n.lastModified).then(function(n){try{return o=n,x(i),L(o).then(function(n){try{return a=n[0],D.cachedResult=1===a.width&&2===a.height,e(D.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function E(e){return new Promise((r,n)=>{let i=new S;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,o=2;for(;o<i&&!(8>=n.getUint16(o+2,!1));){let e=n.getUint16(o,!1);if(o+=2,65505==e){if(0x45786966!=n.getUint32(o+=2,!1))return r(-1);let e=18761==n.getUint16(o+=6,!1);o+=n.getUint32(o+4,e);let i=n.getUint16(o,e);o+=2;for(let a=0;a<i;a++)if(274==n.getUint16(o+12*a,e))return r(n.getUint16(o+12*a+8,e))}else{if(65280!=(65280&e))break;o+=n.getUint16(o,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function R(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:o}=r,a,s=e;return isFinite(o)&&(n>o||i>o)&&([s,a]=I(n,i),n>i?(s.width=o,s.height=i/n*o):(s.width=n/i*o,s.height=o),a.drawImage(e,0,0,s.width,s.height),x(e)),s}function O(e,r){let{width:n}=e,{height:i}=e,[o,a]=I(n,i);switch(r>4&&r<9?(o.width=i,o.height=n):(o.width=n,o.height=i),r){case 2:a.transform(-1,0,0,1,n,0);break;case 3:a.transform(-1,0,0,-1,n,i);break;case 4:a.transform(1,0,0,-1,0,i);break;case 5:a.transform(0,1,1,0,0,0);break;case 6:a.transform(0,1,-1,0,i,0);break;case 7:a.transform(0,-1,-1,0,i,n);break;case 8:a.transform(0,-1,1,0,0,n)}return a.drawImage(e,0,0,n,i),x(e),o}function U(e,r,n=0){return new Promise(function(i,o){let a,s,l,c,u,d,m,p,f,g,h,y,b,S,A,w,T,k,C,v;function P(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;a+=e,r.onProgress(Math.min(a,100))}function U(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;a=Math.min(Math.max(e,a),100),r.onProgress(a)}return a=n,s=r.maxIteration||10,l=1024*r.maxSizeMB*1024,P(),L(e,r).then((function(n){try{return[,c]=n,P(),u=R(c,r),P(),new Promise(function(n,i){var o;if(!(o=r.exifOrientation))return E(e).then((function(e){try{return o=e,a.call(this)}catch(e){return i(e)}}).bind(this),i);function a(){return n(o)}return a.call(this)}).then((function(n){try{return d=n,P(),D().then((function(n){try{return m=n?u:O(u,d),P(),p=r.initialQuality||1,f=r.fileType||e.type,_(m,f,e.name,e.lastModified,p).then((function(n){try{var a;if(g=n,P(),h=g.size>l,y=g.size>e.size,!h&&!y)return U(100),i(g);function d(){if(s--&&(A>l||A>b)){let r,n;return r=v?.95*C.width:C.width,n=v?.95*C.height:C.height,[T,k]=I(r,n),k.drawImage(C,0,0,r,n),p*="image/png"===f?.85:.95,_(T,f,e.name,e.lastModified,p).then(function(e){try{return w=e,x(C),C=T,A=w.size,U(Math.min(99,Math.floor((S-A)/(S-l)*100))),d}catch(e){return o(e)}},o)}return[1]}return b=e.size,A=S=g.size,C=m,v=!r.alwaysKeepResolution&&h,(a=(function(e){for(;e;){if(e.then)return void e.then(a,o);try{if(e.pop){if(e.length)return e.pop()?L.call(this):e;e=d}else e=e.call(this)}catch(e){return o(e)}}}).bind(this))(d);function L(){return x(C),x(T),x(u),x(m),x(c),U(100),i(w)}}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)}catch(e){return o(e)}}).bind(this),o)})}function B(e,i){return new Promise(function(o,a){let s,l,c,u,d,m;if(s={...i},c=0,{onProgress:u}=s,s.maxSizeMB=s.maxSizeMB||1/0,d="boolean"!=typeof s.useWebWorker||s.useWebWorker,delete s.useWebWorker,s.onProgress=e=>{c=e,"function"==typeof u&&u(c)},!(e instanceof Blob||e instanceof b))return a(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return a(Error("The file given is not an image"));if(m="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!d||"function"!=typeof Worker||m)return U(e,s).then((function(e){try{return l=e,g.call(this)}catch(e){return a(e)}}).bind(this),a);var p=(function(){try{return g.call(this)}catch(e){return a(e)}}).bind(this),f=function(r){try{return U(e,s).then(function(e){try{return l=e,p()}catch(e){return a(e)}},a)}catch(e){return a(e)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((n,i)=>{var o;let a;r||(a=[],"function"==typeof(o="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n")?a.push(`(${o})()`):a.push(o),r=URL.createObjectURL(new Blob(a)));let l=new Worker(r);l.addEventListener("message",function(e){if(s.signal&&s.signal.aborted)l.terminate();else if(void 0===e.data.progress){if(e.data.error)return i(Error(e.data.error)),void l.terminate();n(e.data.file),l.terminate()}else s.onProgress(e.data.progress)}),l.addEventListener("error",i),s.signal&&s.signal.addEventListener("abort",()=>{i(s.signal.reason),l.terminate()}),l.postMessage({file:e,imageCompressionLibUrl:s.libURL,options:{...s,onProgress:void 0,signal:void 0}})}).then(function(e){try{return l=e,p()}catch(e){return f()}},f)}catch(e){f()}function g(){try{l.name=e.name,l.lastModified=e.lastModified}catch(e){}try{s.preserveExif&&"image/jpeg"===e.type&&(!s.fileType||s.fileType&&s.fileType===e.type)&&(l=n(e,l))}catch(e){}return o(l)}})}B.getDataUrlFromFile=w,B.getFilefromDataUrl=A,B.loadImage=T,B.drawImageInCanvas=v,B.drawFileInCanvas=L,B.canvasToFile=_,B.getExifOrientation=E,B.handleMaxWidthOrHeight=R,B.followExifOrientation=O,B.cleanupCanvasMemory=x,B.isAutoOrientationInBrowser=D,B.approximateBelowMaximumCanvasSizeOfBrowser=C,B.copyExifWithoutOrientation=n,B.getBrowserName=k,B.version="2.0.2",e.s(["default",()=>B])},312157,e=>{"use strict";var r=e.i(711774),n=e.i(655703),i=e.i(281675),o=e.i(754219);e.s(["useLikes",0,e=>{let{address:a,decodedJwt:s}=(0,n.useProfile)(),[l,c]=(0,i.useState)(),[u,d]=(0,i.useState)(),m=(0,i.useCallback)((e,r)=>{o.toast.error(e,{description:r})},[]),p=(0,i.useCallback)(async()=>{try{let n=await fetch(`${(0,r.getClientServerUrl)()}/likes/${e}`).then(e=>e.json());if("number"!=typeof n?.length)return;c(n),d(n?.some(({user:e})=>e===a))}catch(e){console.error(e)}},[a,e]),f=async()=>{s?(await fetch(`${(0,r.getClientServerUrl)()}/likes/${e}`,{method:"POST",credentials:"include"}),await p(),d(!0)):await m("Failed to like","Connect your wallet to like")},g=(0,i.useCallback)(async()=>{s?(await fetch(`${(0,r.getClientServerUrl)()}/likes/${e}`,{method:"DELETE",credentials:"include"}),await p(),d(!1)):await m("Failed to unlike","Connect your wallet to unlike")},[a,e]);return{likes:l,fetchLikes:p,like:f,unlike:g,likedByUser:u}}])},550256,e=>{"use strict";var r=e.i(711774),n=e.i(655703),i=e.i(281675);e.s(["useBan",0,()=>{let[e,o]=(0,i.useState)(),{address:a,decodedJwt:s}=(0,n.useProfile)(),l=async()=>{try{let e=await fetch(`${(0,r.getClientServerUrl)()}/replies/ban`);if(!e.ok)return;let n=e.headers.get("content-type");if(!n||!n.includes("application/json"))return;let i=await e.json();if(!i||!i.expires)return;o(i)}catch{o(void 0)}};return(0,i.useEffect)(()=>{a&&s&&l()},[a,s]),{ban:e,fetchBan:l}}])},996760,320137,e=>{"use strict";var r=e.i(711774),n=e.i(987325),i=e.i(281675);function o(e,r,n){let i=Array.from(new Map([...e,...r].map(e=>[e.id,e])).values());return"desc"===n?i.sort((e,r)=>r.timestamp-e.timestamp):i.sort((e,r)=>e.timestamp-r.timestamp),i}e.s(["useReplies",0,(e,o,a,s)=>{let[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!1),[m,p]=(0,i.useState)(0),[f,g]=(0,i.useState)(!0),h=(0,i.useRef)(0),y=async()=>{if(!e)return;let n=await fetch(`${(0,r.getClientServerUrl)()}/replies/${e}?limit=${o}&offset=${m-o}&user=${s}`).then(e=>e.json());c(l.slice(0,-n.length).concat(n))},b=(0,i.useCallback)((0,n.default)(async(n,i,u,m)=>{if(!n&&(i||!m))return;d(!0);let f=++h.current;try{let i=`limit=${o}&offset=${n?0:u}${s?`&user=${s}`:""}${"desc"===a?"&reverseOrder=true":""}`,d=await fetch(`${(0,r.getClientServerUrl)()}/replies/${e}?${i}`).then(e=>e.json()),{replies:m,hasMore:y,offset:b}=d;if(Array.isArray(d)&&(y=(m=d).length>0,b=m.length),f!==h.current||a!=a)return;m.forEach(e=>{let r,n=/#(\d+)/g;for(;null!==(r=n.exec(e.text));){let n=parseInt(r[1],10),i=l.find(e=>e.id===n);if(i){i.mentions||(i.mentions=[]);let r=String(e.id);i.mentions.includes(r)||i.mentions.push(r)}}}),n?(c(m),p(b||m.length)):(c(e=>[...e,...m]),p(e=>b||e+m.length)),g(y)}catch(e){console.error("Failed to fetch replies",e)}finally{f===h.current&&a==a&&d(!1)}},300),[e,o,s,a]);return(0,i.useEffect)(()=>()=>{b.cancel()},[b]),{replies:l,loading:u,fetchReplies:b,offset:m,hasMore:f,setHasMore:g,fetchLatestReplies:y}}],996760),e.s(["unifyReplies",()=>o],320137)},445035,e=>{"use strict";var r=e.i(942765),n=e.i(649785);e.s(["default",0,e=>{let i,o=(0,n.c)(4),{mint:a,isCompact:s}=e;if(void 0!==s&&s){let e,n=`https://app.insightx.network/bubblemaps/solana/${a}?theme=dark&embed_id=gXRUa7j1Y0JZ6L`;return o[0]!==n?(e=(0,r.jsx)("div",{className:"flex h-full flex-col",children:(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)("iframe",{src:n,width:"100%",height:"100%",className:"h-full",title:"Token Relationship Map"})})}),o[0]=n,o[1]=e):e=o[1],e}let l=`https://app.insightx.network/bubblemaps/solana/${a}?theme=dark&embed_id=gXRUa7j1Y0JZ6L`;return o[2]!==l?(i=(0,r.jsx)("iframe",{src:l,width:"100%",height:"500px",className:"h-[80vh]"}),o[2]=l,o[3]=i):i=o[3],i}])},935882,(e,r,n)=>{r.exports&&(r.exports=function(e){return e.prototype.toFormat=function(e,r,n){if(!this.e&&0!==this.e)return this.toString();var i,o,a,s,l,c,u,d,m,p,f,g,h,y,b,S=this.format||{},A=this.constructor.format||{};if(e!=l?"object"==typeof e?(n=e,e=l):r!=l?"object"==typeof r?(n=r,r=l):"object"!=typeof n&&(n={}):n={}:n={},d=(i=this.toFixed(e,r).split("."))[0],m=i[1],c=(u=this.s<0?d.slice(1):d).length,(p=n.decimalSeparator)==l&&(p=S.decimalSeparator)==l&&(p=A.decimalSeparator)==l&&(p="."),(f=n.groupSeparator)==l&&(f=S.groupSeparator)==l&&(f=A.groupSeparator),f&&((g=n.groupSize)==l&&(g=S.groupSize)==l&&(g=A.groupSize)==l&&(g=0),(h=n.secondaryGroupSize)==l&&(h=S.secondaryGroupSize)==l&&(h=A.secondaryGroupSize)==l&&(h=0),h?(o=+h,c-=a=+g):(o=+g,a=+h),o>0&&c>0)){for(s=c%o||o,d=u.substr(0,s);s<c;s+=o)d+=f+u.substr(s,o);a>0&&(d+=f+u.slice(s)),this.s<0&&(d="-"+d)}return m?((y=n.fractionGroupSeparator)==l&&(y=S.fractionGroupSeparator)==l&&(y=A.fractionGroupSeparator),y&&((b=n.fractionGroupSize)==l&&(b=S.fractionGroupSize)==l&&(b=A.fractionGroupSize)==l&&(b=0),(b*=1)&&(m=m.replace(RegExp("\\d{"+b+"}\\B","g"),"$&"+y))),d+p+m):d},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},41826,309724,838033,408501,111740,97326,918120,19681,606705,761897,e=>{"use strict";var r,n,i,o,a,s,l,c,u,d,m,p,f,g,h,y,b,S,A,w,T,k=e.i(942765),C=e.i(401998),I=e.i(10785),v=e.i(579759),P=e.i(742542);e.i(457417);var L=e.i(340907),_=e.i(232215);(r=y||(y={}))[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen";let x=(0,P.struct)([(0,L.publicKey)("mint"),(0,L.publicKey)("owner"),(0,_.u64)("amount"),(0,P.u32)("delegateOption"),(0,L.publicKey)("delegate"),(0,P.u8)("state"),(0,P.u32)("isNativeOption"),(0,_.u64)("isNative"),(0,_.u64)("delegatedAmount"),(0,P.u32)("closeAuthorityOption"),(0,L.publicKey)("closeAuthority")]),D=x.span;var E=e.i(235828);let R=new E.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),O=new E.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),U=new E.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new E.PublicKey("So11111111111111111111111111111111111111112"),new E.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,U,"TOKEN_2022_PROGRAM_ID",0,O,"TOKEN_PROGRAM_ID",0,R],309724);var B=e.i(173729),V=e.i(492711),M=e.i(560600),F=e.i(935882);function N(e,r,n){if(n.length)for(let i of(e.push({pubkey:r,isSigner:!1,isWritable:!1}),n))e.push({pubkey:i instanceof E.PublicKey?i:i.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:r,isSigner:!0,isWritable:!1});return e}(n=b||(b={}))[n.InitializeMint=0]="InitializeMint",n[n.InitializeAccount=1]="InitializeAccount",n[n.InitializeMultisig=2]="InitializeMultisig",n[n.Transfer=3]="Transfer",n[n.Approve=4]="Approve",n[n.Revoke=5]="Revoke",n[n.SetAuthority=6]="SetAuthority",n[n.MintTo=7]="MintTo",n[n.Burn=8]="Burn",n[n.CloseAccount=9]="CloseAccount",n[n.FreezeAccount=10]="FreezeAccount",n[n.ThawAccount=11]="ThawAccount",n[n.TransferChecked=12]="TransferChecked",n[n.ApproveChecked=13]="ApproveChecked",n[n.MintToChecked=14]="MintToChecked",n[n.BurnChecked=15]="BurnChecked",n[n.InitializeAccount2=16]="InitializeAccount2",n[n.SyncNative=17]="SyncNative",n[n.InitializeAccount3=18]="InitializeAccount3",n[n.InitializeMultisig2=19]="InitializeMultisig2",n[n.InitializeMint2=20]="InitializeMint2",n[n.GetAccountDataSize=21]="GetAccountDataSize",n[n.InitializeImmutableOwner=22]="InitializeImmutableOwner",n[n.AmountToUiAmount=23]="AmountToUiAmount",n[n.UiAmountToAmount=24]="UiAmountToAmount",n[n.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",n[n.TransferFeeExtension=26]="TransferFeeExtension",n[n.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",n[n.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",n[n.Reallocate=29]="Reallocate",n[n.MemoTransferExtension=30]="MemoTransferExtension",n[n.CreateNativeMint=31]="CreateNativeMint",n[n.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",n[n.InterestBearingMintExtension=33]="InterestBearingMintExtension",n[n.CpiGuardExtension=34]="CpiGuardExtension",n[n.InitializePermanentDelegate=35]="InitializePermanentDelegate",n[n.TransferHookExtension=36]="TransferHookExtension",n[n.MetadataPointerExtension=39]="MetadataPointerExtension";let q=(0,P.struct)([(0,P.u8)("instruction")]),W=(0,P.struct)([(0,P.u8)("instruction")]),K=(0,P.struct)([(0,P.u8)("instruction"),(0,P.u8)("decimals"),(0,L.publicKey)("mintAuthority"),(0,P.u8)("freezeAuthorityOption"),(0,L.publicKey)("freezeAuthority")]),G=(0,P.struct)([(0,P.u8)("instruction"),(0,_.u64)("amount")]),Y=(0,P.struct)([(0,P.u8)("instruction"),(0,_.u64)("amount")]);(i=S||(S={}))[i.Uninitialized=0]="Uninitialized",i[i.TransferFeeConfig=1]="TransferFeeConfig",i[i.TransferFeeAmount=2]="TransferFeeAmount",i[i.MintCloseAuthority=3]="MintCloseAuthority",i[i.ConfidentialTransferMint=4]="ConfidentialTransferMint",i[i.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",i[i.DefaultAccountState=6]="DefaultAccountState",i[i.ImmutableOwner=7]="ImmutableOwner",i[i.MemoTransfer=8]="MemoTransfer",i[i.NonTransferable=9]="NonTransferable",i[i.InterestBearingConfig=10]="InterestBearingConfig",i[i.CpiGuard=11]="CpiGuard",i[i.PermanentDelegate=12]="PermanentDelegate",i[i.NonTransferableAccount=13]="NonTransferableAccount",i[i.TransferHook=14]="TransferHook",i[i.TransferHookAccount=15]="TransferHookAccount",i[i.MetadataPointer=18]="MetadataPointer",i[i.TokenMetadata=19]="TokenMetadata";function X(e){return(0,P.struct)([(0,_.u64)("epoch"),(0,_.u64)("maximumFee"),(0,P.u16)("transferFeeBasisPoints")],e)}BigInt(1e4);let z=(0,P.struct)([(0,L.publicKey)("transferFeeConfigAuthority"),(0,L.publicKey)("withdrawWithheldAuthority"),(0,_.u64)("withheldAmount"),X("olderTransferFee"),X("newerTransferFee")]);z.span,(0,P.struct)([(0,_.u64)("withheldAmount")]).span;var H=e.i(973926);class j extends Error{constructor(e){super(e)}}class Q extends j{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class Z extends j{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class J extends j{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class $ extends j{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}(o=A||(A={}))[o.Uninitialized=0]="Uninitialized",o[o.Mint=1]="Mint",o[o.Account=2]="Account";let ee=(0,P.struct)([(0,P.u8)("m"),(0,P.u8)("n"),(0,H.bool)("isInitialized"),(0,L.publicKey)("signer1"),(0,L.publicKey)("signer2"),(0,L.publicKey)("signer3"),(0,L.publicKey)("signer4"),(0,L.publicKey)("signer5"),(0,L.publicKey)("signer6"),(0,L.publicKey)("signer7"),(0,L.publicKey)("signer8"),(0,L.publicKey)("signer9"),(0,L.publicKey)("signer10"),(0,L.publicKey)("signer11")]).span,et=(0,P.struct)([(0,P.u32)("mintAuthorityOption"),(0,L.publicKey)("mintAuthority"),(0,_.u64)("supply"),(0,P.u8)("decimals"),(0,H.bool)("isInitialized"),(0,P.u32)("freezeAuthorityOption"),(0,L.publicKey)("freezeAuthority")]),er=et.span;var en=e.i(958083),ei=Object.defineProperty,eo=Object.defineProperties,ea=Object.getOwnPropertyDescriptors,es=Object.getOwnPropertySymbols,el=Object.prototype.hasOwnProperty,ec=Object.prototype.propertyIsEnumerable,eu=Math.pow,ed=(e,r,n)=>r in e?ei(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,em=(e,r)=>{for(var n in r||(r={}))el.call(r,n)&&ed(e,n,r[n]);if(es)for(var n of es(r))ec.call(r,n)&&ed(e,n,r[n]);return e},ep=(e,r)=>eo(e,ea(r)),ef=(e,r,n)=>new Promise((i,o)=>{var a=e=>{try{l(n.next(e))}catch(e){o(e)}},s=e=>{try{l(n.throw(e))}catch(e){o(e)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(a,s);l((n=n.apply(e,r)).next())}),eg=function(e,r=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(r&&e.finished)throw Error("Hash#digest() has already been called")},eh=function(e,r){!function(e,...r){if(!(e instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(r.length>0&&!r.includes(e.length))throw TypeError(`Expected Uint8Array of length ${r}, not of length=${e.length}`)}(e);let n=r.outputLen;if(e.length<n)throw Error(`digestInto() expects output buffer of length at least ${n}`)},ey=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eb=(e,r)=>e<<32-r|e>>>r;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");function eS(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}(e)),!(e instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},(e,r)=>r.toString(16).padStart(2,"0"));var eA=class{clone(){return this._cloneInto()}};function ew(e){let r=r=>e().update(eS(r)).digest(),n=e();return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=()=>e(),r}var eT=class extends eA{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ey(this.buffer)}update(e){eg(this);let{view:r,buffer:n,blockLen:i}=this,o=(e=eS(e)).length;for(let a=0;a<o;){let s=Math.min(i-this.pos,o-a);if(s===i){let r=ey(e);for(;i<=o-a;a+=i)this.process(r,a);continue}n.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){eg(this),eh(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;!function(e,r,n,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(r,n,i);let o=BigInt(32),a=BigInt(0xffffffff),s=Number(n>>o&a),l=Number(n&a),c=4*!!i,u=4*!i;e.setUint32(r+c,s,i),e.setUint32(r+u,l,i)}(n,i-8,BigInt(8*this.length),o),this.process(n,0);let s=ey(e),l=this.outputLen;if(l%4)throw Error("_sha2: outputLen should be aligned to 32bit");let c=l/4,u=this.get();if(c>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,u[e],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return e.length=i,e.pos=s,e.finished=o,e.destroyed=a,i%r&&e.buffer.set(n),e}},ek=(e,r,n)=>e&r^~e&n,eC=(e,r,n)=>e&r^e&n^r&n,eI=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),ev=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),eP=new Uint32Array(64),eL=class extends eT{constructor(){super(64,32,8,!1),this.A=0|ev[0],this.B=0|ev[1],this.C=0|ev[2],this.D=0|ev[3],this.E=0|ev[4],this.F=0|ev[5],this.G=0|ev[6],this.H=0|ev[7]}get(){let{A:e,B:r,C:n,D:i,E:o,F:a,G:s,H:l}=this;return[e,r,n,i,o,a,s,l]}set(e,r,n,i,o,a,s,l){this.A=0|e,this.B=0|r,this.C=0|n,this.D=0|i,this.E=0|o,this.F=0|a,this.G=0|s,this.H=0|l}process(e,r){for(let n=0;n<16;n++,r+=4)eP[n]=e.getUint32(r,!1);for(let e=16;e<64;e++){let r=eP[e-15],n=eP[e-2],i=eb(r,7)^eb(r,18)^r>>>3,o=eb(n,17)^eb(n,19)^n>>>10;eP[e]=o+eP[e-7]+i+eP[e-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:l,G:c,H:u}=this;for(let e=0;e<64;e++){let r=u+(eb(s,6)^eb(s,11)^eb(s,25))+ek(s,l,c)+eI[e]+eP[e]|0,d=(eb(n,2)^eb(n,13)^eb(n,22))+eC(n,i,o)|0;u=c,c=l,l=s,s=a+r|0,a=o,o=i,i=n,n=r+d|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,a,s,l,c,u)}roundClean(){eP.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},e_=class extends eL{constructor(){super(),this.A=-0x3efa6128,this.B=0x367cd507,this.C=0x3070dd17,this.D=-0x8f1a6c7,this.E=-4191439,this.F=0x68581511,this.G=0x64f98fa7,this.H=-0x4105b05c,this.outputLen=28}},ex=ew(()=>new eL);ew(()=>new e_);var eD="1.1.0-beta.6",eE=!1,eR=!1,eO={debug:1,default:2,info:2,warning:3,error:4,off:5},eU={},eB=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test"!=="test".normalize(r))throw Error("bad normalize")}catch(n){e.push(r)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){if(e instanceof Error)return e.message}return""}(),eV=((a=eV||{}).DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF",a),eM=((s=eM||{}).UNKNOWN_ERROR="UNKNOWN_ERROR",s.NOT_IMPLEMENTED="NOT_IMPLEMENTED",s.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",s.NETWORK_ERROR="NETWORK_ERROR",s.RPC_ERROR="RPC_ERROR",s.TIMEOUT="TIMEOUT",s.BUFFER_OVERRUN="BUFFER_OVERRUN",s.NUMERIC_FAULT="NUMERIC_FAULT",s.MISSING_NEW="MISSING_NEW",s.INVALID_ARGUMENT="INVALID_ARGUMENT",s.MISSING_ARGUMENT="MISSING_ARGUMENT",s.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",s.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",s),eF="0123456789abcdef",eN=class e{constructor(e){this.version=eD,this.moduleName=e}_log(e,r){let n=e.toLowerCase();null==eO[n]&&this.throwArgumentError("invalid log level name","logLevel",e),(eU[this.moduleName]||eO.default)>eO[n]||console.log(...r)}debug(...r){this._log(e.levels.DEBUG,["[DEBUG]",...r])}info(...r){this._log(e.levels.INFO,["[INFO]",...r])}warn(...r){this._log(e.levels.WARNING,["[WARN]",...r])}makeError(r,n,i){if(eR)return this.makeError("censored error",n,{});n||(n=e.errors.UNKNOWN_ERROR),i||(i={});let o=[];Object.entries(i).forEach(([e,r])=>{o.push(`${e}=${function e(r,n=!1){let i=r;try{if(r instanceof Uint8Array){let e="";for(let n=0;n<r.length;n++)e+=eF[r[n]>>4],e+=eF[15&r[n]];i=`Uint8Array(0x${e})`}else if(r instanceof E.PublicKey)i=`PublicKey(${r.toBase58()})`;else if(r instanceof Object&&!n){let n={};Object.entries(r).forEach(([r,i])=>{n[r]=e(i,!0)}),i=JSON.stringify(n)}else n||(i=JSON.stringify(r))}catch(e){i=JSON.stringify(r.toString())}return i}(r)})`)}),o.push(`code=${n}`),o.push(`module=${this.moduleName}`),o.push(`version=${this.version}`);let a=r;o.length&&(r+=" ("+o.join(", ")+")");let s=Error(r);return s.reason=a,s.code=n,Object.entries(i).forEach(([e,r])=>{s[e]=r}),s}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(r,n,i){return this.throwError(r,e.errors.INVALID_ARGUMENT,{argument:n,value:i})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(r){null==r&&(r="platform missing String.prototype.normalize"),eB&&this.throwError("platform missing String.prototype.normalize",e.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eB})}checkSafeUint53(r,n){"number"==typeof r&&(null==n&&(n="value not safe"),(r<0||r>=0x1fffffffffffff)&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(n,e.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,n,i){i=i?": "+i:"",r<n&&this.throwError("missing argument"+i,e.errors.MISSING_ARGUMENT,{count:r,expectedCount:n}),r>n&&this.throwError("too many arguments"+i,e.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:n})}checkNew(r,n){(r===Object||null==r)&&this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}checkAbstract(r,n){r===n?this.throwError("cannot instantiate abstract class "+JSON.stringify(n.name)+" directly; use a sub-class",e.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||null==r)&&this.throwError("missing new",e.errors.MISSING_NEW,{name:n.name})}static globalLogger(){return w||(w=new e(eD)),w}static setCensorship(r,n){if(!r&&n&&this.globalLogger().throwError("cannot permanently disable censorship",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eE){if(!r)return;this.globalLogger().throwError("error censorship permanent",e.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}eR=!!r,eE=!!n}static setLogLevel(r,n){let i=eO[n.toLowerCase()];null==i?e.globalLogger().warn("invalid log level - "+n):eU[r]=i}static from(r){return new e(r)}};eN.errors=eM,eN.levels=eV;var eq=eN.from("common/pubkey"),eW=E.SystemProgram.programId,eK=new E.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),eG=new E.PublicKey("SysvarRent111111111111111111111111111111111"),eY=new E.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),eX=new E.PublicKey("Sysvar1nstructions1111111111111111111111111");function ez(e){if(e instanceof E.PublicKey)return e;if("string"==typeof e)try{return new E.PublicKey(e)}catch(e){}return eq.throwArgumentError("invalid public key","publicKey",e)}function eH(e,r){let[n,i]=E.PublicKey.findProgramAddressSync(e,r);return{publicKey:n,nonce:i}}function ej(e,r){return{pubkey:e,isWritable:!0,isSigner:r}}function eQ(e,r){return{pubkey:e,isWritable:!1,isSigner:r}}function eZ(e,r=1,n=[]){let i=[...e];if(r<=0)return n;for(;i.length;)n.push(i.splice(0,r));return n}var eJ=eN.from("common/web3");function e$(e,r,n){return ef(this,null,function*(){let{batchRequest:i,commitment:o}=em(em({},{batchRequest:!1}),n),a=eZ(r,100),s=Array(a.length).fill([]);if(i){let r=eZ(a.map(r=>({methodName:"getMultipleAccounts",args:e._buildArgs([r.map(e=>e.toBase58())],o,"base64")})),10);s=(yield(yield Promise.all(r.map(r=>ef(this,null,function*(){return yield e._rpcBatchRequest(r)})))).flat()).map(e=>e.error?eJ.throwError("failed to get info for multiple accounts",eN.errors.RPC_ERROR,{message:e.error.message}):e.result.value.map(e=>{if(!e)return null;{let{data:r,executable:n,lamports:i,owner:o,rentEpoch:a}=e;return 2!==r.length&&"base64"!==r[1]?eJ.throwError("info must be base64 encoded",eN.errors.RPC_ERROR):{data:v.Buffer.from(r[0],"base64"),executable:n,lamports:i,owner:new E.PublicKey(o),rentEpoch:a}}}))}else try{s=yield Promise.all(a.map(r=>e.getMultipleAccountsInfo(r,o)))}catch(e){if(e instanceof Error)return eJ.throwError("failed to get info for multiple accounts",eN.errors.RPC_ERROR,{message:e.message})}return s.flat()})}function e1(e,r,n){return ef(this,null,function*(){let i=yield e$(e,r.map(e=>e.pubkey),n);return r.map((e,r)=>ep(em({},e),{accountInfo:i[r]}))})}function e0(e,r){if(e.length<1)return eJ.throwArgumentError("no instructions provided","instructions",e);if(r.length<1)return eJ.throwArgumentError("no signers provided","signers",r);let n=new E.Transaction({recentBlockhash:"11111111111111111111111111111111",feePayer:r[0]});n.add(...e);try{return v.Buffer.from(n.serialize({verifySignatures:!1})).toString("base64").length<e6}catch(e){return!1}}function e4(e,r){let n=RegExp(`"${r}":(\\d+)`,"g").exec(e);return n&&2===n.length?n[1]:eJ.throwArgumentError("simulate log fail to match key","key",r)}function e2(e){return ef(this,arguments,function*({connection:e,makeTxVersion:r,innerTransaction:n,lookupTableCache:i,computeBudgetConfig:o,payer:a}){let s,l,c=null!=i?i:{},u=[...new Set(n.map(e=>{var r;return(null!=(r=e.lookupTableAddress)?r:[]).map(e=>e.toString())}).flat())],d=[];for(let e of u)void 0===c[e]&&d.push(new E.PublicKey(e));for(let[r,n]of Object.entries((yield function(e){return ef(this,arguments,function*({connection:e,address:r}){let n=yield e$(e,[...new Set(r.map(e=>e.toString()))].map(e=>new E.PublicKey(e))),i={};for(let e=0;e<r.length;e++){let o=n[e],a=r[e];o&&(i[a.toString()]=new E.AddressLookupTableAccount({key:a,state:E.AddressLookupTableAccount.deserialize(o.data)}))}return i})}({connection:e,address:d}))))c[r]=n;let m=o?(s=[],l=[],o.microLamports&&(s.push(E.ComputeBudgetProgram.setComputeUnitPrice({microLamports:o.microLamports})),l.push(9)),o.units&&(s.push(E.ComputeBudgetProgram.setComputeUnitLimit({units:o.units})),l.push(10)),{address:{},innerTransaction:{instructions:s,signers:[],instructionTypes:l}}).innerTransaction:void 0,p=[],f=[];for(let e of n){if(0===e.instructions.length)continue;let n=[...f,e],i=m?[m,...n]:n;if(f.length<12&&(e3({makeTxVersion:r,innerIns:i,payer:a,lookupTableAddressAccount:c})||e3({makeTxVersion:r,innerIns:n,payer:a,lookupTableAddressAccount:c})))f.push(e);else{let n;if(0===f.length)throw Error(" item ins too big ");if(0===r)for(let e of(n={},[...new Set(f.map(e=>{var r;return null!=(r=e.lookupTableAddress)?r:[]}).flat().map(e=>e.toString()))]))void 0!==c[e]&&(n[e]=c[e]);if(e3({makeTxVersion:r,innerIns:m?[m,...f]:f,payer:a,lookupTableAddressAccount:c})){let e=m?[m,...f]:f;p.push({instructionTypes:e.map(e=>e.instructionTypes).flat(),instructions:e.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:n})}else p.push({instructionTypes:f.map(e=>e.instructionTypes).flat(),instructions:f.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:n});f=[e]}}if(f.length>0){let e;if(0===r)for(let r of(e={},[...new Set(f.map(e=>{var r;return null!=(r=e.lookupTableAddress)?r:[]}).flat().map(e=>e.toString()))]))void 0!==c[r]&&(e[r]=c[r]);if(e3({makeTxVersion:r,innerIns:m?[m,...f]:f,payer:a,lookupTableAddressAccount:c})){let r=m?[m,...f]:f;p.push({instructionTypes:r.map(e=>e.instructionTypes).flat(),instructions:r.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e})}else p.push({instructionTypes:f.map(e=>e.instructionTypes).flat(),instructions:f.map(e=>e.instructions).flat(),signers:f.map(e=>e.signers).flat(),lookupTableAddress:e})}return p})}function e3({makeTxVersion:e,innerIns:r,payer:n,lookupTableAddressAccount:i}){let o=r.map(e=>e.instructions).flat(),a=[...new Set(r.map(e=>e.signers).flat().map(e=>e.publicKey.toString()))].map(e=>new E.PublicKey(e)),s=r.map(e=>{var r;return null!=(r=e.lookupTableAddress)?r:[]}).flat().map(e=>e.toString()),l={},c=null!=i?i:{};for(let e of s)void 0!==c[e]&&(l[e]=c[e]);return 0===e?function({instructions:e,payer:r,lookupTableAddressAccount:n}){let i=new E.TransactionMessage({payerKey:r,recentBlockhash:E.Keypair.generate().publicKey.toString(),instructions:e}).compileToV0Message(Object.values(null!=n?n:{}));try{return v.Buffer.from(i.serialize()).toString("base64").length<e6}catch(e){return!1}}({instructions:o,payer:n,lookupTableAddressAccount:l}):function({instructions:e,payer:r,signers:n}){return e0(e,[r,...n])}({instructions:o,payer:n,signers:a})}var e6=1644,e5=((l=e5||{})[l.ROUND_DOWN=0]="ROUND_DOWN",l[l.ROUND_HALF_UP=1]="ROUND_HALF_UP",l[l.ROUND_UP=2]="ROUND_UP",l),e8=new V.default(0),e7=new V.default(1);new V.default(2),new V.default(3),new V.default(5);var e9=new V.default(10),te=new V.default(100);new V.default(1e3),new V.default(1e4);var tt=eN.from("entity/bignumber");function tr(e){return e instanceof V.default?e:"string"==typeof e?e.match(/^-?[0-9]+$/)?new V.default(e):tt.throwArgumentError("invalid BigNumberish string","value",e):"number"==typeof e?e%1?tt.throwArgumentError("BigNumberish number underflow","value",e):e>=0x1fffffffffffff||e<=-0x1fffffffffffff?tt.throwArgumentError("BigNumberish number overflow","value",e):new V.default(String(e)):"bigint"==typeof e?new V.default(e.toString()):tt.throwArgumentError("invalid BigNumberish value","value",e)}function tn(e,r){let n=e.divmod(r);return n.mod.isZero()?n.div:n.div.isNeg()?n.div.isubn(1):n.div.iaddn(1)}var ti="Solana",to={symbol:"WSOL",name:"Wrapped SOL",mint:"So11111111111111111111111111111111111111112",decimals:9,extensions:{coingeckoId:"solana"}};em({},to);var ta={WSOL:em({},to),BTC:{symbol:"BTC",name:"Bitcoin",mint:"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E",decimals:6,extensions:{coingeckoId:"bitcoin"}},ETH:{symbol:"ETH",name:"Ethereum",mint:"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk",decimals:6,extensions:{coingeckoId:"ethereum"}},USDT:{symbol:"USDT",name:"Tether",mint:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB",decimals:6,extensions:{coingeckoId:"tether"}},WUSDT:{symbol:"WUSDT",name:"Wrapped USDT",mint:"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4",decimals:6,extensions:{coingeckoId:"tether"}},USDC:{symbol:"USDC",name:"USD Coin",mint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,extensions:{coingeckoId:"usd-coin"}},WUSDC:{symbol:"WUSDC",name:"Wrapped USDC",mint:"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW",decimals:6,extensions:{coingeckoId:"usd-coin"}},YFI:{symbol:"YFI",name:"YFI",mint:"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB",decimals:6,extensions:{coingeckoId:"yearn-finance"}},LINK:{symbol:"LINK",name:"Chainlink",mint:"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG",decimals:6,extensions:{coingeckoId:"chainlink"}},XRP:{symbol:"XRP",name:"XRP",mint:"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8",decimals:6,extensions:{coingeckoId:"ripple"}},SUSHI:{symbol:"SUSHI",name:"SUSHI",mint:"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy",decimals:6,extensions:{coingeckoId:"sushi"}},ALEPH:{symbol:"ALEPH",name:"ALEPH",mint:"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K",decimals:6,extensions:{coingeckoId:"aleph"}},SXP:{symbol:"SXP",name:"SXP",mint:"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX",decimals:6,extensions:{coingeckoId:"swipe"}},HGET:{symbol:"HGET",name:"HGET",mint:"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN",decimals:6,extensions:{coingeckoId:"hedget"}},CREAM:{symbol:"CREAM",name:"CREAM",mint:"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv",decimals:6,extensions:{coingeckoId:"cream-2"}},UNI:{symbol:"UNI",name:"UNI",mint:"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw",decimals:6,extensions:{coingeckoId:"uniswap"}},SRM:{symbol:"SRM",name:"Serum",mint:"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt",decimals:6,extensions:{coingeckoId:"serum"}},FTT:{symbol:"FTT",name:"FTX Token",mint:"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3",decimals:6,extensions:{coingeckoId:"ftx-token"}},MSRM:{symbol:"MSRM",name:"MegaSerum",mint:"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L",decimals:0,extensions:{coingeckoId:"megaserum"}},TOMO:{symbol:"TOMO",name:"TOMO",mint:"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd",decimals:6,extensions:{coingeckoId:"tomochain"}},KARMA:{symbol:"KARMA",name:"KARMA",mint:"EcqExpGNFBve2i1cMJUTR4bPXj4ZoqmDD2rTkeCcaTFX",decimals:4,extensions:{coingeckoId:"karma-dao"}},LUA:{symbol:"LUA",name:"LUA",mint:"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX",decimals:6,extensions:{coingeckoId:"lua-token"}},MATH:{symbol:"MATH",name:"MATH",mint:"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza",decimals:6,extensions:{coingeckoId:"math"}},KEEP:{symbol:"KEEP",name:"KEEP",mint:"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht",decimals:6,extensions:{coingeckoId:"keep-network"}},SWAG:{symbol:"SWAG",name:"SWAG",mint:"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy",decimals:6,extensions:{coingeckoId:"swag-finance"}},FIDA:{symbol:"FIDA",name:"Bonfida",mint:"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp",decimals:6,extensions:{coingeckoId:"bonfida"}},KIN:{symbol:"KIN",name:"Kin",mint:"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6",decimals:5,extensions:{coingeckoId:"kin"}},MAPS:{symbol:"MAPS",name:"MAPS",mint:"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb",decimals:6,extensions:{coingeckoId:"maps"}},OXY:{symbol:"OXY",name:"Oxygen",mint:"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M",decimals:6,extensions:{coingeckoId:"oxygen"}},RAY:{symbol:"RAY",name:"Raydium",mint:"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R",decimals:6,extensions:{coingeckoId:"raydium"}},xCOPE:{symbol:"xCOPE",name:"xCOPE",mint:"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE",decimals:0,extensions:{coingeckoId:"cope"}},COPE:{symbol:"COPE",name:"Cope",mint:"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh",decimals:6,extensions:{coingeckoId:"cope"}},STEP:{symbol:"STEP",name:"Step Finance",mint:"StepAscQoEioFxxWGnh2sLBDFp9d8rvKz2Yp39iDpyT",decimals:9,extensions:{coingeckoId:"step-finance"}},MEDIA:{symbol:"MEDIA",name:"Media Network",mint:"ETAtLmCmsoiEEKfNrHKJ2kYy3MoABhU6NQvpSfij5tDs",decimals:6,extensions:{coingeckoId:"media-network"}},ROPE:{symbol:"ROPE",name:"Rope Token",mint:"8PMHT4swUMtBzgHnh5U564N5sjPSiUz2cjEQzFnnP1Fo",decimals:9,extensions:{coingeckoId:"rope-token"}},MER:{symbol:"MER",name:"Mercurial",mint:"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K",decimals:6,extensions:{coingeckoId:"mercurial"}},TULIP:{symbol:"TULIP",name:"Tulip Protocol",mint:"TuLipcqtGVXP9XR62wM8WWCm6a9vhLs7T1uoWBk6FDs",decimals:6,extensions:{coingeckoId:"solfarm"}},SNY:{symbol:"SNY",name:"SNY",mint:"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y",decimals:6,extensions:{coingeckoId:"synthetify-token"}},SLRS:{symbol:"SLRS",name:"SLRS",mint:"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr",decimals:6,extensions:{coingeckoId:"solrise-finance"}},WOO:{symbol:"WOO",name:"WOO Network",mint:"E5rk3nmgLUuKUiS94gg4bpWwWwyjCMtddsAXkTFLtHEy",decimals:6,extensions:{coingeckoId:"woo-network"}},BOP:{symbol:"BOP",name:"Boring Protocol",mint:"BLwTnYKqf7u4qjgZrrsKeNs2EzWkMLqVCu6j8iHyrNA3",decimals:8,extensions:{coingeckoId:"boring-protocol"}},SAMO:{symbol:"SAMO",name:"Samoyedcoin",mint:"7xKXtg2CW87d97TXJSDpbD5jBkheTqA83TZRuJosgAsU",decimals:9,extensions:{coingeckoId:"samoyedcoin"}},renBTC:{symbol:"renBTC",name:"renBTC",mint:"CDJWUqTcYTVAKXAVXoQZFes5JUFc7owSeq7eMQcDSbo5",decimals:8,extensions:{coingeckoId:"renbtc"}},renDOGE:{symbol:"renDOGE",name:"renDOGE",mint:"ArUkYE2XDKzqy77PRRGjo4wREWwqk6RXTfM9NeqzPvjU",decimals:8,extensions:{coingeckoId:"rendoge"}},LIKE:{symbol:"LIKE",name:"Only1",mint:"3bRTivrVsitbmCTGtqwp7hxXPsybkjn4XLNtPsHqa3zR",decimals:9,extensions:{coingeckoId:"only1"}},DXL:{symbol:"DXL",name:"Dexlab",mint:"GsNzxJfFn6zQdJGeYsupJWzUAm57Ba7335mfhWvFiE9Z",decimals:6,extensions:{coingeckoId:"dexlab"}},mSOL:{symbol:"mSOL",name:"Marinade staked SOL",mint:"mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So",decimals:9,extensions:{coingeckoId:"msol"}},PAI:{symbol:"PAI",name:"Parrot USD",mint:"Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS",decimals:6,extensions:{coingeckoId:"parrot-usd"}},PORT:{symbol:"PORT",name:"Port Finance",mint:"PoRTjZMPXb9T7dyU7tpLEZRQj7e6ssfAE62j2oQuc6y",decimals:6,extensions:{coingeckoId:"port-finance"}},MNGO:{symbol:"MNGO",name:"Mango",mint:"MangoCzJ36AjZyKwVj3VnYU4GTonjfVEnJmvvWaxLac",decimals:6,extensions:{coingeckoId:"mango-markets"}},CRP:{symbol:"CRP",name:"CropperFinance",mint:"DubwWZNWiNGMMeeQHPnMATNj77YZPZSAz2WVR5WjLJqz",decimals:9,extensions:{coingeckoId:"cropperfinance"}},ATLAS:{symbol:"ATLAS",name:"Star Atlas",mint:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,extensions:{coingeckoId:"star-atlas"}},POLIS:{symbol:"POLIS",name:"Star Atlas DAO",mint:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,extensions:{coingeckoId:"star-atlas-dao"}},GRAPE:{symbol:"GRAPE",name:"Grape Protocol",mint:"8upjSpvjcdpuzhfR1zriwg5NXkwDruejqNE9WNbPRtyA",decimals:6,extensions:{coingeckoId:"grape-2"}},GENE:{symbol:"GENE",name:"Genopets",mint:"GENEtH5amGSi8kHAtQoezp1XEXwZJ8vcuePYnXdKrMYz",decimals:9,extensions:{coingeckoId:"genopets"}},DFL:{symbol:"DFL",name:"DeFi Land",mint:"DFL1zNkaGPWm1BqAVqRjCZvHmwTFrEaJtbzJWgseoNJh",decimals:9,extensions:{coingeckoId:"defi-land"}},CHEEMS:{symbol:"CHEEMS",name:"Cheems",mint:"3FoUAsGDbvTD6YZ4wVKJgTB76onJUKz7GPEBNiR5b8wc",decimals:4,extensions:{coingeckoId:"cheems"}},stSOL:{symbol:"stSOL",name:"Lido Staked SOL",mint:"7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj",decimals:9,extensions:{coingeckoId:"lido-staked-sol"}},LARIX:{symbol:"LARIX",name:"Larix",mint:"Lrxqnh6ZHKbGy3dcrCED43nsoLkM1LTzU2jRfWe8qUC",decimals:6,extensions:{coingeckoId:"larix"}},RIN:{symbol:"RIN",name:"Aldrin",mint:"E5ndSkaB17Dm7CsD22dvcjfrYSDLCxFcMd6z8ddCk5wp",decimals:9,extensions:{coingeckoId:"aldrin"}},APEX:{symbol:"APEX",name:"ApeXit Finance",mint:"51tMb3zBKDiQhNwGqpgwbavaGH54mk8fXFzxTc1xnasg",decimals:9,extensions:{coingeckoId:"apexit-finance"}},MNDE:{symbol:"MNDE",name:"Marinade",mint:"MNDEFzGvMt87ueuHvVU9VcTqsAP5b3fTGPsHuuPA5ey",decimals:9,extensions:{coingeckoId:"marinade"}},LIQ:{symbol:"LIQ",name:"LIQ Protocol",mint:"4wjPQJ6PrkC4dHhYghwJzGBVP78DkBzA2U3kHoFNBuhj",decimals:6,extensions:{coingeckoId:"liq-protocol"}},WAG:{symbol:"WAG",name:"Waggle Network",mint:"5tN42n9vMi6ubp67Uy4NnmM5DMZYN8aS8GeB3bEDHr6E",decimals:9,extensions:{coingeckoId:"waggle-network"}},wLDO:{symbol:"wLDO",name:"wLDO",mint:"HZRCwxP2Vq9PCpPXooayhJ2bxTpo5xfpQrwB1svh332p",decimals:8,extensions:{}},SLIM:{symbol:"SLIM",name:"Solanium",mint:"xxxxa1sKNGwFtw2kFn8XauW9xq8hBZ5kVtcSesTT9fW",decimals:6,extensions:{coingeckoId:"solanium"}},PRT:{symbol:"PRT",name:"Parrot Protocol",mint:"PRT88RkA4Kg5z7pKnezeNH4mafTvtQdfFgpQTGRjz44",decimals:6,extensions:{coingeckoId:"parrot-protocol"}},SBR:{symbol:"SBR",name:"SBR",mint:"Saber2gLauYim4Mvftnrasomsv6NvAuncvMEZwcLpD1",decimals:6,extensions:{}},FAB:{symbol:"FAB",name:"Fabric",mint:"EdAhkbj5nF9sRM7XN7ewuW8C9XEUMs8P7cnoQ57SYE96",decimals:9,extensions:{coingeckoId:"fabric"}},ABR:{symbol:"ABR",name:"Allbridge",mint:"a11bdAAuV8iB2fu7X6AxAvDTo1QZ8FXB3kk5eecdasp",decimals:9,extensions:{coingeckoId:"allbridge"}},IVN:{symbol:"IVN",name:"Investin",mint:"iVNcrNE9BRZBC9Aqf753iZiZfbszeAVUoikgT9yvr2a",decimals:6,extensions:{coingeckoId:"investin"}},CYS:{symbol:"CYS",name:"Cyclos",mint:"BRLsMczKuaR5w9vSubF4j8HwEGGprVAyyVgS4EX7DKEg",decimals:6,extensions:{coingeckoId:"cyclos"}},FRKT:{symbol:"FRKT",name:"FRAKT Token",mint:"ErGB9xa24Szxbk1M28u2Tx8rKPqzL6BroNkkzk5rG4zj",decimals:8,extensions:{coingeckoId:"frakt-token"}},AURY:{symbol:"AURY",name:"Aurory",mint:"AURYydfxJib1ZkTir1Jn1J9ECYUtjb6rKQVmtYaixWPP",decimals:9,extensions:{coingeckoId:"aurory"}},SYP:{symbol:"SYP",name:"Sypool",mint:"FnKE9n6aGjQoNWRBZXy4RW6LZVao7qwBonUbiD7edUmZ",decimals:9,extensions:{coingeckoId:"sypool"}},WOOF:{symbol:"WOOF",name:"WOOF",mint:"9nEqaUcb16sQ3Tn1psbkWqyhPdLmfHWjKGymREjsAgTE",decimals:6,extensions:{coingeckoId:"woof-token"}},ORCA:{symbol:"ORCA",name:"Orca",mint:"orcaEKTdK7LKz57vaAYr9QeNsVEPfiu6QeMU1kektZE",decimals:6,extensions:{coingeckoId:"orca"}},SLND:{symbol:"SLND",name:"Solend",mint:"SLNDpmoWTVADgEdndyvWzroNL7zSi1dF9PC3xHGtPwp",decimals:6,extensions:{coingeckoId:"solend"}},weWETH:{symbol:"weWETH",name:"weWETH",mint:"7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs",decimals:8,extensions:{}},weUNI:{symbol:"weUNI",name:"weUNI",mint:"8FU95xFJhUUkyyCLU13HSzDLs7oC4QZdXQHL6SCeab36",decimals:8,extensions:{}},weSUSHI:{symbol:"weSUSHI",name:"weSUSHI",mint:"ChVzxWRmrTeSgwd3Ui3UumcN8KX7VK3WaD4KGeSKpypj",decimals:8,extensions:{}},GOFX:{symbol:"GOFX",name:"GooseFX",mint:"GFX1ZjR2P15tmrSwow6FjyDYcEkoFb4p4gJCpLBjaxHD",decimals:9,extensions:{coingeckoId:"goosefx"}},IN:{symbol:"IN",name:"Invictus",mint:"inL8PMVd6iiW3RCBJnr5AsrRN6nqr4BTrcNuQWQSkvY",decimals:9,extensions:{coingeckoId:"invictus"}},weDYDX:{symbol:"weDYDX",name:"weDYDX",mint:"4Hx6Bj56eGyw8EJrrheM6LBQAvVYRikYCWsALeTrwyRU",decimals:8,extensions:{}},STARS:{symbol:"STARS",name:"StarLaunch",mint:"HCgybxq5Upy8Mccihrp7EsmwwFqYZtrHrsmsKwtGXLgW",decimals:6,extensions:{coingeckoId:"starlaunch"}},weAXS:{symbol:"weAXS",name:"weAXS",mint:"HysWcbHiYY9888pHbaqhwLYZQeZrcQMXKQWRqS7zcPK5",decimals:8,extensions:{}},weSHIB:{symbol:"weSHIB",name:"weSHIB",mint:"CiKu4eHsVrc1eueVQeHn7qhXTcVu95gSQmBpX4utjL9z",decimals:8,extensions:{}},OXS:{symbol:"OXS",name:"Oxbull Solana",mint:"4TGxgCSJQx2GQk9oHZ8dC5m3JNXTYZHjXumKAW3vLnNx",decimals:9,extensions:{coingeckoId:"oxbull-solana"}},CWAR:{symbol:"CWAR",name:"Cryowar",mint:"HfYFjMKNZygfMC8LsQ8LtpPsPxEJoXJx4M6tqi75Hajo",decimals:9,extensions:{coingeckoId:"cryowar-token"}},UPS:{symbol:"UPS",name:"UPFI Network",mint:"EwJN2GqUGXXzYmoAciwuABtorHczTA5LqbukKXV1viH7",decimals:6,extensions:{coingeckoId:"upfi-network"}},weSAND:{symbol:"weSAND",name:"weSAND",mint:"49c7WuCZkQgc3M4qH8WuEUNXfgwupZf1xqWkDQ7gjRGt",decimals:8,extensions:{}},weMANA:{symbol:"weMANA",name:"weMANA",mint:"7dgHoN8wBZCc5wbnQ2C47TDnBMAxG4Q5L3KjP67z8kNi",decimals:8,extensions:{}},CAVE:{symbol:"CAVE",name:"Crypto Cavemen",mint:"4SZjjNABoqhbd4hnapbvoEPEqT8mnNkfbEoAwALf1V8t",decimals:6,extensions:{coingeckoId:"cave"}},JSOL:{symbol:"JSOL",name:"JPool",mint:"7Q2afV64in6N6SeZsAAB81TJzwDoD6zpqmHkzi9Dcavn",decimals:9,extensions:{coingeckoId:"jpool"}},APT:{symbol:"APT",name:"Apricot",mint:"APTtJyaRX5yGTsJU522N4VYWg3vCvSb65eam5GrPT5Rt",decimals:6,extensions:{coingeckoId:"apricot"}},SONAR:{symbol:"SONAR",name:"SonarWatch",mint:"sonarX4VtVkQemriJeLm6CKeW3GDMyiBnnAEMw1MRAE",decimals:9,extensions:{coingeckoId:"sonarwatch"}},SHILL:{symbol:"SHILL",name:"SHILL Token",mint:"6cVgJUqo4nmvQpbgrDZwyfd6RwWw5bfnCamS3M9N1fd",decimals:6,extensions:{coingeckoId:"shill-token"}},TTT:{symbol:"TTT",name:"TabTrader",mint:"FNFKRV3V8DtA3gVJN6UshMiLGYA8izxFwkNWmJbFjmRj",decimals:6,extensions:{coingeckoId:"tabtrader"}},BOKU:{symbol:"BOKU",name:"Boryoku Dragonz",mint:"CN7qFa5iYkHz99PTctvT4xXUHnxwjQ5MHxCuTJtPN5uS",decimals:9,extensions:{coingeckoId:"boku"}},MIMO:{symbol:"MIMO",name:"Million Monke",mint:"9TE7ebz1dsFo1uQ2T4oYAKSm39Y6fWuHrd6Uk6XaiD16",decimals:9,extensions:{coingeckoId:"million-monke"}},wbWBNB:{symbol:"wbWBNB",name:"wbWBNB",mint:"9gP2kCy3wA1ctvYWQk75guqXuHfrEomqydHLtcTCqiLa",decimals:8,extensions:{}},wePEOPLE:{symbol:"wePEOPLE",name:"wePEOPLE",mint:"CobcsUrt3p91FwvULYKorQejgsm5HoQdv5T8RUZ6PnLA",decimals:8,extensions:{}},XTAG:{symbol:"XTAG",name:"xHashtag",mint:"5gs8nf4wojB5EXgDUWNLwXpknzgV2YWDhveAeBZpVLbp",decimals:6,extensions:{coingeckoId:"xhashtag"}},KKO:{symbol:"KKO",name:"Kineko",mint:"kiNeKo77w1WBEzFFCXrTDRWGRWGP8yHvKC9rX6dqjQh",decimals:9,extensions:{coingeckoId:"kineko"}},VI:{symbol:"VI",name:"Vybit",mint:"7zBWymxbZt7PVHQzfi3i85frc1YRiQc23K7bh3gos8ZC",decimals:9,extensions:{coingeckoId:"vybit"}},SOLC:{symbol:"SOLC",name:"Solcubator",mint:"Bx1fDtvTN6NvE4kjdPHQXtmGSg582bZx9fGy4DQNMmAT",decimals:9,extensions:{coingeckoId:"solcubator"}},STR:{symbol:"STR",name:"Solster",mint:"9zoqdwEBKWEi9G5Ze8BSkdmppxGgVv1Kw4LuigDiNr9m",decimals:9,extensions:{coingeckoId:"solster"}},SPWN:{symbol:"SPWN",name:"Bitspawn",mint:"5U9QqCPhqXAJcEv9uyzFJd5zhN93vuPk1aNNkXnUfPnt",decimals:9,extensions:{coingeckoId:"bitspawn"}},ISOLA:{symbol:"ISOLA",name:"Intersola",mint:"333iHoRM2Awhf9uVZtSyTfU8AekdGrgQePZsKMFPgKmS",decimals:6,extensions:{coingeckoId:"intersola"}},RUN:{symbol:"RUN",name:"Run",mint:"6F9XriABHfWhit6zmMUYAQBSy6XK5VF1cHXuW5LDpRtC",decimals:9,extensions:{coingeckoId:"run"}},REAL:{symbol:"REAL",name:"Realy Metaverse",mint:"AD27ov5fVU2XzwsbvnFvb1JpCBaCB5dRXrczV9CqSVGb",decimals:9,extensions:{coingeckoId:"realy-metaverse"}},CRWNY:{symbol:"CRWNY",name:"CRWNY",mint:"CRWNYkqdgvhGGae9CKfNka58j6QQkaD5bLhKXvUYqnc1",decimals:6,extensions:{}},BLOCK:{symbol:"BLOCK",name:"Blockasset",mint:"NFTUkR4u7wKxy9QLaX2TGvd9oZSWoMo4jqSJqdMb7Nk",decimals:6,extensions:{coingeckoId:"blockasset"}},SOLAR:{symbol:"SOLAR",name:"Solar",mint:"2wmKXX1xsxLfrvjEPrt2UHiqj8Gbzwxvffr9qmNjsw8g",decimals:9,extensions:{coingeckoId:"solar"}},BASIS:{symbol:"BASIS",name:"basis.markets",mint:"Basis9oJw9j8cw53oMV7iqsgo6ihi9ALw4QR31rcjUJa",decimals:6,extensions:{coingeckoId:"basis-markets"}},SOLX:{symbol:"SOLX",name:"Soldex",mint:"CH74tuRLTYcxG7qNJCsV9rghfLXJCQJbsu7i52a8F1Gn",decimals:9,extensions:{coingeckoId:"soldex"}},CHICKS:{symbol:"CHICKS",name:"SolChicks Token",mint:"cxxShYRVcepDudXhe7U62QHvw8uBJoKFifmzggGKVC2",decimals:9,extensions:{coingeckoId:"solchicks-token"}},GST:{symbol:"GST",name:"GST",mint:"AFbX8oGjGpmVFywbVouvhQSRmiW2aR1mohfahi4Y2AdB",decimals:9,extensions:{coingeckoId:"gst"}},MBS:{symbol:"MBS",name:"MonkeyBall",mint:"Fm9rHUTF5v3hwMLbStjZXqNBBoZyGriQaFM6sTFz3K8A",decimals:6,extensions:{coingeckoId:"monkeyball"}},PRISM:{symbol:"PRISM",name:"Prism",mint:"PRSMNsEPqhGVCH1TtWiJqPjJyh2cKrLostPZTNy1o5x",decimals:6,extensions:{coingeckoId:"prism"}},MEAN:{symbol:"MEAN",name:"Meanfi",mint:"MEANeD3XDdUmNMsRGjASkSWdC8prLYsoRJ61pPeHctD",decimals:6,extensions:{coingeckoId:"meanfi"}},TINY:{symbol:"TINY",name:"Tiny Colony",mint:"HKfs24UEDQpHS5hUyKYkHd9q7GY5UQ679q2bokeL2whu",decimals:6,extensions:{coingeckoId:"tiny-colony"}},SHDW:{symbol:"SHDW",name:"GenesysGo Shadow",mint:"SHDWyBxihqiCj6YekG2GUr7wqKLeLAMK1gHZck9pL6y",decimals:9,extensions:{coingeckoId:"genesysgo-shadow"}},SCY:{symbol:"SCY",name:"Synchrony",mint:"SCYfrGCw8aDiqdgcpdGjV6jp4UVVQLuphxTDLNWu36f",decimals:9,extensions:{coingeckoId:"synchrony"}},SLC:{symbol:"SLC",name:"Solice",mint:"METAmTMXwdb8gYzyCPfXXFmZZw4rUsXX58PNsDg7zjL",decimals:6,extensions:{coingeckoId:"solice"}}},ts={FIDA_RAY_V4:{symbol:"FIDA-RAY",name:"FIDA-RAY V4 LP",mint:"DsBuznXRTmzvEdb36Dx3aVLVo1XmH7r1PRZUFugLPTFv",base:ta.FIDA,quote:ta.RAY,decimals:ta.FIDA.decimals,version:4},OXY_RAY_V4:{symbol:"OXY-RAY",name:"OXY-RAY V4 LP",mint:"FwaX9W7iThTZH5MFeasxdLpxTVxRcM7ZHieTCnYog8Yb",base:ta.OXY,quote:ta.RAY,decimals:ta.OXY.decimals,version:4},MAPS_RAY_V4:{symbol:"MAPS-RAY",name:"MAPS-RAY V4 LP",mint:"CcKK8srfVdTSsFGV3VLBb2YDbzF4T4NM2C3UEjC39RLP",base:ta.MAPS,quote:ta.RAY,decimals:ta.MAPS.decimals,version:4},KIN_RAY_V4:{symbol:"KIN-RAY",name:"KIN-RAY V4 LP",mint:"CHT8sft3h3gpLYbCcZ9o27mT5s3Z6VifBVbUiDvprHPW",base:ta.KIN,quote:ta.RAY,decimals:6,version:4},RAY_USDT_V4:{symbol:"RAY-USDT",name:"RAY-USDT V4 LP",mint:"C3sT1R3nsw4AVdepvLTLKr5Gvszr7jufyBWUCvy4TUvT",base:ta.RAY,quote:ta.USDT,decimals:ta.RAY.decimals,version:4},SOL_USDC_V4:{symbol:"SOL-USDC",name:"SOL-USDC V4 LP",mint:"8HoQnePLqPj4M7PUDzfw8e3Ymdwgc7NLGnaTUapubyvu",base:ta.WSOL,quote:ta.USDC,decimals:ta.WSOL.decimals,version:4},YFI_USDC_V4:{symbol:"YFI-USDC",name:"YFI-USDC V4 LP",mint:"865j7iMmRRycSYUXzJ33ZcvLiX9JHvaLidasCyUyKaRE",base:ta.YFI,quote:ta.USDC,decimals:ta.YFI.decimals,version:4},SRM_USDC_V4:{symbol:"SRM-USDC",name:"SRM-USDC V4 LP",mint:"9XnZd82j34KxNLgQfz29jGbYdxsYznTWRpvZE3SRE7JG",base:ta.SRM,quote:ta.USDC,decimals:ta.SRM.decimals,version:4},FTT_USDC_V4:{symbol:"FTT-USDC",name:"FTT-USDC V4 LP",mint:"75dCoKfUHLUuZ4qEh46ovsxfgWhB4icc3SintzWRedT9",base:ta.FTT,quote:ta.USDC,decimals:ta.FTT.decimals,version:4},BTC_USDC_V4:{symbol:"BTC-USDC",name:"BTC-USDC V4 LP",mint:"2hMdRdVWZqetQsaHG8kQjdZinEMBz75vsoWTCob1ijXu",base:ta.BTC,quote:ta.USDC,decimals:ta.BTC.decimals,version:4},SUSHI_USDC_V4:{symbol:"SUSHI-USDC",name:"SUSHI-USDC V4 LP",mint:"2QVjeR9d2PbSf8em8NE8zWd8RYHjFtucDUdDgdbDD2h2",base:ta.SUSHI,quote:ta.USDC,decimals:ta.SUSHI.decimals,version:4},TOMO_USDC_V4:{symbol:"TOMO-USDC",name:"TOMO-USDC V4 LP",mint:"CHyUpQFeW456zcr5XEh4RZiibH8Dzocs6Wbgz9aWpXnQ",base:ta.TOMO,quote:ta.USDC,decimals:ta.TOMO.decimals,version:4},LINK_USDC_V4:{symbol:"LINK-USDC",name:"LINK-USDC V4 LP",mint:"BqjoYjqKrXtfBKXeaWeAT5sYCy7wsAYf3XjgDWsHSBRs",base:ta.LINK,quote:ta.USDC,decimals:ta.LINK.decimals,version:4},ETH_USDC_V4:{symbol:"ETH-USDC",name:"ETH-USDC V4 LP",mint:"13PoKid6cZop4sj2GfoBeujnGfthUbTERdE5tpLCDLEY",base:ta.ETH,quote:ta.USDC,decimals:ta.ETH.decimals,version:4},xCOPE_USDC_V4:{symbol:"xCOPE-USDC",name:"xCOPE-USDC V4 LP",mint:"2Vyyeuyd15Gp8aH6uKE72c4hxc8TVSLibxDP9vzspQWG",base:ta.xCOPE,quote:ta.USDC,decimals:ta.xCOPE.decimals,version:4},SOL_USDT_V4:{symbol:"SOL-USDT",name:"SOL-USDT V4 LP",mint:"Epm4KfTj4DMrvqn6Bwg2Tr2N8vhQuNbuK8bESFp4k33K",base:ta.WSOL,quote:ta.USDT,decimals:ta.WSOL.decimals,version:4},YFI_USDT_V4:{symbol:"YFI-USDT",name:"YFI-USDT V4 LP",mint:"FA1i7fej1pAbQbnY8NbyYUsTrWcasTyipKreDgy1Mgku",base:ta.YFI,quote:ta.USDT,decimals:ta.YFI.decimals,version:4},SRM_USDT_V4:{symbol:"SRM-USDT",name:"SRM-USDT V4 LP",mint:"HYSAu42BFejBS77jZAZdNAWa3iVcbSRJSzp3wtqCbWwv",base:ta.SRM,quote:ta.USDT,decimals:ta.SRM.decimals,version:4},FTT_USDT_V4:{symbol:"FTT-USDT",name:"FTT-USDT V4 LP",mint:"2cTCiUnect5Lap2sk19xLby7aajNDYseFhC9Pigou11z",base:ta.FTT,quote:ta.USDT,decimals:ta.FTT.decimals,version:4},BTC_USDT_V4:{symbol:"BTC-USDT",name:"BTC-USDT V4 LP",mint:"DgGuvR9GSHimopo3Gc7gfkbKamLKrdyzWkq5yqA6LqYS",base:ta.BTC,quote:ta.USDT,decimals:ta.BTC.decimals,version:4},SUSHI_USDT_V4:{symbol:"SUSHI-USDT",name:"SUSHI-USDT V4 LP",mint:"Ba26poEYDy6P2o95AJUsewXgZ8DM9BCsmnU9hmC9i4Ki",base:ta.SUSHI,quote:ta.USDT,decimals:ta.SUSHI.decimals,version:4},TOMO_USDT_V4:{symbol:"TOMO-USDT",name:"TOMO-USDT V4 LP",mint:"D3iGro1vn6PWJXo9QAPj3dfta6dKkHHnmiiym2EfsAmi",base:ta.TOMO,quote:ta.USDT,decimals:ta.TOMO.decimals,version:4},LINK_USDT_V4:{symbol:"LINK-USDT",name:"LINK-USDT V4 LP",mint:"Dr12Sgt9gkY8WU5tRkgZf1TkVWJbvjYuPAhR3aDCwiiX",base:ta.LINK,quote:ta.USDT,decimals:ta.LINK.decimals,version:4},ETH_USDT_V4:{symbol:"ETH-USDT",name:"ETH-USDT V4 LP",mint:"nPrB78ETY8661fUgohpuVusNCZnedYCgghzRJzxWnVb",base:ta.ETH,quote:ta.USDT,decimals:ta.ETH.decimals,version:4},YFI_SRM_V4:{symbol:"YFI-SRM",name:"YFI-SRM V4 LP",mint:"EGJht91R7dKpCj8wzALkjmNdUUUcQgodqWCYweyKcRcV",base:ta.YFI,quote:ta.SRM,decimals:ta.YFI.decimals,version:4},FTT_SRM_V4:{symbol:"FTT-SRM",name:"FTT-SRM V4 LP",mint:"AsDuPg9MgPtt3jfoyctUCUgsvwqAN6RZPftqoeiPDefM",base:ta.FTT,quote:ta.SRM,decimals:ta.FTT.decimals,version:4},BTC_SRM_V4:{symbol:"BTC-SRM",name:"BTC-SRM V4 LP",mint:"AGHQxXb3GSzeiLTcLtXMS2D5GGDZxsB2fZYZxSB5weqB",base:ta.BTC,quote:ta.SRM,decimals:ta.BTC.decimals,version:4},SUSHI_SRM_V4:{symbol:"SUSHI-SRM",name:"SUSHI-SRM V4 LP",mint:"3HYhUnUdV67j1vn8fu7ExuVGy5dJozHEyWvqEstDbWwE",base:ta.SUSHI,quote:ta.SRM,decimals:ta.SUSHI.decimals,version:4},TOMO_SRM_V4:{symbol:"TOMO-SRM",name:"TOMO-SRM V4 LP",mint:"GgH9RnKrQpaMQeqmdbMvs5oo1A24hERQ9wuY2pSkeG7x",base:ta.TOMO,quote:ta.SRM,decimals:ta.TOMO.decimals,version:4},LINK_SRM_V4:{symbol:"LINK-SRM",name:"LINK-SRM V4 LP",mint:"GXN6yJv12o18skTmJXaeFXZVY1iqR18CHsmCT8VVCmDD",base:ta.LINK,quote:ta.SRM,decimals:ta.LINK.decimals,version:4},ETH_SRM_V4:{symbol:"ETH-SRM",name:"ETH-SRM V4 LP",mint:"9VoY3VERETuc2FoadMSYYizF26mJinY514ZpEzkHMtwG",base:ta.ETH,quote:ta.SRM,decimals:ta.ETH.decimals,version:4},SRM_SOL_V4:{symbol:"SRM-SOL",name:"SRM-SOL V4 LP",mint:"AKJHspCwDhABucCxNLXUSfEzb7Ny62RqFtC9uNjJi4fq",base:ta.SRM,quote:ta.WSOL,decimals:ta.SRM.decimals,version:4},STEP_USDC_V4:{symbol:"STEP-USDC",name:"STEP-USDC V4 LP",mint:"3k8BDobgihmk72jVmXYLE168bxxQUhqqyESW4dQVktqC",base:ta.STEP,quote:ta.USDC,decimals:ta.STEP.decimals,version:4},MEDIA_USDC_V4:{symbol:"MEDIA-USDC",name:"MEDIA-USDC V4 LP",mint:"A5zanvgtioZGiJMdEyaKN4XQmJsp1p7uVxaq2696REvQ",base:ta.MEDIA,quote:ta.USDC,decimals:ta.MEDIA.decimals,version:4},ROPE_USDC_V4:{symbol:"ROPE-USDC",name:"ROPE-USDC V4 LP",mint:"Cq4HyW5xia37tKejPF2XfZeXQoPYW6KfbPvxvw5eRoUE",base:ta.ROPE,quote:ta.USDC,decimals:ta.ROPE.decimals,version:4},MER_USDC_V4:{symbol:"MER-USDC",name:"MER-USDC V4 LP",mint:"3H9NxvaZoxMZZDZcbBDdWMKbrfNj7PCF5sbRwDr7SdDW",base:ta.MER,quote:ta.USDC,decimals:ta.MER.decimals,version:4},COPE_USDC_V4:{symbol:"COPE-USDC",name:"COPE-USDC V4 LP",mint:"Cz1kUvHw98imKkrqqu95GQB9h1frY8RikxPojMwWKGXf",base:ta.COPE,quote:ta.USDC,decimals:ta.COPE.decimals,version:4},ALEPH_USDC_V4:{symbol:"ALEPH-USDC",name:"ALEPH-USDC V4 LP",mint:"iUDasAP2nXm5wvTukAHEKSdSXn8vQkRtaiShs9ceGB7",base:ta.ALEPH,quote:ta.USDC,decimals:ta.ALEPH.decimals,version:4},TULIP_USDC_V4:{symbol:"TULIP-USDC",name:"TULIP-USDC V4 LP",mint:"2doeZGLJyACtaG9DCUyqMLtswesfje1hjNA11hMdj6YU",base:ta.TULIP,quote:ta.USDC,decimals:ta.TULIP.decimals,version:4},WOO_USDC_V4:{symbol:"WOO-USDC",name:"WOO-USDC V4 LP",mint:"7cu42ao8Jgrd5A3y3bNQsCxq5poyGZNmTydkGfJYQfzh",base:ta.WOO,quote:ta.USDC,decimals:ta.WOO.decimals,version:4},SNY_USDC_V4:{symbol:"SNY-USDC",name:"SNY-USDC V4 LP",mint:"G8qcfeFqxwbCqpxv5LpLWxUCd1PyMB5nWb5e5YyxLMKg",base:ta.SNY,quote:ta.USDC,decimals:ta.SNY.decimals,version:4},BOP_RAY_V4:{symbol:"BOP-RAY",name:"BOP-RAY V4 LP",mint:"9nQPYJvysyfnXhQ6nkK5V7sZG26hmDgusfdNQijRk5LD",base:ta.BOP,quote:ta.RAY,decimals:ta.BOP.decimals,version:4},SLRS_USDC_V4:{symbol:"SLRS-USDC",name:"SLRS-USDC V4 LP",mint:"2Xxbm1hdv5wPeen5ponDSMT3VqhGMTQ7mH9stNXm9shU",base:ta.SLRS,quote:ta.USDC,decimals:ta.SLRS.decimals,version:4},SAMO_RAY_V4:{symbol:"SAMO-RAY",name:"SAMO-RAY V4 LP",mint:"HwzkXyX8B45LsaHXwY8su92NoRBS5GQC32HzjQRDqPnr",base:ta.SAMO,quote:ta.RAY,decimals:ta.SAMO.decimals,version:4},renBTC_USDC_V4:{symbol:"renBTC-USDC",name:"renBTC-USDC V4 LP",mint:"CTEpsih91ZLo5gunvryLpJ3pzMjmt5jbS6AnSQrzYw7V",base:ta.renBTC,quote:ta.USDC,decimals:ta.renBTC.decimals,version:4},renDOGE_USDC_V4:{symbol:"renDOGE-USDC",name:"renDOGE-USDC V4 LP",mint:"Hb8KnZNKvRxu7pgMRWJgoMSMcepfvNiBFFDDrdf9o3wA",base:ta.renDOGE,quote:ta.USDC,decimals:ta.renDOGE.decimals,version:4},RAY_USDC_V4:{symbol:"RAY-USDC",name:"RAY-USDC V4 LP",mint:"FbC6K13MzHvN42bXrtGaWsvZY9fxrackRSZcBGfjPc7m",base:ta.RAY,quote:ta.USDC,decimals:ta.RAY.decimals,version:4},RAY_SRM_V4:{symbol:"RAY-SRM",name:"RAY-SRM V4 LP",mint:"7P5Thr9Egi2rvMmEuQkLn8x8e8Qro7u2U7yLD2tU2Hbe",base:ta.RAY,quote:ta.SRM,decimals:ta.RAY.decimals,version:4},RAY_ETH_V4:{symbol:"RAY-ETH",name:"RAY-ETH V4 LP",mint:"mjQH33MqZv5aKAbKHi8dG3g3qXeRQqq1GFcXceZkNSr",base:ta.RAY,quote:ta.ETH,decimals:ta.RAY.decimals,version:4},RAY_SOL_V4:{symbol:"RAY-SOL",name:"RAY-SOL V4 LP",mint:"89ZKE4aoyfLBe2RuV6jM3JGNhaV18Nxh8eNtjRcndBip",base:ta.RAY,quote:ta.WSOL,decimals:ta.RAY.decimals,version:4},DXL_USDC_V4:{symbol:"DXL-USDC",name:"DXL-USDC V4 LP",mint:"4HFaSvfgskipvrzT1exoVKsUZ174JyExEsA8bDfsAdY5",base:ta.DXL,quote:ta.USDC,decimals:ta.DXL.decimals,version:4},LIKE_USDC_V4:{symbol:"LIKE-USDC",name:"LIKE-USDC V4 LP",mint:"cjZmbt8sJgaoyWYUttomAu5LJYU44ZrcKTbzTSEPDVw",base:ta.LIKE,quote:ta.USDC,decimals:ta.LIKE.decimals,version:4},mSOL_USDC_V4:{symbol:"mSOL-USDC",name:"mSOL-USDC V4 LP",mint:"4xTpJ4p76bAeggXoYywpCCNKfJspbuRzZ79R7pRhbqSf",base:ta.mSOL,quote:ta.USDC,decimals:ta.mSOL.decimals,version:4},mSOL_SOL_V4:{symbol:"mSOL-SOL",name:"mSOL-SOL V4 LP",mint:"5ijRoAHVgd5T5CNtK5KDRUBZ7Bffb69nktMj5n6ks6m4",base:ta.mSOL,quote:ta.WSOL,decimals:ta.mSOL.decimals,version:4},MER_PAI_V4:{symbol:"MER-PAI",name:"MER-PAI V4 LP",mint:"DU5RT2D9EviaSmX6Ta8MZwMm85HwSEqGMRdqUiuCGfmD",base:ta.MER,quote:ta.PAI,decimals:ta.MER.decimals,version:4},PORT_USDC_V4:{symbol:"PORT-USDC",name:"PORT-USDC V4 LP",mint:"9tmNtbUCrLS15qC4tEfr5NNeqcqpZ4uiGgi2vS5CLQBS",base:ta.PORT,quote:ta.USDC,decimals:ta.PORT.decimals,version:4},MNGO_USDC_V4:{symbol:"MNGO-USDC",name:"MNGO-USDC V4 LP",mint:"DkiqCQ792n743xjWQVCbBUaVtkdiuvQeYndM53ReWnCC",base:ta.MNGO,quote:ta.USDC,decimals:ta.MNGO.decimals,version:4},ATLAS_USDC_V4:{symbol:"ATLAS-USDC",name:"ATLAS-USDC V4 LP",mint:"9shGU9f1EsxAbiR567MYZ78WUiS6ZNCYbHe53WUULQ7n",base:ta.ATLAS,quote:ta.USDC,decimals:ta.ATLAS.decimals,version:4},POLIS_USDC_V4:{symbol:"POLIS-USDC",name:"POLIS-USDC V4 LP",mint:"8MbKSBpyXs8fVneKgt71jfHrn5SWtX8n4wMLpiVfF9So",base:ta.POLIS,quote:ta.USDC,decimals:ta.POLIS.decimals,version:4},ATLAS_RAY_V4:{symbol:"ATLAS-RAY",name:"ATLAS-RAY V4 LP",mint:"418MFhkaYQtbn529wmjLLqL6uKxDz7j4eZBaV1cobkyd",base:ta.ATLAS,quote:ta.RAY,decimals:ta.ATLAS.decimals,version:4},POLIS_RAY_V4:{symbol:"POLIS-RAY",name:"POLIS-RAY V4 LP",mint:"9ysGKUH6WqzjQEUT4dxqYCUaFNVK9QFEa24pGzjFq8xg",base:ta.POLIS,quote:ta.RAY,decimals:ta.POLIS.decimals,version:4},ALEPH_RAY_V4:{symbol:"ALEPH-RAY",name:"ALEPH-RAY V4 LP",mint:"n76skjqv4LirhdLok2zJELXNLdRpYDgVJQuQFbamscy",base:ta.ALEPH,quote:ta.RAY,decimals:ta.ALEPH.decimals,version:4},TULIP_RAY_V4:{symbol:"TULIP-RAY",name:"TULIP-RAY V4 LP",mint:"3AZTviji5qduMG2s4FfWGR3SSQmNUCyx8ao6UKCPg3oJ",base:ta.TULIP,quote:ta.RAY,decimals:ta.TULIP.decimals,version:4},SLRS_RAY_V4:{symbol:"SLRS-RAY",name:"SLRS-RAY V4 LP",mint:"2pk78vsKT3jfJAcN2zbpMUnrR57SZrxHqaZYyFgp92mM",base:ta.SLRS,quote:ta.RAY,decimals:ta.SLRS.decimals,version:4},MER_RAY_V4:{symbol:"MER-RAY",name:"MER-RAY V4 LP",mint:"214hxy3AbKoaEKgqcg2aC1cP5R67cGGAyDEg5GDwC7Ub",base:ta.MER,quote:ta.RAY,decimals:ta.MER.decimals,version:4},MEDIA_RAY_V4:{symbol:"MEDIA-RAY",name:"MEDIA-RAY V4 LP",mint:"9Aseg5A1JD1yCiFFdDaNNxCiJ7XzrpZFmcEmLjXFdPaH",base:ta.MEDIA,quote:ta.RAY,decimals:ta.MEDIA.decimals,version:4},SNY_RAY_V4:{symbol:"SNY-RAY",name:"SNY-RAY V4 LP",mint:"2k4quTuuLUxrSEhFH99qcoZzvgvVEc3b5sz3xz3qstfS",base:ta.SNY,quote:ta.RAY,decimals:ta.SNY.decimals,version:4},LIKE_RAY_V4:{symbol:"LIKE-RAY",name:"LIKE-RAY V4 LP",mint:"7xqDycbFSCpUpzkYapFeyPJWPwEpV7zdWbYf2MVHTNjv",base:ta.LIKE,quote:ta.RAY,decimals:ta.LIKE.decimals,version:4},COPE_RAY_V4:{symbol:"COPE-RAY",name:"COPE-RAY V4 LP",mint:"A7GCVHA8NSsbdFscHdoNU41tL1TRKNmCH4K94CgcLK9F",base:ta.COPE,quote:ta.RAY,decimals:ta.COPE.decimals,version:4},ETH_SOL_V4:{symbol:"ETH-SOL",name:"ETH-SOL V4 LP",mint:"GKfgC86iJoMjwAtcyiLu6nWnjggqUXsDQihXkP14fDez",base:ta.ETH,quote:ta.WSOL,decimals:ta.ETH.decimals,version:4},stSOL_USDC_V4:{symbol:"stSOL-USDC",name:"stSOL-USDC V4 LP",mint:"HDUJMwYZkjUZre63xUeDhdCi8c6LgUDiBqxmP3QC3VPX",base:ta.stSOL,quote:ta.USDC,decimals:ta.stSOL.decimals,version:4},GRAPE_USDC_V4:{symbol:"GRAPE-USDC",name:"GRAPE-USDC V4 LP",mint:"A8ZYmnZ1vwxUa4wpJVUaJgegsuTEz5TKy5CiJXffvmpt",base:ta.GRAPE,quote:ta.USDC,decimals:ta.GRAPE.decimals,version:4},LARIX_USDC_V4:{symbol:"LARIX-USDC",name:"LARIX-USDC V4 LP",mint:"7yieit4YsNsZ9CAK8H5ZEMvvk35kPEHHeXwp6naoWU9V",base:ta.LARIX,quote:ta.USDC,decimals:ta.LARIX.decimals,version:4},RIN_USDC_V4:{symbol:"RIN-USDC",name:"RIN-USDC V4 LP",mint:"GfCWfrZez7BDmCSEeMERVDVUaaM2TEreyYUgb2cpuS3w",base:ta.RIN,quote:ta.USDC,decimals:ta.RIN.decimals,version:4},APEX_USDC_V4:{symbol:"APEX-USDC",name:"APEX-USDC V4 LP",mint:"444cVqYyDxJNo6FqiMb9qQWFUd7tYzFRdDuJRFrSAGnU",base:ta.APEX,quote:ta.USDC,decimals:ta.APEX.decimals,version:4},mSOL_RAY_V4:{symbol:"mSOL-RAY",name:"mSOL-RAY V4 LP",mint:"De2EHBAdkgfc72DpShqDGG42cV3iDWh8wvvZdPsiEcqP",base:ta.mSOL,quote:ta.RAY,decimals:ta.mSOL.decimals,version:4},MNDE_mSOL_V4:{symbol:"MNDE-mSOL",name:"MNDE-mSOL V4 LP",mint:"4bh8XCzTHSbqbWN8o1Jn4ueBdz1LvJFoEasN6K6CQ8Ny",base:ta.MNDE,quote:ta.mSOL,decimals:ta.MNDE.decimals,version:4},LARIX_RAY_V4:{symbol:"LARIX-RAY",name:"LARIX-RAY V4 LP",mint:"ZRDfSLgWGeaYSmhdPvFNKQQhDcYdZQaue2N8YDmHX4q",base:ta.LARIX,quote:ta.RAY,decimals:ta.LARIX.decimals,version:4},LIQ_USDC_V4:{symbol:"LIQ-USDC",name:"LIQ-USDC V4 LP",mint:"GWpD3eTfhJB5KDCcnE85dBQrjAk2CsrgDF9b52R9CrjV",base:ta.LIQ,quote:ta.USDC,decimals:ta.LIQ.decimals,version:4},WAG_USDC_V4:{symbol:"WAG-USDC",name:"WAG-USDC V4 LP",mint:"4yykyPugitUVRewNPXXCviRvxGfsfsRMoP32z3b6FmUC",base:ta.WAG,quote:ta.USDC,decimals:ta.WAG.decimals,version:4},ETH_mSOL_V4:{symbol:"ETH-mSOL",name:"ETH-mSOL V4 LP",mint:"HYv3grQfi8QbV7nG7EFgNK1aJSrsJ7HynXJKJVPLL2Uh",base:ta.ETH,quote:ta.mSOL,decimals:ta.ETH.decimals,version:4},mSOL_USDT_V4:{symbol:"mSOL-USDT",name:"mSOL-USDT V4 LP",mint:"69NCmEW9mGpiWLjAcAWHq51k4ionJZmzgRfRT3wQaCCf",base:ta.mSOL,quote:ta.USDT,decimals:ta.mSOL.decimals,version:4},BTC_mSOL_V4:{symbol:"BTC-mSOL",name:"BTC-mSOL V4 LP",mint:"92bcERNtUmuaJ6mwLSxYHZYSph37jdKxRdoYNxpcYNPp",base:ta.BTC,quote:ta.mSOL,decimals:ta.BTC.decimals,version:4},SLIM_SOL_V4:{symbol:"SLIM-SOL",name:"SLIM-SOL V4 LP",mint:"9X4EK8E59VAVi6ChnNvvd39m6Yg9RtkBbAPq1mDVJT57",base:ta.SLIM,quote:ta.WSOL,decimals:ta.SLIM.decimals,version:4},AURY_USDC_V4:{symbol:"AURY-USDC",name:"AURY-USDC V4 LP",mint:"Gub5dvTy4nzP82qpmpNkBxmRqjtqRddBTBqHSdNcf2oS",base:ta.AURY,quote:ta.USDC,decimals:ta.AURY.decimals,version:4},PRT_SOL_V4:{symbol:"PRT-SOL",name:"PRT-SOL V4 LP",mint:"EcJ8Wgwt1AzSPiDpVr6aaSur8TKAsNTPmmzRACeqT68Z",base:ta.PRT,quote:ta.WSOL,decimals:ta.PRT.decimals,version:4},LIQ_RAY_V4:{symbol:"LIQ-RAY",name:"LIQ-RAY V4 LP",mint:"49YUsDrThJosHSagCn1F59Uc9NRxbr9thVrZikUnQDXy",base:ta.LIQ,quote:ta.RAY,decimals:ta.LIQ.decimals,version:4},SYP_SOL_V4:{symbol:"SYP-SOL",name:"SYP-SOL V4 LP",mint:"KHV6dfj2bDntzJ9z1S26cDfqWfUZdJRFmteLR6LxHwW",base:ta.SYP,quote:ta.WSOL,decimals:ta.SYP.decimals,version:4},SYP_RAY_V4:{symbol:"SYP-RAY",name:"SYP-RAY V4 LP",mint:"FT2KZqxxM8F2h9pZtTF4PyjK88bM4YbuBzd7ZPwQ5wMB",base:ta.SYP,quote:ta.RAY,decimals:ta.SYP.decimals,version:4},SYP_USDC_V4:{symbol:"SYP-USDC",name:"SYP-USDC V4 LP",mint:"2xJGuLAivAR1WkARRA6zP1v4jaA9jV2Qis8JfMNvrVyZ",base:ta.SYP,quote:ta.USDC,decimals:ta.SYP.decimals,version:4},FAB_USDC_V4:{symbol:"FAB-USDC",name:"FAB-USDC V4 LP",mint:"5rTCvZq6BcApsC3VV1EEUuTJfaVd8uYhcGjwTy1By6P8",base:ta.FAB,quote:ta.USDC,decimals:ta.FAB.decimals,version:4},WOOF_RAY_V4:{symbol:"WOOF-RAY",name:"WOOF-RAY V4 LP",mint:"H2FAnazDaGFutcmnrwDxhmdncR1Bd7GG4mhPCSUiamDX",base:ta.WOOF,quote:ta.RAY,decimals:ta.WOOF.decimals,version:4},WOOF_USDC_V4:{symbol:"WOOF-USDC",name:"WOOF-USDC V4 LP",mint:"EFSu5TMc1ijRevaYCxUkS7uGvbhsymDHEaTK3UVdNE3q",base:ta.WOOF,quote:ta.USDC,decimals:ta.WOOF.decimals,version:4},SLND_USDC_V4:{symbol:"SLND-USDC",name:"SLND-USDC V4 LP",mint:"EunE9uDh2cGsyJcsGuGKc6wte7kBn8iye2gzC4w2ePHn",base:ta.SLND,quote:ta.USDC,decimals:ta.SLND.decimals,version:4},FRKT_SOL_V4:{symbol:"FRKT-SOL",name:"FRKT-SOL V4 LP",mint:"HYUKXgpjaxMXHttyrFYtv3z2rdhZ1U9QDH8zEc8BooQC",base:ta.FRKT,quote:ta.WSOL,decimals:ta.FRKT.decimals,version:4},weWETH_SOL_V4:{symbol:"weWETH-SOL",name:"weWETH-SOL V4 LP",mint:"3hbozt2Por7bcrGod8N7kEeJNMocFFjCJrQR16TQGBrE",base:ta.weWETH,quote:ta.WSOL,decimals:ta.weWETH.decimals,version:4},weWETH_USDC_V4:{symbol:"weWETH-USDC",name:"weWETH-USDC V4 LP",mint:"3529SBnMCDW3S3xQ52aABbRHo7PcHvpQA4no8J12L5eK",base:ta.weWETH,quote:ta.USDC,decimals:ta.weWETH.decimals,version:4},weUNI_USDC_V4:{symbol:"weUNI-USDC",name:"weUNI-USDC V4 LP",mint:"EEC4QnT41py39QaYnzQnoYQEtDUDNa6Se8SBDgfPSN2a",base:ta.weUNI,quote:ta.USDC,decimals:ta.weUNI.decimals,version:4},weSUSHI_USDC_V4:{symbol:"weSUSHI-USDC",name:"weSUSHI-USDC V4 LP",mint:"3wVrtQZsiDNp5yTPyfEzQHPU6iuJoMmpnWg6CTt4V8sR",base:ta.weSUSHI,quote:ta.USDC,decimals:ta.weSUSHI.decimals,version:4},CYS_USDC_V4:{symbol:"CYS-USDC",name:"CYS-USDC V4 LP",mint:"GfV3QDzzdVUwCNSdfn6PjhmyJvjw18tn51RingWZYwk3",base:ta.CYS,quote:ta.USDC,decimals:ta.CYS.decimals,version:4},SAMO_USDC_V4:{symbol:"SAMO-USDC",name:"SAMO-USDC V4 LP",mint:"B2PjGEP3vPf1999fUD14pYdxvSDRVBk43hxB2rgthwEY",base:ta.SAMO,quote:ta.USDC,decimals:ta.SAMO.decimals,version:4},ABR_USDC_V4:{symbol:"ABR-USDC",name:"ABR-USDC V4 LP",mint:"ECHfxkf5zjjZFTX95QfFahNyzG7feyEKcfTdjsdrMSGU",base:ta.ABR,quote:ta.USDC,decimals:ta.ABR.decimals,version:4},IN_USDC_V4:{symbol:"IN-USDC",name:"IN-USDC V4 LP",mint:"GbmJtVgg9fRmmmjKUYGMZeSt8wZ47cDDXasg5Y3iF4kz",base:ta.IN,quote:ta.USDC,decimals:ta.IN.decimals,version:4},weDYDX_USDC_V4:{symbol:"weDYDX-USDC",name:"weDYDX-USDC V4 LP",mint:"BjkkMZnnzmgLqzGErzDbkk15ozv48iVKQuunpeM2Hqnk",base:ta.weDYDX,quote:ta.USDC,decimals:ta.weDYDX.decimals,version:4},STARS_USDC_V4:{symbol:"STARS-USDC",name:"STARS-USDC V4 LP",mint:"FJ68q7NChhETcGVdinMbM2FF1Cy79dpmUi6HC83K55Hv",base:ta.STARS,quote:ta.USDC,decimals:ta.STARS.decimals,version:4},weAXS_USDC_V4:{symbol:"weAXS-USDC",name:"weAXS-USDC V4 LP",mint:"6PSoJQ7myQ1BJtbQC6oiWR8HSecQGyoWsPYTZRJo2ci3",base:ta.weAXS,quote:ta.USDC,decimals:ta.weAXS.decimals,version:4},weSHIB_USDC_V4:{symbol:"weSHIB-USDC",name:"weSHIB-USDC V4 LP",mint:"AcjX5pmTMGSgxkdxc3r82r6WMKBvS6eQXXFz5ck5KKUa",base:ta.weSHIB,quote:ta.USDC,decimals:ta.weSHIB.decimals,version:4},SBR_USDC_V4:{symbol:"SBR-USDC",name:"SBR-USDC V4 LP",mint:"9FC8xTFRbgTpuZZYAYnZLxgnQ8r7FwfSBM1SWvGwgF7s",base:ta.SBR,quote:ta.USDC,decimals:ta.SBR.decimals,version:4},OXS_USDC_V4:{symbol:"OXS-USDC",name:"OXS-USDC V4 LP",mint:"et9pdjWm97rbmsJoN183GkFV5qzTGru79GE1Zhe7NTU",base:ta.OXS,quote:ta.USDC,decimals:ta.OXS.decimals,version:4},CWAR_USDC_V4:{symbol:"CWAR-USDC",name:"CWAR-USDC V4 LP",mint:"HjR23bxn2gtRDB2P1Tm3DLepAPPZgazsWJpLG9wqjnYR",base:ta.CWAR,quote:ta.USDC,decimals:ta.CWAR.decimals,version:4},UPS_USDC_V4:{symbol:"UPS-USDC",name:"UPS-USDC V4 LP",mint:"9hSUZdREEsbaYaKY4FouvXr7xyAqtpdHRDoYCb6Mb28a",base:ta.UPS,quote:ta.USDC,decimals:ta.UPS.decimals,version:4},weSAND_USDC_V4:{symbol:"weSAND-USDC",name:"weSAND-USDC V4 LP",mint:"3dADrQa7utyiCsaFeVk9r7oebW1WheowhKo5soBYKBVT",base:ta.weSAND,quote:ta.USDC,decimals:ta.weSAND.decimals,version:4},weMANA_USDC_V4:{symbol:"weMANA-USDC",name:"weMANA-USDC V4 LP",mint:"HpUkVAPRJ5zNRuJ1ZwMXEhbMHL3gSuPb2QuSER9YUd3a",base:ta.weMANA,quote:ta.USDC,decimals:ta.weMANA.decimals,version:4},CAVE_USDC_V4:{symbol:"CAVE-USDC",name:"CAVE-USDC V4 LP",mint:"5Gba1k3fU7Vh7UtAiBmie9vhQNNq1JfEwgn1DPGZ7NKQ",base:ta.CAVE,quote:ta.USDC,decimals:ta.CAVE.decimals,version:4},GENE_USDC_V4:{symbol:"GENE-USDC",name:"GENE-USDC V4 LP",mint:"7GKvfHEXenNiWYbJBKae89mdaMPr5gGMYwZmyC8gBNVG",base:ta.GENE,quote:ta.USDC,decimals:ta.GENE.decimals,version:4},GENE_RAY_V4:{symbol:"GENE-RAY",name:"GENE-RAY V4 LP",mint:"3HzXnc1qZ8mGqun18Ck3KA616XnZNqF1RWbgYE2nGRMA",base:ta.GENE,quote:ta.RAY,decimals:ta.GENE.decimals,version:4},APT_USDC_V4:{symbol:"APT-USDC",name:"APT-USDC V4 LP",mint:"Hk8mDAJFq4E9kF3DtNgPFwzbo5kbeiusNFJgWmo3LoQ5",base:ta.APT,quote:ta.USDC,decimals:ta.APT.decimals,version:4},GOFX_USDC_V4:{symbol:"GOFX-USDC",name:"GOFX-USDC V4 LP",mint:"4svqAwrLPGRDCQuuieYTmtLXF75wiahjeK2rEN9tY1YL",base:ta.GOFX,quote:ta.USDC,decimals:ta.GOFX.decimals,version:4},SONAR_USDC_V4:{symbol:"SONAR-USDC",name:"SONAR-USDC V4 LP",mint:"2tAcfqJ1YYjpGLqwh76kyNt9VaNFDd4fJySfH6SmWfKt",base:ta.SONAR,quote:ta.USDC,decimals:ta.SONAR.decimals,version:4},JSOL_SOL_V4:{symbol:"JSOL-SOL",name:"JSOL-SOL V4 LP",mint:"61z37rpHsU6d3Fq5sUjJ85K6tXGzkoYKDAG3kPJQNDRo",base:ta.JSOL,quote:ta.WSOL,decimals:ta.JSOL.decimals,version:4},JSOL_USDC_V4:{symbol:"JSOL-USDC",name:"JSOL-USDC V4 LP",mint:"3JZqf2VPNxj1kDZQsfzC7myM6spsGQbGuFv1gVfdYosN",base:ta.JSOL,quote:ta.USDC,decimals:ta.JSOL.decimals,version:4},SHILL_USDC_V4:{symbol:"SHILL-USDC",name:"SHILL-USDC V4 LP",mint:"CnUhYBtQEbSBZ76bgxAouVCTCb8rofZzwerVF5z5LREJ",base:ta.SHILL,quote:ta.USDC,decimals:ta.SHILL.decimals,version:4},DFL_USDC_V4:{symbol:"DFL-USDC",name:"DFL-USDC V4 LP",mint:"Fffijd6UVJdQeLVXhenS8YcsnMUdWJqpbBeH42LFkXgS",base:ta.DFL,quote:ta.USDC,decimals:ta.DFL.decimals,version:4},BOKU_USDC_V4:{symbol:"BOKU-USDC",name:"BOKU-USDC V4 LP",mint:"8jjQn5Yagb6Nm2WGAxPW1bcGqrTWpg5adf6QukXEarcP",base:ta.BOKU,quote:ta.USDC,decimals:ta.BOKU.decimals,version:4},MIMO_SOL_V4:{symbol:"MIMO-SOL",name:"MIMO-SOL V4 LP",mint:"HUJ1opSk8AiPfDT47r7n4hTiK2EXgrR3Msy7T8q1BywS",base:ta.MIMO,quote:ta.WSOL,decimals:ta.MIMO.decimals,version:4},wbWBNB_USDC_V4:{symbol:"wbWBNB-USDC",name:"wbWBNB-USDC V4 LP",mint:"FEsEfEJJSfiMQcshUgZ5UigfytfGRQ3z5puyF6DXDp9C",base:ta.wbWBNB,quote:ta.USDC,decimals:ta.wbWBNB.decimals,version:4},wePEOPLE_USDC_V4:{symbol:"wePEOPLE-USDC",name:"wePEOPLE-USDC V4 LP",mint:"3e5ZCKi4etorpV4pv1fSckP5iJD67xcUkx3RtFCZhbzD",base:ta.wePEOPLE,quote:ta.USDC,decimals:ta.wePEOPLE.decimals,version:4},ISOLA_USDT_V4:{symbol:"ISOLA-USDT",name:"ISOLA-USDT V4 LP",mint:"H8s1wQsZpRK61pyLF3XwyQc6E8vNUnwRDhy3TBDCDENQ",base:ta.ISOLA,quote:ta.USDT,decimals:ta.ISOLA.decimals,version:4},SPWN_USDC_V4:{symbol:"SPWN-USDC",name:"SPWN-USDC V4 LP",mint:"B5uyCAQcX6nAjZypLgiivbEKabSptgUb8JK9tkaSnqdW",base:ta.SPWN,quote:ta.USDC,decimals:ta.SPWN.decimals,version:4},STR_USDC_V4:{symbol:"STR-USDC",name:"STR-USDC V4 LP",mint:"8uDVKmVwNmbXHDB7rNKqtpcT9VAsFHTJ5pPYxjyoBbNg",base:ta.STR,quote:ta.USDC,decimals:ta.STR.decimals,version:4},SOLC_USDT_V4:{symbol:"SOLC-USDT",name:"SOLC-USDT V4 LP",mint:"2g9JzTWycLzK4KEBBHsponAtZRee2ii63bRrJ8tefEyt",base:ta.SOLC,quote:ta.USDT,decimals:ta.SOLC.decimals,version:4},VI_USDC_V4:{symbol:"VI-USDC",name:"VI-USDC V4 LP",mint:"3MwHyHCRfVqtH3ABFtdKXdY9dwemr9GGxQFaBkeq6NjY",base:ta.VI,quote:ta.USDC,decimals:ta.VI.decimals,version:4},KKO_USDC_V4:{symbol:"KKO-USDC",name:"KKO-USDC V4 LP",mint:"7xr1Doc1NiMWbUg99YVFqQSLfYXNzo6YvacXUsSgBMNW",base:ta.KKO,quote:ta.USDC,decimals:ta.KKO.decimals,version:4},XTAG_USDC_V4:{symbol:"XTAG-USDC",name:"XTAG-USDC V4 LP",mint:"GCEQbLg4ik5YJ4CMcbtuVqEc4sjLdSGy34rFk1CtGjdg",base:ta.XTAG,quote:ta.USDC,decimals:ta.XTAG.decimals,version:4},TTT_USDC_V4:{symbol:"TTT-USDC",name:"TTT-USDC V4 LP",mint:"84fmrerHGohoRf4iLPDQ1KG4CjSjCRksYWGzjWfCRM8a",base:ta.TTT,quote:ta.USDC,decimals:ta.TTT.decimals,version:4},RUN_USDC_V4:{symbol:"RUN-USDC",name:"RUN-USDC V4 LP",mint:"CjTLvvKSQdEujcSzeZRYgk4w1DpuXBbMppLHaxZyz11Y",base:ta.RUN,quote:ta.USDC,decimals:ta.RUN.decimals,version:4},CRWNY_USDC_V4:{symbol:"CRWNY-USDC",name:"CRWNY-USDC V4 LP",mint:"H3D9Gyi4frRLW6bS9vBthDVDJyzyRJ6XhhpP6PJGWaDC",base:ta.CRWNY,quote:ta.USDC,decimals:ta.CRWNY.decimals,version:4},CRWNY_RAY_V4:{symbol:"CRWNY-RAY",name:"CRWNY-RAY V4 LP",mint:"5Cz9wGStNjiUg81q8t6sJJeckuT2C14CYSfyQbtYirSX",base:ta.CRWNY,quote:ta.RAY,decimals:ta.CRWNY.decimals,version:4},BLOCK_USDC_V4:{symbol:"BLOCK-USDC",name:"BLOCK-USDC V4 LP",mint:"8i44Y23GkkwDYZ5iSkVEqmrXUfwNmwo9grguTDWKM8wg",base:ta.BLOCK,quote:ta.USDC,decimals:ta.BLOCK.decimals,version:4},REAL_USDC_V4:{symbol:"REAL-USDC",name:"REAL-USDC V4 LP",mint:"EN43tp8xdkcM8RYSJ4msFHMPTJRXKhUteVYBDJLwTvr3",base:ta.REAL,quote:ta.USDC,decimals:ta.REAL.decimals,version:4},FRKT_USDC_V4:{symbol:"FRKT-USDC",name:"FRKT-USDC V4 LP",mint:"7MgzqVTGeA4wENme81QPTrPy45NJMKVL9XGwxmNT87cG",base:ta.FRKT,quote:ta.USDC,decimals:ta.FRKT.decimals,version:4},MBS_USDC_V4:{symbol:"MBS-USDC",name:"MBS-USDC V4 LP",mint:"BAgSWaPZpsQKyZJdvB5KyvmCNj6hzczzentt5FhDCVHb",base:ta.MBS,quote:ta.USDC,decimals:ta.MBS.decimals,version:4},PRISM_USDC_V4:{symbol:"PRISM-USDC",name:"PRISM-USDC V4 LP",mint:"3baYkTcudvSFMe25UpZcBfdp4FA5kL2E4pfaeJ8AiYJB",base:ta.PRISM,quote:ta.USDC,decimals:ta.PRISM.decimals,version:4},CHICKS_USDC_V4:{symbol:"CHICKS-USDC",name:"CHICKS-USDC V4 LP",mint:"CPzmcw81a6PDasSXhVLfDRKuTJXZPUqocS9VFf5zCFhs",base:ta.CHICKS,quote:ta.USDC,decimals:ta.CHICKS.decimals,version:4},MEAN_RAY_V4:{symbol:"MEAN-RAY",name:"MEAN-RAY V4 LP",mint:"H9wUyrxpAErmdNVPitpHSXgwoomoh91ggJKPWtQQoCn1",base:ta.MEAN,quote:ta.RAY,decimals:ta.MEAN.decimals,version:4},TINY_USDC_V4:{symbol:"TINY-USDC",name:"TINY-USDC V4 LP",mint:"Hho6ZzRDj49L4z6zog8nQZFaxMSz6FX6wNzVpMeAMen",base:ta.TINY,quote:ta.USDC,decimals:ta.TINY.decimals,version:4},SCY_USDC_V4:{symbol:"SCY-USDC",name:"SCY-USDC V4 LP",mint:"EcYk7t6Vw59HDnY2u6H1KDPkk8juMeA1NpGpHiGk1LDf",base:ta.SCY,quote:ta.USDC,decimals:ta.SCY.decimals,version:4}};em({},to),eN.from("token/util");var tl=class{constructor(e,r="UNKNOWN",n="UNKNOWN"){this.decimals=e,this.symbol=r,this.name=n}};tl.SOL=new tl(9,"SOL",ti);var tc=tl,tu=class extends tc{constructor(e,r,n,i="UNKNOWN",o="UNKNOWN"){super(n,i,o),this.programId=ez(e),this.mint=ez(r)}equals(e){return this===e||this.mint.equals(e.mint)}};function td(e,r){return e instanceof tu&&r instanceof tu?e.equals(r):!(e instanceof tu)&&!(r instanceof tu)&&e===r}tu.WSOL=new tu(R,to.mint,to.decimals,"SOL",ti);var tm=F.default,tp=eN.from("entity/fraction"),tf=tm(B.default),tg=tm(M.default),th={0:tg.ROUND_DOWN,1:tg.ROUND_HALF_UP,2:tg.ROUND_UP},ty={0:tf.roundDown,1:tf.roundHalfUp,2:tf.roundUp},tb=class e{constructor(e,r=e7){this.numerator=tr(e),this.denominator=tr(r)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new e(this.denominator,this.numerator)}add(r){let n=r instanceof e?r:new e(tr(r));return this.denominator.eq(n.denominator)?new e(this.numerator.add(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).add(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}sub(r){let n=r instanceof e?r:new e(tr(r));return this.denominator.eq(n.denominator)?new e(this.numerator.sub(n.numerator),this.denominator):new e(this.numerator.mul(n.denominator).sub(n.numerator.mul(this.denominator)),this.denominator.mul(n.denominator))}mul(r){let n=r instanceof e?r:new e(tr(r));return new e(this.numerator.mul(n.numerator),this.denominator.mul(n.denominator))}div(r){let n=r instanceof e?r:new e(tr(r));return new e(this.numerator.mul(n.denominator),this.denominator.mul(n.numerator))}toSignificant(e,r={groupSeparator:""},n=1){tp.assert(Number.isInteger(e),`${e} is not an integer.`),tp.assert(e>0,`${e} is not positive.`),tg.set({precision:e+1,rounding:th[n]});let i=new tg(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),r)}toFixed(e,r={groupSeparator:""},n=1){return tp.assert(Number.isInteger(e),`${e} is not an integer.`),tp.assert(e>=0,`${e} is negative.`),tf.DP=e,tf.RM=ty[n],new tf(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,r)}},tS=eN.from("entity/amount"),tA=tm(B.default),tw=class e extends tb{constructor(e,r,n=!0){let i=new V.default(0);const o=e9.pow(new V.default(e.decimals));if(n)i=tr(r);else{let n=new V.default(0),a=new V.default(0);if("string"==typeof r||"number"==typeof r||"bigint"==typeof r){const[i,o]=function(e,r){let n="0",i="0";if(e.includes(".")){let o=e.split(".");if(2!==o.length)return tS.throwArgumentError("invalid number string","num",e);[n,i]=o,i=i.padEnd(r,"0")}else n=e;return[n,i.slice(0,r)||i]}(r.toString(),e.decimals);n=tr(i),a=tr(o)}i=(n=n.mul(o)).add(a)}super(i,o),this.currency=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return tS.assert(td(this.currency,e.currency),"gt currency not equals"),this.raw.gt(e.raw)}lt(e){return tS.assert(td(this.currency,e.currency),"lt currency not equals"),this.raw.lt(e.raw)}add(r){return tS.assert(td(this.currency,r.currency),"add currency not equals"),new e(this.currency,this.raw.add(r.raw))}sub(r){return tS.assert(td(this.currency,r.currency),"sub currency not equals"),new e(this.currency,this.raw.sub(r.raw))}toSignificant(e=this.currency.decimals,r,n=0){return super.toSignificant(e,r,n)}toFixed(e=this.currency.decimals,r,n=0){return tS.assert(e<=this.currency.decimals,"decimals overflow"),super.toFixed(e,r,n)}toExact(e={groupSeparator:""}){return tA.DP=this.currency.decimals,new tA(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},tT=class e extends tw{constructor(e,r,n=!0){super(e,r,n),this.token=e}add(r){return tS.assert(td(this.token,r.token),"add token not equals"),new e(this.token,this.raw.add(r.raw))}subtract(r){return tS.assert(td(this.token,r.token),"sub token not equals"),new e(this.token,this.raw.sub(r.raw))}},tk=new tb(te),tC=class extends tb{toSignificant(e=5,r,n){return this.mul(tk).toSignificant(e,r,n)}toFixed(e=2,r,n){return this.mul(tk).toFixed(e,r,n)}},tI=eN.from("entity/price"),tv=class e extends tb{constructor(e,r,n,i){var o,a;super(i,r),this.baseCurrency=e,this.quoteCurrency=n,this.scalar=new tb((o=e.decimals,e9.pow(tr(o))),(a=n.decimals,e9.pow(tr(a))))}get raw(){return new tb(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new e(this.quoteCurrency,this.numerator,this.baseCurrency,this.denominator)}mul(r){tI.assert(td(this.quoteCurrency,r.baseCurrency),"mul currency not equals");let n=super.mul(r);return new e(this.baseCurrency,n.denominator,r.quoteCurrency,n.numerator)}toSignificant(e=this.quoteCurrency.decimals,r,n){return this.adjusted.toSignificant(e,r,n)}toFixed(e=this.quoteCurrency.decimals,r,n){return this.adjusted.toFixed(e,r,n)}},tP=P.Layout,tL=P.Structure;P.Union,P.BitStructure;var t_=P.UInt;P.Blob,P.greedy;var tx=P.u8,tD=P.u16;P.u24;var tE=P.u32;P.u40,P.u48,P.nu64,P.u16be,P.u24be,P.u32be,P.u40be,P.u48be,P.nu64be,P.s8,P.s16,P.s24;var tR=P.s32;P.s40,P.s48,P.ns64,P.s16be,P.s24be,P.s32be,P.s40be,P.s48be,P.ns64be,P.f32,P.f32be,P.f64,P.f64be;var tO=P.seq;P.union,P.unionLayoutDiscriminator;var tU=P.blob;P.cstr,P.utf8;var tB=P.bits;P.offset;var tV=class extends tP{constructor(e,r,n){super(e,n),this.blob=tU(e),this.signed=r}decode(e,r=0){let n=new V.default(this.blob.decode(e,r),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,r,n=0){return"number"==typeof e&&(e=new V.default(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(v.Buffer,"le",this.span),r,n)}},tM=class extends tP{constructor(e){super(8,e),this._lower=tB(tE(),!1),this._upper=tB(tE(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,r=0){let n=this._lower.decode(e,r),i=this._upper.decode(e,r+this._lower.span);return em(em({},n),i)}encode(e,r,n=0){return this._lower.encode(e,r,n)+this._upper.encode(e,r,n+this._lower.span)}};function tF(e){return new t_(1,e)}function tN(e){return new t_(4,e)}function tq(e){return new tV(8,!1,e)}function tW(e){return new tV(16,!1,e)}function tK(e){return new tV(8,!0,e)}var tG=class extends tP{constructor(e,r,n,i){super(e.span,i),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}};function tY(e){return new tG(tU(32),e=>new E.PublicKey(e),e=>e.toBuffer(),e)}function tX(e){return new tG(tx(),tz,tH,e)}function tz(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function tH(e){return+!!e}var tj=class extends tL{decode(e,r){return super.decode(e,r)}};function tQ(e,r,n){return new tj(e,r,n)}function tZ(e,r,n){let i;return tO(e,"number"==typeof r?r:(0,V.isBN)(r)?r.toNumber():new Proxy(r,{get(e,r){if(!i){let r=Reflect.get(e,"count");Reflect.set(e,"count",i=(0,V.isBN)(r)?r.toNumber():r)}return Reflect.get(e,r)},set:(e,r,n)=>("count"===r&&(i=n),Reflect.set(e,r,n))}),n)}tQ([tN("mintAuthorityOption"),tY("mintAuthority"),tq("supply"),tF("decimals"),tF("isInitialized"),tN("freezeAuthorityOption"),tY("freezeAuthority")]);var tJ=tQ([tY("mint"),tY("owner"),tq("amount"),tN("delegateOption"),tY("delegate"),tF("state"),tN("isNativeOption"),tq("isNative"),tq("delegatedAmount"),tN("closeAuthorityOption"),tY("closeAuthority")]);function t$(e,r,n){return eH([e.toBuffer(),n.toBuffer(),r.toBuffer()],new E.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var t1=class{static getAssociatedTokenAccount({mint:e,owner:r,programId:n}){return t$(r,e,n).publicKey}static makeCreateAssociatedTokenAccountInstruction({programId:e,mint:r,associatedAccount:n,owner:i,payer:o,instructionsType:a}){return a.push(2),function(e,r,n,i,o=R,a=U){return function(e,r,n,i,o,a=R,s=U){let l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:E.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new E.TransactionInstruction({keys:l,programId:s,data:o})}(e,r,n,i,v.Buffer.alloc(0),o,a)}(o,n,i,r,e)}static makeCreateWrappedNativeAccountInstructions(e){return ef(this,arguments,function*({connection:e,owner:r,payer:n,amount:i,commitment:o}){let a=[],s=[],l=yield e.getMinimumBalanceForRentExemption(tJ.span,o),c=tr(i).add(new V.default(l)),u=t3({fromPublicKey:n,programId:R});return a.push(E.SystemProgram.createAccountWithSeed({fromPubkey:n,basePubkey:n,seed:u.seed,newAccountPubkey:u.publicKey,lamports:c.toNumber(),space:tJ.span,programId:R})),s.push(0),a.push(this.makeInitAccountInstruction({programId:R,mint:ez(to.mint),tokenAccount:u.publicKey,owner:r,instructionTypes:s})),{address:{newAccount:u.publicKey},innerTransaction:{instructions:a,signers:[],lookupTableAddress:[],instructionTypes:s}}})}static insertCreateWrappedNativeAccount(e){return ef(this,arguments,function*({connection:e,owner:r,payer:n,amount:i,instructions:o,instructionsType:a,signers:s,commitment:l}){let c=yield this.makeCreateWrappedNativeAccountInstructions({connection:e,owner:r,payer:n,amount:i,commitment:l});return o.push(...c.innerTransaction.instructions),s.push(...c.innerTransaction.signers),a.push(...c.innerTransaction.instructionTypes),c.address.newAccount})}static makeInitMintInstruction({programId:e,mint:r,decimals:n,mintAuthority:i,freezeAuthority:o=null,instructionTypes:a}){return a.push(5),function(e,r,n,i,o=R){let a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:E.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],s=v.Buffer.alloc(K.span);return K.encode({instruction:b.InitializeMint,decimals:r,mintAuthority:n,freezeAuthorityOption:+!!i,freezeAuthority:i||new E.PublicKey(0)},s),new E.TransactionInstruction({keys:a,programId:o,data:s})}(r,n,i,o,e)}static makeMintToInstruction({programId:e,mint:r,dest:n,authority:i,amount:o,multiSigners:a=[],instructionTypes:s}){return s.push(6),function(e,r,n,i,o=[],a=R){let s=N([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,o),l=v.Buffer.alloc(G.span);return G.encode({instruction:b.MintTo,amount:BigInt(i)},l),new E.TransactionInstruction({keys:s,programId:a,data:l})}(r,n,i,BigInt(String(o)),a,e)}static makeInitAccountInstruction({programId:e,mint:r,tokenAccount:n,owner:i,instructionTypes:o}){return o.push(1),function(e,r,n,i=R){let o=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:E.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=v.Buffer.alloc(W.span);return W.encode({instruction:b.InitializeAccount},a),new E.TransactionInstruction({keys:o,programId:i,data:a})}(n,r,i,e)}static makeTransferInstruction({programId:e,source:r,destination:n,owner:i,amount:o,multiSigners:a=[],instructionsType:s}){return s.push(4),function(e,r,n,i,o=[],a=R){let s=N([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,o),l=v.Buffer.alloc(Y.span);return Y.encode({instruction:b.Transfer,amount:BigInt(i)},l),new E.TransactionInstruction({keys:s,programId:a,data:l})}(r,n,i,BigInt(String(o)),a,e)}static makeCloseAccountInstruction({programId:e,tokenAccount:r,owner:n,payer:i,multiSigners:o=[],instructionsType:a}){return a.push(3),function(e,r,n,i=[],o=R){let a=N([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,i),s=v.Buffer.alloc(q.span);return q.encode({instruction:b.CloseAccount},s),new E.TransactionInstruction({keys:a,programId:o,data:s})}(r,i,n,o,e)}static createInitAccountInstruction(e,r,n,i){let o=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:E.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],a=tF("instruction"),s=v.Buffer.alloc(a.span);return a.encode(1,s),new E.TransactionInstruction({keys:o,programId:e,data:s})}},t0=((c=t0||{})[c.V0=0]="V0",c[c.LEGACY=1]="LEGACY",c),t4=((u=t4||{})[u.createAccount=0]="createAccount",u[u.initAccount=1]="initAccount",u[u.createATA=2]="createATA",u[u.closeAccount=3]="closeAccount",u[u.transferAmount=4]="transferAmount",u[u.initMint=5]="initMint",u[u.mintTo=6]="mintTo",u[u.initMarket=7]="initMarket",u[u.util1216OwnerClaim=8]="util1216OwnerClaim",u[u.setComputeUnitPrice=9]="setComputeUnitPrice",u[u.setComputeUnitLimit=10]="setComputeUnitLimit",u[u.clmmCreatePool=11]="clmmCreatePool",u[u.clmmOpenPosition=12]="clmmOpenPosition",u[u.clmmIncreasePosition=13]="clmmIncreasePosition",u[u.clmmDecreasePosition=14]="clmmDecreasePosition",u[u.clmmClosePosition=15]="clmmClosePosition",u[u.clmmSwapBaseIn=16]="clmmSwapBaseIn",u[u.clmmSwapBaseOut=17]="clmmSwapBaseOut",u[u.clmmInitReward=18]="clmmInitReward",u[u.clmmSetReward=19]="clmmSetReward",u[u.clmmCollectReward=20]="clmmCollectReward",u[u.ammV4Swap=21]="ammV4Swap",u[u.ammV4AddLiquidity=22]="ammV4AddLiquidity",u[u.ammV4RemoveLiquidity=23]="ammV4RemoveLiquidity",u[u.ammV4SimulatePoolInfo=24]="ammV4SimulatePoolInfo",u[u.ammV4SwapBaseIn=25]="ammV4SwapBaseIn",u[u.ammV4SwapBaseOut=26]="ammV4SwapBaseOut",u[u.ammV4CreatePool=27]="ammV4CreatePool",u[u.ammV4InitPool=28]="ammV4InitPool",u[u.ammV4CreatePoolV2=29]="ammV4CreatePoolV2",u[u.ammV5AddLiquidity=30]="ammV5AddLiquidity",u[u.ammV5RemoveLiquidity=31]="ammV5RemoveLiquidity",u[u.ammV5SimulatePoolInfo=32]="ammV5SimulatePoolInfo",u[u.ammV5SwapBaseIn=33]="ammV5SwapBaseIn",u[u.ammV5SwapBaseOut=34]="ammV5SwapBaseOut",u[u.routeSwap=35]="routeSwap",u[u.routeSwap1=36]="routeSwap1",u[u.routeSwap2=37]="routeSwap2",u[u.farmV3Deposit=38]="farmV3Deposit",u[u.farmV3Withdraw=39]="farmV3Withdraw",u[u.farmV3CreateLedger=40]="farmV3CreateLedger",u[u.farmV5Deposit=41]="farmV5Deposit",u[u.farmV5Withdraw=42]="farmV5Withdraw",u[u.farmV5CreateLedger=43]="farmV5CreateLedger",u[u.farmV6Deposit=44]="farmV6Deposit",u[u.farmV6Withdraw=45]="farmV6Withdraw",u[u.farmV6Create=46]="farmV6Create",u[u.farmV6Restart=47]="farmV6Restart",u[u.farmV6CreatorAddReward=48]="farmV6CreatorAddReward",u[u.farmV6CreatorWithdraw=49]="farmV6CreatorWithdraw",u[u.test=50]="test",u),t2=class{static _selectTokenAccount(e){let{tokenAccounts:r,programId:n,mint:i,owner:o,config:a}=e,{associatedOnly:s}=em(em({},{associatedOnly:!0}),a),l=r.filter(({accountInfo:e})=>e.mint.equals(i)).sort((e,r)=>e.accountInfo.amount.lt(r.accountInfo.amount)?1:-1),c=t1.getAssociatedTokenAccount({mint:i,owner:o,programId:n});for(let e of l){let{pubkey:r}=e;if(!s||c.equals(r))return r}return null}static _handleTokenAccount(e){return ef(this,null,function*(){let{connection:r,side:n,amount:i,programId:o,mint:a,tokenAccount:s,owner:l,payer:c=l,frontInstructions:u,endInstructions:d,signers:m,bypassAssociatedCheck:p,frontInstructionsType:f,endInstructionsType:g,checkCreateATAOwner:h}=e,y=t1.getAssociatedTokenAccount({mint:a,owner:l,programId:o});if(tu.WSOL.mint.equals(a)){let e=yield t1.insertCreateWrappedNativeAccount({connection:r,owner:l,payer:c,instructions:u,instructionsType:f,signers:m,amount:i});return d&&d.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:e,owner:l,payer:c,instructionsType:null!=g?g:[]})),e}if(!s||"out"===n&&!y.equals(s)&&!p){let e=t1.makeCreateAssociatedTokenAccountInstruction({programId:o,mint:a,associatedAccount:y,owner:l,payer:c,instructionsType:f});if(h){let n=yield r.getAccountInfo(y);if(null===n)u.push(e);else if(n.owner.equals(R)&&x.decode(n.data).mint.equals(a)&&x.decode(n.data).owner.equals(l));else throw Error(`create ata check error -> mint: ${a.toString()}, ata: ${y.toString()}`)}else u.push(e);return y}return s})}static _selectOrCreateTokenAccount(e){return ef(this,null,function*(){var r,n,i,o,a,s,l,c,u,d;let{mint:m,tokenAccounts:p,createInfo:f,associatedOnly:g,owner:h,checkCreateATAOwner:y,programId:b}=e,S=t1.getAssociatedTokenAccount({mint:m,owner:h,programId:b}),A=p.filter(e=>e.accountInfo.mint.equals(m)&&(!g||e.pubkey.equals(S))).sort((e,r)=>e.accountInfo.amount.lt(r.accountInfo.amount)?1:-1);if(void 0===f||A.length>0)return A.length>0?A[0].pubkey:void 0;if(g){let e=t1.makeCreateAssociatedTokenAccountInstruction({programId:b,mint:m,associatedAccount:S,owner:h,payer:f.payer,instructionsType:f.frontInstructionsType});if(y){let r=yield f.connection.getAccountInfo(S);if(null===r)f.frontInstructions.push(e);else if(r.owner.equals(b)&&x.decode(r.data).mint.equals(m)&&x.decode(r.data).owner.equals(h));else throw Error(`create ata check error -> mint: ${m.toString()}, ata: ${S.toString()}`)}else f.frontInstructions.push(e);if(m.equals(tu.WSOL.mint)&&f.amount){let e=yield t1.insertCreateWrappedNativeAccount({connection:f.connection,owner:h,payer:f.payer,instructions:f.frontInstructions,instructionsType:f.frontInstructionsType,signers:f.signers,amount:null!=(r=f.amount)?r:0});(null!=(n=f.endInstructions)?n:[]).push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:e,owner:h,payer:f.payer,instructionsType:null!=(i=f.endInstructionsType)?i:[]})),f.amount&&f.frontInstructions.push(t1.makeTransferInstruction({programId:R,source:e,destination:S,owner:h,amount:f.amount,instructionsType:f.frontInstructionsType}))}return(null!=(o=f.endInstructions)?o:[]).push(t1.makeCloseAccountInstruction({programId:b,tokenAccount:S,owner:h,payer:f.payer,instructionsType:null!=(a=f.endInstructionsType)?a:[]})),S}if(m.equals(tu.WSOL.mint)){let e=yield t1.insertCreateWrappedNativeAccount({connection:f.connection,owner:h,payer:f.payer,instructions:f.frontInstructions,instructionsType:f.frontInstructionsType,signers:f.signers,amount:null!=(s=f.amount)?s:0});return(null!=(l=f.endInstructions)?l:[]).push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:e,owner:h,payer:f.payer,instructionsType:null!=(c=f.endInstructionsType)?c:[]})),e}{let e=t3({fromPublicKey:h,programId:b}),r=yield f.connection.getMinimumBalanceForRentExemption(x.span),n=E.SystemProgram.createAccountWithSeed({fromPubkey:h,basePubkey:h,seed:e.seed,newAccountPubkey:e.publicKey,lamports:r,space:x.span,programId:b}),i=t1.createInitAccountInstruction(b,m,e.publicKey,h);return f.frontInstructions.push(n,i),f.frontInstructionsType.push(0,1),(null!=(u=f.endInstructions)?u:[]).push(t1.makeCloseAccountInstruction({programId:b,tokenAccount:e.publicKey,owner:h,payer:f.payer,instructionsType:null!=(d=f.endInstructionsType)?d:[]})),e.publicKey}})}};function t3({fromPublicKey:e,programId:r=R}){var n,i,o;let a,s=E.Keypair.generate().publicKey.toBase58().slice(0,32);return{publicKey:(n=e,i=s,o=r,a=ex(v.Buffer.concat([n.toBuffer(),v.Buffer.from(i),o.toBuffer()])),new E.PublicKey(a)),seed:s}}function t6(e,r,n,i){if(void 0===r)return{amount:e,fee:void 0,expirationTime:void 0};let o=n.epoch<r.newerTransferFee.epoch?r.olderTransferFee:r.newerTransferFee,a=new V.default(o.maximumFee.toString()),s=n.epoch<r.newerTransferFee.epoch?(Number(r.newerTransferFee.epoch)*n.slotsInEpoch-n.absoluteSlot)*400/1e3:void 0;if(i)if(1e4===o.transferFeeBasisPoints){let r=new V.default(o.maximumFee.toString());return{amount:e.add(r),fee:r,expirationTime:s}}else{let r=t7(e.mul(new V.default(1e4)),new V.default(1e4-o.transferFeeBasisPoints)),n=new V.default(o.maximumFee.toString()),i=r.sub(e).gt(n)?e.add(n):r,l=t7(i.mul(new V.default(o.transferFeeBasisPoints)),new V.default(1e4));return{amount:i,fee:l.gt(a)?a:l,expirationTime:s}}{let r=t7(e.mul(new V.default(o.transferFeeBasisPoints)),new V.default(1e4));return{amount:e,fee:r.gt(a)?a:r,expirationTime:s}}}function t5(e,r){return void 0===e?r:void 0===r?e:Math.min(e,r)}function t8(e){return ef(this,arguments,function*({connection:e,mints:r}){var n,i;if(0===r.length)return{};let o=yield e1(e,r.map(e=>({pubkey:e}))),a={};for(let e of o){let r=function(e,r,n=R){if(!r)throw new Q;if(!r.owner.equals(n))throw new Z;if(r.data.length<er)throw new J;let i=et.decode(r.data.slice(0,er)),o=v.Buffer.alloc(0);if(r.data.length>er){if(r.data.length<=D||r.data.length===ee)throw new J;if(r.data[D]!=A.Mint)throw new $;o=r.data.slice(D+1)}return{address:e,mintAuthority:i.mintAuthorityOption?i.mintAuthority:null,supply:i.supply,decimals:i.decimals,isInitialized:i.isInitialized,freezeAuthority:i.freezeAuthorityOption?i.freezeAuthority:null,tlvData:o}}(e.pubkey,e.accountInfo,null==(n=e.accountInfo)?void 0:n.owner);a[e.pubkey.toString()]=ep(em({},r),{feeConfig:null!=(i=function(e){let r=function(e,r){let n=0;for(;n+2+2<=r.length;){let i=r.readUInt16LE(n),o=r.readUInt16LE(n+2),a=n+2+2;if(i==e)return r.slice(a,a+o);n=a+o}return null}(S.TransferFeeConfig,e.tlvData);return null!==r?z.decode(r):null}(r))?i:void 0})}return a})}function t7(e,r){let{div:n,mod:i}=e.divmod(r);return i.gt(e8)?n.add(e7):n}new E.AddressLookupTableAccount({key:new E.PublicKey("2immgwYNHBbyVQKVGCEkgWpi53bLwWNRMB5G2nbgYV17"),state:E.AddressLookupTableAccount.deserialize(v.Buffer.from("AQAAAP//////////d49+DAAAAAAAAQZMWvw7GUNJdaccNBVnb57OKakxL2BHLYvhRwVILRsgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABt324ddloZPZy+FGzut5rBy0he1fWzeROoz1hX7/AKkG3fbh7nWP3hhCXbzkbM3athr8TYO5DSf+vfko2KGL/AVKU1D4XciC1hSlVnJ4iilt3x6rq9CmBniISTL07vagBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvDQdRqCgtphMF/imcN7mY5YRx2xE1A3MQ+L4QRaYK9u4GRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1H9aKveyXSu5StXElYRl9SD5As0DHE4N0GLnf84/siiKXVyp4Ez121kLcUui/jLLFZEz/BwZK3Ilf9B9OcsEAeDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu9N9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveU=","base64"))});var t9={voterStakeRegistryCreateVoter:v.Buffer.from([6,24,245,52,243,255,148,25]),voterStakeRegistryCreateDepositEntry:v.Buffer.from([185,131,167,186,159,125,19,67]),voterStakeRegistryDeposit:v.Buffer.from([242,35,198,137,82,225,242,182]),voterStakeRegistryWithdraw:v.Buffer.from([183,18,70,156,148,109,161,34]),voterStakeRegistryUpdateVoterWeightRecord:v.Buffer.from([45,185,3,36,109,190,115,169])},re=tQ([tq("state"),tq("nonce"),tY("lpVault"),tY("rewardVault"),tY(),tY(),tq(),tq(),tq("totalReward"),tW("perShareReward"),tq("lastSlot"),tq("perSlotReward")]),rt=tQ([tq("state"),tq("nonce"),tY("lpVault"),tY("rewardVaultA"),tq("totalRewardA"),tW("perShareRewardA"),tq("perSlotRewardA"),tF("option"),tY("rewardVaultB"),tU(7),tq("totalRewardB"),tW("perShareRewardB"),tq("perSlotRewardB"),tq("lastSlot"),tY()]),rr=tQ([tq("rewardState"),tq("rewardOpenTime"),tq("rewardEndTime"),tq("rewardLastUpdateTime"),tq("totalReward"),tq("totalRewardEmissioned"),tq("rewardClaimed"),tq("rewardPerSecond"),tW("accRewardPerShare"),tY("rewardVault"),tY("rewardMint"),tY("rewardSender"),tq("rewardType"),tZ(tq(),15,"padding")]),rn=tQ([tq(),tq("state"),tq("nonce"),tq("validRewardTokenNum"),tW("rewardMultiplier"),tq("rewardPeriodMax"),tq("rewardPeriodMin"),tq("rewardPeriodExtend"),tY("lpMint"),tY("lpVault"),tZ(rr,5,"rewardInfos"),tY("creator"),tY(),tZ(tq(),32,"padding")]),ri=new Proxy(re,{get:(e,r,n)=>"decode"===r?(...r)=>{let n=e.decode(...r);return ep(em({},n),{version:3,rewardInfos:[{rewardVault:n.rewardVault,totalReward:n.totalReward,perSlotReward:n.perSlotReward,perShareReward:n.perShareReward}]})}:Reflect.get(e,r,n)}),ro=new Proxy(rt,{get:(e,r,n)=>"decode"===r?(...r)=>{let n=e.decode(...r);return ep(em({},n),{version:5,rewardInfos:[{rewardVault:n.rewardVaultA,totalReward:n.totalRewardA,perSlotReward:n.perSlotRewardA,perShareReward:n.perShareRewardA},{rewardVault:n.rewardVaultB,totalReward:n.totalRewardB,perSlotReward:n.perSlotRewardB,perShareReward:n.perShareRewardB}]})}:Reflect.get(e,r,n)}),ra=new Proxy(rn,{get:(e,r,n)=>"decode"===r?(...r)=>{let n=e.decode(...r);return ep(em({},n),{version:6,rewardInfos:n.rewardInfos.map(e=>{var r;return ep(em({},e),{rewardType:(null!=(r=Object.entries(rv).find(r=>String(r[1])===e.rewardType.toString()))?r:["Standard SPL"])[0]})})})}:Reflect.get(e,r,n)}),rs=tQ([tq("state"),tY("id"),tY("owner"),tq("deposited"),tZ(tq(),1,"rewardDebts")]),rl=tQ([tq("state"),tY("id"),tY("owner"),tq("deposited"),tZ(tW(),1,"rewardDebts"),tq(""),tq("voteLockedBalance"),tZ(tq(),15)]),rc=tQ([tq("state"),tY("id"),tY("owner"),tq("deposited"),tZ(tq(),2,"rewardDebts")]),ru=tQ([tq("state"),tY("id"),tY("owner"),tq("deposited"),tZ(tW(),2,"rewardDebts"),tZ(tq(),17)]),rd=tQ([tq(),tq("state"),tY("id"),tY("owner"),tq("deposited"),tZ(tW(),5,"rewardDebts"),tZ(tq(),16)]),rm={3:ri,5:ro,6:ra},rp={3:rl,5:ru,6:rd},rf=tQ([tY("mint"),tY("grantAuthority"),tq("baselineVoteWeightScaledFactor"),tq("maxExtraLockupVoteWeightScaledFactor"),tq("lockupSaturationSecs"),new tV(1,!0,"digitShift"),tZ(tF(),7,"reserved1"),tZ(tq(),7,"reserved2")]),rg=tQ([tU(8),tY("governanceProgramId"),tY("realm"),tY("realmGoverningTokenMint"),tY("realmAuthority"),tZ(tF(),32,"reserved1"),tZ(rf,4,"votingMints"),tK("timeOffset"),tF("bump"),tZ(tF(),7,"reserved2"),tZ(tq(),11,"reserved3")]),rh=tQ([tK("startTime"),tK("endTime"),tF("kind"),tZ(tF(),15,"reserved")]),ry=tQ([tZ(rh,1,"lockup"),tq("amountDeposited_native"),tq("amountInitiallyLockedNative"),tX("isUsed"),tX("allowClawback"),tF("votingMintConfigIdx"),tZ(tF(),29,"reserved")]),rb=tQ([tU(8),tY("voterAuthority"),tY("registrar"),tZ(ry,32,"deposits"),tF("voterBump"),tF("voterWweightRecordBump"),tZ(tF(),94,"reserved")]);function rS(e,r,n){return eH([r.toBuffer(),v.Buffer.from("registrar","utf8"),n.toBuffer()],e)}function rA(e,r){return eH([r.toBuffer(),v.Buffer.from("voting_mint_seed","utf8")],e)}function rw(e,r){return eH([r.toBuffer()],e)}function rT(e,r,n){return eH([r.toBuffer(),v.Buffer.from("voter","utf8"),n.toBuffer()],e)}function rk(e,r,n){return eH([r.toBuffer(),v.Buffer.from("voter-weight-record","utf8"),n.toBuffer()],e)}function rC(e,r,n,i){return eH([v.Buffer.from("governance","utf8"),r.toBuffer(),n.toBuffer(),i.toBuffer()],e)}var rI=eN.from("Farm"),rv={"Standard SPL":0,"Option tokens":1},rP=class e extends t2{static getStateLayout(e){let r=rm[e];return rI.assertArgument(!!r,"invalid version","version",e),r}static getLedgerLayout(e){let r=rp[e];return rI.assertArgument(!!r,"invalid version","version",e),r}static getLayouts(e){return{state:this.getStateLayout(e),ledger:this.getLedgerLayout(e)}}static getAssociatedAuthority({programId:e,poolId:r}){return eH([r.toBuffer()],e)}static getAssociatedLedgerAccount({programId:e,poolId:r,owner:n,version:i}){let{publicKey:o}=eH([r.toBuffer(),n.toBuffer(),v.Buffer.from(6===i?"farmer_info_associated_seed":"staker_info_v2_associated_seed","utf-8")],e);return o}static getAssociatedLedgerPoolAccount({programId:e,poolId:r,mint:n,type:i}){let{publicKey:o}=eH([r.toBuffer(),n.toBuffer(),v.Buffer.from("lpVault"===i?"lp_vault_associated_seed":"rewardVault"===i?"reward_vault_associated_seed":"","utf-8")],e);return o}static makeDepositInstruction(e){let{poolKeys:r}=e,{version:n}=r;return 3===n?this.makeDepositInstructionV3(e):5===n?this.makeDepositInstructionV5(e):6===n?this.makeDepositInstructionV6(e):rI.throwArgumentError("invalid version","poolKeys.version",n)}static makeDepositInstructionV3({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(1===e.rewardInfos.length,"lengths not equal 1","poolKeys.rewardInfos",e.rewardInfos),rI.assertArgument(1===r.rewardTokenAccounts.length,"lengths not equal 1","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:10,amount:tr(n)},o);let a=[ej(e.id,!1),eQ(e.authority,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1),ej(e.lpVault,!1),ej(r.rewardTokenAccounts[0],!1),ej(e.rewardInfos[0].rewardVault,!1),eQ(E.SYSVAR_CLOCK_PUBKEY,!1),eQ(R,!1)];if(r.auxiliaryLedgers)for(let e of r.auxiliaryLedgers)a.push(ej(e,!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[38]}}}static makeDepositInstructionV5({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(r.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:11,amount:tr(n)},o);let a=[ej(e.id,!1),eQ(e.authority,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1),ej(e.lpVault,!1),ej(r.rewardTokenAccounts[0],!1),ej(e.rewardInfos[0].rewardVault,!1),eQ(E.SYSVAR_CLOCK_PUBKEY,!1),eQ(R,!1)];for(let n=1;n<e.rewardInfos.length;n++)a.push(ej(r.rewardTokenAccounts[n],!1)),a.push(ej(e.rewardInfos[n].rewardVault,!1));if(r.auxiliaryLedgers)for(let e of r.auxiliaryLedgers)a.push(ej(e,!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[41]}}}static makeDepositInstructionV6({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(0!==r.rewardTokenAccounts.length,"lengths equal zero","userKeys.rewardTokenAccounts",r.rewardTokenAccounts),rI.assertArgument(r.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with poolKeys.rewardInfos","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:1,amount:tr(n)},o);let a=[eQ(R,!1),eQ(eW,!1),ej(e.id,!1),eQ(e.authority,!1),ej(e.lpVault,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1)];for(let n=0;n<e.rewardInfos.length;n++)a.push(ej(e.rewardInfos[n].rewardVault,!1)),a.push(ej(r.rewardTokenAccounts[n],!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[44]}}}static makeWithdrawInstruction(e){let{poolKeys:r}=e,{version:n}=r;return 3===n?this.makeWithdrawInstructionV3(e):5===n?this.makeWithdrawInstructionV5(e):6===n?this.makeWithdrawInstructionV6(e):rI.throwArgumentError("invalid version","poolKeys.version",n)}static makeWithdrawInstructionV3({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(1===e.rewardInfos.length,"lengths not equal 1","poolKeys.rewardInfos",e.rewardInfos),rI.assertArgument(1===r.rewardTokenAccounts.length,"lengths not equal 1","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:11,amount:tr(n)},o);let a=[ej(e.id,!1),eQ(e.authority,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1),ej(e.lpVault,!1),ej(r.rewardTokenAccounts[0],!1),ej(e.rewardInfos[0].rewardVault,!1),eQ(E.SYSVAR_CLOCK_PUBKEY,!1),eQ(R,!1)];if(r.auxiliaryLedgers)for(let e of r.auxiliaryLedgers)a.push(ej(e,!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[41]}}}static makeWithdrawInstructionV5({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(r.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:12,amount:tr(n)},o);let a=[ej(e.id,!1),eQ(e.authority,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1),ej(e.lpVault,!1),ej(r.rewardTokenAccounts[0],!1),ej(e.rewardInfos[0].rewardVault,!1),eQ(E.SYSVAR_CLOCK_PUBKEY,!1),eQ(R,!1)];for(let n=1;n<e.rewardInfos.length;n++)a.push(ej(r.rewardTokenAccounts[n],!1)),a.push(ej(e.rewardInfos[n].rewardVault,!1));if(r.auxiliaryLedgers)for(let e of r.auxiliaryLedgers)a.push(ej(e,!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[42]}}}static makeWithdrawInstructionV6({poolKeys:e,userKeys:r,amount:n}){rI.assertArgument(0!==r.rewardTokenAccounts.length,"lengths equal zero","userKeys.rewardTokenAccounts",r.rewardTokenAccounts),rI.assertArgument(r.rewardTokenAccounts.length===e.rewardInfos.length,"lengths not equal with params.poolKeys.rewardInfos","userKeys.rewardTokenAccounts",r.rewardTokenAccounts);let i=tQ([tF("instruction"),tq("amount")]),o=v.Buffer.alloc(i.span);i.encode({instruction:2,amount:tr(n)},o);let a=[eQ(R,!1),ej(e.id,!1),eQ(e.authority,!1),ej(e.lpVault,!1),ej(r.ledger,!1),eQ(r.owner,!0),ej(r.lpTokenAccount,!1)];for(let n=0;n<e.rewardInfos.length;n++)a.push(ej(e.rewardInfos[n].rewardVault,!1)),a.push(ej(r.rewardTokenAccounts[n],!1));return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:a,data:o})],signers:[],lookupTableAddress:[],instructionTypes:[45]}}}static makeCreateAssociatedLedgerAccountInstruction(e){let{poolKeys:r}=e,{version:n}=r;return 3===n?this.makeCreateAssociatedLedgerAccountInstructionV3(e):5===n?this.makeCreateAssociatedLedgerAccountInstructionV5(e):rI.throwArgumentError("invalid version","poolKeys.version",n)}static makeCreateAssociatedLedgerAccountInstructionV3({poolKeys:e,userKeys:r}){let n=tQ([tF("instruction")]),i=v.Buffer.alloc(n.span);n.encode({instruction:9},i);let o=[ej(e.id,!1),ej(r.ledger,!1),eQ(r.owner,!0),eQ(eW,!1),eQ(E.SYSVAR_RENT_PUBKEY,!1)];return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:o,data:i})],signers:[],lookupTableAddress:[],instructionTypes:[40]}}}static makeCreateAssociatedLedgerAccountInstructionV5({poolKeys:e,userKeys:r}){let n=tQ([tF("instruction")]),i=v.Buffer.alloc(n.span);n.encode({instruction:10},i);let o=[ej(e.id,!1),ej(r.ledger,!1),eQ(r.owner,!0),eQ(eW,!1),eQ(E.SYSVAR_RENT_PUBKEY,!1)];return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:o,data:i})],signers:[],lookupTableAddress:[],instructionTypes:[43]}}}static makeCreateFarmInstruction({connection:e,userKeys:r,poolInfo:n}){let{version:i}=n;return 6===i?this.makeCreateFarmInstructionV6({connection:e,userKeys:r,poolInfo:n}):rI.throwArgumentError("invalid version","version",i)}static makeCreateFarmInstructionV6(r){return ef(this,arguments,function*({connection:r,userKeys:n,poolInfo:i}){var o,a,s;let l=null!=(o=n.payer)?o:n.owner,c=t3({fromPublicKey:l,programId:i.programId}),u=yield r.getMinimumBalanceForRentExemption(ra.span),d=[],m=[],p=[],f=[],g=[];d.push(E.SystemProgram.createAccountWithSeed({fromPubkey:l,basePubkey:l,seed:c.seed,newAccountPubkey:c.publicKey,lamports:u,space:ra.span,programId:i.programId}));let{publicKey:h,nonce:y}=e.getAssociatedAuthority({programId:i.programId,poolId:c.publicKey}),b=e.getAssociatedLedgerPoolAccount({programId:i.programId,poolId:c.publicKey,mint:i.lpMint,type:"lpVault"}),S=[],A=[];for(let o of i.rewardInfos){let l;rI.assertArgument(o.rewardOpenTime<o.rewardEndTime,"start time error","rewardInfo.rewardOpenTime",o.rewardOpenTime),rI.assertArgument(void 0!==rv[o.rewardType],"reward type error","rewardInfo.rewardType",o.rewardType),rI.assertArgument(tr(o.rewardPerSecond).gt(e8),"rewardPerSecond error","rewardInfo.rewardPerSecond",o.rewardPerSecond),S.push({isSet:new V.default(1),rewardPerSecond:tr(o.rewardPerSecond),rewardOpenTime:tr(o.rewardOpenTime),rewardEndTime:tr(o.rewardEndTime),rewardType:tr(rv[o.rewardType])}),o.rewardMint.equals(E.PublicKey.default)?(l=yield t1.insertCreateWrappedNativeAccount({connection:r,owner:n.owner,payer:null!=(a=n.payer)?a:n.owner,instructions:d,signers:g,amount:tr(o.rewardEndTime).sub(tr(o.rewardOpenTime)).mul(tr(o.rewardPerSecond)),instructionsType:p}),m.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:l,owner:n.owner,payer:null!=(s=n.payer)?s:n.owner,instructionsType:f}))):l=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:o.rewardMint,owner:n.owner,config:{associatedOnly:!1}}),rI.assertArgument(null!==l,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let u=o.rewardMint.equals(E.PublicKey.default)?tu.WSOL.mint:o.rewardMint;A.push({rewardMint:u,rewardVault:e.getAssociatedLedgerPoolAccount({programId:i.programId,poolId:c.publicKey,mint:u,type:"rewardVault"}),userRewardToken:l})}let w=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:i.lockInfo.lockMint,owner:n.owner,config:{associatedOnly:!1}});rI.assertArgument(null!==w,"cannot found lock vault","tokenAccounts",n.tokenAccounts);let T=tQ([tq("isSet"),tq("rewardPerSecond"),tq("rewardOpenTime"),tq("rewardEndTime"),tq("rewardType")]),k=tQ([tF("instruction"),tq("nonce"),tZ(T,5,"rewardTimeInfo")]),C=v.Buffer.alloc(k.span);k.encode({instruction:0,nonce:new V.default(y),rewardTimeInfo:S},C);let I=[eQ(R,!1),eQ(eW,!1),eQ(E.SYSVAR_RENT_PUBKEY,!1),ej(c.publicKey,!1),eQ(h,!1),ej(b,!1),eQ(i.lpMint,!1),ej(i.lockInfo.lockVault,!1),eQ(i.lockInfo.lockMint,!1),ej(null!=w?w:E.PublicKey.default,!1),eQ(n.owner,!0)];for(let e of A)I.push({pubkey:e.rewardMint,isSigner:!1,isWritable:!1},{pubkey:e.rewardVault,isSigner:!1,isWritable:!0},{pubkey:e.userRewardToken,isSigner:!1,isWritable:!0});let P=new E.TransactionInstruction({programId:i.programId,keys:I,data:C});return{address:{farmId:c.publicKey},innerTransaction:{instructions:[...d,P,...m],signers:g,lookupTableAddress:[],instructionTypes:[...p,46,...f]}}})}static makeCreatorWithdrawFarmRewardInstruction(e){let{poolKeys:r}=e,{version:n}=r;return 6===n?this.makeCreatorWithdrawFarmRewardInstructionV6(e):rI.throwArgumentError("invalid version","version",n)}static makeCreatorWithdrawFarmRewardInstructionV6({poolKeys:e,userKeys:r,withdrawMint:n}){var i;let o=e.rewardInfos.find(e=>e.rewardMint.equals(n.equals(E.PublicKey.default)?tu.WSOL.mint:n));rI.assertArgument(void 0!==o,"withdraw mint error","poolKeys.rewardInfos",e.rewardInfos);let a=null!=(i=null==o?void 0:o.rewardVault)?i:E.PublicKey.default,s=tQ([tF("instruction")]),l=v.Buffer.alloc(s.span);s.encode({instruction:5},l);let c=[eQ(R,!1),ej(e.id,!1),eQ(e.authority,!1),eQ(e.lpVault,!1),ej(a,!1),ej(r.userRewardToken,!1),eQ(r.owner,!0)];return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:c,data:l})],signers:[],lookupTableAddress:[],instructionTypes:[49]}}}static fetchMultipleInfoAndUpdate(r){return ef(this,arguments,function*({connection:r,pools:n,owner:i,config:o,chainTime:a}){let s=!1,l=!1,c=[],u={};for(let e of n)u[e.id.toString()]=e,6===e.version?l=!0:s=!0,c.push({pubkey:e.id,version:e.version,key:"state",poolId:e.id}),c.push({pubkey:e.lpVault,version:e.version,key:"lpVault",poolId:e.id}),i&&c.push({pubkey:this.getAssociatedLedgerAccount({programId:e.programId,poolId:e.id,owner:i,version:e.version}),version:e.version,key:"ledger",poolId:e.id});let d={};for(let{pubkey:e,version:n,key:i,poolId:a,accountInfo:s}of yield e1(r,c,o)){let r=a.toBase58();if("state"===i){let i=this.getStateLayout(n);if(!s||!s.data||s.data.length!==i.span)return rI.throwArgumentError("invalid farm state account info","pools.id",e);d[r]=em(em(em({},d[r]),{apiPoolInfo:u[r]}),{state:i.decode(s.data)})}else if("lpVault"===i){if(!s||!s.data||s.data.length!==tJ.span)return rI.throwArgumentError("invalid farm lp vault account info","pools.lpVault",e);d[r]=em(em({},d[r]),{lpVault:tJ.decode(s.data)})}else if("ledger"===i){let i=this.getLedgerLayout(n);s&&s.data&&(rI.assertArgument(s.data.length===i.span,"invalid farm ledger account info","ledger",e),d[r]=em(em({},d[r]),{ledger:i.decode(s.data)}))}}let m=l||s?yield r.getSlot():0;for(let r of Object.keys(d))void 0!==d[r]&&(d[r].state=e.updatePoolInfo(d[r].state,d[r].lpVault,m,a));for(let[e,{state:r,ledger:n}]of Object.entries(d))if(n){let i;i=6===r.version?r.rewardMultiplier:1===r.rewardInfos.length?e9.pow(new V.default(9)):e9.pow(new V.default(15));let o=r.rewardInfos.map((e,o)=>{let a=n.rewardDebts[o];return n.deposited.mul(6===r.version?e.accRewardPerShare:e.perShareReward).div(i).sub(a)});d[e].wrapped=ep(em({},d[e].wrapped),{pendingRewards:o})}return d})}static updatePoolInfo(e,r,n,i){if(3===e.version||5===e.version){if(e.lastSlot.gte(new V.default(n)))return e;let i=new V.default(n).sub(e.lastSlot);for(let o of(e.lastSlot=new V.default(n),e.rewardInfos)){if(r.amount.eq(new V.default(0)))continue;let n=o.perSlotReward.mul(i);o.perShareReward=o.perShareReward.add(n.mul(new V.default(10).pow(new V.default(3===e.version?9:15))).div(r.amount)),o.totalReward=o.totalReward.add(n)}}else if(6===e.version)for(let n of e.rewardInfos){if(n.rewardState.eq(new V.default(0)))continue;let o=V.default.min(new V.default(i),n.rewardEndTime);if(n.rewardOpenTime.gte(o))continue;let a=o.sub(n.rewardLastUpdateTime).mul(n.rewardPerSecond),s=n.totalReward.sub(n.totalRewardEmissioned);s.lt(a)?(a=s,n.rewardLastUpdateTime=n.rewardLastUpdateTime.add(s.div(n.rewardPerSecond))):n.rewardLastUpdateTime=o,r.amount.eq(new V.default(0))||(n.accRewardPerShare=n.accRewardPerShare.add(a.mul(e.rewardMultiplier).div(r.amount)),n.totalRewardEmissioned=n.totalRewardEmissioned.add(a))}return e}static makeCreatorWithdrawFarmRewardInstructionSimple(e){let{poolKeys:r}=e,{version:n}=r;return 6===n?this.makeCreatorWithdrawFarmRewardInstructionV6Simple(e):rI.throwArgumentError("invalid version","version",n)}static makeCreatorWithdrawFarmRewardInstructionV6Simple(e){return ef(this,arguments,function*({connection:e,poolKeys:r,userKeys:n,withdrawMint:i,makeTxVersion:o,lookupTableCache:a,computeBudgetConfig:s}){var l,c,u,d;let m,p=[],f=[],g=[],h=[],y=[];if(i.equals(E.PublicKey.default))m=yield t1.insertCreateWrappedNativeAccount({connection:e,owner:n.owner,payer:null!=(l=n.payer)?l:n.owner,instructions:p,signers:y,amount:0,instructionsType:g}),f.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:m,owner:n.owner,payer:null!=(c=n.payer)?c:n.owner,instructionsType:h}));else{let e=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:i,owner:n.owner});null===e?(m=t$(n.owner,i,R).publicKey,p.push(t1.makeCreateAssociatedTokenAccountInstruction({programId:R,mint:i,associatedAccount:m,owner:n.owner,payer:null!=(u=n.payer)?u:n.owner,instructionsType:g}))):m=e}let b=this.makeCreatorWithdrawFarmRewardInstructionV6({poolKeys:r,userKeys:{userRewardToken:m,owner:n.owner,payer:n.payer},withdrawMint:i});return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:o,computeBudgetConfig:s,payer:null!=(d=n.payer)?d:n.owner,innerTransaction:[{instructionTypes:g,instructions:p,signers:y},b.innerTransaction,{instructionTypes:h,instructions:f,signers:[]}],lookupTableCache:a})}})}static makeCreateFarmInstructionSimple(e){let{version:r}=e.poolInfo;return 6===r?this.makeCreateFarmInstructionV6Simple(e):rI.throwArgumentError("invalid version","version",r)}static makeCreateFarmInstructionV6Simple(r){return ef(this,arguments,function*({connection:r,userKeys:n,poolInfo:i,makeTxVersion:o,lookupTableCache:a,computeBudgetConfig:s}){var l,c,u,d;let m=null!=(l=n.payer)?l:n.owner,p=t3({fromPublicKey:m,programId:i.programId}),f=yield r.getMinimumBalanceForRentExemption(ra.span),g=[],h=[],y=[],b=[],S=[];g.push(E.SystemProgram.createAccountWithSeed({fromPubkey:m,basePubkey:m,seed:p.seed,newAccountPubkey:p.publicKey,lamports:f,space:ra.span,programId:i.programId}));let{publicKey:A,nonce:w}=e.getAssociatedAuthority({programId:i.programId,poolId:p.publicKey}),T=e.getAssociatedLedgerPoolAccount({programId:i.programId,poolId:p.publicKey,mint:i.lpMint,type:"lpVault"}),k=[],C=[];for(let o of i.rewardInfos){let a;if(rI.assertArgument(o.rewardOpenTime<o.rewardEndTime,"start time error","rewardInfo.rewardOpenTime",o.rewardOpenTime),rI.assertArgument(void 0!==rv[o.rewardType],"reward type error","rewardInfo.rewardType",o.rewardType),rI.assertArgument(tr(o.rewardPerSecond).gt(e8),"rewardPerSecond error","rewardInfo.rewardPerSecond",o.rewardPerSecond),k.push({isSet:new V.default(1),rewardPerSecond:tr(o.rewardPerSecond),rewardOpenTime:tr(o.rewardOpenTime),rewardEndTime:tr(o.rewardEndTime),rewardType:tr(rv[o.rewardType])}),o.rewardMint.equals(E.PublicKey.default)?(a=yield t1.insertCreateWrappedNativeAccount({connection:r,owner:n.owner,payer:null!=(c=n.payer)?c:n.owner,instructions:g,signers:S,amount:tr(o.rewardEndTime).sub(tr(o.rewardOpenTime)).mul(tr(o.rewardPerSecond)),instructionsType:y}),h.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:a,owner:n.owner,payer:null!=(u=n.payer)?u:n.owner,instructionsType:b}))):a=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:o.rewardMint,owner:n.owner,config:{associatedOnly:!1}}),rI.assertArgument(null!==a,"cannot found target token accounts","tokenAccounts",n.tokenAccounts),null===a)throw Error("cannot found target token accounts");let s=o.rewardMint.equals(E.PublicKey.default)?tu.WSOL.mint:o.rewardMint;C.push({rewardMint:s,rewardVault:e.getAssociatedLedgerPoolAccount({programId:i.programId,poolId:p.publicKey,mint:s,type:"rewardVault"}),userRewardToken:a})}let I=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:i.lockInfo.lockMint,owner:n.owner,config:{associatedOnly:!1}});rI.assertArgument(null!==I,"cannot found lock vault","tokenAccounts",n.tokenAccounts);let P=tQ([tq("isSet"),tq("rewardPerSecond"),tq("rewardOpenTime"),tq("rewardEndTime"),tq("rewardType")]),L=tQ([tF("instruction"),tq("nonce"),tZ(P,5,"rewardTimeInfo")]),_=v.Buffer.alloc(L.span);L.encode({instruction:0,nonce:new V.default(w),rewardTimeInfo:k},_);let x=[eQ(R,!1),eQ(eW,!1),eQ(E.SYSVAR_RENT_PUBKEY,!1),ej(p.publicKey,!1),eQ(A,!1),ej(T,!1),eQ(i.lpMint,!1),ej(i.lockInfo.lockVault,!1),eQ(i.lockInfo.lockMint,!1),ej(null!=I?I:E.PublicKey.default,!1),eQ(n.owner,!0)];for(let e of C)x.push({pubkey:e.rewardMint,isSigner:!1,isWritable:!1},{pubkey:e.rewardVault,isSigner:!1,isWritable:!0},{pubkey:e.userRewardToken,isSigner:!1,isWritable:!0});let D=new E.TransactionInstruction({programId:i.programId,keys:x,data:_});return{address:{farmId:p.publicKey},innerTransactions:yield e2({connection:r,makeTxVersion:o,computeBudgetConfig:s,payer:null!=(d=n.payer)?d:n.owner,innerTransaction:[{instructionTypes:y,instructions:g,signers:S},{instructionTypes:[46],instructions:[D],signers:[]},{instructionTypes:b,instructions:h,signers:[]}],lookupTableCache:a})}})}static makeRestartFarmInstructionSimple(e){let{poolKeys:r}=e,{version:n}=r;return 6===n?this.makeRestartFarmInstructionV6Simple(e):rI.throwArgumentError("invalid version","version",n)}static makeRestartFarmInstructionV6Simple(e){return ef(this,arguments,function*({connection:e,poolKeys:r,userKeys:n,newRewardInfo:i,makeTxVersion:o,lookupTableCache:a,computeBudgetConfig:s}){var l,c,u,d;let m;rI.assertArgument(i.rewardOpenTime<i.rewardEndTime,"start time error","newRewardInfo",i);let p=i.rewardMint.equals(E.PublicKey.default)?tu.WSOL.mint:i.rewardMint,f=r.rewardInfos.find(e=>e.rewardMint.equals(p));rI.assertArgument(f,"configuration does not exist","rewardInfo",f);let g=null!=(l=null==f?void 0:f.rewardVault)?l:E.PublicKey.default,h=[],y=[],b=[],S=[],A=[];if(i.rewardMint.equals(E.PublicKey.default)?(m=yield t1.insertCreateWrappedNativeAccount({connection:e,owner:n.owner,payer:null!=(c=n.payer)?c:n.owner,instructions:h,signers:A,amount:tr(i.rewardEndTime).sub(tr(i.rewardOpenTime)).mul(tr(i.rewardPerSecond)),instructionsType:b}),y.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:m,owner:n.owner,payer:null!=(u=n.payer)?u:n.owner,instructionsType:S}))):m=this._selectTokenAccount({programId:R,tokenAccounts:n.tokenAccounts,mint:i.rewardMint,owner:n.owner,config:{associatedOnly:!1}}),rI.assertArgument(null!==m,"cannot found target token accounts","tokenAccounts",n.tokenAccounts),null===m)throw Error("cannot found target token accounts");let w=tQ([tF("instruction"),tq("rewardReopenTime"),tq("rewardEndTime"),tq("rewardPerSecond")]),T=v.Buffer.alloc(w.span);w.encode({instruction:3,rewardReopenTime:tr(i.rewardOpenTime),rewardEndTime:tr(i.rewardEndTime),rewardPerSecond:tr(i.rewardPerSecond)},T);let k=[eQ(R,!1),ej(r.id,!1),eQ(r.lpVault,!1),ej(g,!1),ej(m,!1),eQ(n.owner,!0)],C=new E.TransactionInstruction({programId:r.programId,keys:k,data:T});return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:o,computeBudgetConfig:s,payer:null!=(d=n.payer)?d:n.owner,innerTransaction:[{instructionTypes:b,instructions:h,signers:A},{instructionTypes:[47],instructions:[C],signers:[]},{instructionTypes:S,instructions:y,signers:[]}],lookupTableCache:a})}})}static makeFarmCreatorAddRewardTokenInstructionSimple(e){let{poolKeys:r}=e,{version:n}=r;return 6===n?this.makeFarmCreatorAddRewardTokenInstructionV6Simple(e):rI.throwArgumentError("invalid version","version",n)}static makeFarmCreatorAddRewardTokenInstructionV6Simple(r){return ef(this,arguments,function*({connection:r,poolKeys:n,userKeys:i,newRewardInfo:o,makeTxVersion:a,lookupTableCache:s,computeBudgetConfig:l}){var c,u,d;let m,p=e.getAssociatedLedgerPoolAccount({programId:n.programId,poolId:n.id,mint:o.rewardMint.equals(E.PublicKey.default)?tu.WSOL.mint:o.rewardMint,type:"rewardVault"}),f=[],g=[],h=[],y=[],b=[];if(o.rewardMint.equals(E.PublicKey.default)?(m=yield t1.insertCreateWrappedNativeAccount({connection:r,owner:i.owner,payer:null!=(c=i.payer)?c:i.owner,instructions:f,signers:b,amount:tr(o.rewardEndTime).sub(tr(o.rewardOpenTime)).mul(tr(o.rewardPerSecond)),instructionsType:h}),g.push(t1.makeCloseAccountInstruction({programId:R,tokenAccount:m,owner:i.owner,payer:null!=(u=i.payer)?u:i.owner,instructionsType:y}))):m=this._selectTokenAccount({programId:R,tokenAccounts:i.tokenAccounts,mint:o.rewardMint,owner:i.owner,config:{associatedOnly:!1}}),rI.assertArgument(null!==m,"cannot found target token accounts","tokenAccounts",i.tokenAccounts),null===m)throw Error("cannot found target token accounts");let S=o.rewardMint.equals(E.PublicKey.default)?tu.WSOL.mint:o.rewardMint,A=tQ([tF("instruction"),tq("isSet"),tq("rewardPerSecond"),tq("rewardOpenTime"),tq("rewardEndTime"),tq("rewardType")]),w=v.Buffer.alloc(A.span);A.encode({instruction:4,isSet:new V.default(1),rewardPerSecond:tr(o.rewardPerSecond),rewardOpenTime:tr(o.rewardOpenTime),rewardEndTime:tr(o.rewardEndTime),rewardType:tr(rv[o.rewardType])},w);let T=[eQ(R,!1),eQ(eW,!1),eQ(E.SYSVAR_RENT_PUBKEY,!1),ej(n.id,!1),eQ(n.authority,!1),eQ(S,!1),ej(p,!1),ej(m,!1),eQ(i.owner,!0)],k=new E.TransactionInstruction({programId:n.programId,keys:T,data:w});return{address:{},innerTransactions:yield e2({connection:r,makeTxVersion:a,computeBudgetConfig:l,payer:null!=(d=i.payer)?d:i.owner,innerTransaction:[{instructionTypes:h,instructions:f,signers:b},{instructionTypes:[48],instructions:[k],signers:[]},{instructionTypes:y,instructions:g,signers:[]}],lookupTableCache:s})}})}static makeDepositInstructionSimple(r){return ef(this,arguments,function*({connection:r,poolKeys:n,fetchPoolInfo:i,ownerInfo:o,amount:a,associatedOnly:s=!0,checkCreateATAOwner:l=!1,makeTxVersion:c,lookupTableCache:u,computeBudgetConfig:d}){var m;let p={};for(let e of o.tokenAccounts)s?t$(o.wallet,e.accountInfo.mint,e.programId).publicKey.equals(e.pubkey)&&(p[e.accountInfo.mint.toString()]=e.pubkey):p[e.accountInfo.mint.toString()]=e.pubkey;let f=[],g=[],h=[],y=[],b=[],{lpVault:S,apiPoolInfo:A,ledger:w}=i,T=p[S.mint.toString()];rI.assertArgument(T,"you don't have any lp","lp zero",p);let k=[];for(let e of A.rewardInfos){let n=o.useSOLBalance&&e.rewardMint.equals(tu.WSOL.mint),i=null!=(m=p[e.rewardMint.toString()])?m:yield this._selectOrCreateTokenAccount({programId:R,mint:e.rewardMint,tokenAccounts:n?[]:o.tokenAccounts,owner:o.wallet,createInfo:{connection:r,payer:o.feePayer,amount:0,frontInstructions:f,frontInstructionsType:h,endInstructions:n?g:[],endInstructionsType:n?y:[],signers:b},associatedOnly:!n&&s,checkCreateATAOwner:l});p[e.rewardMint.toString()]=i,k.push(i)}let C=yield e.getAssociatedLedgerAccount({programId:new E.PublicKey(A.programId),poolId:new E.PublicKey(A.id),owner:o.wallet,version:A.version});if(A.version<6&&!w){let r=e.makeCreateAssociatedLedgerAccountInstruction({poolKeys:n,userKeys:{owner:o.wallet,ledger:C}});f.push(...r.innerTransaction.instructions),h.push(...r.innerTransaction.instructionTypes)}let I=e.makeDepositInstruction({poolKeys:n,userKeys:{ledger:C,lpTokenAccount:T,owner:o.wallet,rewardTokenAccounts:k},amount:a});return{address:I.address,innerTransactions:yield e2({connection:r,makeTxVersion:c,computeBudgetConfig:d,payer:o.feePayer,innerTransaction:[{instructionTypes:h,instructions:f,signers:b},I.innerTransaction,{instructionTypes:y,instructions:g,signers:[]}],lookupTableCache:u})}})}static makeWithdrawInstructionSimple(e){return ef(this,arguments,function*({connection:e,fetchPoolInfo:r,ownerInfo:n,amount:i,associatedOnly:o=!0,checkCreateATAOwner:a=!1,makeTxVersion:s,lookupTableCache:l,computeBudgetConfig:c}){var u,d;let m={};for(let e of n.tokenAccounts)o?t$(n.wallet,e.accountInfo.mint,e.programId).publicKey.equals(e.pubkey)&&(m[e.accountInfo.mint.toString()]=e.pubkey):m[e.accountInfo.mint.toString()]=e.pubkey;let p=[],f=[],g=[],h=[],y=[],b=[],S=[],{lpVault:A,wrapped:w,apiPoolInfo:T}=r;if(void 0===w)throw Error("no lp");let k=A.mint,C=n.useSOLBalance&&k.equals(tu.WSOL.mint),I=null!=(u=m[k.toString()])?u:yield this._selectOrCreateTokenAccount({programId:R,mint:k,tokenAccounts:C?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:p,frontInstructionsType:g,signers:S},associatedOnly:!C&&o,checkCreateATAOwner:a});m[k.toString()]=I;let v=[];for(let r of T.rewardInfos){let i=n.useSOLBalance&&r.rewardMint.equals(tu.WSOL.mint),s=null!=(d=m[r.rewardMint.toString()])?d:yield this._selectOrCreateTokenAccount({programId:R,mint:r.rewardMint,tokenAccounts:i?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:p,frontInstructionsType:g,endInstructions:i?f:[],endInstructionsType:i?h:[],signers:S},associatedOnly:!i&&o,checkCreateATAOwner:a});m[r.rewardMint.toString()]=s,v.push(s)}let P=this.makeWithdrawInstruction({poolKeys:T,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:T.programId,poolId:T.id,owner:n.wallet,version:T.version}),lpTokenAccount:I,rewardTokenAccounts:v,owner:n.wallet},amount:i});return y.push(...P.innerTransaction.instructions),b.push(...P.innerTransaction.instructionTypes),{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:s,computeBudgetConfig:c,payer:n.feePayer,innerTransaction:[{instructionTypes:g,instructions:p,signers:S},{instructionTypes:b,instructions:y,signers:[]},{instructionTypes:h,instructions:f,signers:[]}],lookupTableCache:l})}})}static makeHarvestAllRewardInstructionSimple(e){return ef(this,arguments,function*({connection:e,fetchPoolInfos:r,ownerInfo:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,makeTxVersion:a,lookupTableCache:s,computeBudgetConfig:l}){var c,u;let d={};for(let e of n.tokenAccounts)i?t$(n.wallet,e.accountInfo.mint,e.programId).publicKey.equals(e.pubkey)&&(d[e.accountInfo.mint.toString()]=e.pubkey):d[e.accountInfo.mint.toString()]=e.pubkey;let m=[],p=[],f=[],g=[],h=[],y=[];for(let{lpVault:a,wrapped:s,apiPoolInfo:l,ledger:b}of Object.values(r)){if(void 0===s||void 0===b||!(void 0!==s.pendingRewards.find(e=>e.gt(e8))||b.deposited.isZero()))continue;let r=a.mint,S=n.useSOLBalance&&r.equals(tu.WSOL.mint),A=null!=(c=d[r.toString()])?c:yield this._selectOrCreateTokenAccount({programId:R,mint:r,tokenAccounts:S?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:m,frontInstructionsType:f,signers:y},associatedOnly:!S&&i,checkCreateATAOwner:o});d[r.toString()]=A;let w=[];for(let r of l.rewardInfos){let a=n.useSOLBalance&&r.rewardMint.equals(tu.WSOL.mint),s=null!=(u=d[r.rewardMint.toString()])?u:yield this._selectOrCreateTokenAccount({programId:R,mint:r.rewardMint,tokenAccounts:a?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:m,frontInstructionsType:f,endInstructions:a?p:[],endInstructionsType:a?g:[],signers:y},associatedOnly:!a&&i,checkCreateATAOwner:o});d[r.rewardMint.toString()]=s,w.push(s)}let T=this.makeWithdrawInstruction({poolKeys:l,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:l.programId,poolId:l.id,owner:n.wallet,version:l.version}),lpTokenAccount:A,rewardTokenAccounts:w,owner:n.wallet},amount:0});h.push(T.innerTransaction)}return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:a,computeBudgetConfig:l,payer:n.feePayer,innerTransaction:[{instructionTypes:f,instructions:m,signers:y},...h,{instructionTypes:g,instructions:p,signers:[]}],lookupTableCache:s})}})}static makeV1InfoToV2PdaAndHarvestSimple(e){return ef(this,arguments,function*({connection:e,wallet:r,tokenAccounts:n,programIdV3:i,programIdV5:o,makeTxVersion:a,lookupTableCache:s,computeBudgetConfig:l}){let c={};for(let e of n){let n=e.accountInfo.mint,i=t$(r,n,e.programId).publicKey;i.equals(e.pubkey)&&(c[n.toString()]=i),void 0===c[n.toString()]&&(c[n.toString()]=e.pubkey)}let u=yield e.getProgramAccounts(i,{filters:[{memcmp:{offset:40,bytes:r.toString()}}]}),d=yield e.getProgramAccounts(o,{filters:[{memcmp:{offset:40,bytes:r.toString()}}]}),m={},p={};for(let e of u){let n=(e.account.data.length===rs.span?rs:rl).decode(e.account.data),o=n.id.toString(),a=this.getAssociatedLedgerAccount({programId:i,poolId:n.id,owner:r,version:3});void 0===m[o]&&(m[o]={pda:void 0,other:[]}),a.equals(e.pubkey)?m[o].pda=e.pubkey:m[o].other.push(e.pubkey)}for(let e of d){let n=(e.account.data.length===rc.span?rc:ru).decode(e.account.data),i=n.id.toString(),a=this.getAssociatedLedgerAccount({programId:o,poolId:n.id,owner:r,version:5});void 0===p[i]&&(p[i]={pda:void 0,other:[]}),a.equals(e.pubkey)?p[i].pda=e.pubkey:p[i].other.push(e.pubkey)}let f=[...Object.entries(m).filter(e=>e[1].other.length>0).map(e=>e[0]),...Object.entries(p).filter(e=>e[1].other.length>0).map(e=>e[0])],g=yield e.getMultipleAccountsInfo(f.map(e=>new E.PublicKey(e))),h={};for(let e=0;e<f.length;e++){let r=f[e],n=g[e];null!==n&&(h[r]=n.data)}let y=[],b=[],S=[],A=[],w=[];for(let[n,o]of Object.entries(m)){if(0===o.other.length||void 0===h[n])continue;let a=re.decode(h[n]),[s,l]=yield e.getMultipleAccountsInfo([a.lpVault,a.rewardVault]);if(null===s||null===l)throw Error("get lp and reward info error");let u=tJ.decode(s.data),d=tJ.decode(l.data),m=c[u.mint.toString()];void 0===m&&(m=yield this._selectOrCreateTokenAccount({programId:s.owner,mint:u.mint,tokenAccounts:[],owner:r,createInfo:{connection:e,payer:r,amount:0,frontInstructions:y,frontInstructionsType:b,endInstructions:[],endInstructionsType:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),c[u.mint.toString()]=m);let p=c[d.mint.toString()];if(void 0===p&&(p=yield this._selectOrCreateTokenAccount({programId:l.owner,mint:d.mint,tokenAccounts:[],owner:r,createInfo:{connection:e,payer:r,amount:0,frontInstructions:y,frontInstructionsType:b,endInstructions:d.mint.toString()===to.mint?A:[],endInstructionsType:d.mint.toString()===to.mint?w:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),c[d.mint.toString()]=p),void 0===o.pda){let e=this.makeCreateAssociatedLedgerAccountInstructionV3({poolKeys:{programId:i,id:new E.PublicKey(n)},userKeys:{ledger:this.getAssociatedLedgerAccount({programId:i,poolId:new E.PublicKey(n),owner:r,version:3}),owner:r}});S.push(e.innerTransaction)}let f=this.makeDepositInstructionV3({amount:0,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:i,poolId:new E.PublicKey(n),owner:r,version:3}),owner:r,lpTokenAccount:m,rewardTokenAccounts:[p],auxiliaryLedgers:o.other},poolKeys:{programId:i,id:new E.PublicKey(n),authority:this.getAssociatedAuthority({programId:i,poolId:new E.PublicKey(n)}).publicKey,lpVault:a.lpVault,rewardInfos:[{rewardVault:a.rewardVault}]}});S.push(f.innerTransaction)}for(let[n,i]of Object.entries(p)){if(0===i.other.length||void 0===h[n])continue;let a=rt.decode(h[n]),[s,l,u]=yield e.getMultipleAccountsInfo([a.lpVault,a.rewardVaultA,a.rewardVaultB]);if(null===s||null===l||null===u)throw Error("get lp and reward A / B info error");let d=tJ.decode(s.data),m=tJ.decode(l.data),p=tJ.decode(u.data),f=c[d.mint.toString()];void 0===f&&(f=yield this._selectOrCreateTokenAccount({programId:s.owner,mint:d.mint,tokenAccounts:[],owner:r,createInfo:{connection:e,payer:r,amount:0,frontInstructions:y,frontInstructionsType:b,endInstructions:[],endInstructionsType:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),c[d.mint.toString()]=f);let g=c[m.mint.toString()];void 0===g&&(g=yield this._selectOrCreateTokenAccount({programId:l.owner,mint:m.mint,tokenAccounts:[],owner:r,createInfo:{connection:e,payer:r,amount:0,frontInstructions:y,frontInstructionsType:b,endInstructions:m.mint.toString()===to.mint?A:[],endInstructionsType:m.mint.toString()===to.mint?w:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),c[m.mint.toString()]=g);let T=c[p.mint.toString()];if(void 0===T&&(T=yield this._selectOrCreateTokenAccount({programId:u.owner,mint:p.mint,tokenAccounts:[],owner:r,createInfo:{connection:e,payer:r,amount:0,frontInstructions:y,frontInstructionsType:b,endInstructions:p.mint.toString()===to.mint?A:[],endInstructionsType:p.mint.toString()===to.mint?w:[],signers:[]},associatedOnly:!0,checkCreateATAOwner:!0}),c[p.mint.toString()]=T),void 0===i.pda){let e=this.makeCreateAssociatedLedgerAccountInstructionV5({poolKeys:{programId:o,id:new E.PublicKey(n)},userKeys:{ledger:this.getAssociatedLedgerAccount({programId:o,poolId:new E.PublicKey(n),owner:r,version:5}),owner:r}});S.push(e.innerTransaction)}let k=this.makeDepositInstructionV5({amount:0,userKeys:{ledger:this.getAssociatedLedgerAccount({programId:o,poolId:new E.PublicKey(n),owner:r,version:5}),owner:r,lpTokenAccount:f,rewardTokenAccounts:[g,T],auxiliaryLedgers:i.other},poolKeys:{programId:o,id:new E.PublicKey(n),authority:this.getAssociatedAuthority({programId:o,poolId:new E.PublicKey(n)}).publicKey,lpVault:a.lpVault,rewardInfos:[{rewardVault:a.rewardVaultA},{rewardVault:a.rewardVaultB}]}});S.push(k.innerTransaction)}return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:a,computeBudgetConfig:l,payer:r,innerTransaction:[{instructionTypes:b.slice(0,10),instructions:y.slice(0,10),signers:[]},...y.length>10?[{instructionTypes:b.slice(10),instructions:y.slice(10),signers:[]}]:[],...S,{instructionTypes:w,instructions:A,signers:[]}],lookupTableCache:s})}})}static makeDepositTokenInstruction(e){return ef(this,arguments,function*({connection:e,programId:r,governanceProgramId:n,voteWeightAddinProgramId:i,realm:o,communityTokenMint:a,owner:s,poolId:l}){var c;let u,d,m,p,f,g,h,y,b,S,A,w,T=rS(i,o,a).publicKey,k=this.getAssociatedLedgerAccount({programId:r,poolId:l,owner:s,version:3}),C=yield e.getAccountInfo(k);if(null===C)throw Error("user is not staker");let I=rl.decode(C.data),P=I.deposited.sub(I.voteLockedBalance);if(P.eq(e8))throw Error("user do not has new stake amount");let L=rA(r,l).publicKey,_=rw(r,l).publicKey,{publicKey:x,nonce:D}=rT(i,T,s),O=t$(x,L,R).publicKey,{publicKey:B,nonce:V}=rk(i,T,s),M=rC(n,o,a,s).publicKey,F=[],N=t$(s,L,R).publicKey;if(null===(yield e.getAccountInfo(N))&&F.push(t1.makeCreateAssociatedTokenAccountInstruction({programId:R,mint:L,associatedAccount:N,owner:s,payer:s,instructionsType:[]})),null===(yield e.getAccountInfo(x))){let e,r,l,c,u,d,m,p=(e=tQ([tF("ins")]),r=[eQ(o,!1),eQ(s,!1),ej(M,!1),eQ(a,!1),ej(s,!0),eQ(eW,!1)],l=v.Buffer.alloc(e.span),e.encode({ins:23},l),new E.TransactionInstruction({keys:r,programId:n,data:l}));F.push(p,(c=tQ([tF("voterBump"),tF("voterWeightRecordBump")]),u=[eQ(T,!1),ej(x,!1),eQ(s,!0),ej(B,!1),ej(s,!0),eQ(eW,!1),eQ(eG,!1),eQ(eX,!1)],d=v.Buffer.alloc(c.span),c.encode({voterBump:D,voterWeightRecordBump:V},d),m=v.Buffer.from([...t9.voterStakeRegistryCreateVoter,...d]),new E.TransactionInstruction({keys:u,programId:i,data:m})))}let{index:q,isInit:W}=yield rL(e,T,x,L);return W||F.push((c=void 0,u=tQ([tF("depositEntryIndex"),tF("kind"),tF("option"),tq("startTs"),tN("periods"),tX("allowClawback")]),d=[eQ(T,!1),ej(x,!1),ej(O,!1),eQ(s,!0),ej(s,!0),eQ(L,!1),eQ(eW,!1),eQ(R,!1),eQ(U,!1),eQ(eG,!1)],m=v.Buffer.alloc(u.span),u.encode({depositEntryIndex:q,kind:0,option:+(void 0!==c),startTs:null!=c?c:e8,periods:0,allowClawback:!1},m),p=v.Buffer.from([...t9.voterStakeRegistryCreateDepositEntry,...m]),new E.TransactionInstruction({keys:d,programId:i,data:p}))),F.push((f=tQ([tF("depositEntryIndex"),tq("amount")]),g=[eQ(T,!1),ej(x,!1),ej(O,!1),ej(N,!1),eQ(s,!0),eQ(R,!1),ej(k,!1),eQ(l,!1),ej(L,!1),eQ(_,!1),eQ(r,!1),eQ(eX,!1)],h=v.Buffer.alloc(f.span),f.encode({depositEntryIndex:q,amount:P},h),y=v.Buffer.from([...t9.voterStakeRegistryDeposit,...h]),new E.TransactionInstruction({keys:g,programId:i,data:y})),(b=tQ([]),S=[eQ(T,!1),eQ(x,!1),ej(B,!1),eQ(eW,!1)],A=v.Buffer.alloc(b.span),b.encode({},A),w=v.Buffer.from([...t9.voterStakeRegistryUpdateVoterWeightRecord,...A]),new E.TransactionInstruction({keys:S,programId:i,data:w}))),{address:{},innerTransaction:{instructions:F,signers:[],lookupTableAddress:[],instructionTypes:Array(F.length).fill(50)}}})}static makeWithdrawTokenInstruction(e){return ef(this,arguments,function*({connection:e,programId:r,governanceProgramId:n,voteWeightAddinProgramId:i,realm:o,communityTokenMint:a,owner:s,poolId:l}){var c,u;let d,m,p,f,g=rS(i,o,a).publicKey,h=this.getAssociatedLedgerAccount({programId:r,poolId:l,owner:s,version:3}),y=yield e.getAccountInfo(h);if(null===y)throw Error("user is not staker");let b=rl.decode(y.data);if(b.voteLockedBalance.eq(e8))throw Error("user has vote locked balance = 0");let S=rA(r,l).publicKey,A=rw(r,l).publicKey,{publicKey:w}=rT(i,g,s),T=t$(w,S,R).publicKey,{publicKey:k}=rk(i,g,s),C=rC(n,o,a,s).publicKey,I=[],{index:P,isInit:L}=yield rL(e,g,w,S);if(!L)throw Error("deposit entry index check error");return I.push((c=t$(s,S,R).publicKey,u=b.voteLockedBalance,d=tQ([tF("depositEntryIndex"),tq("amount")]),m=[eQ(g,!1),ej(w,!1),eQ(s,!0),eQ(C,!1),ej(k,!1),ej(T,!1),ej(c,!1),eQ(R,!1),ej(h,!1),eQ(l,!1),ej(S,!1),eQ(A,!1),eQ(r,!1),eQ(eX,!1)],p=v.Buffer.alloc(d.span),d.encode({depositEntryIndex:P,amount:u},p),f=v.Buffer.from([...t9.voterStakeRegistryWithdraw,...p]),new E.TransactionInstruction({keys:m,programId:i,data:f}))),{address:{},innerTransaction:{instructions:I,signers:[],lookupTableAddress:[],instructionTypes:Array(I.length).fill(50)}}})}};function rL(e,r,n,i){return ef(this,null,function*(){let o=yield e.getAccountInfo(r);if(null===o)throw Error("registrar info check error");let a=rg.decode(o.data).votingMints.findIndex(e=>e.mint.equals(i));if(-1===a)throw Error("find voter mint error");let s=yield e.getAccountInfo(n);if(null===s)return{index:a,isInit:!1};let l=rb.decode(s.data).deposits.findIndex(e=>e.isUsed&&e.votingMintConfigIdx===a);return -1===l?{index:a,isInit:!1}:{index:l,isInit:!0}})}ts.RAY_USDT_V4,ta.RAY,ts.xCOPE_USDC_V4,ts.STEP_USDC_V4,ts.MEDIA_USDC_V4,ts.COPE_USDC_V4,ts.MER_USDC_V4,ts.ROPE_USDC_V4,ts.ALEPH_USDC_V4,ts.TULIP_USDC_V4,ts.SNY_USDC_V4,ts.BOP_RAY_V4,ts.SLRS_USDC_V4,ts.SAMO_RAY_V4,ts.LIKE_USDC_V4,ts.RAY_SOL_V4,ts.RAY_USDC_V4,ts.RAY_ETH_V4,ts.RAY_SRM_V4,ts.MNGO_USDC_V4,ts.COPE_RAY_V4,ts.LIKE_RAY_V4,ts.MEDIA_RAY_V4,ts.MER_RAY_V4,ts.SLRS_RAY_V4,ts.SNY_RAY_V4,ts.TULIP_RAY_V4,ts.ALEPH_RAY_V4,ts.RAY_SRM_V4,ts.ATLAS_USDC_V4,ts.POLIS_USDC_V4,ts.ATLAS_RAY_V4,ts.POLIS_RAY_V4,ts.GRAPE_USDC_V4,ts.LARIX_USDC_V4,ts.LARIX_RAY_V4,ts.stSOL_USDC_V4,ts.BTC_mSOL_V4,ts.ETH_mSOL_V4,ts.mSOL_USDT_V4,ts.MNDE_mSOL_V4,ts.mSOL_USDC_V4,ts.mSOL_RAY_V4,ts.LIQ_USDC_V4,ts.LIQ_RAY_V4,ts.SYP_RAY_V4,ts.SYP_SOL_V4,ts.SYP_USDC_V4,ts.WOOF_RAY_V4,ts.KIN_RAY_V4,ts.STARS_USDC_V4,ts.weWETH_SOL_V4,ts.weWETH_USDC_V4,ts.weUNI_USDC_V4,ts.weSUSHI_USDC_V4,ts.weAXS_USDC_V4,ts.weDYDX_USDC_V4,ts.weSHIB_USDC_V4,ts.weSAND_USDC_V4,ts.weMANA_USDC_V4,ts.wbWBNB_USDC_V4,ts.wePEOPLE_USDC_V4,ts.SRM_USDC_V4,ts.CAVE_USDC_V4,ts.GENE_USDC_V4,ts.GENE_RAY_V4,ts.CWAR_USDC_V4,ts.SONAR_USDC_V4,ts.APT_USDC_V4,ts.SHILL_USDC_V4,ts.DFL_USDC_V4,ts.BOKU_USDC_V4,ts.MIMO_SOL_V4,ts.XTAG_USDC_V4,ts.TTT_USDC_V4,ts.SOL_USDC_V4,ts.SOL_USDT_V4,ts.RUN_USDC_V4,ts.CRWNY_RAY_V4,ts.CRWNY_USDC_V4,ts.REAL_USDC_V4,ts.BLOCK_USDC_V4,ts.FRKT_SOL_V4,ts.FRKT_USDC_V4,ts.MBS_USDC_V4,ts.PRISM_USDC_V4,ts.CHICKS_USDC_V4,ts.MEAN_RAY_V4,ts.TINY_USDC_V4,ts.SCY_USDC_V4;var r_={4:tQ([tq("status"),tq("nonce"),tq("maxOrder"),tq("depth"),tq("baseDecimal"),tq("quoteDecimal"),tq("state"),tq("resetFlag"),tq("minSize"),tq("volMaxCutRatio"),tq("amountWaveRatio"),tq("baseLotSize"),tq("quoteLotSize"),tq("minPriceMultiplier"),tq("maxPriceMultiplier"),tq("systemDecimalValue"),tq("minSeparateNumerator"),tq("minSeparateDenominator"),tq("tradeFeeNumerator"),tq("tradeFeeDenominator"),tq("pnlNumerator"),tq("pnlDenominator"),tq("swapFeeNumerator"),tq("swapFeeDenominator"),tq("baseNeedTakePnl"),tq("quoteNeedTakePnl"),tq("quoteTotalPnl"),tq("baseTotalPnl"),tq("poolOpenTime"),tq("punishPcAmount"),tq("punishCoinAmount"),tq("orderbookToInitTime"),tW("swapBaseInAmount"),tW("swapQuoteOutAmount"),tq("swapBase2QuoteFee"),tW("swapQuoteInAmount"),tW("swapBaseOutAmount"),tq("swapQuote2BaseFee"),tY("baseVault"),tY("quoteVault"),tY("baseMint"),tY("quoteMint"),tY("lpMint"),tY("openOrders"),tY("marketId"),tY("marketProgramId"),tY("targetOrders"),tY("withdrawQueue"),tY("lpVault"),tY("owner"),tq("lpReserve"),tZ(tq(),3,"padding")]),5:tQ([tq("accountType"),tq("status"),tq("nonce"),tq("maxOrder"),tq("depth"),tq("baseDecimal"),tq("quoteDecimal"),tq("state"),tq("resetFlag"),tq("minSize"),tq("volMaxCutRatio"),tq("amountWaveRatio"),tq("baseLotSize"),tq("quoteLotSize"),tq("minPriceMultiplier"),tq("maxPriceMultiplier"),tq("systemDecimalsValue"),tq("abortTradeFactor"),tq("priceTickMultiplier"),tq("priceTick"),tq("minSeparateNumerator"),tq("minSeparateDenominator"),tq("tradeFeeNumerator"),tq("tradeFeeDenominator"),tq("pnlNumerator"),tq("pnlDenominator"),tq("swapFeeNumerator"),tq("swapFeeDenominator"),tq("baseNeedTakePnl"),tq("quoteNeedTakePnl"),tq("quoteTotalPnl"),tq("baseTotalPnl"),tq("poolOpenTime"),tq("punishPcAmount"),tq("punishCoinAmount"),tq("orderbookToInitTime"),tW("swapBaseInAmount"),tW("swapQuoteOutAmount"),tW("swapQuoteInAmount"),tW("swapBaseOutAmount"),tq("swapQuote2BaseFee"),tq("swapBase2QuoteFee"),tY("baseVault"),tY("quoteVault"),tY("baseMint"),tY("quoteMint"),tY("lpMint"),tY("modelDataAccount"),tY("openOrders"),tY("marketId"),tY("marketProgramId"),tY("targetOrders"),tY("owner"),tZ(tq(),64,"padding")])},rx=[233,146,209,142,207,104,64,188],rD=[95,135,192,196,242,129,230,68],rE=[112,52,167,75,32,201,211,137],rR=[77,184,74,214,112,86,241,199],rO=[123,134,81,0,49,68,98,98],rU=[133,29,89,223,69,238,176,10],rB=[58,127,188,62,79,82,196,96],rV=[43,4,237,11,26,201,30,98],rM=[18,237,166,197,34,16,213,144];function rF(e,r,n,i,o,a,s,l,c,u,d,m,p,f,g,h,y){let b=tQ([tq("amount"),tq("otherAmountThreshold"),tW("sqrtPriceLimitX64"),tX("isBaseInput")]),S=[{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:eK,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},...y?[{pubkey:y,isSigner:!1,isWritable:!0}]:[],...d.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],A=v.Buffer.alloc(b.span);b.encode({amount:p,otherAmountThreshold:f,sqrtPriceLimitX64:g,isBaseInput:h},A);let w=v.Buffer.from([...rV,...A]);return new E.TransactionInstruction({keys:S,programId:e,data:w})}var rN=new V.default(-1),rq=new V.default(1).shln(64),rW=new V.default(1).shln(128),rK=rq.sub(e7),rG=rW.subn(1),rY=new V.default("4295048016"),rX=new V.default("79226673521066979257578248091"),rz=new V.default(10).pow(new V.default(6)),rH=((d=rH||{})[d.rate_500=500]="rate_500",d[d.rate_3000=3e3]="rate_3000",d[d.rate_10000=1e4]="rate_10000",d),rj=new V.default("18446744073700000000");function rQ(e){let r=new ArrayBuffer(4);return new DataView(r).setInt32(0,e,!1),new Uint8Array(r)}function rZ(e,r){let n=0;for(let i=e-1;i>=0;i--)if(r.testn(i))break;else n++;return n}function rJ(e,r){let n=0;for(let i=0;i<e;i++)if(r.testn(i))break;else n++;return n}function r$(e,r){for(let n=0;n<e;n++)if(r.testn(n))return!1;return!0}v.Buffer.from("amm_config","utf8");var r1=v.Buffer.from("pool","utf8"),r0=v.Buffer.from("pool_vault","utf8"),r4=v.Buffer.from("pool_reward_vault","utf8"),r2=v.Buffer.from("position","utf8"),r3=v.Buffer.from("tick_array","utf8"),r6=v.Buffer.from("operation","utf8"),r5=v.Buffer.from("pool_tick_array_bitmap_extension","utf8");function r8(e,r,n){return eH([r0,r.toBuffer(),n.toBuffer()],e)}function r7(e,r,n){return eH([r3,r.toBuffer(),rQ(n)],e)}function r9(e,r,n,i){return eH([r2,r.toBuffer(),rQ(n),rQ(i)],e)}function ne(e,r){return eH([r2,r.toBuffer()],e)}function nt(e){return eH([v.Buffer.from("metadata","utf8"),eY.toBuffer(),e.toBuffer()],eY)}function nr(e,r){return eH([r5,r.toBuffer()],e)}var nn=class e{static getTickArrays(e,r,n,i,o,a,s){return ef(this,null,function*(){let l=[],c=no.getTickArrayStartIndexByTick(i,o),u=no.getInitializedTickArrayInRange(a,s,o,c,Math.floor(7.5));for(let e=0;e<u.length;e++){let{publicKey:i}=r7(r,n,u[e]);l.push(i)}let d=(yield e$(e,l)).map(e=>null!==e?ng.decode(e.data):null),m={};for(let e=0;e<l.length;e++){let r=d[e];null!==r&&(m[r.startTickIndex]=ep(em({},r),{address:l[e]}))}return m})}static nextInitializedTick(e,r,n,i,o,a){let{initializedTick:s,tickArrayAddress:l,tickArrayStartTickIndex:c}=this.nextInitializedTickInOneArray(e,r,n,i,o,a);for(;void 0==s||s.liquidityGross.lten(0);){if(c=no.getNextTickArrayStartIndex(c,o,a),this.checkIsValidStartIndex(c,o))throw Error("No enough initialized tickArray");let i=n[c];if(void 0===i)continue;let{nextTick:u,tickArrayAddress:d,tickArrayStartTickIndex:m}=this.firstInitializedTickInOneArray(e,r,i,a);[s,l,c]=[u,d,m]}if(void 0==s)throw Error("No invaild tickArray cache");return{nextTick:s,tickArrayAddress:l,tickArrayStartTickIndex:c}}static nextInitializedTickArray(r,n,i,o,a){let s=Math.floor(r/e.tickCount(n)),l=i?no.searchLowBitFromStart(o,a,s-1,1,n):no.searchHightBitFromStart(o,a,s+1,1,n);return l.length>0?{isExist:!0,nextStartIndex:l[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,r,n,i){let o;if(i){let e=ni-1;for(;e>=0;){let r=n.ticks[e];if(r.liquidityGross.gtn(0)){o=r;break}e-=1}}else{let e=0;for(;e<ni;){let r=n.ticks[e];if(r.liquidityGross.gtn(0)){o=r;break}e+=1}}let{publicKey:a}=r7(e,r,n.startTickIndex);return{nextTick:o,tickArrayAddress:a,tickArrayStartTickIndex:n.startTickIndex}}static nextInitializedTickInOneArray(e,r,n,i,o,a){let s,l=no.getTickArrayStartIndexByTick(i,o),c=Math.floor((i-l)/o),u=n[l];if(void 0==u)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:l};if(a)for(;c>=0;){let e=u.ticks[c];if(e.liquidityGross.gtn(0)){s=e;break}c-=1}else for(c+=1;c<ni;){let e=u.ticks[c];if(e.liquidityGross.gtn(0)){s=e;break}c+=1}let{publicKey:d}=r7(e,r,l);return{initializedTick:s,tickArrayAddress:d,tickArrayStartTickIndex:u.startTickIndex}}static getArrayStartIndex(e,r){let n=this.tickCount(r);return Math.floor(e/n)*n}static checkIsValidStartIndex(e,r){return no.checkIsOutOfBoundary(e)?!(e>443636)&&e==no.getTickArrayStartIndexByTick(-443636,r):e%this.tickCount(r)==0}static tickCount(e){return ni*e}},ni=60,no=class e{static getTickArrayAddressByTick(r,n,i,o){let{publicKey:a}=r7(r,n,e.getTickArrayStartIndexByTick(i,o));return a}static getTickOffsetInArray(r,n){if(r%n!=0)throw Error("tickIndex % tickSpacing not equal 0");let i=e.getTickArrayStartIndexByTick(r,n),o=Math.floor((r-i)/n);if(o<0||o>=ni)throw Error("tick offset in array overflow");return o}static getTickArrayBitIndex(e,r){let n=nn.tickCount(r),i=e/n;return e<0&&e%n!=0?Math.ceil(i)-1:Math.floor(i)}static getTickArrayStartIndexByTick(e,r){return this.getTickArrayBitIndex(e,r)*nn.tickCount(r)}static getTickArrayOffsetInBitmapByTick(e,r){return Math.abs(Math.floor(e/(r*ni))+512)}static checkTickArrayIsInitialized(e,r,n){let i=n*ni,o=Math.abs(Math.floor(r/i)+512);return{isInitialized:e.testn(o),startIndex:(o-512)*i}}static getNextTickArrayStartIndex(e,r,n){return n?e-r*ni:e+r*ni}static mergeTickArrayBitmap(e){let r=new V.default(0);for(let n=0;n<e.length;n++)r=r.add(e[n].shln(64*n));return r}static getInitializedTickArrayInRange(r,n,i,o,a){let s=Math.floor(o/(i*ni));return[...e.searchLowBitFromStart(r,n,s-1,a,i),...e.searchHightBitFromStart(r,n,s,a,i)]}static getAllInitializedTickArrayStartIndex(r,n,i){return e.searchHightBitFromStart(r,n,0,512,i)}static getAllInitializedTickArrayInfo(r,n,i,o,a){let s=[];for(let l of e.getAllInitializedTickArrayStartIndex(i,o,a)){let{publicKey:e}=r7(r,n,l);s.push({tickArrayStartIndex:l,tickArrayAddress:e})}return s}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(r,n,i,o,a){let s=[...[...n.negativeTickArrayBitmap].reverse(),r.slice(0,8),r.slice(8,16),...n.positiveTickArrayBitmap].map(r=>e.mergeTickArrayBitmap(r)),l=[];for(;i>=-7680;){let e=Math.floor((i+7680)/512),r=(i+7680)%512;if(s[e].testn(r)&&l.push(i),i--,l.length===o)break}let c=nn.tickCount(a);return l.map(e=>e*c)}static searchHightBitFromStart(r,n,i,o,a){let s=[...[...n.negativeTickArrayBitmap].reverse(),r.slice(0,8),r.slice(8,16),...n.positiveTickArrayBitmap].map(r=>e.mergeTickArrayBitmap(r)),l=[];for(;i<7680;){let e=Math.floor((i+7680)/512),r=(i+7680)%512;if(s[e].testn(r)&&l.push(i),i++,l.length===o)break}let c=nn.tickCount(a);return l.map(e=>e*c)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,r,n,i,o){if(nn.getArrayStartIndex(r,n)!=e.startTickIndex)return null;let a=Math.floor((r-e.startTickIndex)/n);if(i)for(;a>=0;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a-=1}else for(o||(a+=1);a<ni;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a+=1}return null}static firstInitializedTick(e,r){if(r){let r=ni-1;for(;r>=0;){if(e.ticks[r].liquidityGross.gtn(0))return e.ticks[r];r-=1}}else{let r=0;for(;r<ni;){if(e.ticks[r].liquidityGross.gtn(0))return e.ticks[r];r+=1}}throw Error(`firstInitializedTick check error: ${e} - ${r}`)}},na=class{static maxTickInTickarrayBitmap(e){return e*ni*512}static getBitmapTickBoundary(e,r){let n=this.maxTickInTickarrayBitmap(r),i=Math.floor(Math.abs(e)/n);e<0&&Math.abs(e)%n!=0&&(i+=1);let o=n*i;return e<0?{minValue:-o,maxValue:-o+n}:{minValue:o,maxValue:o+n}}static nextInitializedTickArrayStartIndex(e,r,n,i){var o,a;if(!nn.checkIsValidStartIndex(r,n))throw Error("nextInitializedTickArrayStartIndex check error");let s=this.maxTickInTickarrayBitmap(n),l=i?r-nn.tickCount(n):r+nn.tickCount(n);if(l<-s||l>=s)return{isInit:!1,tickIndex:r};let c=n*ni,u=l/c+512;l<0&&l%c!=0&&u--;let d=Math.abs(u);if(i){let r=r$(1024,o=e.shln(1024-d-1))?null:rZ(1024,o);return null!==r?{isInit:!0,tickIndex:(d-r-512)*c}:{isInit:!1,tickIndex:-s}}{let r=r$(1024,a=e.shrn(d))?null:rJ(1024,a);return null!==r?{isInit:!0,tickIndex:(d+r-512)*c}:{isInit:!1,tickIndex:s-nn.tickCount(n)}}}},ns=class{static getBitmapOffset(e,r){if(!nn.checkIsValidStartIndex(e,r))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,r);let n=na.maxTickInTickarrayBitmap(r),i=Math.floor(Math.abs(e)/n)-1;return e<0&&Math.abs(e)%n==0&&i--,i}static getBitmap(e,r,n){let i=this.getBitmapOffset(e,r);return e<0?{offset:i,tickarrayBitmap:n.negativeTickArrayBitmap[i]}:{offset:i,tickarrayBitmap:n.positiveTickArrayBitmap[i]}}static checkExtensionBoundary(e,r){let{positiveTickBoundary:n,negativeTickBoundary:i}=this.extensionTickBoundary(r);if(e>=i&&e<n)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let r=na.maxTickInTickarrayBitmap(e),n=-r;if(443636<=r)throw Error(`extensionTickBoundary check error: 443636, ${r}`);if(n<=-443636)throw Error(`extensionTickBoundary check error: ${n}, -443636`);return{positiveTickBoundary:r,negativeTickBoundary:n}}static checkTickArrayIsInit(e,r,n){let{tickarrayBitmap:i}=this.getBitmap(e,r,n),o=this.tickArrayOffsetInBitmap(e,r);return{isInitialized:no.mergeTickArrayBitmap(i).testn(o),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,r,n,i){let o=nn.tickCount(r),a=n?e-o:e+o,s=nn.getArrayStartIndex(-443636,r),l=nn.getArrayStartIndex(443636,r);if(a<s||a>l)return{isInit:!1,tickIndex:a};let{tickarrayBitmap:c}=this.getBitmap(a,r,i);return this.nextInitializedTickArrayInBitmap(c,a,r,n)}static nextInitializedTickArrayInBitmap(e,r,n,i){let{minValue:o,maxValue:a}=na.getBitmapTickBoundary(r,n),s=this.tickArrayOffsetInBitmap(r,n);if(i){let i=no.mergeTickArrayBitmap(e).shln(511-s),a=r$(512,i)?null:rZ(512,i);return null!==a?{isInit:!0,tickIndex:r-a*nn.tickCount(n)}:{isInit:!1,tickIndex:o}}{let i=no.mergeTickArrayBitmap(e).shrn(s),o=r$(512,i)?null:rJ(512,i);return null!==o?{isInit:!0,tickIndex:r+o*nn.tickCount(n)}:{isInit:!1,tickIndex:a-nn.tickCount(n)}}}static tickArrayOffsetInBitmap(e,r){let n=Math.abs(e)%na.maxTickInTickarrayBitmap(r),i=Math.floor(n/nn.tickCount(r));return e<0&&0!=n&&(i=512-i),i}};tQ([tU(8),tF("bump"),tD("index"),tY(""),tN("protocolFeeRate"),tN("tradeFeeRate"),tD("tickSpacing"),tN("fundFeeRate"),tZ(tN(),1,"padding"),tY("fundOwner"),tZ(tq(),3,"padding")]);var nl=tQ([tN("blockTimestamp"),tW("sqrtPriceX64"),tW("cumulativeTimePriceX64"),tZ(tW(),1,"")]),nc=tQ([tU(8),tX("initialized"),tY("poolId"),tZ(nl,1e3,"observations"),tZ(tW(),5,"")]),nu=tQ([tF("rewardState"),tq("openTime"),tq("endTime"),tq("lastUpdateTime"),tW("emissionsPerSecondX64"),tq("rewardTotalEmissioned"),tq("rewardClaimed"),tY("tokenMint"),tY("tokenVault"),tY("creator"),tW("rewardGrowthGlobalX64")]),nd=tQ([tU(8),tF("bump"),tY("ammConfig"),tY("creator"),tY("mintA"),tY("mintB"),tY("vaultA"),tY("vaultB"),tY("observationId"),tF("mintDecimalsA"),tF("mintDecimalsB"),tD("tickSpacing"),tW("liquidity"),tW("sqrtPriceX64"),tR("tickCurrent"),tD("observationIndex"),tD("observationUpdateDuration"),tW("feeGrowthGlobalX64A"),tW("feeGrowthGlobalX64B"),tq("protocolFeesTokenA"),tq("protocolFeesTokenB"),tW("swapInAmountTokenA"),tW("swapOutAmountTokenB"),tW("swapInAmountTokenB"),tW("swapOutAmountTokenA"),tF("status"),tZ(tF(),7,""),tZ(nu,3,"rewardInfos"),tZ(tq(),16,"tickArrayBitmap"),tq("totalFeesTokenA"),tq("totalFeesClaimedTokenA"),tq("totalFeesTokenB"),tq("totalFeesClaimedTokenB"),tq("fundFeesTokenA"),tq("fundFeesTokenB"),tq("startTime"),tZ(tq(),57,"padding")]),nm=tQ([tW("growthInsideLastX64"),tq("rewardAmountOwed")]),np=tQ([tU(8),tF("bump"),tY("nftMint"),tY("poolId"),tR("tickLower"),tR("tickUpper"),tW("liquidity"),tW("feeGrowthInsideLastX64A"),tW("feeGrowthInsideLastX64B"),tq("tokenFeesOwedA"),tq("tokenFeesOwedB"),tZ(nm,3,"rewardInfos"),tZ(tq(),8,"")]);tQ([tU(8),tF("bump"),tY("poolId"),tR("tickLowerIndex"),tR("tickUpperIndex"),tW("liquidity"),tW("feeGrowthInsideLastX64A"),tW("feeGrowthInsideLastX64B"),tq("tokenFeesOwedA"),tq("tokenFeesOwedB"),tZ(tW(),3,"rewardGrowthInside"),tZ(tq(),8,"")]);var nf=tQ([tR("tick"),new tV(16,!0,"liquidityNet"),tW("liquidityGross"),tW("feeGrowthOutsideX64A"),tW("feeGrowthOutsideX64B"),tZ(tW(),3,"rewardGrowthsOutsideX64"),tZ(tN(),13,"")]),ng=tQ([tU(8),tY("poolId"),tR("startTickIndex"),tZ(nf,ni,"ticks"),tF("initializedTickCount"),tZ(tF(),115,"")]),nh=tQ([tU(329),tZ(tY(),100,"whitelistMints")]),ny=tQ([tU(8),tY("poolId"),tZ(tZ(tq(),8),14,"positiveTickArrayBitmap"),tZ(tZ(tq(),8),14,"negativeTickArrayBitmap")]),nb=class e{static getOutputAmountAndRemainAccounts(e,r,n,i,o,a=!1){let s=n.equals(e.mintA.mint),l=[],{isExist:c,startIndex:u,nextAccountMeta:d}=this.getFirstInitializedTickArray(e,s);if(!c||void 0===u||!d)throw Error("Invalid tick array");try{let r=this.preInitializedTickArrayStartIndex(e,s);if(r.isExist){let{publicKey:n}=r7(e.programId,e.id,r.nextStartIndex);l.push(n)}}catch(e){}l.push(d);let{allTrade:m,amountSpecifiedRemaining:p,amountCalculated:f,accounts:g,sqrtPriceX64:h,feeAmount:y}=nI.swapCompute(e.programId,e.id,r,e.tickArrayBitmap,e.exBitmapInfo,s,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,u,o,a);return l.push(...g),{allTrade:m,realTradeAmountIn:i.sub(p),expectedAmountOut:f.mul(rN),remainingAccounts:l,executionPrice:h,feeAmount:y}}static getInputAmountAndRemainAccounts(e,r,n,i,o){let a=n.equals(e.mintB.mint),s=[],{isExist:l,startIndex:c,nextAccountMeta:u}=this.getFirstInitializedTickArray(e,a);if(!l||void 0===c||!u)throw Error("Invalid tick array");try{let r=this.preInitializedTickArrayStartIndex(e,a);if(r.isExist){let{publicKey:n}=r7(e.programId,e.id,r.nextStartIndex);s.push(n)}}catch(e){}s.push(u);let{amountCalculated:d,accounts:m,sqrtPriceX64:p,feeAmount:f}=nI.swapCompute(e.programId,e.id,r,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i.mul(rN),c,o);return s.push(...m),{expectedAmountIn:d,remainingAccounts:s,executionPrice:p,feeAmount:f}}static getFirstInitializedTickArray(r,n){let{isInitialized:i,startIndex:o}=e.isOverflowDefaultTickarrayBitmap(r.tickSpacing,[r.tickCurrent])?ns.checkTickArrayIsInit(nn.getArrayStartIndex(r.tickCurrent,r.tickSpacing),r.tickSpacing,r.exBitmapInfo):no.checkTickArrayIsInitialized(no.mergeTickArrayBitmap(r.tickArrayBitmap),r.tickCurrent,r.tickSpacing);if(i){let{publicKey:e}=r7(r.programId,r.id,o);return{isExist:!0,startIndex:o,nextAccountMeta:e}}let{isExist:a,nextStartIndex:s}=this.nextInitializedTickArrayStartIndex(r,nn.getArrayStartIndex(r.tickCurrent,r.tickSpacing),n);if(a){let{publicKey:e}=r7(r.programId,r.id,s);return{isExist:!0,startIndex:s,nextAccountMeta:e}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,r){let n=Math.floor(e.tickCurrent/nn.tickCount(e.tickSpacing)),i=r?no.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,n+1,1,e.tickSpacing):no.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,n-1,1,e.tickSpacing);return i.length>0?{isExist:!0,nextStartIndex:i[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,r,n){for(r=nn.getArrayStartIndex(r,e.tickSpacing);;){let{isInit:i,tickIndex:o}=na.nextInitializedTickArrayStartIndex(no.mergeTickArrayBitmap(e.tickArrayBitmap),r,e.tickSpacing,n);if(i)return{isExist:!0,nextStartIndex:o};r=o;let{isInit:a,tickIndex:s}=ns.nextInitializedTickArrayFromOneBitmap(r,e.tickSpacing,n,e.exBitmapInfo);if(a)return{isExist:!0,nextStartIndex:s};if((r=s)<-443636||r>443636)return{isExist:!1,nextStartIndex:0}}}static updatePoolRewardInfos(e){return ef(this,arguments,function*({connection:e,apiPoolInfo:r,chainTime:n,poolLiquidity:i,rewardInfos:o}){var a,s,l;let c=[];for(let u=0;u<o.length;u++){let d=o[u],m=null!=(l=null==(a=r.rewardInfos[u])?void 0:a.programId)?l:null==(s=yield e.getAccountInfo(d.tokenMint))?void 0:s.owner;if(void 0===m)throw Error("get new reward mint info error");let p=ep(em({},d),{perSecond:nS.x64ToDecimal(d.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new E.PublicKey(m)});if(p.tokenMint.equals(E.PublicKey.default))continue;if(n<=p.openTime.toNumber()||i.eq(e8)){c.push(p);continue}let f=new V.default(Math.min(p.endTime.toNumber(),n)),g=f.sub(p.lastUpdateTime),h=nS.mulDivFloor(g,p.emissionsPerSecondX64,i),y=p.rewardGrowthGlobalX64.add(h),b=nS.mulDivFloor(g,p.emissionsPerSecondX64,rq),S=p.rewardTotalEmissioned.add(b);c.push(ep(em({},p),{rewardGrowthGlobalX64:y,rewardTotalEmissioned:S,lastUpdateTime:f}))}return c})}static isOverflowDefaultTickarrayBitmap(e,r){let{maxTickBoundary:n,minTickBoundary:i}=this.tickRange(e);for(let o of r){let r=no.getTickArrayStartIndexByTick(o,e);if(r>=n||r<i)return!0}return!1}static tickRange(e){let r=na.maxTickInTickarrayBitmap(e),n=-r;return r>443636&&(r=nn.getArrayStartIndex(443636,e)+nn.tickCount(e)),n<-443636&&(n=nn.getArrayStartIndex(-443636,e)),{maxTickBoundary:r,minTickBoundary:n}}static get_tick_array_offset(e,r){if(!nn.checkIsValidStartIndex(e,r))throw Error("No enough initialized tickArray");return e/nn.tickCount(r)*512}},nS=class{static mulDivRoundingUp(e,r,n){let i=e.mul(r),o=i.div(n);return i.mod(n).eq(e8)||(o=o.add(e7)),o}static mulDivFloor(e,r,n){if(n.eq(e8))throw Error("division by 0");return e.mul(r).div(n)}static mulDivCeil(e,r,n){if(n.eq(e8))throw Error("division by 0");return e.mul(r).add(n.sub(e7)).div(n)}static x64ToDecimal(e,r){return new en.default(e.toString()).div(en.default.pow(2,64)).toDecimalPlaces(r)}static decimalToX64(e){return new V.default(e.mul(en.default.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,r){return e.add(rW).sub(r).mod(rW)}};function nA(e,r){return nw(e.mul(r),64,256)}function nw(e,r,n){let i=e.toTwos(n).shrn(r);return i.imaskn(n-r+1),i.fromTwos(n-r)}var nT=class e{static sqrtPriceX64ToPrice(e,r,n){return nS.x64ToDecimal(e).pow(2).mul(en.default.pow(10,r-n))}static priceToSqrtPriceX64(e,r,n){return nS.decimalToX64(e.mul(en.default.pow(10,n-r)).sqrt())}static getNextSqrtPriceX64FromInput(e,r,n,i){if(!e.gt(e8))throw Error("sqrtPriceX64 must greater than 0");if(!r.gt(e8))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,r,n,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,r,n,!0)}static getNextSqrtPriceX64FromOutput(e,r,n,i){if(!e.gt(e8))throw Error("sqrtPriceX64 must greater than 0");if(!r.gt(e8))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,r,n,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,r,n,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,r,n,i){if(n.eq(e8))return e;let o=r.shln(64);if(i){let r=o.add(n.mul(e));return r.gte(o)?nS.mulDivCeil(o,e,r):nS.mulDivRoundingUp(o,e7,o.div(e).add(n))}{let r=n.mul(e);if(!o.gt(r))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let i=o.sub(r);return nS.mulDivCeil(o,e,i)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,r,n,i){let o=n.shln(64);if(i)return e.add(o.div(r));{let n=nS.mulDivRoundingUp(o,e7,r);if(!e.gt(n))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(n)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let r=e<0?-1*e:e,n=new V.default((1&r)!=0?"18445821805675395072":"18446744073709551616");return(2&r)!=0&&(n=nA(n,new V.default("18444899583751176192"))),(4&r)!=0&&(n=nA(n,new V.default("18443055278223355904"))),(8&r)!=0&&(n=nA(n,new V.default("18439367220385607680"))),(16&r)!=0&&(n=nA(n,new V.default("18431993317065453568"))),(32&r)!=0&&(n=nA(n,new V.default("18417254355718170624"))),(64&r)!=0&&(n=nA(n,new V.default("18387811781193609216"))),(128&r)!=0&&(n=nA(n,new V.default("18329067761203558400"))),(256&r)!=0&&(n=nA(n,new V.default("18212142134806163456"))),(512&r)!=0&&(n=nA(n,new V.default("17980523815641700352"))),(1024&r)!=0&&(n=nA(n,new V.default("17526086738831433728"))),(2048&r)!=0&&(n=nA(n,new V.default("16651378430235570176"))),(4096&r)!=0&&(n=nA(n,new V.default("15030750278694412288"))),(8192&r)!=0&&(n=nA(n,new V.default("12247334978884435968"))),(16384&r)!=0&&(n=nA(n,new V.default("8131365268886854656"))),(32768&r)!=0&&(n=nA(n,new V.default("3584323654725218816"))),(65536&r)!=0&&(n=nA(n,new V.default("696457651848324352"))),(131072&r)!=0&&(n=nA(n,new V.default("26294789957507116"))),(262144&r)!=0&&(n=nA(n,new V.default("37481735321082"))),e>0&&(n=rG.div(n)),n}static getTickFromPrice(r,n,i){return e.getTickFromSqrtPriceX64(e.priceToSqrtPriceX64(r,n,i))}static getTickFromSqrtPriceX64(r){let n;if(r.gt(rX)||r.lt(rY))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let i=r.bitLength()-1,o=((n=new V.default(i-64).toTwos(128).shln(32)).imaskn(129),n.fromTwos(128)),a=new V.default("8000000000000000","hex"),s=0,l=new V.default(0),c=i>=64?r.shrn(i-63):r.shln(63-i);for(;a.gt(new V.default(0))&&s<16;){let e=(c=c.mul(c)).shrn(127);c=c.shrn(63+e.toNumber()),l=l.add(a.mul(e)),a=a.shrn(1),s+=1}let u=l.shrn(32),d=o.add(u).mul(new V.default("59543866431248")),m=nw(d.sub(new V.default("184467440737095516")),64,128).toNumber(),p=nw(d.add(new V.default("15793534762490258745")),64,128).toNumber();return m==p?m:e.getSqrtPriceX64FromTick(p).lte(r)?p:m}},nk=class e{static getTickWithPriceAndTickspacing(e,r,n,i){let o=nT.getTickFromSqrtPriceX64(nT.priceToSqrtPriceX64(e,n,i))/r;return(o=o<0?Math.floor(o):Math.ceil(o))*r}static roundPriceWithTickspacing(r,n,i,o){let a=e.getTickWithPriceAndTickspacing(r,n,i,o),s=nT.getSqrtPriceX64FromTick(a);return nT.sqrtPriceX64ToPrice(s,i,o)}},nC=class e{static addDelta(e,r){return e.add(r)}static getTokenAmountAFromLiquidity(e,r,n,i){if(e.gt(r)&&([e,r]=[r,e]),!e.gt(e8))throw Error("sqrtPriceX64A must greater than 0");let o=n.ushln(64),a=r.sub(e);return i?nS.mulDivRoundingUp(nS.mulDivCeil(o,a,r),e7,e):nS.mulDivFloor(o,a,r).div(e)}static getTokenAmountBFromLiquidity(e,r,n,i){if(e.gt(r)&&([e,r]=[r,e]),!e.gt(e8))throw Error("sqrtPriceX64A must greater than 0");return i?nS.mulDivCeil(n,r.sub(e),rq):nS.mulDivFloor(n,r.sub(e),rq)}static getLiquidityFromTokenAmountA(e,r,n,i){e.gt(r)&&([e,r]=[r,e]);let o=n.mul(e).mul(r),a=r.sub(e),s=o.div(a);return i?nS.mulDivRoundingUp(s,e7,rK):s.shrn(64)}static getLiquidityFromTokenAmountB(e,r,n){return e.gt(r)&&([e,r]=[r,e]),nS.mulDivFloor(n,rK,r.sub(e))}static getLiquidityFromTokenAmounts(r,n,i,o,a){if(n.gt(i)&&([n,i]=[i,n]),r.lte(n))return e.getLiquidityFromTokenAmountA(n,i,o,!1);if(!r.lt(i))return e.getLiquidityFromTokenAmountB(n,i,a);{let s=e.getLiquidityFromTokenAmountA(r,i,o,!1),l=e.getLiquidityFromTokenAmountB(n,r,a);return s.lt(l)?s:l}}static getAmountsFromLiquidity(r,n,i,o,a){return(n.gt(i)&&([n,i]=[i,n]),r.lte(n))?{amountA:e.getTokenAmountAFromLiquidity(n,i,o,a),amountB:new V.default(0)}:r.lt(i)?{amountA:e.getTokenAmountAFromLiquidity(r,i,o,a),amountB:e.getTokenAmountBFromLiquidity(n,r,o,a)}:{amountA:new V.default(0),amountB:e.getTokenAmountBFromLiquidity(n,i,o,a)}}static getAmountsFromLiquidityWithSlippage(r,n,i,o,a,s,l){let{amountA:c,amountB:u}=e.getAmountsFromLiquidity(r,n,i,o,s),d=a?1+l:1-l;return{amountSlippageA:new V.default(new en.default(c.toString()).mul(d).toFixed(0)),amountSlippageB:new V.default(new en.default(u.toString()).mul(d).toFixed(0))}}},nI=class e{static swapCompute(r,n,i,o,a,s,l,c,u,d,m,p,f,g,h=!1){if(p.eq(e8))throw Error("amountSpecified must not be 0");if(g||(g=s?rY.add(e7):rX.sub(e7)),s){if(g.lt(rY))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(g.gte(m))throw Error("sqrtPriceX64 must smaller than current")}else{if(g.gt(rX))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(g.lte(m))throw Error("sqrtPriceX64 must greater than current")}let y=p.gt(e8),b={amountSpecifiedRemaining:p,amountCalculated:e8,sqrtPriceX64:m,tick:u>f?Math.min(f+nn.tickCount(d)-1,u):f,accounts:[],liquidity:c,feeAmount:new V.default(0)},S=f,A=i[f],w=!s&&A.startTickIndex===b.tick;for(;!b.amountSpecifiedRemaining.eq(e8)&&!b.sqrtPriceX64.eq(g);){let c,u={};u.sqrtPriceStartX64=b.sqrtPriceX64;let m=no.nextInitTick(A,b.tick,d,s,w)||null,p=null;if(!(null==m?void 0:m.liquidityGross.gtn(0))){let e=nb.nextInitializedTickArrayStartIndex({tickCurrent:b.tick,tickSpacing:d,tickArrayBitmap:o,exBitmapInfo:a},S,s);if(!e.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:b.amountSpecifiedRemaining,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:l}=r7(r,n,S=e.nextStartIndex);p=l,A=i[S];try{m=no.firstInitializedTick(A,s)}catch(e){throw Error("not found next tick info")}}if(u.tickNext=m.tick,u.initialized=m.liquidityGross.gtn(0),f!==S&&p&&(b.accounts.push(p),f=S),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=nT.getSqrtPriceX64FromTick(u.tickNext),c=s&&u.sqrtPriceNextX64.lt(g)||!s&&u.sqrtPriceNextX64.gt(g)?g:u.sqrtPriceNextX64,[b.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=e.swapStepCompute(b.sqrtPriceX64,c,b.liquidity,b.amountSpecifiedRemaining,l),b.feeAmount=b.feeAmount.add(u.feeAmount),y?(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),b.amountCalculated=b.amountCalculated.sub(u.amountOut)):(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.add(u.amountOut),b.amountCalculated=b.amountCalculated.add(u.amountIn.add(u.feeAmount))),b.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=m.liquidityNet;s&&(e=e.mul(rN)),b.liquidity=nC.addDelta(b.liquidity,e)}w=u.tickNext!=b.tick&&!s&&A.startTickIndex===u.tickNext,b.tick=s?u.tickNext-1:u.tickNext}else if(b.sqrtPriceX64!=u.sqrtPriceStartX64){let e=nT.getTickFromSqrtPriceX64(b.sqrtPriceX64);w=e!=b.tick&&!s&&A.startTickIndex===e,b.tick=e}}try{let{nextStartIndex:e,isExist:i}=nn.nextInitializedTickArray(b.tick,d,s,o,a);i&&f!==e&&(b.accounts.push(r7(r,n,e).publicKey),f=e)}catch(e){}return{allTrade:!0,amountSpecifiedRemaining:e8,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts}}static swapStepCompute(e,r,n,i,o){let a={sqrtPriceX64Next:new V.default(0),amountIn:new V.default(0),amountOut:new V.default(0),feeAmount:new V.default(0)},s=e.gte(r),l=i.gte(e8);if(l){let l=nS.mulDivFloor(i,rz.sub(new V.default(o.toString())),rz);a.amountIn=s?nC.getTokenAmountAFromLiquidity(r,e,n,!0):nC.getTokenAmountBFromLiquidity(e,r,n,!0),l.gte(a.amountIn)?a.sqrtPriceX64Next=r:a.sqrtPriceX64Next=nT.getNextSqrtPriceX64FromInput(e,n,l,s)}else a.amountOut=s?nC.getTokenAmountBFromLiquidity(r,e,n,!1):nC.getTokenAmountAFromLiquidity(e,r,n,!1),i.mul(rN).gte(a.amountOut)?a.sqrtPriceX64Next=r:a.sqrtPriceX64Next=nT.getNextSqrtPriceX64FromOutput(e,n,i.mul(rN),s);let c=r.eq(a.sqrtPriceX64Next);return s?(c&&l||(a.amountIn=nC.getTokenAmountAFromLiquidity(a.sqrtPriceX64Next,e,n,!0)),c&&!l||(a.amountOut=nC.getTokenAmountBFromLiquidity(a.sqrtPriceX64Next,e,n,!1))):(a.amountIn=c&&l?a.amountIn:nC.getTokenAmountBFromLiquidity(e,a.sqrtPriceX64Next,n,!0),a.amountOut=c&&!l?a.amountOut:nC.getTokenAmountAFromLiquidity(e,a.sqrtPriceX64Next,n,!1)),!l&&a.amountOut.gt(i.mul(rN))&&(a.amountOut=i.mul(rN)),l&&!a.sqrtPriceX64Next.eq(r)?a.feeAmount=i.sub(a.amountIn):a.feeAmount=nS.mulDivCeil(a.amountIn,new V.default(o),rz.sub(new V.default(o))),[a.sqrtPriceX64Next,a.amountIn,a.amountOut,a.feeAmount]}},nv=class{static getfeeGrowthInside(e,r,n){let i=new V.default(0),o=new V.default(0);e.tickCurrent>=r.tick?(i=r.feeGrowthOutsideX64A,o=r.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(r.feeGrowthOutsideX64A),o=e.feeGrowthGlobalX64B.sub(r.feeGrowthOutsideX64B));let a=new V.default(0),s=new V.default(0);return e.tickCurrent<n.tick?(a=n.feeGrowthOutsideX64A,s=n.feeGrowthOutsideX64B):(a=e.feeGrowthGlobalX64A.sub(n.feeGrowthOutsideX64A),s=e.feeGrowthGlobalX64B.sub(n.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:nS.wrappingSubU128(nS.wrappingSubU128(e.feeGrowthGlobalX64A,i),a),feeGrowthInsideBX64:nS.wrappingSubU128(nS.wrappingSubU128(e.feeGrowthGlobalX64B,o),s)}}static GetPositionFees(e,r,n,i){let{feeGrowthInsideX64A:o,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,n,i),s=nS.mulDivFloor(nS.wrappingSubU128(o,r.feeGrowthInsideLastX64A),r.liquidity,rq),l=r.tokenFeesOwedA.add(s),c=nS.mulDivFloor(nS.wrappingSubU128(a,r.feeGrowthInsideLastX64B),r.liquidity,rq);return{tokenFeeAmountA:l,tokenFeeAmountB:r.tokenFeesOwedB.add(c)}}static GetPositionRewards(e,r,n,i){let o=[],a=this.getRewardGrowthInside(e.tickCurrent,n,i,e.rewardInfos);for(let e=0;e<a.length;e++){let n=a[e],i=r.rewardInfos[e],s=nS.wrappingSubU128(n,i.growthInsideLastX64),l=nS.mulDivFloor(s,r.liquidity,rq),c=i.rewardAmountOwed.add(l);o.push(c)}return o}static getRewardGrowthInside(e,r,n,i){let o=[];for(let a=0;a<i.length;a++){let s=new V.default(0);s=r.liquidityGross.eqn(0)?i[a].rewardGrowthGlobalX64:e<r.tick?i[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a]):r.rewardGrowthsOutsideX64[a];let l=new V.default(0);n.liquidityGross.eqn(0)||(l=e<n.tick?n.rewardGrowthsOutsideX64[a]:i[a].rewardGrowthGlobalX64.sub(n.rewardGrowthsOutsideX64[a])),o.push(nS.wrappingSubU128(nS.wrappingSubU128(i[a].rewardGrowthGlobalX64,s),l))}return o}},nP=eN.from("Clmm"),nL=class extends t2{static makeMockPoolInfo({programId:e,mint1:r,mint2:n,ammConfig:i,createPoolInstructionSimpleAddress:o,initialPrice:a,startTime:s,owner:l}){let[c,u,d]=new V.default(r.mint.toBuffer()).gt(new V.default(n.mint.toBuffer()))?[n,r,new en.default(1).div(a)]:[r,n,a],m=nT.priceToSqrtPriceX64(d,c.decimals,u.decimals);return{id:o.poolId,mintA:{programId:o.mintProgramIdA,mint:o.mintA,vault:o.mintAVault,decimals:c.decimals},mintB:{programId:o.mintProgramIdB,mint:o.mintB,vault:o.mintBVault,decimals:u.decimals},ammConfig:i,observationId:o.observationId,creator:l,programId:e,version:6,tickSpacing:i.tickSpacing,liquidity:e8,sqrtPriceX64:m,currentPrice:d,tickCurrent:0,observationIndex:0,observationUpdateDuration:0,feeGrowthGlobalX64A:e8,feeGrowthGlobalX64B:e8,protocolFeesTokenA:e8,protocolFeesTokenB:e8,swapInAmountTokenA:e8,swapOutAmountTokenB:e8,swapInAmountTokenB:e8,swapOutAmountTokenA:e8,tickArrayBitmap:[],rewardInfos:[],day:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},week:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},month:{volume:0,volumeFee:0,feeA:0,feeB:0,feeApr:0,rewardApr:{A:0,B:0,C:0},apr:0,priceMax:0,priceMin:0},tvl:0,lookupTableAccount:E.PublicKey.default,startTime:s.toNumber(),exBitmapInfo:{poolId:o.poolId,positiveTickArrayBitmap:Array.from({length:14},()=>Array.from({length:8},()=>new V.default(0))),negativeTickArrayBitmap:Array.from({length:14},()=>Array.from({length:8},()=>new V.default(0)))}}}static makeCreatePoolInstructionSimple(e){return ef(this,arguments,function*({makeTxVersion:e,connection:r,programId:n,owner:i,payer:o,mint1:a,mint2:s,ammConfig:l,initialPrice:c,startTime:u,computeBudgetConfig:d,lookupTableCache:m}){let[p,f,g]=new V.default(a.mint.toBuffer()).gt(new V.default(s.mint.toBuffer()))?[s,a,new en.default(1).div(c)]:[a,s,c],h=nT.priceToSqrtPriceX64(g,p.decimals,f.decimals),y=yield this.makeCreatePoolInstructions({connection:r,programId:n,owner:i,mintA:p,mintB:f,ammConfigId:l.id,initialPriceX64:h,startTime:u});return{address:ep(em({},y.address),{mintA:p.mint,mintB:f.mint,mintProgramIdA:p.programId,mintProgramIdB:f.programId}),innerTransactions:yield e2({connection:r,makeTxVersion:e,computeBudgetConfig:d,payer:o,innerTransaction:[y.innerTransaction],lookupTableCache:m})}})}static makeOpenPositionFromLiquidityInstructionSimple(e){return ef(this,arguments,function*({makeTxVersion:e,connection:r,poolInfo:n,ownerInfo:i,amountMaxA:o,amountMaxB:a,tickLower:s,tickUpper:l,liquidity:c,associatedOnly:u=!0,checkCreateATAOwner:d=!1,withMetadata:m="create",getEphemeralSigners:p,computeBudgetConfig:f,lookupTableCache:g}){let h=[],y=[],b=[],S=[],A=[],w=i.useSOLBalance&&n.mintA.mint.equals(tu.WSOL.mint),T=i.useSOLBalance&&n.mintB.mint.equals(tu.WSOL.mint),k=yield this._selectOrCreateTokenAccount({programId:n.mintA.programId,mint:n.mintA.mint,tokenAccounts:w?[]:i.tokenAccounts,owner:i.wallet,createInfo:w||o.eq(e8)?{connection:r,payer:i.feePayer,amount:o,frontInstructions:h,endInstructions:y,frontInstructionsType:b,endInstructionsType:S,signers:A}:void 0,associatedOnly:!w&&u,checkCreateATAOwner:d}),C=yield this._selectOrCreateTokenAccount({programId:n.mintB.programId,mint:n.mintB.mint,tokenAccounts:T?[]:i.tokenAccounts,owner:i.wallet,createInfo:T||a.eq(e8)?{connection:r,payer:i.feePayer,amount:a,frontInstructions:h,endInstructions:y,frontInstructionsType:b,endInstructionsType:S,signers:A}:void 0,associatedOnly:!T&&u,checkCreateATAOwner:d});nP.assertArgument(void 0!==k&&void 0!==C,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let I=yield this.makeOpenPositionFromLiquidityInstructions({poolInfo:n,ownerInfo:ep(em({},i),{tokenAccountA:k,tokenAccountB:C}),tickLower:s,tickUpper:l,liquidity:c,amountMaxA:o,amountMaxB:a,withMetadata:m,getEphemeralSigners:p});return{address:I.address,innerTransactions:yield e2({connection:r,makeTxVersion:e,computeBudgetConfig:f,payer:i.feePayer,innerTransaction:[{instructionTypes:b,instructions:h,signers:A},I.innerTransaction,{instructionTypes:S,instructions:y,signers:[]}],lookupTableCache:g})}})}static makeOpenPositionFromBaseInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,tickLower:i,tickUpper:o,base:a,baseAmount:s,otherAmountMax:l,associatedOnly:c=!0,checkCreateATAOwner:u=!1,computeBudgetConfig:d,withMetadata:m="create",makeTxVersion:p,lookupTableCache:f,getEphemeralSigners:g}){let h=[],y=[],b=[],S=[],A=[],w=n.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),T=n.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),k=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:w?[]:n.tokenAccounts,owner:n.wallet,createInfo:w?{connection:e,payer:n.feePayer,amount:"MintA"===a?s:l,frontInstructions:h,endInstructions:y,frontInstructionsType:b,endInstructionsType:S,signers:A}:void 0,associatedOnly:!w&&c,checkCreateATAOwner:u}),C=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:T?{connection:e,payer:n.feePayer,amount:"MintA"===a?l:s,frontInstructions:h,endInstructions:y,frontInstructionsType:b,endInstructionsType:S,signers:A}:void 0,associatedOnly:!T&&c,checkCreateATAOwner:u});nP.assertArgument(void 0!==k&&void 0!==C,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let I=yield this.makeOpenPositionFromBaseInstructions({poolInfo:r,ownerInfo:ep(em({},n),{tokenAccountA:k,tokenAccountB:C}),tickLower:i,tickUpper:o,base:a,baseAmount:s,otherAmountMax:l,withMetadata:m,getEphemeralSigners:g});return{address:I.address,innerTransactions:yield e2({connection:e,makeTxVersion:p,computeBudgetConfig:d,payer:n.feePayer,innerTransaction:[{instructionTypes:b,instructions:h,signers:A},I.innerTransaction,{instructionTypes:S,instructions:y,signers:[]}],lookupTableCache:f})}})}static makeIncreasePositionFromLiquidityInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerPosition:n,ownerInfo:i,amountMaxA:o,amountMaxB:a,liquidity:s,associatedOnly:l=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:d,lookupTableCache:m}){let p=[],f=[],g=[],h=[],y=[],b=i.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),S=i.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),A=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:b?[]:i.tokenAccounts,owner:i.wallet,createInfo:b?{connection:e,payer:i.feePayer,amount:o,frontInstructions:p,endInstructions:f,frontInstructionsType:g,endInstructionsType:h,signers:y}:void 0,associatedOnly:!b&&l,checkCreateATAOwner:c}),w=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:S?[]:i.tokenAccounts,owner:i.wallet,createInfo:S?{connection:e,payer:i.feePayer,amount:a,frontInstructions:p,endInstructions:f,frontInstructionsType:g,endInstructionsType:h,signers:y}:void 0,associatedOnly:!S&&l,checkCreateATAOwner:c});nP.assertArgument(!!A||!!w,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let T=this.makeIncreasePositionFromLiquidityInstructions({poolInfo:r,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:w},liquidity:s,amountMaxA:o,amountMaxB:a});return{address:T.address,innerTransactions:yield e2({connection:e,makeTxVersion:d,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:g,instructions:p,signers:y},T.innerTransaction,{instructionTypes:h,instructions:f,signers:[]}],lookupTableCache:m})}})}static makeIncreasePositionFromBaseInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerPosition:n,ownerInfo:i,base:o,baseAmount:a,otherAmountMax:s,associatedOnly:l=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:d,lookupTableCache:m}){let p=[],f=[],g=[],h=[],y=[],b=i.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),S=i.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),A=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:b?[]:i.tokenAccounts,owner:i.wallet,createInfo:b?{connection:e,payer:i.feePayer,amount:"MintA"===o?a:s,frontInstructions:p,endInstructions:f,frontInstructionsType:g,endInstructionsType:h,signers:y}:void 0,associatedOnly:!b&&l,checkCreateATAOwner:c}),w=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:S?[]:i.tokenAccounts,owner:i.wallet,createInfo:S?{connection:e,payer:i.feePayer,amount:"MintA"===o?s:a,frontInstructions:p,endInstructions:f,frontInstructionsType:g,endInstructionsType:h,signers:y}:void 0,associatedOnly:!S&&l,checkCreateATAOwner:c});nP.assertArgument(!!A||!!w,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let T=this.makeIncreasePositionFromBaseInstructions({poolInfo:r,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:w},base:o,baseAmount:a,otherAmountMax:s});return{address:T.address,innerTransactions:yield e2({connection:e,makeTxVersion:d,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:g,instructions:p,signers:y},T.innerTransaction,{instructionTypes:h,instructions:f,signers:[]}],lookupTableCache:m})}})}static makeDecreaseLiquidityInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerPosition:n,ownerInfo:i,liquidity:o,amountMinA:a,amountMinB:s,associatedOnly:l=!0,checkCreateATAOwner:c=!1,computeBudgetConfig:u,makeTxVersion:d,lookupTableCache:m}){let p=[],f=[],g=[],h=[],y=[],b=i.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),S=i.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),A=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:b?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:p,frontInstructionsType:g,endInstructions:b?f:[],endInstructionsType:b?h:[],signers:y},associatedOnly:!b&&l,checkCreateATAOwner:c}),w=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:S?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:p,frontInstructionsType:g,endInstructions:S?f:[],endInstructionsType:S?h:[],signers:y},associatedOnly:!S&&l,checkCreateATAOwner:c}),T=[];for(let n of r.rewardInfos){let o=i.useSOLBalance&&n.tokenMint.equals(tu.WSOL.mint),a=n.tokenMint.equals(r.mintA.mint)?A:n.tokenMint.equals(r.mintB.mint)?w:yield this._selectOrCreateTokenAccount({programId:n.tokenProgramId,mint:n.tokenMint,tokenAccounts:o?[]:i.tokenAccounts,owner:i.wallet,createInfo:{connection:e,payer:i.feePayer,amount:0,frontInstructions:p,frontInstructionsType:g,endInstructions:o?f:[],endInstructionsType:o?h:[],signers:y},associatedOnly:!o&&l,checkCreateATAOwner:c});T.push(a)}nP.assertArgument(!!A||!!w,"cannot found target token accounts","tokenAccounts",i.tokenAccounts);let k=this.makeDecreaseLiquidityInstructions({poolInfo:r,ownerPosition:n,ownerInfo:{wallet:i.wallet,tokenAccountA:A,tokenAccountB:w,rewardAccounts:T},liquidity:o,amountMinA:a,amountMinB:s}),C=i.closePosition?this.makeClosePositionInstructions({poolInfo:r,ownerInfo:i,ownerPosition:n}):{address:{},innerTransaction:{instructions:[],signers:[],instructionTypes:[]}};return{address:k.address,innerTransactions:yield e2({connection:e,makeTxVersion:d,computeBudgetConfig:u,payer:i.feePayer,innerTransaction:[{instructionTypes:g,instructions:p,signers:y},k.innerTransaction,{instructionTypes:h,instructions:f,signers:[]},C.innerTransaction],lookupTableCache:m})}})}static makeSwapBaseInInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,inputMint:i,amountIn:o,amountOutMin:a,priceLimit:s,remainingAccounts:l,associatedOnly:c=!0,checkCreateATAOwner:u=!1,computeBudgetConfig:d,makeTxVersion:m,lookupTableCache:p}){let f,g=[],h=[],y=[],b=[],S=[];f=!s||s.equals(new en.default(0))?i.equals(r.mintA.mint)?rY.add(e7):rX.sub(e7):nT.priceToSqrtPriceX64(s,r.mintA.decimals,r.mintB.decimals);let A=r.mintA.mint.equals(i),w=n.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),T=n.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),k=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:w?[]:n.tokenAccounts,owner:n.wallet,createInfo:w||!A?{connection:e,payer:n.feePayer,amount:A?o:0,frontInstructions:g,endInstructions:h,frontInstructionsType:y,endInstructionsType:b,signers:S}:void 0,associatedOnly:!w&&c,checkCreateATAOwner:u}),C=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:T||A?{connection:e,payer:n.feePayer,amount:A?0:o,frontInstructions:g,endInstructions:h,frontInstructionsType:y,endInstructionsType:b,signers:S}:void 0,associatedOnly:!T&&c,checkCreateATAOwner:u});nP.assertArgument(!!k||!!C,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let I=this.makeSwapBaseInInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccountA:k,tokenAccountB:C},inputMint:i,amountIn:o,amountOutMin:a,sqrtPriceLimitX64:f,remainingAccounts:l});return{address:I.address,innerTransactions:yield e2({connection:e,makeTxVersion:m,computeBudgetConfig:d,payer:n.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:S},I.innerTransaction,{instructionTypes:b,instructions:h,signers:[]}],lookupTableCache:p})}})}static makeSwapBaseOutInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,outputMint:i,amountOut:o,amountInMax:a,priceLimit:s,remainingAccounts:l,associatedOnly:c=!0,checkCreateATAOwner:u=!1,computeBudgetConfig:d,makeTxVersion:m,lookupTableCache:p}){let f,g=[],h=[],y=[],b=[],S=[];f=!s||s.equals(new en.default(0))?i.equals(r.mintB.mint)?rY.add(e7):rX.sub(e7):nT.priceToSqrtPriceX64(s,r.mintA.decimals,r.mintB.decimals);let A=r.mintA.mint.equals(i),w=n.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),T=n.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),k=yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:w?[]:n.tokenAccounts,owner:n.wallet,createInfo:w||!A?{connection:e,payer:n.feePayer,amount:A?a:0,frontInstructions:g,endInstructions:h,frontInstructionsType:y,endInstructionsType:b,signers:S}:void 0,associatedOnly:!w&&c,checkCreateATAOwner:u}),C=yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:T?[]:n.tokenAccounts,owner:n.wallet,createInfo:T||A?{connection:e,payer:n.feePayer,amount:A?0:a,frontInstructions:g,endInstructions:h,frontInstructionsType:y,endInstructionsType:b,signers:S}:void 0,associatedOnly:!T&&c,checkCreateATAOwner:u});nP.assertArgument(!!k||!!C,"cannot found target token accounts","tokenAccounts",n.tokenAccounts);let I=this.makeSwapBaseOutInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccountA:k,tokenAccountB:C},outputMint:i,amountOut:o,amountInMax:a,sqrtPriceLimitX64:f,remainingAccounts:l});return{address:I.address,innerTransactions:yield e2({connection:e,makeTxVersion:m,computeBudgetConfig:d,payer:n.feePayer,innerTransaction:[{instructionTypes:y,instructions:g,signers:S},I.innerTransaction,{instructionTypes:b,instructions:h,signers:[]}],lookupTableCache:p})}})}static makeCLosePositionInstructionSimple(e){return ef(this,arguments,function*({poolInfo:e,ownerPosition:r,ownerInfo:n,makeTxVersion:i,lookupTableCache:o,connection:a}){let s=this.makeClosePositionInstructions({poolInfo:e,ownerInfo:n,ownerPosition:r});return{address:s.address,innerTransactions:yield e2({connection:a,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[s.innerTransaction],lookupTableCache:o})}})}static makeInitRewardInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardInfo:i,chainTime:o,associatedOnly:a=!0,checkCreateATAOwner:s=!1,makeTxVersion:l,lookupTableCache:c}){nP.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i),nP.assertArgument(i.openTime>o,"reward must be paid later","rewardInfo",i);let u=[],d=[],m=[],p=[],f=[],g=n.useSOLBalance&&i.mint.equals(tu.WSOL.mint),h=i.perSecond.mul(i.endTime-i.openTime),y=yield this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mint,tokenAccounts:g?[]:n.tokenAccounts,owner:n.wallet,createInfo:g?{connection:e,payer:n.feePayer,amount:new V.default(new en.default(h.toFixed(0)).gte(h)?h.toFixed(0):h.add(1).toFixed(0)),frontInstructions:u,endInstructions:d,frontInstructionsType:m,endInstructionsType:p,signers:f}:void 0,associatedOnly:!g&&a,checkCreateATAOwner:s});nP.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let b=this.makeInitRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardInfo:{programId:i.programId,mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:nS.decimalToX64(i.perSecond)}});return{address:b.address,innerTransactions:yield e2({connection:e,makeTxVersion:l,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:m,instructions:u,signers:f},b.innerTransaction,{instructionTypes:p,instructions:d,signers:[]}],lookupTableCache:c})}})}static makeInitRewardsInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardInfos:i,associatedOnly:o=!0,checkCreateATAOwner:a=!1,computeBudgetConfig:s,makeTxVersion:l,lookupTableCache:c}){for(let e of i)nP.assertArgument(e.endTime>e.openTime,"reward time error","rewardInfo",e);let u=[],d=[],m=[],p=[],f=[],g=[];for(let s of i){let i=n.useSOLBalance&&s.mint.equals(tu.WSOL.mint),l=s.perSecond.mul(s.endTime-s.openTime),c=yield this._selectOrCreateTokenAccount({programId:s.programId,mint:s.mint,tokenAccounts:i?[]:n.tokenAccounts,owner:n.wallet,createInfo:i?{connection:e,payer:n.feePayer,amount:new V.default(new en.default(l.toFixed(0)).gte(l)?l.toFixed(0):l.add(1).toFixed(0)),frontInstructions:u,endInstructions:d,frontInstructionsType:m,endInstructionsType:p,signers:g}:void 0,associatedOnly:!i&&o,checkCreateATAOwner:a});nP.assertArgument(c,"no money","ownerRewardAccount",n.tokenAccounts),f.push(this.makeInitRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:c},rewardInfo:{programId:s.programId,mint:s.mint,openTime:s.openTime,endTime:s.endTime,emissionsPerSecondX64:nS.decimalToX64(s.perSecond)}}))}let h={};for(let e of f)h=em(em({},h),e.address);return{address:h,innerTransactions:yield e2({connection:e,makeTxVersion:l,computeBudgetConfig:s,payer:n.feePayer,innerTransaction:[{instructionTypes:m,instructions:u,signers:g},...f.map(e=>e.innerTransaction),{instructionTypes:p,instructions:d,signers:[]}],lookupTableCache:c})}})}static makeSetRewardInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardInfo:i,chainTime:o,associatedOnly:a=!0,checkCreateATAOwner:s=!1,makeTxVersion:l,lookupTableCache:c}){nP.assertArgument(i.endTime>i.openTime,"reward time error","rewardInfo",i),nP.assertArgument(i.openTime>o,"reward must be paid later","rewardInfo",i);let u=[],d=[],m=[],p=[],f=[],g=n.useSOLBalance&&i.mint.equals(tu.WSOL.mint),h=yield this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mint,tokenAccounts:g?[]:n.tokenAccounts,owner:n.wallet,createInfo:g?{connection:e,payer:n.feePayer,amount:new V.default(new en.default(i.perSecond.sub(i.endTime-i.openTime).toFixed(0)).gte(i.perSecond.sub(i.endTime-i.openTime))?i.perSecond.sub(i.endTime-i.openTime).toFixed(0):i.perSecond.sub(i.endTime-i.openTime).add(1).toFixed(0)),frontInstructions:u,endInstructions:d,frontInstructionsType:m,endInstructionsType:p,signers:f}:void 0,associatedOnly:!g&&a,checkCreateATAOwner:s});nP.assertArgument(h,"no money","ownerRewardAccount",n.tokenAccounts);let y=this.makeSetRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:h},rewardInfo:{mint:i.mint,openTime:i.openTime,endTime:i.endTime,emissionsPerSecondX64:nS.decimalToX64(i.perSecond)}});return{address:y.address,innerTransactions:yield e2({connection:e,makeTxVersion:l,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:m,instructions:u,signers:f},y.innerTransaction,{instructionTypes:p,instructions:d,signers:[]}],lookupTableCache:c})}})}static makeSetRewardsInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardInfos:i,chainTime:o,associatedOnly:a=!0,checkCreateATAOwner:s=!1,computeBudgetConfig:l,makeTxVersion:c,lookupTableCache:u}){let d=[],m=[],p=[],f=[],g=[],h=[];for(let l of i){nP.assertArgument(l.endTime>l.openTime,"reward time error","rewardInfo",l),nP.assertArgument(l.openTime>o,"reward must be paid later","rewardInfo",l);let i=n.useSOLBalance&&l.mint.equals(tu.WSOL.mint),c=yield this._selectOrCreateTokenAccount({programId:l.programId,mint:l.mint,tokenAccounts:i?[]:n.tokenAccounts,owner:n.wallet,createInfo:i?{connection:e,payer:n.feePayer,amount:new V.default(new en.default(l.perSecond.sub(l.endTime-l.openTime).toFixed(0)).gte(l.perSecond.sub(l.endTime-l.openTime))?l.perSecond.sub(l.endTime-l.openTime).toFixed(0):l.perSecond.sub(l.endTime-l.openTime).add(1).toFixed(0)),frontInstructions:d,endInstructions:m,frontInstructionsType:p,endInstructionsType:f,signers:h}:void 0,associatedOnly:!i&&a,checkCreateATAOwner:s});nP.assertArgument(c,"no money","ownerRewardAccount",n.tokenAccounts),g.push(this.makeSetRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:c},rewardInfo:{mint:l.mint,openTime:l.openTime,endTime:l.endTime,emissionsPerSecondX64:nS.decimalToX64(l.perSecond)}}))}let y={};for(let e of g)y=em(em({},y),e.address);return{address:y,innerTransactions:yield e2({connection:e,makeTxVersion:c,computeBudgetConfig:l,payer:n.feePayer,innerTransaction:[{instructionTypes:p,instructions:d,signers:h},...g.map(e=>e.innerTransaction),{instructionTypes:f,instructions:m,signers:[]}],lookupTableCache:u})}})}static makeCollectRewardInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardMint:i,associatedOnly:o=!0,checkCreateATAOwner:a=!1,computeBudgetConfig:s,makeTxVersion:l,lookupTableCache:c}){let u=[],d=[],m=[],p=[],f=[],g=r.rewardInfos.find(e=>e.tokenMint.equals(i));if(nP.assertArgument(void 0!==g,"reward mint error","not found reward mint",i),void 0===g)throw Error("reward mint error");let h=n.useSOLBalance&&i.equals(tu.WSOL.mint),y=yield this._selectOrCreateTokenAccount({programId:g.tokenProgramId,mint:i,tokenAccounts:h?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:u,endInstructions:h?d:[],frontInstructionsType:m,endInstructionsType:p,signers:f},associatedOnly:!h&&o,checkCreateATAOwner:a});nP.assertArgument(y,"no money","ownerRewardAccount",n.tokenAccounts);let b=this.makeCollectRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:y},rewardMint:i});return{address:b.address,innerTransactions:yield e2({connection:e,makeTxVersion:l,computeBudgetConfig:s,payer:n.feePayer,innerTransaction:[{instructionTypes:m,instructions:u,signers:f},b.innerTransaction,{instructionTypes:p,instructions:d,signers:[]}],lookupTableCache:c})}})}static makeCollectRewardsInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,rewardMints:i,associatedOnly:o=!0,checkCreateATAOwner:a=!1,computeBudgetConfig:s,makeTxVersion:l,lookupTableCache:c}){let u=[],d=[],m=[],p=[],f=[],g=[];for(let s of i){let i=r.rewardInfos.find(e=>e.tokenMint.equals(s));if(nP.assertArgument(void 0!==i,"reward mint error","not found reward mint",s),void 0===i)throw Error("reward mint error");let l=n.useSOLBalance&&s.equals(tu.WSOL.mint),c=yield this._selectOrCreateTokenAccount({programId:i.tokenProgramId,mint:s,tokenAccounts:l?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:u,endInstructions:l?d:[],signers:g,frontInstructionsType:m,endInstructionsType:p},associatedOnly:!l&&o,checkCreateATAOwner:a});nP.assertArgument(c,"no money","ownerRewardAccount",n.tokenAccounts),f.push(this.makeCollectRewardInstructions({poolInfo:r,ownerInfo:{wallet:n.wallet,tokenAccount:c},rewardMint:s}))}let h={};for(let e of f)h=em(em({},h),e.address);return{address:h,innerTransactions:yield e2({connection:e,makeTxVersion:l,computeBudgetConfig:s,payer:n.feePayer,innerTransaction:[{instructionTypes:m,instructions:u,signers:g},...f.map(e=>e.innerTransaction),{instructionTypes:p,instructions:d,signers:[]}],lookupTableCache:c})}})}static makeHarvestAllRewardInstructionSimple(e){return ef(this,arguments,function*({connection:e,fetchPoolInfos:r,ownerInfo:n,associatedOnly:i=!0,checkCreateATAOwner:o=!1,makeTxVersion:a,lookupTableCache:s}){var l,c,u;let d={};for(let e of n.tokenAccounts)i?t$(n.wallet,e.accountInfo.mint,e.programId).publicKey.equals(e.pubkey)&&(d[e.accountInfo.mint.toString()]=e.pubkey):d[e.accountInfo.mint.toString()]=e.pubkey;let m=[],p=[],f=[],g=[],h=[],y=[];for(let a of Object.values(r)){if(void 0===a.positionAccount||!a.positionAccount.find(e=>!e.tokenFeeAmountA.isZero()||!e.tokenFeeAmountB.isZero()||e.rewardInfos.find(e=>!e.pendingReward.isZero())))continue;let r=a.state,s=n.useSOLBalance&&r.mintA.mint.equals(tu.WSOL.mint),b=n.useSOLBalance&&r.mintB.mint.equals(tu.WSOL.mint),S=null!=(l=d[r.mintA.mint.toString()])?l:yield this._selectOrCreateTokenAccount({programId:r.mintA.programId,mint:r.mintA.mint,tokenAccounts:s?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:m,frontInstructionsType:f,endInstructions:s?p:[],endInstructionsType:s?g:[],signers:y},associatedOnly:!s&&i,checkCreateATAOwner:o}),A=null!=(c=d[r.mintB.mint.toString()])?c:yield this._selectOrCreateTokenAccount({programId:r.mintB.programId,mint:r.mintB.mint,tokenAccounts:b?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:m,frontInstructionsType:f,endInstructions:b?p:[],endInstructionsType:b?g:[],signers:y},associatedOnly:!b&&i,checkCreateATAOwner:o});d[r.mintA.mint.toString()]=S,d[r.mintB.mint.toString()]=A;let w=[];for(let a of r.rewardInfos){let r=n.useSOLBalance&&a.tokenMint.equals(tu.WSOL.mint),s=null!=(u=d[a.tokenMint.toString()])?u:yield this._selectOrCreateTokenAccount({programId:a.tokenProgramId,mint:a.tokenMint,tokenAccounts:r?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.feePayer,amount:0,frontInstructions:m,endInstructions:r?p:[],frontInstructionsType:f,endInstructionsType:g,signers:y},associatedOnly:!r&&i,checkCreateATAOwner:o});d[a.tokenMint.toString()]=s,w.push(s)}for(let e of a.positionAccount)h.push(this.makeDecreaseLiquidityInstructions({poolInfo:r,ownerPosition:e,ownerInfo:{wallet:n.wallet,tokenAccountA:S,tokenAccountB:A,rewardAccounts:w},liquidity:e8,amountMinA:e8,amountMinB:e8}))}return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:a,computeBudgetConfig:void 0,payer:n.feePayer,innerTransaction:[{instructionTypes:f,instructions:m,signers:y},...h.map(e=>e.innerTransaction),{instructionTypes:g,instructions:p,signers:[]}],lookupTableCache:s})}})}static makeCreatePoolInstructions(e){return ef(this,arguments,function*({connection:e,programId:r,owner:n,mintA:i,mintB:o,ammConfigId:a,initialPriceX64:s,startTime:l}){var c,u,d,m,p,f,g,h;let y,b,S,A,w=t3({fromPublicKey:n,programId:r}),T=(c=i.mint,u=o.mint,eH([r1,a.toBuffer(),c.toBuffer(),u.toBuffer()],r)).publicKey,k=r8(r,T,i.mint).publicKey,C=r8(r,T,o.mint).publicKey,I=[E.SystemProgram.createAccountWithSeed({fromPubkey:n,basePubkey:n,seed:w.seed,newAccountPubkey:w.publicKey,lamports:yield e.getMinimumBalanceForRentExemption(nc.span),space:nc.span,programId:r}),(d=w.publicKey,m=i.mint,p=i.programId,f=o.mint,g=o.programId,h=nr(r,T).publicKey,y=tQ([tW("sqrtPriceX64"),tq("startTime")]),b=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:eG,isSigner:!1,isWritable:!1}],S=v.Buffer.alloc(y.span),y.encode({sqrtPriceX64:s,startTime:l},S),A=v.Buffer.from([...rx,...S]),new E.TransactionInstruction({keys:b,programId:r,data:A}))];return{address:{observationId:w.publicKey,poolId:T,mintAVault:k,mintBVault:C},innerTransaction:{instructions:I,signers:[],instructionTypes:[0,11],lookupTableAddress:[]}}})}static makeOpenPositionFromLiquidityInstructions(e){return ef(this,arguments,function*({poolInfo:e,ownerInfo:r,tickLower:n,tickUpper:i,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:l,getEphemeralSigners:c}){var u,d,m,p,f,g,h,y,b,S,A,w;let T,k,C,I,P,L=[];if(c)T=new E.PublicKey((yield c(1))[0]);else{let e=E.Keypair.generate();L.push(e),T=e.publicKey}let _=no.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),x=no.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:D}=r7(e.programId,e.id,_),{publicKey:B}=r7(e.programId,e.id,x),{publicKey:V}=t$(r.wallet,T,R),{publicKey:M}=nt(T),{publicKey:F}=ne(e.programId,T),{publicKey:N}=r9(e.programId,e.id,n,i),q=(u=e.programId,d=r.feePayer,m=e.id,p=r.wallet,f=T,g=r.tokenAccountA,h=r.tokenAccountB,y=e.mintA.vault,b=e.mintB.vault,S=e.mintA.mint,A=e.mintB.mint,w=nb.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[_,x])?nr(e.programId,e.id).publicKey:void 0,k=tQ([tR("tickLowerIndex"),tR("tickUpperIndex"),tR("tickArrayLowerStartIndex"),tR("tickArrayUpperStartIndex"),tW("liquidity"),tq("amountMaxA"),tq("amountMaxB"),tX("withMetadata"),tF("optionBaseFlag"),tX("baseFlag")]),C=[{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!0},{pubkey:V,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:F,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:eG,isSigner:!1,isWritable:!1},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:U,isSigner:!1,isWritable:!1},{pubkey:eY,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[]],I=v.Buffer.alloc(k.span),k.encode({tickLowerIndex:n,tickUpperIndex:i,tickArrayLowerStartIndex:_,tickArrayUpperStartIndex:x,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:"create"===l,baseFlag:!1,optionBaseFlag:0},I),P=v.Buffer.from([...rR,...I]),new E.TransactionInstruction({keys:C,programId:u,data:P}));return{address:{nftMint:T,tickArrayLower:D,tickArrayUpper:B,positionNftAccount:V,metadataAccount:M,personalPosition:F,protocolPosition:N},innerTransaction:{instructions:[q],signers:L,instructionTypes:[12],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}})}static makeOpenPositionFromBaseInstructions(e){return ef(this,arguments,function*({poolInfo:e,ownerInfo:r,tickLower:n,tickUpper:i,base:o,baseAmount:a,otherAmountMax:s,withMetadata:l,getEphemeralSigners:c}){var u,d,m,p,f,g,h,y,b,S,A,w;let T,k,C,I,P,L=[];if(c)T=new E.PublicKey((yield c(1))[0]);else{let e=E.Keypair.generate();L.push(e),T=e.publicKey}let _=no.getTickArrayStartIndexByTick(n,e.ammConfig.tickSpacing),x=no.getTickArrayStartIndexByTick(i,e.ammConfig.tickSpacing),{publicKey:D}=r7(e.programId,e.id,_),{publicKey:B}=r7(e.programId,e.id,x),{publicKey:V}=t$(r.wallet,T,R),{publicKey:M}=nt(T),{publicKey:F}=ne(e.programId,T),{publicKey:N}=r9(e.programId,e.id,n,i),q=(u=e.programId,d=r.feePayer,m=e.id,p=r.wallet,f=T,g=r.tokenAccountA,h=r.tokenAccountB,y=e.mintA.vault,b=e.mintB.vault,S=e.mintA.mint,A=e.mintB.mint,w=nb.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[_,x])?nr(e.programId,e.id).publicKey:void 0,k=tQ([tR("tickLowerIndex"),tR("tickUpperIndex"),tR("tickArrayLowerStartIndex"),tR("tickArrayUpperStartIndex"),tW("liquidity"),tq("amountMaxA"),tq("amountMaxB"),tX("withMetadata"),tF("optionBaseFlag"),tX("baseFlag")]),C=[{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!0,isWritable:!0},{pubkey:V,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:F,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:eG,isSigner:!1,isWritable:!1},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:U,isSigner:!1,isWritable:!1},{pubkey:eY,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[]],I=v.Buffer.alloc(k.span),k.encode({tickLowerIndex:n,tickUpperIndex:i,tickArrayLowerStartIndex:_,tickArrayUpperStartIndex:x,liquidity:e8,amountMaxA:"MintA"===o?a:s,amountMaxB:"MintA"===o?s:a,withMetadata:"create"===l,baseFlag:"MintA"===o,optionBaseFlag:1},I),P=v.Buffer.from([...rR,...I]),new E.TransactionInstruction({keys:C,programId:u,data:P}));return{address:{nftMint:T,tickArrayLower:D,tickArrayUpper:B,positionNftAccount:V,metadataAccount:M,personalPosition:F,protocolPosition:N},innerTransaction:{instructions:[q],signers:L,instructionTypes:[12],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}})}static makeIncreasePositionFromLiquidityInstructions({poolInfo:e,ownerPosition:r,ownerInfo:n,liquidity:i,amountMaxA:o,amountMaxB:a}){var s,l,c,u,d,m,p,f,g,h;let y,b,S,A,w=no.getTickArrayStartIndexByTick(r.tickLower,e.ammConfig.tickSpacing),T=no.getTickArrayStartIndexByTick(r.tickUpper,e.ammConfig.tickSpacing),{publicKey:k}=r7(e.programId,e.id,w),{publicKey:C}=r7(e.programId,e.id,T),{publicKey:I}=t$(n.wallet,r.nftMint,R),{publicKey:P}=ne(e.programId,r.nftMint),{publicKey:L}=r9(e.programId,e.id,r.tickLower,r.tickUpper);return{address:{tickArrayLower:k,tickArrayUpper:C,positionNftAccount:I,personalPosition:P,protocolPosition:L},innerTransaction:{instructions:[(s=e.programId,l=n.wallet,c=e.id,u=n.tokenAccountA,d=n.tokenAccountB,m=e.mintA.vault,p=e.mintB.vault,f=e.mintA.mint,g=e.mintB.mint,h=nb.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[w,T])?nr(e.programId,e.id).publicKey:void 0,y=tQ([tW("liquidity"),tq("amountMaxA"),tq("amountMaxB"),tF("optionBaseFlag"),tX("baseFlag")]),b=[{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...h?[{pubkey:h,isSigner:!1,isWritable:!0}]:[]],S=v.Buffer.alloc(y.span),y.encode({liquidity:i,amountMaxA:o,amountMaxB:a,optionBaseFlag:0,baseFlag:!1},S),A=v.Buffer.from([...rU,...S]),new E.TransactionInstruction({keys:b,programId:s,data:A}))],signers:[],instructionTypes:[13],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeIncreasePositionFromBaseInstructions({poolInfo:e,ownerPosition:r,ownerInfo:n,base:i,baseAmount:o,otherAmountMax:a}){var s,l,c,u,d,m,p,f,g,h;let y,b,S,A,w=no.getTickArrayStartIndexByTick(r.tickLower,e.ammConfig.tickSpacing),T=no.getTickArrayStartIndexByTick(r.tickUpper,e.ammConfig.tickSpacing),{publicKey:k}=r7(e.programId,e.id,w),{publicKey:C}=r7(e.programId,e.id,T),{publicKey:I}=t$(n.wallet,r.nftMint,R),{publicKey:P}=ne(e.programId,r.nftMint),{publicKey:L}=r9(e.programId,e.id,r.tickLower,r.tickUpper);return{address:{tickArrayLower:k,tickArrayUpper:C,positionNftAccount:I,personalPosition:P,protocolPosition:L},innerTransaction:{instructions:[(s=e.programId,l=n.wallet,c=e.id,u=n.tokenAccountA,d=n.tokenAccountB,m=e.mintA.vault,p=e.mintB.vault,f=e.mintA.mint,g=e.mintB.mint,h=nb.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[w,T])?nr(e.programId,e.id).publicKey:void 0,y=tQ([tW("liquidity"),tq("amountMaxA"),tq("amountMaxB"),tF("optionBaseFlag"),tX("baseFlag")]),b=[{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...h?[{pubkey:h,isSigner:!1,isWritable:!0}]:[]],S=v.Buffer.alloc(y.span),y.encode({liquidity:e8,amountMaxA:"MintA"===i?o:a,amountMaxB:"MintA"===i?a:o,baseFlag:"MintA"===i,optionBaseFlag:1},S),A=v.Buffer.from([...rU,...S]),new E.TransactionInstruction({keys:b,programId:s,data:A}))],signers:[],instructionTypes:[13],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeDecreaseLiquidityInstructions({poolInfo:e,ownerPosition:r,ownerInfo:n,liquidity:i,amountMinA:o,amountMinB:a}){var s,l,c,u,d,m,p,f,g,h;let y,b,S,A,w=no.getTickArrayStartIndexByTick(r.tickLower,e.ammConfig.tickSpacing),T=no.getTickArrayStartIndexByTick(r.tickUpper,e.ammConfig.tickSpacing),{publicKey:k}=r7(e.programId,e.id,w),{publicKey:C}=r7(e.programId,e.id,T),{publicKey:I}=t$(n.wallet,r.nftMint,R),{publicKey:P}=ne(e.programId,r.nftMint),{publicKey:L}=r9(e.programId,e.id,r.tickLower,r.tickUpper),_=[];for(let r=0;r<e.rewardInfos.length;r++)_.push({poolRewardVault:e.rewardInfos[r].tokenVault,ownerRewardVault:n.rewardAccounts[r],rewardMint:e.rewardInfos[r].tokenMint});return{address:{tickArrayLower:k,tickArrayUpper:C,positionNftAccount:I,personalPosition:P,protocolPosition:L},innerTransaction:{instructions:[(s=e.programId,l=n.wallet,c=e.id,u=n.tokenAccountA,d=n.tokenAccountB,m=e.mintA.vault,p=e.mintB.vault,f=e.mintA.mint,g=e.mintB.mint,h=nb.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[w,T])?nr(e.programId,e.id).publicKey:void 0,y=tQ([tW("liquidity"),tq("amountMinA"),tq("amountMinB")]),b=[{pubkey:l,isSigner:!0,isWritable:!1},{pubkey:I,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:C,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:eK,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},...h?[{pubkey:h,isSigner:!1,isWritable:!0}]:[],..._.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],S=v.Buffer.alloc(y.span),y.encode({liquidity:i,amountMinA:o,amountMinB:a},S),A=v.Buffer.from([...rB,...S]),new E.TransactionInstruction({keys:b,programId:s,data:A}))],signers:[],instructionTypes:[14],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeClosePositionInstructions({poolInfo:e,ownerInfo:r,ownerPosition:n}){var i,o,a;let s,l,c,u,{publicKey:d}=t$(r.wallet,n.nftMint,R),{publicKey:m}=ne(e.programId,n.nftMint);return{address:{positionNftAccount:d,personalPosition:m},innerTransaction:{instructions:[(i=e.programId,o=r.wallet,a=n.nftMint,s=tQ([]),l=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1}],c=v.Buffer.alloc(s.span),s.encode({},c),u=v.Buffer.from([...rO,...c]),new E.TransactionInstruction({keys:l,programId:i,data:u}))],signers:[],instructionTypes:[15],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeSwapBaseInInstructions({poolInfo:e,ownerInfo:r,inputMint:n,amountIn:i,amountOutMin:o,sqrtPriceLimitX64:a,remainingAccounts:s}){let l=e.mintA.mint.equals(n);return{address:{},innerTransaction:{instructions:[rF(e.programId,r.wallet,e.id,e.ammConfig.id,l?r.tokenAccountA:r.tokenAccountB,l?r.tokenAccountB:r.tokenAccountA,l?e.mintA.vault:e.mintB.vault,l?e.mintB.vault:e.mintA.vault,l?e.mintA.mint:e.mintB.mint,l?e.mintB.mint:e.mintA.mint,s,e.observationId,i,o,a,!0,nr(e.programId,e.id).publicKey)],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[16]}}}static makeSwapBaseOutInstructions({poolInfo:e,ownerInfo:r,outputMint:n,amountOut:i,amountInMax:o,sqrtPriceLimitX64:a,remainingAccounts:s}){let l=e.mintA.mint.equals(n);return{address:{},innerTransaction:{instructions:[rF(e.programId,r.wallet,e.id,e.ammConfig.id,l?r.tokenAccountB:r.tokenAccountA,l?r.tokenAccountA:r.tokenAccountB,l?e.mintB.vault:e.mintA.vault,l?e.mintA.vault:e.mintB.vault,l?e.mintB.mint:e.mintA.mint,l?e.mintA.mint:e.mintB.mint,s,e.observationId,i,o,a,!1,nr(e.programId,e.id).publicKey)],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[17]}}}static makeInitRewardInstructions({poolInfo:e,ownerInfo:r,rewardInfo:n}){var i,o,a,s,l,c,u,d,m,p,f,g,h;let y,b,S,A,w=(i=e.programId,o=e.id,a=n.mint,eH([r4,o.toBuffer(),a.toBuffer()],i)).publicKey,T=eH([r6],e.programId).publicKey;return{address:{poolRewardVault:w,operationId:T},innerTransaction:{instructions:[(s=e.programId,l=r.wallet,c=e.id,u=e.ammConfig.id,d=r.tokenAccount,m=n.programId,p=n.mint,f=n.openTime,g=n.endTime,h=n.emissionsPerSecondX64,y=tQ([tq("openTime"),tq("endTime"),tW("emissionsPerSecondX64")]),b=[{pubkey:l,isSigner:!0,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:eG,isSigner:!1,isWritable:!1}],S=v.Buffer.alloc(y.span),y.encode({openTime:tr(f),endTime:tr(g),emissionsPerSecondX64:h},S),A=v.Buffer.from([...rD,...S]),new E.TransactionInstruction({keys:b,programId:s,data:A}))],signers:[],instructionTypes:[18],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeSetRewardInstructions({poolInfo:e,ownerInfo:r,rewardInfo:n}){var i,o,a,s,l,c,u,d,m,p,f;let g,h,y,b,S,A,w;for(let r=0;r<e.rewardInfos.length;r++)e.rewardInfos[r].tokenMint.equals(n.mint)&&(g=r,h=e.rewardInfos[r].tokenVault,y=e.rewardInfos[r].tokenMint);if(void 0===g||void 0===h||void 0===y)throw Error("reward mint check error");let T=eH([r6],e.programId).publicKey;return{address:{rewardVault:h,operationId:T},innerTransaction:{instructions:[(i=e.programId,o=r.wallet,a=e.id,s=e.ammConfig.id,l=r.tokenAccount,c=h,u=y,d=g,m=n.openTime,p=n.endTime,f=n.emissionsPerSecondX64,b=tQ([tF("rewardIndex"),tW("emissionsPerSecondX64"),tq("openTime"),tq("endTime")]),S=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0}],A=v.Buffer.alloc(b.span),b.encode({rewardIndex:d,emissionsPerSecondX64:f,openTime:tr(m),endTime:tr(p)},A),w=v.Buffer.from([...rE,...A]),new E.TransactionInstruction({keys:S,programId:i,data:w}))],signers:[],instructionTypes:[18],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static makeCollectRewardInstructions({poolInfo:e,ownerInfo:r,rewardMint:n}){var i,o,a,s,l,c;let u,d,m,p,f,g;for(let r=0;r<e.rewardInfos.length;r++)e.rewardInfos[r].tokenMint.equals(n)&&(u=r,d=e.rewardInfos[r].tokenVault);if(void 0===u||void 0===d)throw Error("reward mint check error");return{address:{rewardVault:d},innerTransaction:{instructions:[(i=e.programId,o=r.wallet,a=e.id,s=r.tokenAccount,l=d,c=u,m=tQ([tF("rewardIndex")]),p=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:eK,isSigner:!1,isWritable:!1}],f=v.Buffer.alloc(m.span),m.encode({rewardIndex:c},f),g=v.Buffer.from([...rM,...f]),new E.TransactionInstruction({keys:p,programId:i,data:g}))],signers:[],instructionTypes:[18],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default))}}}static getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:r,tickLower:n,tickUpper:i,amount:o,slippage:a,add:s,token2022Infos:l,epochInfo:c,amountHasFee:u}){var d,m;let p,f=e.sqrtPriceX64,g=nT.getSqrtPriceX64FromTick(n),h=nT.getSqrtPriceX64FromTick(i),y=t6(o,null==(d=l[r?e.mintA.mint.toString():e.mintB.mint.toString()])?void 0:d.feeConfig,c,!u),b=new V.default(new en.default(y.amount.sub(null!=(m=y.fee)?m:e8).toString()).mul(s?1-a:1+a).toFixed(0));if(f.lte(g))p=r?nC.getLiquidityFromTokenAmountA(g,h,b,!s):new V.default(0);else if(f.lte(h)){let e=nC.getLiquidityFromTokenAmountA(f,h,b,!s),n=nC.getLiquidityFromTokenAmountB(g,f,b);p=r?e:n}else p=r?new V.default(0):nC.getLiquidityFromTokenAmountB(g,h,b);return this.getAmountsFromLiquidity({poolInfo:e,tickLower:n,tickUpper:i,liquidity:p,slippage:a,add:s,token2022Infos:l,epochInfo:c,amountAddFee:u})}static getLiquidityFromAmounts({poolInfo:e,tickLower:r,tickUpper:n,amountA:i,amountB:o,slippage:a,add:s,token2022Infos:l,epochInfo:c,amountHasFee:u}){var d,m,p,f;let[g,h,y,b]=r<n?[r,n,i,o]:[n,r,o,i],S=e.sqrtPriceX64,A=nT.getSqrtPriceX64FromTick(g),w=nT.getSqrtPriceX64FromTick(h),[T,k]=[t6(y,null==(d=l[e.mintA.mint.toString()])?void 0:d.feeConfig,c,!u),t6(b,null==(m=l[e.mintB.mint.toString()])?void 0:m.feeConfig,c,!u)],C=nC.getLiquidityFromTokenAmounts(S,A,w,T.amount.sub(null!=(p=T.fee)?p:e8),k.amount.sub(null!=(f=k.fee)?f:e8));return this.getAmountsFromLiquidity({poolInfo:e,tickLower:r,tickUpper:n,liquidity:C,slippage:a,add:s,token2022Infos:l,epochInfo:c,amountAddFee:!u})}static getAmountsFromLiquidity({poolInfo:e,tickLower:r,tickUpper:n,liquidity:i,slippage:o,add:a,token2022Infos:s,epochInfo:l,amountAddFee:c}){var u,d,m,p;let f=nT.getSqrtPriceX64FromTick(r),g=nT.getSqrtPriceX64FromTick(n),h=a?1+o:1-o,y=nC.getAmountsFromLiquidity(e.sqrtPriceX64,f,g,i,a),[b,S]=[t6(y.amountA,null==(u=s[e.mintA.mint.toString()])?void 0:u.feeConfig,l,c),t6(y.amountB,null==(d=s[e.mintB.mint.toString()])?void 0:d.feeConfig,l,c)],[A,w]=[t6(new V.default(new en.default(y.amountA.toString()).mul(h).toFixed(0)),null==(m=s[e.mintA.mint.toString()])?void 0:m.feeConfig,l,c),t6(new V.default(new en.default(y.amountB.toString()).mul(h).toFixed(0)),null==(p=s[e.mintB.mint.toString()])?void 0:p.feeConfig,l,c)];return{liquidity:i,amountA:b,amountB:S,amountSlippageA:A,amountSlippageB:w,expirationTime:t5(b.expirationTime,S.expirationTime)}}static getPriceAndTick({poolInfo:e,price:r,baseIn:n}){let i=n?r:new en.default(1).div(r),o=nk.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=nT.getSqrtPriceX64FromTick(o),s=nT.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return n?{tick:o,price:s}:{tick:o,price:new en.default(1).div(s)}}static getTickPrice({poolInfo:e,tick:r,baseIn:n}){let i=nT.getSqrtPriceX64FromTick(r),o=nT.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return n?{tick:r,price:o,tickSqrtPriceX64:i}:{tick:r,price:new en.default(1).div(o),tickSqrtPriceX64:i}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:r,token2022Infos:n,epochInfo:i,amountIn:o,currencyOut:a,slippage:s,catchLiquidityInsufficient:l=!1}){let c=o instanceof tT,u=(c?o.token:tu.WSOL).mint,d=o.raw,m=s.numerator.toNumber()/s.denominator.toNumber(),{allTrade:p,realAmountIn:f,amountOut:g,minAmountOut:h,expirationTime:y,currentPrice:b,executionPrice:S,priceImpact:A,fee:w,remainingAccounts:T,executionPriceX64:k}=this.computeAmountOut({poolInfo:e,tickArrayCache:r,baseMint:u,amountIn:d,slippage:m,token2022Infos:n,epochInfo:i,catchLiquidityInsufficient:l}),C=ep(em({},f),{amount:c?new tT(o.token,f.amount):new tw(tc.SOL,f.amount),fee:void 0===f.fee?void 0:c?new tT(o.token,f.fee):new tw(tc.SOL,f.fee)}),I=ep(em({},g),{amount:a instanceof tu?new tT(a,g.amount):new tw(a,g.amount),fee:void 0===g.fee?void 0:a instanceof tu?new tT(a,g.fee):new tw(a,g.fee)});return{allTrade:p,realAmountIn:C,amountOut:I,minAmountOut:ep(em({},h),{amount:a instanceof tu?new tT(a,h.amount):new tw(a,h.amount),fee:void 0===h.fee?void 0:a instanceof tu?new tT(a,h.fee):new tw(a,h.fee)}),expirationTime:y,currentPrice:new tv(c?o.token:o.currency,new V.default(10).pow(new V.default(20+(c?o.token:o.currency).decimals)),a instanceof tu?a:tu.WSOL,b.mul(new en.default(eu(10,20+(a instanceof tu?a:tu.WSOL).decimals))).toFixed(0)),executionPrice:new tv(c?o.token:o.currency,new V.default(10).pow(new V.default(20+(c?o.token:o.currency).decimals)),a instanceof tu?a:tu.WSOL,S.mul(new en.default(eu(10,20+(a instanceof tu?a:tu.WSOL).decimals))).toFixed(0)),priceImpact:A,fee:c?new tT(o.token,w):new tw(o.currency,w),remainingAccounts:T,executionPriceX64:k}}static computeAmountOutAndCheckToken(e){return ef(this,arguments,function*({connection:e,poolInfo:r,tickArrayCache:n,baseMint:i,amountIn:o,slippage:a,priceLimit:s=new en.default(0),catchLiquidityInsufficient:l=!1}){let c=yield e.getEpochInfo(),u=yield t8({connection:e,mints:[r.mintA,r.mintB].filter(e=>e.programId.equals(O)).map(e=>e.mint)});return this.computeAmountOut({poolInfo:r,tickArrayCache:n,baseMint:i,amountIn:o,slippage:a,priceLimit:s,token2022Infos:u,epochInfo:c,catchLiquidityInsufficient:l})})}static computeAmountOut({poolInfo:e,tickArrayCache:r,baseMint:n,token2022Infos:i,epochInfo:o,amountIn:a,slippage:s,priceLimit:l=new en.default(0),catchLiquidityInsufficient:c=!1}){var u,d,m,p,f;let g;g=l.equals(new en.default(0))?n.equals(e.mintA.mint)?rY.add(e7):rX.sub(e7):nT.priceToSqrtPriceX64(l,e.mintA.decimals,e.mintB.decimals);let h=t6(a,null==(u=i[n.toString()])?void 0:u.feeConfig,o,!1),{allTrade:y,realTradeAmountIn:b,expectedAmountOut:S,remainingAccounts:A,executionPrice:w,feeAmount:T}=nb.getOutputAmountAndRemainAccounts(e,r,n,h.amount.sub(null!=(d=h.fee)?d:e8),g,c),k=t6(b,null==(m=i[n.toString()])?void 0:m.feeConfig,o,!0),C=e.mintA.mint.equals(n)?e.mintB.mint:e.mintA.mint,I=t6(S,null==(p=i[C.toString()])?void 0:p.feeConfig,o,!1),v=nT.sqrtPriceX64ToPrice(w,e.mintA.decimals,e.mintB.decimals),P=n.equals(e.mintA.mint)?v:new en.default(1).div(v),L=t6(S.mul(new V.default(Math.floor((1-s)*1e10))).div(new V.default(1e10)),null==(f=i[C.toString()])?void 0:f.feeConfig,o,!1),_=e.mintA.mint.equals(n)?e.currentPrice:new en.default(1).div(e.currentPrice),x=new en.default(P).sub(_).abs(),D=new tC(new en.default(x).mul(eu(10,15)).toFixed(0),new en.default(_).mul(eu(10,15)).toFixed(0));return{allTrade:y,realAmountIn:k,amountOut:I,minAmountOut:L,expirationTime:t5(k.expirationTime,I.expirationTime),currentPrice:e.currentPrice,executionPrice:P,priceImpact:D,fee:T,remainingAccounts:A,executionPriceX64:w}}static computeAmountInAndCheckToken(e){return ef(this,arguments,function*({connection:e,poolInfo:r,tickArrayCache:n,baseMint:i,amountOut:o,slippage:a,priceLimit:s=new en.default(0)}){let l=yield e.getEpochInfo(),c=yield t8({connection:e,mints:[r.mintA,r.mintB].filter(e=>e.programId.equals(O)).map(e=>e.mint)});return this.computeAmountIn({poolInfo:r,tickArrayCache:n,baseMint:i,amountOut:o,slippage:a,priceLimit:s,token2022Infos:c,epochInfo:l})})}static computeAmountIn({poolInfo:e,tickArrayCache:r,baseMint:n,token2022Infos:i,epochInfo:o,amountOut:a,slippage:s,priceLimit:l=new en.default(0)}){var c,u,d,m;let p;p=l.equals(new en.default(0))?n.equals(e.mintB.mint)?rY.add(e7):rX.sub(e7):nT.priceToSqrtPriceX64(l,e.mintA.decimals,e.mintB.decimals);let f=t6(a,null==(c=i[n.toString()])?void 0:c.feeConfig,o,!0),{expectedAmountIn:g,remainingAccounts:h,executionPrice:y,feeAmount:b}=nb.getInputAmountAndRemainAccounts(e,r,n,f.amount.sub(null!=(u=f.fee)?u:e8),p),S=e.mintA.mint.equals(n)?e.mintB.mint:e.mintA.mint,A=t6(g,null==(d=i[S.toString()])?void 0:d.feeConfig,o,!0),w=nT.sqrtPriceX64ToPrice(y,e.mintA.decimals,e.mintB.decimals),T=n.equals(e.mintA.mint)?w:new en.default(1).div(w),k=t6(g.mul(new V.default(Math.floor((1+s)*1e10))).div(new V.default(1e10)),null==(m=i[S.toString()])?void 0:m.feeConfig,o,!0),C=e.mintA.mint.equals(n)?e.currentPrice:new en.default(1).div(e.currentPrice),I=new en.default(T).sub(C).abs(),v=new tC(new en.default(I).mul(eu(10,15)).toFixed(0),new en.default(C).mul(eu(10,15)).toFixed(0));return{amountIn:A,maxAmountIn:k,realAmountOut:f,expirationTime:t5(A.expirationTime,f.expirationTime),currentPrice:e.currentPrice,executionPrice:T,priceImpact:v,fee:b,remainingAccounts:h}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:r,positionTickLowerIndex:n,positionTickUpperIndex:i}){let o,a=e[r],s=this.getTickPrice({poolInfo:e,tick:n,baseIn:!0}).price.toNumber(),l=this.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),c=Math.max(s,a.priceMin),u=Math.min(l,a.priceMax)-c,d=l-s,m=a.priceMax-a.priceMin;return o=u<=0?0:d===u?m/u:m===u?u/d:u/m*(u/d),{feeApr:a.feeApr*o,rewardsApr:[a.rewardApr.A*o,a.rewardApr.B*o,a.rewardApr.C*o],apr:a.apr*o}}static estimateAprsForPriceRangeDelta({poolInfo:e,aprType:r,mintPrice:n,rewardMintDecimals:i,liquidity:o,positionTickLowerIndex:a,positionTickUpperIndex:s,chainTime:l}){let c=e[r],u=n[e.mintA.mint.toString()],d=n[e.mintB.mint.toString()],m=e.mintA.decimals,p=e.mintB.decimals;if(!c||!u||!d)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let f=nT.getSqrtPriceX64FromTick(a),g=nT.getSqrtPriceX64FromTick(s),{amountSlippageA:h,amountSlippageB:y}=nC.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,f,g,e.liquidity,!1,!1,0),{amountSlippageA:b,amountSlippageB:S}=nC.getAmountsFromLiquidityWithSlippage(e.sqrtPriceX64,f,g,o,!1,!1,0),A=new en.default(h.toString()).div(new en.default(10).pow(m)).mul(u.toFixed(m)).add(new en.default(y.toString()).div(new en.default(10).pow(p)).mul(d.toFixed(p))),w=new en.default(b.toString()).div(new en.default(10).pow(m)).mul(u.toFixed(m)).add(new en.default(S.toString()).div(new en.default(10).pow(p)).mul(d.toFixed(p))),T=new en.default(1).div(A.add(w)),k=new en.default(c.volumeFee).mul(365).div("day"===r?1:"week"===r?7:30*("month"===r)).mul(T).mul(100).toNumber(),C=e.rewardInfos.map(e=>{let r=i[e.tokenMint.toString()],o=n[e.tokenMint.toString()];return l<e.openTime.toNumber()||l>e.endTime.toNumber()||e.perSecond.equals(0)||!o||void 0===r?0:new en.default(o.toFixed(r)).mul(e.perSecond.mul(31536e3)).div(new en.default(10).pow(r)).mul(T).mul(100).toNumber()});return{feeApr:k,rewardsApr:C,apr:k+C.reduce((e,r)=>e+r,0)}}static fetchMultiplePoolInfos(e){return ef(this,arguments,function*({connection:e,poolKeys:r,ownerInfo:n,chainTime:i,batchRequest:o=!1,updateOwnerRewardAndFee:a=!0}){var s;let l=yield e$(e,r.map(e=>new E.PublicKey(e.id)),{batchRequest:o}),c={};for(let e=0;e<r.length;e++){let n=r[e],i=l[e];null!==i&&(c[n.id]=nr(i.owner,new E.PublicKey(n.id)).publicKey)}let u=yield this.fetchExBitmaps({connection:e,exBitmapAddress:Object.values(c),batchRequest:o}),d=[],m={},p=[];for(let o=0;o<r.length;o++){let a=r[o],s=l[o],f=u[c[a.id].toString()];if(null===s)continue;let g=nd.decode(s.data);m[a.id]={state:{id:new E.PublicKey(a.id),mintA:{programId:new E.PublicKey(a.mintProgramIdA),mint:g.mintA,vault:g.vaultA,decimals:g.mintDecimalsA},mintB:{programId:new E.PublicKey(a.mintProgramIdB),mint:g.mintB,vault:g.vaultB,decimals:g.mintDecimalsB},observationId:g.observationId,ammConfig:ep(em({},a.ammConfig),{id:new E.PublicKey(a.ammConfig.id)}),creator:g.creator,programId:s.owner,version:6,tickSpacing:g.tickSpacing,liquidity:g.liquidity,sqrtPriceX64:g.sqrtPriceX64,currentPrice:nT.sqrtPriceX64ToPrice(g.sqrtPriceX64,g.mintDecimalsA,g.mintDecimalsB),tickCurrent:g.tickCurrent,observationIndex:g.observationIndex,observationUpdateDuration:g.observationUpdateDuration,feeGrowthGlobalX64A:g.feeGrowthGlobalX64A,feeGrowthGlobalX64B:g.feeGrowthGlobalX64B,protocolFeesTokenA:g.protocolFeesTokenA,protocolFeesTokenB:g.protocolFeesTokenB,swapInAmountTokenA:g.swapInAmountTokenA,swapOutAmountTokenB:g.swapOutAmountTokenB,swapInAmountTokenB:g.swapInAmountTokenB,swapOutAmountTokenA:g.swapOutAmountTokenA,tickArrayBitmap:g.tickArrayBitmap,rewardInfos:yield nb.updatePoolRewardInfos({connection:e,apiPoolInfo:a,chainTime:i,poolLiquidity:g.liquidity,rewardInfos:g.rewardInfos.filter(e=>!e.tokenMint.equals(E.PublicKey.default))}),day:a.day,week:a.week,month:a.month,tvl:a.tvl,lookupTableAccount:a.lookupTableAccount?new E.PublicKey(a.lookupTableAccount):E.PublicKey.default,startTime:g.startTime.toNumber(),exBitmapInfo:f}},n&&p.push(...m[a.id].state.rewardInfos.filter(e=>e.creator.equals(n.wallet))),d.find(e=>e.equals(s.owner))||d.push(s.owner)}if(n){let r=n.tokenAccounts.filter(e=>e.accountInfo.amount.eq(new V.default(1))).map(e=>e.accountInfo.mint),i=[];for(let e of r)for(let r of d)i.push(ne(r,e).publicKey);let l=yield e$(e,i,{batchRequest:o}),c={};for(let e of l){if(null===e)continue;let r=np.decode(e.data),n=r.poolId.toString(),i=m[n];if(void 0===i)continue;let o=i.state,a=this.getTickPrice({poolInfo:o,tick:r.tickLower,baseIn:!0}),l=this.getTickPrice({poolInfo:o,tick:r.tickUpper,baseIn:!0}),{amountA:u,amountB:d}=nC.getAmountsFromLiquidity(o.sqrtPriceX64,a.tickSqrtPriceX64,l.tickSqrtPriceX64,r.liquidity,!1),p=1/(1-Math.sqrt(Math.sqrt(a.price.div(l.price).toNumber())));m[n].positionAccount=[...null!=(s=m[n].positionAccount)?s:[],{poolId:r.poolId,nftMint:r.nftMint,priceLower:a.price,priceUpper:l.price,amountA:u,amountB:d,tickLower:r.tickLower,tickUpper:r.tickUpper,liquidity:r.liquidity,feeGrowthInsideLastX64A:r.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:r.feeGrowthInsideLastX64B,tokenFeesOwedA:r.tokenFeesOwedA,tokenFeesOwedB:r.tokenFeesOwedB,rewardInfos:r.rewardInfos.map(e=>ep(em({},e),{pendingReward:new V.default(0)})),leverage:p,tokenFeeAmountA:new V.default(0),tokenFeeAmountB:new V.default(0)}];let f=no.getTickArrayAddressByTick(m[n].state.programId,r.poolId,r.tickLower,m[n].state.tickSpacing),g=no.getTickArrayAddressByTick(m[n].state.programId,r.poolId,r.tickUpper,m[n].state.tickSpacing);c[`${m[n].state.programId.toString()}-${r.poolId.toString()}-${r.tickLower}`]=f,c[`${m[n].state.programId.toString()}-${r.poolId.toString()}-${r.tickUpper}`]=g}if(a){let r=Object.values(c),n=yield e$(e,r,{batchRequest:o}),i={};for(let e=0;e<r.length;e++){let o=n[e];if(null===o)continue;let a=r[e];i[a.toString()]=em({address:a},ng.decode(o.data))}for(let{state:e,positionAccount:r}of Object.values(m))if(r)for(let n of r){let r=`${e.programId.toString()}-${e.id.toString()}-${n.tickLower}`,o=`${e.programId.toString()}-${e.id.toString()}-${n.tickUpper}`,a=i[c[r].toString()],s=i[c[o].toString()],l=a.ticks[no.getTickOffsetInArray(n.tickLower,e.tickSpacing)],u=s.ticks[no.getTickOffsetInArray(n.tickUpper,e.tickSpacing)],{tokenFeeAmountA:d,tokenFeeAmountB:m}=nv.GetPositionFees(e,n,l,u),p=nv.GetPositionRewards(e,n,l,u);n.tokenFeeAmountA=d.gte(e8)&&d.lt(rj)?d:e8,n.tokenFeeAmountB=m.gte(e8)&&d.lt(rj)?m:e8;for(let e=0;e<p.length;e++)n.rewardInfos[e].pendingReward=p[e].gte(e8)&&p[e].lt(rj)?p[e]:e8}}}if(p.length>0){let r=p.map(e=>e.tokenVault),n=yield e$(e,r,{batchRequest:o}),i={};for(let e=0;e<r.length;e++){let o=r[e].toString(),a=n[e];if(null===a)continue;let s=tJ.decode(a.data);i[o]=s.amount}for(let e of p){let r=i[e.tokenVault.toString()];e.remainingRewards=void 0!==r?r.sub(e.rewardTotalEmissioned.sub(e.rewardClaimed)):e8}}return m})}static fetchMultiplePoolTickArrays(e){return ef(this,arguments,function*({connection:e,poolKeys:r,batchRequest:n}){let i={},o=[];for(let e of r){let r=no.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let n of no.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,r,7)){let{publicKey:r}=r7(e.programId,e.id,n);o.push({pubkey:r}),i[r.toString()]=e.id}}let a=yield e1(e,o,{batchRequest:n}),s={};for(let e of a){if(!e.accountInfo)continue;let r=i[e.pubkey.toString()];if(!r)continue;void 0===s[r.toString()]&&(s[r.toString()]={});let n=ng.decode(e.accountInfo.data);s[r.toString()][n.startTickIndex]=ep(em({},n),{address:e.pubkey})}return s})}static fetchExBitmaps(e){return ef(this,arguments,function*({connection:e,exBitmapAddress:r,batchRequest:n}){let i=yield e1(e,r.map(e=>({pubkey:e})),{batchRequest:n}),o={};for(let e of i)null!==e.accountInfo&&(o[e.pubkey.toString()]=ny.decode(e.accountInfo.data));return o})}static getWhiteListMint(e){return ef(this,arguments,function*({connection:e,programId:r}){let n=yield e.getAccountInfo(eH([r6],r).publicKey);return n?nh.decode(n.data).whitelistMints.filter(e=>!e.equals(E.PublicKey.default)):[]})}},n_="9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin",nx=new E.PublicKey(n_),nD={[n_]:3},nE={3:nx},nR=tQ([tU(5),tU(8),tY("ownAddress"),tq("vaultSignerNonce"),tY("baseMint"),tY("quoteMint"),tY("baseVault"),tq("baseDepositsTotal"),tq("baseFeesAccrued"),tY("quoteVault"),tq("quoteDepositsTotal"),tq("quoteFeesAccrued"),tq("quoteDustThreshold"),tY("requestQueue"),tY("eventQueue"),tY("bids"),tY("asks"),tq("baseLotSize"),tq("quoteLotSize"),tq("feeRateBps"),tq("referrerRebatesAccrued"),tU(7)]),nO={3:nR},nU=eN.from("Serum"),nB=class{static getProgramId(e){let r=nE[e];return nU.assertArgument(!!r,"invalid version","version",e),r}static getVersion(e){let r=e.toBase58(),n=nD[r];return nU.assertArgument(!!n,"invalid program id","programId",r),n}static getStateLayout(e){let r=nO[e];return nU.assertArgument(!!r,"invalid version","version",e),r}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedAuthority({programId:e,marketId:r}){let n,i=[r.toBuffer()],o=0;for(;o<100;){try{let r=i.concat(v.Buffer.from([o]),v.Buffer.alloc(7));n=E.PublicKey.createProgramAddressSync(r,e)}catch(e){if(e instanceof TypeError)throw e;o++;continue}return{publicKey:n,nonce:o}}return nU.throwArgumentError("unable to find a viable program address nonce","params",{programId:e,marketId:r})}},nV=new E.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),nM=tQ([tq("x"),tq("y"),tq("price")]),nF=tQ([tq("accountType"),tq("status"),tq("multiplier"),tq("validDataCount"),tZ(nM,5e4,"DataElement")]);function nN(e,r,n){let[i,o,a]=function(e,r,n){let[i,o]=[0,49998],a=i,s=o,l=0,c=r*e.multiplier/n;for(;a<=s&&0!==(l=Math.floor((s+a)/2))&&!(l>=49998);){let r=e.DataElement[l].x*e.multiplier/e.DataElement[l].y,n=e.DataElement[l-1].x*e.multiplier/e.DataElement[l-1].y,i=e.DataElement[l+1].x*e.multiplier/e.DataElement[l+1].y;if(c===r)return[l,l,!0];if(c===n)return[l-1,l-1,!0];if(c===i)return[l+1,l+1,!0];else if(c<n)s=l-1;else{if(c>n&&c<r)return[l-1,l,!0];if(c>r&&c<i)return[l,l+1,!0];a=l+1}}return[l,l,!1]}(e,r,n);if(!a)return 0;if(i===o){let n=e.DataElement[i].x;return r*e.multiplier/n}{let a=e.DataElement[i].x,s=e.DataElement[i].y,l=e.DataElement[o].x,c=e.DataElement[o].y,u=n*(l*s-a*c),d=(l-a)*(r*s-a*n)*c;return r*e.multiplier*u/(a*u+d)}}function nq(e,r,n){return r*e.multiplier/n}function nW(e,r,n){return r*n/e.multiplier}function nK(e,r,n,i){let o=i?r+n:r-n,[a,s,l]=function(e,r){let[n,i]=[0,49998],o=n,a=i,s=0;for(;o<a&&!((s=Math.floor((a+o)/2))<=0)&&!(s>49998);){let n=e.DataElement[s].x,i=e.DataElement[s-1].x,l=e.DataElement[s+1].x;if(r===n)return[s,s,!0];if(r===i)return[s-1,s-1,!0];if(r===l)return[s+1,s+1,!0];else if(r<i)a=s-1;else{if(r>i&&r<n)return[s-1,s,!0];if(r>n&&r<l)return[s,s+1,!0];o=s+1}}return[s,s,!1]}(e,o);if(!l)return[0,0,!1,l];if(a===s)return[e.DataElement[s].price,e.DataElement[s].y,!1,l];{let n=e.DataElement[a].x,c=e.DataElement[s].x,u=e.DataElement[a].price,d=e.DataElement[s].price,m=e.DataElement[a].y,p=e.DataElement[s].y;if(r>=n&&r<=c)if(i)return[d,p,!0,l];else return[u,m,!0,l];{let a,s;return i?(a=u+(d-u)*(r-n)/(c-n),s=m-(o-n)*e.multiplier/d):(a=u+(d-u)*(r-n)/(c-n),s=p+(c-o)*e.multiplier/u),[a,s,!1,l]}}}var nG=eN.from("Liquidity"),nY={accountType:0,status:0,multiplier:0,validDataCount:0,DataElement:[]},nX=((m=nX||{})[m.Uninitialized=0]="Uninitialized",m[m.Initialized=1]="Initialized",m[m.Disabled=2]="Disabled",m[m.RemoveLiquidityOnly=3]="RemoveLiquidityOnly",m[m.LiquidityOnly=4]="LiquidityOnly",m[m.OrderBook=5]="OrderBook",m[m.Swap=6]="Swap",m[m.WaitingForStart=7]="WaitingForStart",m),nz=new V.default(25),nH=new V.default(1e4),nj=class e extends t2{static getStateLayout(e){let r=r_[e];return nG.assertArgument(!!r,"invalid version","version",e),r}static getLayouts(e){return{state:this.getStateLayout(e)}}static getAssociatedId({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("amm_associated_seed","utf-8")],e);return n}static getAssociatedAuthority({programId:e}){return eH([v.Buffer.from([97,109,109,32,97,117,116,104,111,114,105,116,121])],e)}static getAssociatedBaseVault({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("coin_vault_associated_seed","utf-8")],e);return n}static getAssociatedQuoteVault({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("pc_vault_associated_seed","utf-8")],e);return n}static getAssociatedLpMint({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("lp_mint_associated_seed","utf-8")],e);return n}static getAssociatedLpVault({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("temp_lp_token_associated_seed","utf-8")],e);return n}static getAssociatedTargetOrders({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("target_associated_seed","utf-8")],e);return n}static getAssociatedWithdrawQueue({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("withdraw_associated_seed","utf-8")],e);return n}static getAssociatedOpenOrders({programId:e,marketId:r}){let{publicKey:n}=eH([e.toBuffer(),r.toBuffer(),v.Buffer.from("open_order_associated_seed","utf-8")],e);return n}static getAssociatedConfigId({programId:e}){let{publicKey:r}=eH([v.Buffer.from("amm_config_account_seed","utf-8")],e);return r}static getAssociatedPoolKeys({version:e,marketVersion:r,marketId:n,baseMint:i,quoteMint:o,baseDecimals:a,quoteDecimals:s,programId:l,marketProgramId:c}){let u=this.getAssociatedId({programId:l,marketId:n}),d=this.getAssociatedLpMint({programId:l,marketId:n}),{publicKey:m,nonce:p}=this.getAssociatedAuthority({programId:l}),f=this.getAssociatedBaseVault({programId:l,marketId:n}),g=this.getAssociatedQuoteVault({programId:l,marketId:n}),h=this.getAssociatedLpVault({programId:l,marketId:n}),y=this.getAssociatedOpenOrders({programId:l,marketId:n}),b=this.getAssociatedTargetOrders({programId:l,marketId:n}),S=this.getAssociatedWithdrawQueue({programId:l,marketId:n}),{publicKey:A}=nB.getAssociatedAuthority({programId:c,marketId:n});return{id:u,baseMint:i,quoteMint:o,lpMint:d,baseDecimals:a,quoteDecimals:s,lpDecimals:a,version:e,programId:l,authority:m,nonce:p,baseVault:f,quoteVault:g,lpVault:h,openOrders:y,targetOrders:b,withdrawQueue:S,marketVersion:r,marketProgramId:c,marketId:n,marketAuthority:A,lookupTableAccount:E.PublicKey.default,configId:this.getAssociatedConfigId({programId:l})}}static getCreatePoolFee(e){return ef(this,arguments,function*({connection:e,programId:r}){let n=this.getAssociatedConfigId({programId:r}),i=tQ([tq("fee")]),o=yield e.getAccountInfo(n,{dataSlice:{offset:536,length:8}});if(null===o)throw Error("get config account error");return i.decode(o.data).fee})}static makeAddLiquidityInstruction(e){let{poolKeys:r,userKeys:n,baseAmountIn:i,quoteAmountIn:o,fixedSide:a}=e,{version:s}=r;if(4===s||5===s){let e=tQ([tF("instruction"),tq("baseAmountIn"),tq("quoteAmountIn"),tq("fixedSide")]),l=v.Buffer.alloc(e.span);e.encode({instruction:3,baseAmountIn:tr(i),quoteAmountIn:tr(o),fixedSide:tr(+("base"!==a))},l);let c=[eQ(R,!1),ej(r.id,!1),eQ(r.authority,!1),eQ(r.openOrders,!1),ej(r.targetOrders,!1),ej(r.lpMint,!1),ej(r.baseVault,!1),ej(r.quoteVault,!1)];return 5===s&&c.push(ej(nV,!1)),c.push(eQ(r.marketId,!1),ej(n.baseTokenAccount,!1),ej(n.quoteTokenAccount,!1),ej(n.lpTokenAccount,!1),eQ(n.owner,!0),eQ(r.marketEventQueue,!1)),{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:r.programId,keys:c,data:l})],signers:[],lookupTableAddress:[r.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[4===s?22:30]}}}return nG.throwArgumentError("invalid version","poolKeys.version",s)}static makeAddLiquidityInstructionSimple(e){return ef(this,null,function*(){let{connection:r,poolKeys:n,userKeys:i,amountInA:o,amountInB:a,fixedSide:s,config:l,makeTxVersion:c,lookupTableCache:u,computeBudgetConfig:d}=e,{lpMint:m}=n,{tokenAccounts:p,owner:f,payer:g=f}=i;nG.debug("amountInA:",o),nG.debug("amountInB:",a),nG.assertArgument(!o.isZero()&&!a.isZero(),"amounts must greater than zero","amountInA & amountInB",{amountInA:o.toFixed(),amountInB:a.toFixed()});let{bypassAssociatedCheck:h,checkCreateATAOwner:y}=em(em({},{bypassAssociatedCheck:!1,checkCreateATAOwner:!1}),l),b=o instanceof tT?o.token:tu.WSOL,S=a instanceof tT?a.token:tu.WSOL,A=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:b.mint,owner:f,config:{associatedOnly:!1}}),w=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:S.mint,owner:f,config:{associatedOnly:!1}});nG.assertArgument(!!A||!!w,"cannot found target token accounts","tokenAccounts",p);let T=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:m,owner:f}),k=[b,S],C=[A,w],I=[o.raw,a.raw],[v]=this._getAmountsSide(o,a,n),P="base";if("quote"===v)if(k.reverse(),C.reverse(),I.reverse(),"a"===s)P="quote";else{if("b"!==s)return nG.throwArgumentError("invalid fixedSide","fixedSide",s);P="base"}else if("base"!==v)return nG.throwArgumentError("invalid fixedSide","fixedSide",s);else if("a"===s)P="base";else{if("b"!==s)return nG.throwArgumentError("invalid fixedSide","fixedSide",s);P="quote"}let[L,_]=k,[x,D]=C,[E,O]=I,U=[],B=[],V=[],M=[],F=[],N=yield this._handleTokenAccount({programId:R,connection:r,side:"in",amount:E,mint:L.mint,tokenAccount:x,owner:f,payer:g,frontInstructions:U,endInstructions:B,signers:F,bypassAssociatedCheck:h,frontInstructionsType:V,endInstructionsType:M,checkCreateATAOwner:y}),q=yield this._handleTokenAccount({programId:R,connection:r,side:"in",amount:O,mint:_.mint,tokenAccount:D,owner:f,payer:g,frontInstructions:U,endInstructions:B,signers:F,bypassAssociatedCheck:h,frontInstructionsType:V,endInstructionsType:M,checkCreateATAOwner:y}),W=yield this._handleTokenAccount({programId:R,connection:r,side:"out",amount:0,mint:m,tokenAccount:T,owner:f,payer:g,frontInstructions:U,endInstructions:B,signers:F,bypassAssociatedCheck:h,frontInstructionsType:V,endInstructionsType:M,checkCreateATAOwner:y}),K=this.makeAddLiquidityInstruction({poolKeys:n,userKeys:{baseTokenAccount:N,quoteTokenAccount:q,lpTokenAccount:W,owner:f},baseAmountIn:E,quoteAmountIn:O,fixedSide:P});return{address:{lpTokenAccount:W},innerTransactions:yield e2({connection:r,makeTxVersion:c,computeBudgetConfig:d,payer:g,innerTransaction:[{instructionTypes:V,instructions:U,signers:F},K.innerTransaction,{instructionTypes:M,instructions:B,signers:[]}],lookupTableCache:u})}})}static makeRemoveLiquidityInstruction(e){let{poolKeys:r,userKeys:n,amountIn:i}=e,{version:o}=r;if(4===o||5===o){let e=tQ([tF("instruction"),tq("amountIn")]),a=v.Buffer.alloc(e.span);e.encode({instruction:4,amountIn:tr(i)},a);let s=[eQ(R,!1),ej(r.id,!1),eQ(r.authority,!1),ej(r.openOrders,!1),ej(r.targetOrders,!1),ej(r.lpMint,!1),ej(r.baseVault,!1),ej(r.quoteVault,!1)];return 5===o?s.push(ej(nV,!1)):(s.push(ej(r.withdrawQueue,!1)),s.push(ej(r.lpVault,!1))),s.push(eQ(r.marketProgramId,!1),ej(r.marketId,!1),ej(r.marketBaseVault,!1),ej(r.marketQuoteVault,!1),eQ(r.marketAuthority,!1),ej(n.lpTokenAccount,!1),ej(n.baseTokenAccount,!1),ej(n.quoteTokenAccount,!1),eQ(n.owner,!0),ej(r.marketEventQueue,!1),ej(r.marketBids,!1),ej(r.marketAsks,!1)),{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:r.programId,keys:s,data:a})],signers:[],lookupTableAddress:[r.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[4===o?23:31]}}}return nG.throwArgumentError("invalid version","poolKeys.version",o)}static makeRemoveLiquidityInstructionSimple(e){return ef(this,null,function*(){let{connection:r,poolKeys:n,userKeys:i,amountIn:o,config:a,makeTxVersion:s,lookupTableCache:l,computeBudgetConfig:c}=e,{baseMint:u,quoteMint:d,lpMint:m}=n,{tokenAccounts:p,owner:f,payer:g=f}=i;nG.debug("amountIn:",o),nG.assertArgument(!o.isZero(),"amount must greater than zero","amountIn",o.toFixed()),nG.assertArgument(o instanceof tT&&o.token.mint.equals(m),"amountIn's token not match lpMint","amountIn",o);let h=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:m,owner:f,config:{associatedOnly:!1}});if(!h)return nG.throwArgumentError("cannot found lpTokenAccount","tokenAccounts",p);let y=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:u,owner:f}),b=this._selectTokenAccount({programId:R,tokenAccounts:p,mint:d,owner:f}),{bypassAssociatedCheck:S,checkCreateATAOwner:A}=em(em({},{bypassAssociatedCheck:!1,checkCreateATAOwner:!1}),a),w=[],T=[],k=[],C=[],I=yield this._handleTokenAccount({programId:R,connection:r,side:"out",amount:0,mint:u,tokenAccount:y,owner:f,payer:g,frontInstructions:w,endInstructions:T,signers:C,bypassAssociatedCheck:S,frontInstructionsType:k,checkCreateATAOwner:A}),v=yield this._handleTokenAccount({programId:R,connection:r,side:"out",amount:0,mint:d,tokenAccount:b,owner:f,payer:g,frontInstructions:w,endInstructions:T,signers:C,bypassAssociatedCheck:S,frontInstructionsType:k,checkCreateATAOwner:A}),P=this.makeRemoveLiquidityInstruction({poolKeys:n,userKeys:{lpTokenAccount:h,baseTokenAccount:I,quoteTokenAccount:v,owner:f},amountIn:o.raw});return{address:{lpTokenAccount:h},innerTransactions:yield e2({connection:r,makeTxVersion:s,computeBudgetConfig:c,payer:g,innerTransaction:[{instructionTypes:k,instructions:w,signers:C},P.innerTransaction,{instructionTypes:[],instructions:T,signers:[]}],lookupTableCache:l})}})}static makeSwapInstruction(e){let{poolKeys:r,userKeys:n,amountIn:i,amountOut:o,fixedSide:a}=e,{version:s}=r;return 4===s||5===s?"in"===a?this.makeSwapFixedInInstruction({poolKeys:r,userKeys:n,amountIn:i,minAmountOut:o},s):"out"===a?this.makeSwapFixedOutInstruction({poolKeys:r,userKeys:n,maxAmountIn:i,amountOut:o},s):nG.throwArgumentError("invalid params","params",e):nG.throwArgumentError("invalid version","poolKeys.version",s)}static makeSwapFixedInInstruction({poolKeys:e,userKeys:r,amountIn:n,minAmountOut:i},o){let a=tQ([tF("instruction"),tq("amountIn"),tq("minAmountOut")]),s=v.Buffer.alloc(a.span);a.encode({instruction:9,amountIn:tr(n),minAmountOut:tr(i)},s);let l=[eQ(R,!1),ej(e.id,!1),eQ(e.authority,!1),ej(e.openOrders,!1)];return 4===o&&l.push(ej(e.targetOrders,!1)),l.push(ej(e.baseVault,!1),ej(e.quoteVault,!1)),5===o&&l.push(ej(nV,!1)),l.push(eQ(e.marketProgramId,!1),ej(e.marketId,!1),ej(e.marketBids,!1),ej(e.marketAsks,!1),ej(e.marketEventQueue,!1),ej(e.marketBaseVault,!1),ej(e.marketQuoteVault,!1),eQ(e.marketAuthority,!1),ej(r.tokenAccountIn,!1),ej(r.tokenAccountOut,!1),eQ(r.owner,!0)),{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:l,data:s})],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[4===o?25:33]}}}static makeSwapFixedOutInstruction({poolKeys:e,userKeys:r,maxAmountIn:n,amountOut:i},o){let a=tQ([tF("instruction"),tq("maxAmountIn"),tq("amountOut")]),s=v.Buffer.alloc(a.span);a.encode({instruction:11,maxAmountIn:tr(n),amountOut:tr(i)},s);let l=[eQ(R,!1),ej(e.id,!1),eQ(e.authority,!1),ej(e.openOrders,!1),ej(e.targetOrders,!1),ej(e.baseVault,!1),ej(e.quoteVault,!1)];return 5===o&&l.push(ej(nV,!1)),l.push(eQ(e.marketProgramId,!1),ej(e.marketId,!1),ej(e.marketBids,!1),ej(e.marketAsks,!1),ej(e.marketEventQueue,!1),ej(e.marketBaseVault,!1),ej(e.marketQuoteVault,!1),eQ(e.marketAuthority,!1),ej(r.tokenAccountIn,!1),ej(r.tokenAccountOut,!1),eQ(r.owner,!0)),{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:l,data:s})],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[4===o?26:34]}}}static makeSwapInstructionSimple(e){return ef(this,null,function*(){let{connection:r,poolKeys:n,userKeys:i,amountIn:o,amountOut:a,fixedSide:s,config:l,makeTxVersion:c,lookupTableCache:u,computeBudgetConfig:d}=e,{tokenAccounts:m,owner:p,payer:f=p}=i;nG.debug("amountIn:",o),nG.debug("amountOut:",a),nG.assertArgument(!o.isZero()&&!a.isZero(),"amounts must greater than zero","currencyAmounts",{amountIn:o.toFixed(),amountOut:a.toFixed()});let{bypassAssociatedCheck:g,checkCreateATAOwner:h}=em(em({},{bypassAssociatedCheck:!1,checkCreateATAOwner:!1}),l),y=o instanceof tT?o.token:tu.WSOL,b=a instanceof tT?a.token:tu.WSOL,S=this._selectTokenAccount({programId:R,tokenAccounts:m,mint:y.mint,owner:p,config:{associatedOnly:!1}}),A=this._selectTokenAccount({programId:R,tokenAccounts:m,mint:b.mint,owner:p}),[w,T]=[o.raw,a.raw],k=[],C=[],I=[],v=[],P=yield this._handleTokenAccount({programId:R,connection:r,side:"in",amount:w,mint:y.mint,tokenAccount:S,owner:p,payer:f,frontInstructions:k,endInstructions:C,signers:v,bypassAssociatedCheck:g,frontInstructionsType:I,checkCreateATAOwner:h}),L=yield this._handleTokenAccount({programId:R,connection:r,side:"out",amount:0,mint:b.mint,tokenAccount:A,owner:p,payer:f,frontInstructions:k,endInstructions:C,signers:v,bypassAssociatedCheck:g,frontInstructionsType:I,checkCreateATAOwner:h}),_=this.makeSwapInstruction({poolKeys:n,userKeys:{tokenAccountIn:P,tokenAccountOut:L,owner:p},amountIn:w,amountOut:T,fixedSide:s});return{address:{},innerTransactions:yield e2({connection:r,makeTxVersion:c,computeBudgetConfig:d,payer:f,innerTransaction:[{instructionTypes:I,instructions:k,signers:v},_.innerTransaction,{instructionTypes:[],instructions:C,signers:[]}],lookupTableCache:u})}})}static makeSimulatePoolInfoInstruction({poolKeys:e}){let r=tQ([tF("instruction"),tF("simulateType")]),n=v.Buffer.alloc(r.span);r.encode({instruction:12,simulateType:0},n);let i=[eQ(e.id,!1),eQ(e.authority,!1),eQ(e.openOrders,!1),eQ(e.baseVault,!1),eQ(e.quoteVault,!1),eQ(e.lpMint,!1),eQ(e.marketId,!1),eQ(e.marketEventQueue,!1)];return{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({programId:e.programId,keys:i,data:n})],signers:[],lookupTableAddress:[e.lookupTableAccount].filter(e=>e&&!e.equals(E.PublicKey.default)),instructionTypes:[4===e.version?24:32]}}}static isV4(e){return void 0!==e.withdrawQueue}static makeCreatePoolV4InstructionV2Simple(r){return ef(this,arguments,function*({connection:r,programId:n,marketInfo:i,baseMintInfo:o,quoteMintInfo:a,baseAmount:s,quoteAmount:l,startTime:c,ownerInfo:u,associatedOnly:d=!1,computeBudgetConfig:m,checkCreateATAOwner:p=!1,makeTxVersion:f,lookupTableCache:g,feeDestinationId:h}){let y=[],b=[],S=[],A=[],w=[],T=u.useSOLBalance&&o.mint.equals(tu.WSOL.mint),k=u.useSOLBalance&&a.mint.equals(tu.WSOL.mint),C=yield this._selectOrCreateTokenAccount({programId:R,mint:o.mint,tokenAccounts:T?[]:u.tokenAccounts,owner:u.wallet,createInfo:T?{connection:r,payer:u.feePayer,amount:s,frontInstructions:y,frontInstructionsType:S,endInstructions:T?b:[],endInstructionsType:T?A:[],signers:w}:void 0,associatedOnly:!T&&d,checkCreateATAOwner:p}),I=yield this._selectOrCreateTokenAccount({programId:R,mint:a.mint,tokenAccounts:k?[]:u.tokenAccounts,owner:u.wallet,createInfo:k?{connection:r,payer:u.feePayer,amount:l,frontInstructions:y,frontInstructionsType:S,endInstructions:k?b:[],endInstructionsType:k?A:[],signers:w}:void 0,associatedOnly:!k&&d,checkCreateATAOwner:p});if(void 0===C||void 0===I)throw Error("you don't has some token account");let v=e.getAssociatedPoolKeys({version:4,marketVersion:3,marketId:i.marketId,baseMint:o.mint,quoteMint:a.mint,baseDecimals:o.decimals,quoteDecimals:a.decimals,programId:n,marketProgramId:i.programId}),P=this.makeCreatePoolV4InstructionV2({programId:n,ammId:v.id,ammAuthority:v.authority,ammOpenOrders:v.openOrders,lpMint:v.lpMint,coinMint:v.baseMint,pcMint:v.quoteMint,coinVault:v.baseVault,pcVault:v.quoteVault,ammTargetOrders:v.targetOrders,marketProgramId:v.marketProgramId,marketId:v.marketId,userWallet:u.wallet,userCoinVault:C,userPcVault:I,userLpVault:t$(u.wallet,v.lpMint,R).publicKey,ammConfigId:v.configId,feeDestinationId:h,nonce:v.nonce,openTime:c,coinAmount:s,pcAmount:l}).innerTransaction;return{address:{programId:n,ammId:v.id,ammAuthority:v.authority,ammOpenOrders:v.openOrders,lpMint:v.lpMint,coinMint:v.baseMint,pcMint:v.quoteMint,coinVault:v.baseVault,pcVault:v.quoteVault,withdrawQueue:v.withdrawQueue,ammTargetOrders:v.targetOrders,poolTempLp:v.lpVault,marketProgramId:v.marketProgramId,marketId:v.marketId},innerTransactions:yield e2({connection:r,makeTxVersion:f,computeBudgetConfig:m,payer:u.feePayer,innerTransaction:[{instructionTypes:S,instructions:y,signers:w},P,{instructionTypes:A,instructions:b,signers:[]}],lookupTableCache:g})}})}static makeCreatePoolV4InstructionV2({programId:e,ammId:r,ammAuthority:n,ammOpenOrders:i,lpMint:o,coinMint:a,pcMint:s,coinVault:l,pcVault:c,ammTargetOrders:u,marketProgramId:d,marketId:m,userWallet:p,userCoinVault:f,userPcVault:g,userLpVault:h,nonce:y,openTime:b,coinAmount:S,pcAmount:A,lookupTableAddress:w,ammConfigId:T,feeDestinationId:k}){let C=tQ([tF("instruction"),tF("nonce"),tq("openTime"),tq("pcAmount"),tq("coinAmount")]),I=[{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:U,isSigner:!1,isWritable:!1},{pubkey:eW,isSigner:!1,isWritable:!1},{pubkey:eG,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!0,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0}],P=v.Buffer.alloc(C.span);return C.encode({instruction:1,nonce:y,openTime:b,coinAmount:S,pcAmount:A},P),{address:{},innerTransaction:{instructions:[new E.TransactionInstruction({keys:I,programId:e,data:P})],signers:[],lookupTableAddress:w?[w]:void 0,instructionTypes:[29]}}}static makeRemoveAllLpAndCreateClmmPosition(e){return ef(this,arguments,function*({connection:e,poolKeys:r,removeLpAmount:n,userKeys:i,clmmPoolKeys:o,createPositionInfo:a,farmInfo:s,computeBudgetConfig:l,checkCreateATAOwner:c=!1,getEphemeralSigners:u,makeTxVersion:d,lookupTableCache:m}){var p,f,g,h,y,b,S;if(!(r.baseMint.equals(o.mintA.mint)||r.baseMint.equals(o.mintB.mint))||!(r.quoteMint.equals(o.mintA.mint)||r.quoteMint.equals(o.mintB.mint)))throw Error("mint check error");let A=[],w=[],T=[],k=[],C=[],I={};for(let e of i.tokenAccounts)(void 0===I[e.accountInfo.mint.toString()]||t$(i.owner,e.accountInfo.mint,R).publicKey.equals(e.pubkey))&&(I[e.accountInfo.mint.toString()]=e.pubkey);let v=I[r.lpMint.toString()];if(void 0===v)throw Error("find lp account error in trade accounts");let P=n.add(null!=(p=null==s?void 0:s.amount)?p:new V.default(0)),L=r.baseMint.equals(tu.WSOL.mint),_=r.quoteMint.equals(tu.WSOL.mint),x=yield this._selectOrCreateTokenAccount({programId:R,mint:r.baseMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!=(f=i.payer)?f:i.owner,frontInstructions:A,frontInstructionsType:T,endInstructions:L?w:[],endInstructionsType:L?k:[],signers:C},associatedOnly:!0,checkCreateATAOwner:c}),D=yield this._selectOrCreateTokenAccount({programId:R,mint:r.quoteMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!=(g=i.payer)?g:i.owner,amount:0,frontInstructions:A,frontInstructionsType:T,endInstructions:_?w:[],endInstructionsType:_?k:[],signers:C},associatedOnly:!0,checkCreateATAOwner:c});I[r.baseMint.toString()]=x,I[r.quoteMint.toString()]=D;let E=this.makeRemoveLiquidityInstruction({poolKeys:r,userKeys:{lpTokenAccount:v,baseTokenAccount:x,quoteTokenAccount:D,owner:i.owner},amountIn:P}),[O,U]=r.baseMint.equals(o.mintA.mint)?[x,D]:[D,x],B=yield nL.makeOpenPositionFromLiquidityInstructions(ep(em({poolInfo:o,ownerInfo:{feePayer:null!=(h=i.payer)?h:i.owner,wallet:i.owner,tokenAccountA:O,tokenAccountB:U},withMetadata:"create"},a),{getEphemeralSigners:u})),M={instructions:[],signers:[],instructionTypes:[]};if(void 0!==s){let r=[];for(let n of s.poolKeys.rewardInfos){let o=n.rewardMint.equals(tu.WSOL.mint);r.push(null!=(b=I[n.rewardMint.toString()])?b:yield this._selectOrCreateTokenAccount({programId:R,mint:n.rewardMint,tokenAccounts:i.tokenAccounts,owner:i.owner,createInfo:{connection:e,payer:null!=(y=i.payer)?y:i.owner,frontInstructions:A,frontInstructionsType:T,endInstructions:o?w:[],endInstructionsType:o?k:[],signers:C},associatedOnly:!0,checkCreateATAOwner:c}))}M=rP.makeWithdrawInstruction({poolKeys:s.poolKeys,amount:s.amount,userKeys:{ledger:rP.getAssociatedLedgerAccount({programId:s.poolKeys.programId,poolId:s.poolKeys.id,owner:i.owner,version:s.poolKeys.version}),lpTokenAccount:v,rewardTokenAccounts:r,owner:i.owner}}).innerTransaction}return{address:em(em({},E.address),B.address),innerTransactions:yield e2({connection:e,makeTxVersion:d,computeBudgetConfig:l,payer:null!=(S=i.payer)?S:i.owner,innerTransaction:[{instructionTypes:T,instructions:A,signers:C},M,E.innerTransaction,B.innerTransaction,{instructionTypes:k,instructions:w,signers:[]}],lookupTableCache:m})}})}static fetchAllPoolKeys(e,r,n){return ef(this,null,function*(){let i=(yield Promise.all(Object.entries(r_).map(([n,i])=>{try{return e.getProgramAccounts(r[Number(n)],{filters:[{dataSize:i.span}]}).then(e=>e.map(e=>em({id:e.pubkey,version:Number(n),programId:r[Number(n)]},i.decode(e.account.data))))}catch(e){if(e instanceof Error)return nG.throwError("failed to fetch pool info",eN.errors.RPC_ERROR,{message:e.message})}}))).flat(),o=i.map(e=>e.marketId),a={};try{for(let r of yield e$(e,o,n)){if(null===r)continue;let e=em({programId:r.owner},nR.decode(r.data));a[e.ownAddress.toString()]=e}}catch(e){if(e instanceof Error)return nG.throwError("failed to fetch markets",eN.errors.RPC_ERROR,{message:e.message})}let s={};for(let[e,n]of Object.entries(r))s[e]=this.getAssociatedAuthority({programId:n}).publicKey;let l=[];for(let e of i){if(void 0===e||e.baseMint.equals(E.PublicKey.default))continue;let r=a[e.marketId.toString()],n=r.programId;l.push(ep(em({id:e.id,baseMint:e.baseMint,quoteMint:e.quoteMint,lpMint:e.lpMint,baseDecimals:e.baseDecimal.toNumber(),quoteDecimals:e.quoteDecimal.toNumber(),lpDecimals:"6kmMMacvoCKBkBrqssLEdFuEZu2wqtLdNQxh9VjtzfwT"===e.id.toString()?5:e.baseDecimal.toNumber(),version:e.version,programId:e.programId,authority:s[e.version],openOrders:e.openOrders,targetOrders:e.targetOrders,baseVault:e.baseVault,quoteVault:e.quoteVault,marketVersion:3,marketProgramId:n,marketId:r.ownAddress,marketAuthority:nB.getAssociatedAuthority({programId:n,marketId:r.ownAddress}).publicKey,marketBaseVault:r.baseVault,marketQuoteVault:r.quoteVault,marketBids:r.bids,marketAsks:r.asks,marketEventQueue:r.eventQueue},5===e.version?{modelDataAccount:e.modelDataAccount,withdrawQueue:E.PublicKey.default,lpVault:E.PublicKey.default}:{withdrawQueue:e.withdrawQueue,lpVault:e.lpVault}),{lookupTableAccount:E.PublicKey.default}))}return l})}static fetchInfo(e){return ef(this,arguments,function*({connection:e,poolKeys:r}){let n=yield this.fetchMultipleInfo({connection:e,pools:[r]});return nG.assertArgument(1===n.length,`fetchInfo failed, ${n.length} pools found`,"poolKeys.id",r.id),n[0]})}static fetchMultipleInfo(e){return ef(this,arguments,function*({connection:e,pools:r,config:n}){yield function(e){return ef(this,null,function*(){if(0===nY.validDataCount&&e){var r;let n,i=yield e.getAccountInfo(nV);i&&(r=null==i?void 0:i.data,nY={accountType:(n=nF.decode(r)).accountType.toNumber(),status:n.status.toNumber(),multiplier:n.multiplier.toNumber(),validDataCount:n.validDataCount.toNumber(),DataElement:n.DataElement.map(e=>({x:e.x.toNumber(),y:e.y.toNumber(),price:e.price.toNumber()}))})}})}(e);let i=r.map(e=>this.makeSimulatePoolInfoInstruction({poolKeys:e}));return(yield function(e,r,n,i=!0){return ef(this,null,function*(){let o=new E.PublicKey("RaydiumSimuLateTransaction11111111111111111"),a=[],s=new E.Transaction;for(let e of(s.feePayer=o,r))e0([...s.instructions,e],[o])||(a.push(s),(s=new E.Transaction).feePayer=o),s.add(e);s.instructions.length>0&&a.push(s);let l=[];try{if((l=yield function(e,r,n){return ef(this,null,function*(){let i=[];if(n){let n=yield e.getLatestBlockhash(),o=[];for(let e of r){e.recentBlockhash=n.blockhash,e.lastValidBlockHeight=n.lastValidBlockHeight;let r=e._compile().serialize(),i=e._serialize(r).toString("base64");o.push(i)}let a=o.map(r=>({methodName:"simulateTransaction",args:e._buildArgs([r],void 0,"base64")})),s=[];for(let e=0;e<Math.ceil(a.length/20);e++)s.push(a.slice(20*e,(e+1)*20));i=yield(yield Promise.all(s.map(r=>ef(this,null,function*(){return(yield e._rpcBatchRequest(r)).map(e=>e.result.value)})))).flat()}else try{i=yield Promise.all(r.map(r=>ef(this,null,function*(){return yield(yield e.simulateTransaction(r)).value})))}catch(e){if(e instanceof Error)return eJ.throwError("failed to get info for multiple accounts",eN.errors.RPC_ERROR,{message:e.message})}return i})}(e,a,i)).find(e=>null!==e.err))throw Error("rpc simulateTransaction error")}catch(e){if(e instanceof Error)return eJ.throwError("failed to simulate for instructions",eN.errors.RPC_ERROR,{message:e.message})}let c=[];for(let e of l)if(eJ.debug("simulate result:",e),e.logs){let r=e.logs.filter(e=>e&&e.includes(n));eJ.debug("filteredLog:",c),eJ.assertArgument(0!==r.length,"simulate log not match keyword","keyword",n),c.push(...r)}return c})}(e,i.map(e=>e.innerTransaction.instructions).flat(),"GetPoolData")).map(e=>{let r,n=(r=e.match(/{["\w:,]+}/g))&&1===r.length?r[0]:eJ.throwArgumentError("simulate log fail to match json","keyword","GetPoolData"),i=new V.default(e4(n,"status")),o=Number(e4(n,"coin_decimals")),a=Number(e4(n,"pc_decimals")),s=Number(e4(n,"lp_decimals")),l=new V.default(e4(n,"pool_coin_amount")),c=new V.default(e4(n,"pool_pc_amount")),u=new V.default(e4(n,"pool_lp_supply")),d="0";try{d=e4(n,"pool_open_time")}catch(e){}return{status:i,baseDecimals:o,quoteDecimals:a,lpDecimals:s,baseReserve:l,quoteReserve:c,lpSupply:u,startTime:new V.default(d)}})})}static getEnabledFeatures(e){let{status:r}=e,n=r.toNumber();if(0===n)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};if(1===n)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(2===n)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};{if(3===n)return{swap:!1,addLiquidity:!1,removeLiquidity:!0};if(4===n||5===n)return{swap:!1,addLiquidity:!0,removeLiquidity:!0};if(6===n)return{swap:!0,addLiquidity:!0,removeLiquidity:!0};if(7!==n)return{swap:!1,addLiquidity:!1,removeLiquidity:!1};let{startTime:r}=e;return Date.now()/1e3<r.toNumber()?{swap:!1,addLiquidity:!0,removeLiquidity:!0}:{swap:!0,addLiquidity:!0,removeLiquidity:!0}}}static includesToken(e,r){let{baseMint:n,quoteMint:i}=r;return e.mint.equals(n)||e.mint.equals(i)}static _getTokenSide(e,r){let{baseMint:n,quoteMint:i}=r;return e.mint.equals(n)?"base":e.mint.equals(i)?"quote":nG.throwArgumentError("token not match with pool","params",{token:e.mint,baseMint:n,quoteMint:i})}static _getTokensSide(e,r,n){let{baseMint:i,quoteMint:o}=n,a=this._getTokenSide(e,n),s=this._getTokenSide(r,n);return nG.assertArgument(a!==s,"tokens not match with pool","params",{tokenA:e.mint,tokenB:r.mint,baseMint:i,quoteMint:o}),[a,s]}static _getAmountSide(e,r){let n=e instanceof tT?e.token:tu.WSOL;return this._getTokenSide(n,r)}static _getAmountsSide(e,r,n){let i=e instanceof tT?e.token:tu.WSOL,o=r instanceof tT?r.token:tu.WSOL;return this._getTokensSide(i,o,n)}static computeAnotherAmount({poolKeys:e,poolInfo:r,amount:n,anotherCurrency:i,slippage:o}){let{baseReserve:a,quoteReserve:s}=r;nG.debug("baseReserve:",a.toString()),nG.debug("quoteReserve:",s.toString());let l=n instanceof tT?n.token:n.currency;nG.debug("currencyIn:",l),nG.debug("amount:",n.toFixed()),nG.debug("anotherCurrency:",i),nG.debug("slippage:",`${o.toSignificant()}%`);let c=this._getAmountSide(n,e);nG.debug("input side:",c);let u=e8;n.isZero()||(u="base"===c?tn(n.raw.mul(s),a):tn(n.raw.mul(a),s));let d=tn(n.raw.mul(r.lpSupply),"base"===c?r.baseReserve:r.quoteReserve),m=new tC(e7).add(o).mul(u).quotient,p=i instanceof tu?new tT(i,u):new tw(i,u),f=i instanceof tu?new tT(i,m):new tw(i,m);return nG.debug("anotheAmount:",p.toFixed()),nG.debug("maxAnotheAmount:",f.toFixed()),{anotherAmount:p,maxAnotherAmount:f,liquidity:d}}static _computePriceImpact(e,r,n){let i=e.raw.mul(r),o=i.sub(n).div(i);return new tC(o.numerator,o.denominator)}static getRate(e){let{baseReserve:r,quoteReserve:n,baseDecimals:i,quoteDecimals:o}=e;return new tv(new tc(i),r,new tc(o),n)}static computeAmountIn({poolKeys:e,poolInfo:r,amountOut:n,currencyIn:i,slippage:o}){let{baseReserve:a,quoteReserve:s}=r;nG.debug("baseReserve:",a.toString()),nG.debug("quoteReserve:",s.toString());let l=n instanceof tT?n.token:n.currency;nG.debug("currencyOut:",l),nG.debug("amountOut:",n.toFixed()),nG.debug("currencyIn:",i),nG.debug("slippage:",`${o.toSignificant()}%`);let c=[a,s],u=this._getAmountSide(n,e);"base"===u&&c.reverse(),nG.debug("output side:",u);let[d,m]=c,p=new tv(i,d,l,m);nG.debug("currentPrice:",`1 ${i.symbol} \u2248 ${p.toFixed()} ${l.symbol}`),nG.debug("currentPrice invert:",`1 ${l.symbol} \u2248 ${p.invert().toFixed()} ${i.symbol}`);let f=e8,g=n.raw;if(!g.isZero()){g.gt(m)&&(g=m.sub(e7));let e=m.sub(g);f=d.mul(g).div(e).mul(nH).div(nH.sub(nz))}let h=new tC(e7).add(o).mul(f).quotient,y=i instanceof tu?new tT(i,f):new tw(i,f),b=i instanceof tu?new tT(i,h):new tw(i,h);nG.debug("amountIn:",y.toFixed()),nG.debug("maxAmountIn:",b.toFixed());let S=null;f.isZero()||g.isZero()||(S=new tv(i,f,l,g),nG.debug("executionPrice:",`1 ${i.symbol} \u2248 ${S.toFixed()} ${l.symbol}`),nG.debug("executionPrice invert:",`1 ${l.symbol} \u2248 ${S.invert().toFixed()} ${i.symbol}`));let A=this._computePriceImpact(p,f,g);return nG.debug("priceImpact:",`${A.toSignificant()}%`),{amountIn:y,maxAmountIn:b,currentPrice:p,executionPrice:S,priceImpact:A}}};nj.computeAmountOut=({poolKeys:e,poolInfo:r,amountIn:n,currencyOut:i,slippage:o})=>{let a,s=n instanceof tT?n.token:tu.WSOL,l=i instanceof tu?i:tu.WSOL;nG.assertArgument(nj.includesToken(s,e)&&nj.includesToken(l,e),"token not match with pool","poolKeys",{poolKeys:e,tokenIn:s,tokenOut:l});let{baseReserve:c,quoteReserve:u}=r;nG.debug("baseReserve:",c.toString()),nG.debug("quoteReserve:",u.toString());let d=n instanceof tT?n.token:n.currency;nG.debug("currencyIn:",d),nG.debug("amountIn:",n.toFixed()),nG.debug("currencyOut:",i),nG.debug("slippage:",`${o.toSignificant()}%`);let m=[c,u],p=nj._getAmountSide(n,e);"quote"===p&&m.reverse(),nG.debug("input side:",p);let[f,g]=m;if(4===e.version)a=new tv(d,f,i,g);else{var h,y,b,S;let e,r,n=(h=nY,y=c.toNumber(),b=u.toNumber(),S=!1,r=((e=nK(h,nq(h,y,nN(h,y,b)),0,!1))[3]?e[0]:0)/h.multiplier,S?r:1/r);a="quote"===p?new tv(d,new V.default(1e6*n),i,new V.default(1e6)):new tv(d,new V.default(1e6),i,new V.default(1e6*n))}nG.debug("currentPrice:",`1 ${d.symbol} \u2248 ${a.toFixed()} ${i.symbol}`),nG.debug("currentPrice invert:",`1 ${i.symbol} \u2248 ${a.invert().toFixed()} ${d.symbol}`);let A=n.raw,w=e8,T=e8;if(!A.isZero())if(4===e.version){T=t7(A.mul(nz),nH);let e=A.sub(T),r=f.add(e);w=g.mul(e).div(r)}else{T=A.mul(new V.default(2)).div(new V.default(1e4));let e=A.sub(T);w=new V.default("quote"===p?function(e,r,n,i){let o=nN(e,r,n),a=nq(e,r,o),s=nq(e,n,o),l=nq(e,i,o),[c,u,d,m]=nK(e,a,l,!0);return m?d?i*e.multiplier/c:nW(e,s-u,o):0}(nY,u.toNumber(),c.toNumber(),e.toNumber()):function(e,r,n,i){let o=nN(e,r,n),a=nq(e,r,o),s=nq(e,n,o),l=nq(e,i,o),[c,u,d,m]=function(e,r,n,i){let o=i?r-n:r+n,[a,s,l]=function(e,r){let[n,i]=[0,49998],o=n,a=i,s=0;for(;o<=a&&!((s=Math.floor((a+o)/2))<=0)&&!(s>=49998);){let n=e.DataElement[s].y,i=e.DataElement[s-1].y,l=e.DataElement[s+1].y;if(r===n)return[s,s,!0];if(r===i)return[s-1,s-1,!0];if(r===l)return[s+1,s+1,!0];else if(r<l)o=s+1;else{if(r<i&&r>n)return[s-1,s,!0];if(r<n&&r>l)return[s,s+1,!0];a=s-1}}return[s,s,!1]}(e,o);if(!l)return[0,0,!1,l];if(a===s)return[e.DataElement[s].price,e.DataElement[s].x,!1,l];{let n=e.DataElement[a].x,c=e.DataElement[s].x,u=e.DataElement[a].price,d=e.DataElement[s].price,m=e.DataElement[a].y,p=e.DataElement[s].y;if(r>=p&&r<=m)return i?[d,c,!0,l]:[u,n,!0,l];{let a,s;return i?(a=u+(d-u)*(m-r)/(m-p),s=n+d*(m-o)/e.multiplier):(a=u+(d-u)*(m-r)/(m-p),s=c-u*(o-p)/e.multiplier),[a,s,!1,l]}}}(e,s,l,!1);return m?d?i*c/e.multiplier:nW(e,a-u,o):0}(nY,u.toNumber(),c.toNumber(),e.toNumber()))}let k=new tC(e7).add(o).invert().mul(w).quotient,C=i instanceof tu?new tT(i,w):new tw(i,w),I=i instanceof tu?new tT(i,k):new tw(i,k);nG.debug("amountOut:",C.toFixed()),nG.debug("minAmountOut:",I.toFixed());let v=new tv(d,A.sub(T),i,w);A.isZero()||w.isZero()||(v=new tv(d,A.sub(T),i,w),nG.debug("executionPrice:",`1 ${d.symbol} \u2248 ${v.toFixed()} ${i.symbol}`),nG.debug("executionPrice invert:",`1 ${i.symbol} \u2248 ${v.invert().toFixed()} ${d.symbol}`));let P=v.denominator.mul(a.numerator),L=new tC(v.numerator.mul(a.denominator).sub(P).abs(),P);return nG.debug("priceImpact:",`${L.toSignificant()}%`),{amountOut:C,minAmountOut:I,currentPrice:a,executionPrice:v,priceImpact:L,fee:d instanceof tu?new tT(d,T):new tw(d,T)}},new E.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),new E.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),new E.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new E.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),new E.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),new E.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),new E.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),new E.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new E.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),new E.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),E.PublicKey.default,new E.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),E.PublicKey.default,new E.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new E.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new E.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new E.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new E.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new E.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new E.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),tQ([tU(5),function(e="accountFlags"){let r=new tM(e);return r.addBoolean("initialized"),r.addBoolean("market"),r.addBoolean("openOrders"),r.addBoolean("requestQueue"),r.addBoolean("eventQueue"),r.addBoolean("bids"),r.addBoolean("asks"),r}("accountFlags"),tY("ownAddress"),tq("vaultSignerNonce"),tY("baseMint"),tY("quoteMint"),tY("baseVault"),tq("baseDepositsTotal"),tq("baseFeesAccrued"),tY("quoteVault"),tq("quoteDepositsTotal"),tq("quoteFeesAccrued"),tq("quoteDustThreshold"),tY("requestQueue"),tY("eventQueue"),tY("bids"),tY("asks"),tq("baseLotSize"),tq("quoteLotSize"),tq("feeRateBps"),tq("referrerRebatesAccrued"),tU(7)]);var nQ=class extends t2{static getPdaPoolId(e,r){return eH([this.SEED_CONFIG.pool.id,r.toBuffer()],e)}static getPdaOwnerId(e,r,n,i){return eH([this.SEED_CONFIG.owner.id,r.toBuffer(),n.toBuffer(),v.Buffer.from(new V.default(i).toArray())],e)}static getAllInfo(e){return ef(this,arguments,function*({connection:e,programId:r,poolIds:n,wallet:i,chainTime:o}){if(0===n.length)return[];let a=n.map(e=>this.getPdaPoolId(r,e).publicKey),s=[];for(let e=0;e<this.VERSION_PROJECT.length;e++)s.push(...a.map(n=>this.getPdaOwnerId(r,n,i,e).publicKey));let l=yield e$(e,[...a,...s]),c=[];for(let e=0;e<l.length;e++){let i=Math.floor(e/n.length),u=e%n.length,d=a[u],m=s[e],p=l[u],f=l[n.length+e];if(!(p&&f)||p.data.length!==this.POOL_LAYOUT.span||f.data.length!==this.OWNER_LAYOUT.span)continue;let g=this.POOL_LAYOUT.decode(p.data),h=this.OWNER_LAYOUT.decode(f.data),y=g.openTime.toNumber(),b=g.endTime.toNumber(),S=3!==h.tokenInfo.map(e=>e.debtAmount.gt(new V.default(0))).filter(e=>!e).length,A=o>y&&o<b&&1===g.status,w=S&&A;c.push({programId:r,poolId:d,ammId:g.ammId,ownerAccountId:m,snapshotLpAmount:h.lpAmount,project:this.VERSION_PROJECT[i],openTime:y,endTime:b,canClaim:w,canClaimErrorType:S?A?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:g.tokenInfo.map((e,r)=>({programId:R,mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:h.tokenInfo[r].debtAmount.add(h.tokenInfo[r].claimedAmount)}))})}return c})}static makeClaimInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfo:r,ownerInfo:n,makeTxVersion:i,lookupTableCache:o}){let a=[],s=[],l=[],c=[],u=[],d=[],m=[],p=[];for(let i of r.tokenInfo)p.push((yield this._selectOrCreateTokenAccount({programId:i.programId,mint:i.mintAddress,tokenAccounts:i.mintAddress.equals(tu.WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:a,endInstructions:i.mintAddress.equals(tu.WSOL.mint)?l:[],frontInstructionsType:s,endInstructionsType:c,signers:m},associatedOnly:!i.mintAddress.equals(tu.WSOL.mint)&&n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner})));return u.push(this.makeClaimInstruction({programId:r.programId,poolInfo:r,ownerInfo:{wallet:n.wallet,ownerPda:r.ownerAccountId,claimAddress:p}})),d.push(8),{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.wallet,innerTransaction:[{instructionTypes:s,instructions:a,signers:m},{instructionTypes:d,instructions:u,signers:[]},{instructionTypes:c,instructions:l,signers:[]}],lookupTableCache:o})}})}static makeClaimAllInstructionSimple(e){return ef(this,arguments,function*({connection:e,poolInfos:r,ownerInfo:n,makeTxVersion:i,lookupTableCache:o}){var a;let s=[],l=[],c=[],u=[],d=[],m=[],p=[],f={};for(let i of r){let r=[];for(let o of i.tokenInfo){let i=null!=(a=f[o.mintAddress.toString()])?a:yield this._selectOrCreateTokenAccount({programId:o.programId,mint:o.mintAddress,tokenAccounts:o.mintAddress.equals(tu.WSOL.mint)?[]:n.tokenAccounts,owner:n.wallet,createInfo:{connection:e,payer:n.wallet,amount:0,frontInstructions:s,endInstructions:o.mintAddress.equals(tu.WSOL.mint)?c:[],frontInstructionsType:l,endInstructionsType:u,signers:p},associatedOnly:!o.mintAddress.equals(tu.WSOL.mint)&&n.associatedOnly,checkCreateATAOwner:n.checkCreateATAOwner});f[o.mintAddress.toString()]=i,r.push(i)}d.push(this.makeClaimInstruction({programId:i.programId,poolInfo:i,ownerInfo:{wallet:n.wallet,ownerPda:i.ownerAccountId,claimAddress:r}})),m.push(8)}return{address:{},innerTransactions:yield e2({connection:e,makeTxVersion:i,computeBudgetConfig:void 0,payer:n.wallet,innerTransaction:[{instructionTypes:l,instructions:s,signers:p},{instructionTypes:m,instructions:d,signers:[]},{instructionTypes:u,instructions:c,signers:[]}],lookupTableCache:o})}})}static makeClaimInstruction({programId:e,poolInfo:r,ownerInfo:n}){let i=tQ([]),o=[{pubkey:n.wallet,isSigner:!0,isWritable:!0},{pubkey:r.poolId,isSigner:!1,isWritable:!0},{pubkey:n.ownerPda,isSigner:!1,isWritable:!0},...n.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...r.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:R,isSigner:!1,isWritable:!1}],a=v.Buffer.alloc(i.span);i.encode({},a);let s=v.Buffer.from([10,66,208,184,161,6,191,98,...a]);return new E.TransactionInstruction({keys:o,programId:e,data:s})}};nQ.CLAIMED_NUM=3,nQ.POOL_LAYOUT=tQ([tU(8),tF("bump"),tF("status"),tq("openTime"),tq("endTime"),tY("ammId"),tZ(tQ([tF("mintDecimals"),tY("mintAddress"),tY("mintVault"),tq("perLpLoss"),tq("totalClaimedAmount")]),nQ.CLAIMED_NUM,"tokenInfo"),tZ(tq(),10,"padding")]),nQ.OWNER_LAYOUT=tQ([tU(8),tF("bump"),tF("version"),tY("poolId"),tY("owner"),tq("lpAmount"),tZ(tQ([tY("mintAddress"),tq("debtAmount"),tq("claimedAmount")]),nQ.CLAIMED_NUM,"tokenInfo"),tZ(tq(),4,"padding")]),nQ.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new E.PublicKey(e)),nQ.SEED_CONFIG={pool:{id:v.Buffer.from("pool_seed","utf8")},owner:{id:v.Buffer.from("user_claim_seed","utf8")}},nQ.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],e.s(["Liquidity",()=>nj,"MARKET_STATE_LAYOUT_V3",()=>nR,"Percent",()=>tC,"Token",()=>tu,"TokenAmount",()=>tT],838033);var nZ=e.i(655703),nJ=e.i(439593),n$=e.i(84979),n1=e.i(606933),n0=e.i(997954),n4=e.i(281675),n2=e.i(274518);function n3(e){return(0,n2.GenIcon)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0.5l-7.5 7.5h4.5v8h6v-8h4.5z"}}]})(e)}function n6(e){return(0,n2.GenIcon)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 15.5l7.5-7.5h-4.5v-8h-6v8h-4.5z"}}]})(e)}e.s(["ImArrowDown",()=>n6,"ImArrowUp",()=>n3],408501);var n5=e.i(507324),n8=e.i(754219),n7=e.i(145913),n9=e.i(649785),ie=e.i(536925);let it=()=>{let e,r=(0,n9.c)(3),[n,i]=(0,ie.useLocalStorage)("front-running-protection",!1);return r[0]!==n||r[1]!==i?(e={frontRunningProtection:n,setFrontRunningProtection:i},r[0]=n,r[1]=i,r[2]=e):e=r[2],e};e.s(["useFrontRunningProtection",0,it],111740);var ir=e.i(72669);let ii=()=>{let e,r,n=(0,n9.c)(5),[i,o]=(0,ie.useLocalStorage)("max-trade-slippage",2);n[0]!==o?(e=e=>{o(Math.min(e||0,25))},n[0]=o,n[1]=e):e=n[1];let a=e;return n[2]!==a||n[3]!==i?(r={slippage:i,setSlippage:a},n[2]=a,n[3]=i,n[4]=r):r=n[4],r};e.s(["useSlippage",0,ii],97326);let io=()=>{let e,r,n=(0,n9.c)(5),[i,o]=(0,ie.useLocalStorage)("tip-amount",.003);n[0]!==o?(e=e=>{o(Math.min(e||0,.05))},n[0]=o,n[1]=e):e=n[1];let a=e;return n[2]!==a||n[3]!==i?(r={tipAmount:i,setTipAmount:a},n[2]=a,n[3]=i,n[4]=r):r=n[4],r};e.s(["useTipAmount",0,io],918120);var ia=e.i(463578);let is=()=>{let e,r,n=(0,n9.c)(5),i=(0,ia.usePathname)();n[0]!==i?(e=i.includes("/advanced"),n[0]=i,n[1]=e):e=n[1];let o=e,a=o?"advanced":"retail";return n[2]!==o||n[3]!==a?(r={isAdvanced:o,source:a},n[2]=o,n[3]=a,n[4]=r):r=n[4],r};e.s(["useTradeContext",0,is],19681);var il=e.i(990116),ic=e.i(595673),iu=e.i(198825),id=e.i(569526),im=e.i(561667),ip=e.i(90832),ig=e.i(933256),ih=e.i(655397),iy=e.i(300606),ib=e.i(7284),iS=e.i(182119),iA=e.i(292032),iw=e.i(701082),iT=e.i(200165);let ik=e=>{let r,n,i,o,a,s,l,c,u,d,m,p,f,g,h,y,b,S,A,w,T,C,I,v,P,L,_,x,D,E,R,O,U,B,V,M,F,N,q,W,K,G,Y=(0,n9.c)(101),{setIsSlippageModalOpen:X,customButton:z}=e,[H,j]=(0,n4.useState)(!1),{slippage:Q,setSlippage:Z}=ii(),{tipAmount:J,setTipAmount:$}=io(),{priorityLevel:ee,setPriorityLevel:et}=(0,iw.usePriorityLevel)(),{frontRunningProtection:er,setFrontRunningProtection:en}=it();Y[0]!==X?(r=e=>{j(e),X&&X(e)},Y[0]=X,Y[1]=r):r=Y[1];let ei=r;Y[2]!==z?(n=z||(0,k.jsx)("button",{className:"font-inter rounded border border-[#2F3036] bg-white/5 px-2 py-1 text-center text-[10px] font-normal leading-3 text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] hover:bg-bg-secondary",children:"Set max slippage"}),Y[2]=z,Y[3]=n):n=Y[3],Y[4]!==n?(i=(0,k.jsx)(iS.DialogTrigger,{asChild:!0,children:n}),Y[4]=n,Y[5]=i):i=Y[5],Y[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,k.jsxs)(iS.DialogTitle,{className:"absolute h-0 w-0",children:[(0,k.jsx)(iA.VisuallyHidden,{children:"set max. slippage (%)"})," "]}),a=(0,k.jsx)("div",{children:"set max. slippage (%)"}),Y[6]=o,Y[7]=a):(o=Y[6],a=Y[7]),Y[8]!==Z?(s=e=>Z(e.target.value),Y[8]=Z,Y[9]=s):s=Y[9],Y[10]!==Q||Y[11]!==s?(l=(0,k.jsx)("input",{className:"w-full rounded-md border border-slate-200 bg-[#2a2a3b] p-2",id:"slippage",placeholder:"",type:"number",value:Q,onChange:s}),Y[10]=Q,Y[11]=s,Y[12]=l):l=Y[12],Y[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,k.jsx)("div",{className:"text-xs text-gray-400",children:"this is the maximum amount of slippage you are willing to accept when placing trades."}),Y[13]=c):c=Y[13],Y[14]!==er||Y[15]!==Q?(u=Q>3&&!er&&(0,k.jsx)("div",{className:"text-xs text-orange-400",children:"warning: setting your slippage too high may result in bots front-running your trades. we highly recommend turning on front-running protection if you have high slippage."}),Y[14]=er,Y[15]=Q,Y[16]=u):u=Y[16],Y[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,k.jsx)("div",{children:"speed:"}),Y[17]=d):d=Y[17],Y[18]!==et?(m=e=>{e.stopPropagation(),et("Medium")},Y[18]=et,Y[19]=m):m=Y[19];let eo="Medium"===ee?"bg-bg-accent text-black":"text-gray-500 hover:bg-bg-secondary";Y[20]!==eo?(p=(0,ib.default)("cursor-pointer rounded px-1",eo),Y[20]=eo,Y[21]=p):p=Y[21],Y[22]!==m||Y[23]!==p?(f=(0,k.jsx)("div",{onClick:m,className:p,children:"Fast"}),Y[22]=m,Y[23]=p,Y[24]=f):f=Y[24],Y[25]!==et?(g=e=>{e.stopPropagation(),et("High")},Y[25]=et,Y[26]=g):g=Y[26];let ea="High"===ee?"bg-bg-accent text-black":"text-gray-500 hover:bg-bg-secondary";Y[27]!==ea?(h=(0,ib.default)("cursor-pointer rounded px-1",ea),Y[27]=ea,Y[28]=h):h=Y[28],Y[29]!==g||Y[30]!==h?(y=(0,k.jsx)("div",{onClick:g,className:h,children:"Turbo"}),Y[29]=g,Y[30]=h,Y[31]=y):y=Y[31],Y[32]!==et?(b=e=>{e.stopPropagation(),et("VeryHigh")},Y[32]=et,Y[33]=b):b=Y[33];let es="VeryHigh"===ee?"bg-bg-accent text-black":"text-gray-500 hover:bg-bg-secondary";Y[34]!==es?(S=(0,ib.default)("cursor-pointer rounded px-1",es),Y[34]=es,Y[35]=S):S=Y[35],Y[36]!==b||Y[37]!==S?(A=(0,k.jsx)("div",{onClick:b,className:S,children:"Ultra"}),Y[36]=b,Y[37]=S,Y[38]=A):A=Y[38],Y[39]!==f||Y[40]!==y||Y[41]!==A?(w=(0,k.jsxs)("div",{className:"flex h-fit items-center gap-1 text-white",children:[d,f,y,A]}),Y[39]=f,Y[40]=y,Y[41]=A,Y[42]=w):w=Y[42],Y[43]===Symbol.for("react.memo_cache_sentinel")?(T=(0,k.jsxs)("div",{className:"text-xs text-gray-400",children:["higher speeds will increase your priority fees, making your transactions confirm faster."," "]}),Y[43]=T):T=Y[43],Y[44]!==ee?(C="VeryHigh"===ee&&(0,k.jsx)("div",{className:"text-xs text-orange-400",children:"warning: fees are dynamic, but can be up to 0.1 SOL on ultra. if the transaction fails (e.g. insufficient funds), the fees can still be paid to the network."}),Y[44]=ee,Y[45]=C):C=Y[45],Y[46]===Symbol.for("react.memo_cache_sentinel")?(I=(0,k.jsx)("div",{children:"enable front-running protection:"}),Y[46]=I):I=Y[46],Y[47]!==en||Y[48]!==$||Y[49]!==J?(v=e=>{e.stopPropagation(),en(!0),$(Math.max(J,.01))},Y[47]=en,Y[48]=$,Y[49]=J,Y[50]=v):v=Y[50];let el=er&&"bg-bg-accent text-black",ec=!er&&"text-gray-500 hover:bg-bg-secondary";Y[51]!==el||Y[52]!==ec?(P=(0,ib.default)("cursor-pointer rounded px-1",el,ec),Y[51]=el,Y[52]=ec,Y[53]=P):P=Y[53],Y[54]!==v||Y[55]!==P?(L=(0,k.jsx)("div",{onClick:v,className:P,children:"On"}),Y[54]=v,Y[55]=P,Y[56]=L):L=Y[56],Y[57]!==en?(_=e=>{e.stopPropagation(),en(!1)},Y[57]=en,Y[58]=_):_=Y[58];let eu=!er&&"bg-bg-accent text-black",ed=er&&"text-gray-500 hover:bg-bg-secondary";return Y[59]!==eu||Y[60]!==ed?(x=(0,ib.default)("cursor-pointer rounded px-1",eu,ed),Y[59]=eu,Y[60]=ed,Y[61]=x):x=Y[61],Y[62]!==_||Y[63]!==x?(D=(0,k.jsx)("div",{onClick:_,className:x,children:"Off"}),Y[62]=_,Y[63]=x,Y[64]=D):D=Y[64],Y[65]!==L||Y[66]!==D?(E=(0,k.jsxs)("div",{className:"flex h-fit items-center gap-1 text-white",children:[I,L,D]}),Y[65]=L,Y[66]=D,Y[67]=E):E=Y[67],Y[68]!==er?(R=er&&(0,k.jsxs)("div",{className:"text-xs text-green-400",children:["front-running protection"," ",(0,k.jsx)("span",{className:"font-bold",children:"decreases the chances"})," of bots from front-running your buys. you can use high slippage with front-running protection turned on. we recommend setting a tip amount of at least 0.01 ",(0,k.jsx)("span",{className:"uppercase",children:"SOL"})," ","with front-running protection enabled."]}),Y[68]=er,Y[69]=R):R=Y[69],Y[70]===Symbol.for("react.memo_cache_sentinel")?(O=(0,k.jsx)("div",{children:"tip amount"}),Y[70]=O):O=Y[70],Y[71]!==$?(U=e=>$(e.target.value),Y[71]=$,Y[72]=U):U=Y[72],Y[73]!==U||Y[74]!==J?(B=(0,k.jsx)(iT.Input,{className:"w-full bg-transparent pl-3 text-white outline-none",id:"amount",placeholder:"0.0",type:"number",value:J,onChange:U}),Y[73]=U,Y[74]=J,Y[75]=B):B=Y[75],Y[76]===Symbol.for("react.memo_cache_sentinel")?(V=(0,k.jsxs)("div",{className:"absolute right-2 ml-2 flex items-center",children:[(0,k.jsx)("span",{className:"mr-2 uppercase text-white",children:"SOL"}),(0,k.jsx)(n0.default,{className:"h-8 w-8 rounded-full",width:32,height:32,src:"/solana-logo-square.png",alt:"SOL"})]}),Y[76]=V):V=Y[76],Y[77]!==B?(M=(0,k.jsxs)("div",{className:"relative flex items-center rounded-md bg-[#2e303a]",children:[B,V]}),Y[77]=B,Y[78]=M):M=Y[78],Y[79]!==J?(F=(!J||J<.003)&&(0,k.jsx)("div",{className:"text-xs text-orange-400",children:"warning: we recommend setting a tip amount greater than 0.003 SOL or your transactions are unlikely to get confirmed."}),Y[79]=J,Y[80]=F):F=Y[80],Y[81]===Symbol.for("react.memo_cache_sentinel")?(N=(0,k.jsx)("div",{className:"text-xs text-gray-400",children:"a higher tip amount will make your transactions confirm faster. this is the transaction fee that you pay to the solana network on each trade."}),Y[81]=N):N=Y[81],Y[82]!==M||Y[83]!==F?(q=(0,k.jsxs)("div",{className:"grid gap-2 text-left",children:[O,M,F,N]}),Y[82]=M,Y[83]=F,Y[84]=q):q=Y[84],Y[85]!==ei?(W=(0,k.jsx)("div",{className:"w-fit cursor-pointer justify-self-center text-slate-50 hover:font-bold hover:text-slate-50",onClick:e=>{e.stopPropagation(),ei(!1)},children:"[close]"}),Y[85]=ei,Y[86]=W):W=Y[86],Y[87]!==w||Y[88]!==C||Y[89]!==E||Y[90]!==R||Y[91]!==q||Y[92]!==W||Y[93]!==l||Y[94]!==u?(K=(0,k.jsx)(iS.DialogContent,{className:"z-[999] max-w-[400px] bg-bg-primary text-white",onClick:iC,children:(0,k.jsxs)("div",{className:"grid w-fit gap-2 justify-self-center",onClick:iI,children:[o,a,l,c,u,w,T,C,E,R,q,W]})}),Y[87]=w,Y[88]=C,Y[89]=E,Y[90]=R,Y[91]=q,Y[92]=W,Y[93]=l,Y[94]=u,Y[95]=K):K=Y[95],Y[96]!==ei||Y[97]!==H||Y[98]!==i||Y[99]!==K?(G=(0,k.jsxs)(iS.Dialog,{open:H,onOpenChange:ei,children:[i,K]}),Y[96]=ei,Y[97]=H,Y[98]=i,Y[99]=K,Y[100]=G):G=Y[100],G};function iC(e){return e.stopPropagation()}function iI(e){return e.stopPropagation()}e.s(["Slippage",0,ik],606705);var iv=e.i(426091);function iP(e,r){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>r.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)0>r.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function iL(){}function i_(e){return!!(e||"").match(/\d/)}function ix(e){return null==e}function iD(e){return ix(e)||"number"==typeof e&&isNaN(e)||"number"==typeof e&&!isFinite(e)}function iE(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function iR(e,r){void 0===r&&(r=!0);var n="-"===e[0],i=n&&r,o=(e=e.replace("-","")).split(".");return{beforeDecimal:o[0],afterDecimal:o[1]||"",hasNegation:n,addNegation:i}}function iO(e,r,n){for(var i="",o=n?"0":"",a=0;a<=r-1;a++)i+=e[a]||o;return i}function iU(e,r){return Array(r+1).join(e)}function iB(e){var r=e+"",n="-"===r[0]?"-":"";n&&(r=r.substring(1));var i=r.split(/[eE]/g),o=i[0],a=i[1];if(!(a=Number(a)))return n+o;o=o.replace(".","");var s=1+a,l=o.length;return s<0?o="0."+iU("0",Math.abs(s))+o:s>=l?o+=iU("0",s-l):o=(o.substring(0,s)||"0")+"."+o.substring(s),n+o}function iV(e,r,n){if(-1!==["","-"].indexOf(e))return e;var i=(-1!==e.indexOf(".")||n)&&r,o=iR(e),a=o.beforeDecimal,s=o.afterDecimal,l=o.hasNegation,c=parseFloat("0."+(s||"0")),u=(s.length<=r?"0."+s:c.toFixed(r)).split("."),d=a;return a&&Number(u[0])&&(d=a.split("").reverse().reduce(function(e,r,n){return e.length>n?(Number(e[0])+Number(r)).toString()+e.substring(1,e.length):r+e},u[0])),(l?"-":"")+d+(i?".":"")+iO(u[1]||"",r,n)}function iM(e,r){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",r),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(r,r),!0):(e.focus(),!1)}}(p=T||(T={})).event="event",p.props="prop";var iF=(f=function(e,r){for(var n=0,i=0,o=e.length,a=r.length;e[n]===r[n]&&n<o;)n++;for(;e[o-1-i]===r[a-1-i]&&a-i>n&&o-i>n;)i++;return{from:{start:n,end:o-i},to:{start:n,end:a-i}}},h=void 0,function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return g&&e.length===g.length&&e.every(function(e,r){return e===g[r]})?h:(g=e,h=f.apply(void 0,e))}),iN=function(e,r){var n=Math.min(e.selectionStart,r);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:r}}};function iq(e){return Math.max(e.selectionStart,e.selectionEnd)}function iW(e){var r=e.currentValue,n=e.formattedValue,i=e.currentValueIndex,o=e.formattedValueIndex;return r[i]===n[o]}function iK(e,r,n,i){var o=e.length;if(r=Math.min(Math.max(r,0),o),"left"===i){for(;r>=0&&!n[r];)r--;-1===r&&(r=n.indexOf(!0))}else{for(;r<=o&&!n[r];)r++;r>o&&(r=n.lastIndexOf(!0))}return -1===r&&(r=o),r}function iG(e){for(var r=Array.from({length:e.length+1}).map(function(){return!0}),n=0,i=r.length;n<i;n++)r[n]=!!(i_(e[n])||i_(e[n-1]));return r}function iY(e,r,n,i,o,a){void 0===a&&(a=iL);var s,l,c=(s=function(e,r){var n,a;return iD(e)?(a="",n=""):n="number"==typeof e||r?i(a="number"==typeof e?iB(e):e):i(a=o(e,void 0)),{formattedValue:n,numAsString:a}},(l=(0,n4.useRef)(s)).current=s,(0,n4.useRef)(function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return l.current.apply(l,e)}).current),u=(0,n4.useState)(function(){return c(ix(e)?r:e,n)}),d=u[0],m=u[1],p=e,f=n;ix(e)&&(p=d.numAsString,f=!0);var g=c(p,f);return(0,n4.useMemo)(function(){m(g)},[g.formattedValue]),[d,function(e,r){e.formattedValue!==d.formattedValue&&m({formattedValue:e.formattedValue,numAsString:e.value}),a(e,r)}]}function iX(e){return e.replace(/[^0-9]/g,"")}function iz(e){return e}function iH(e){var r=e.type;void 0===r&&(r="text");var n=e.displayType;void 0===n&&(n="input");var i=e.customInput,o=e.renderText,a=e.getInputRef,s=e.format;void 0===s&&(s=iz);var l=e.removeFormatting;void 0===l&&(l=iX);var c=e.defaultValue,u=e.valueIsNumericString,d=e.onValueChange,m=e.isAllowed,p=e.onChange;void 0===p&&(p=iL);var f=e.onKeyDown;void 0===f&&(f=iL);var g=e.onMouseUp;void 0===g&&(g=iL);var h=e.onFocus;void 0===h&&(h=iL);var y=e.onBlur;void 0===y&&(y=iL);var b=e.value,S=e.getCaretBoundary;void 0===S&&(S=iG);var A=e.isValidInputCharacter;void 0===A&&(A=i_);var w=e.isCharacterSame,k=iP(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),C=iY(b,c,!!u,s,l,d),I=C[0],v=I.formattedValue,P=I.numAsString,L=C[1],_=(0,n4.useRef)(),x=(0,n4.useRef)({formattedValue:v,numAsString:P}),D=function(e,r){x.current={formattedValue:e.formattedValue,numAsString:e.value},L(e,r)},E=(0,n4.useState)(!1),R=E[0],O=E[1],U=(0,n4.useRef)(null),B=(0,n4.useRef)({setCaretTimeout:null,focusTimeout:null});(0,n4.useEffect)(function(){return O(!0),function(){clearTimeout(B.current.setCaretTimeout),clearTimeout(B.current.focusTimeout)}},[]);var V=s,M=function(e,r){var n=parseFloat(r);return{formattedValue:e,value:r,floatValue:isNaN(n)?void 0:n}},F=function(e,r,n){(0!==e.selectionStart||e.selectionEnd!==e.value.length)&&(iM(e,r),B.current.setCaretTimeout=setTimeout(function(){e.value===n&&e.selectionStart!==r&&iM(e,r)},0))},N=function(e,r,n){return iK(e,r,S(e),n)},q=function(e,r,n){var i=S(r),o=function(e,r,n,i,o,a,s){void 0===s&&(s=iW);var l=o.findIndex(function(e){return e}),c=e.slice(0,l);r||n.startsWith(c)||(r=c,n=c+n,i+=c.length);for(var u=n.length,d=e.length,m={},p=Array(u),f=0;f<u;f++){p[f]=-1;for(var g=0;g<d;g++)if(s({currentValue:n,lastValue:r,formattedValue:e,currentValueIndex:f,formattedValueIndex:g})&&!0!==m[g]){p[f]=g,m[g]=!0;break}}for(var h=i;h<u&&(-1===p[h]||!a(n[h]));)h++;var y=h===u||-1===p[h]?d:p[h];for(h=i-1;h>0&&-1===p[h];)h--;var b=-1===h||-1===p[h]?0:p[h]+1;return b>y?y:i-b<y-i?b:y}(r,v,e,n,i,A,w);return iK(r,o,i)},W=function(e){var r,n=e.formattedValue;void 0===n&&(n="");var i=e.input,o=e.source,a=e.event,s=e.numAsString;if(i){var l=e.inputValue||i.value,c=iq(i);i.value=n,void 0!==(r=q(l,n,c))&&F(i,r,n)}n!==v&&D(M(n,s),{event:a,source:o})};(0,n4.useEffect)(function(){var e=x.current,r=e.formattedValue,n=e.numAsString;(v!==r||P!==n)&&D(M(v,P),{event:void 0,source:T.props})},[v,P]);var K=U.current?iq(U.current):void 0;("undefined"!=typeof window?n4.useLayoutEffect:n4.useEffect)(function(){var e=U.current;if(v!==x.current.formattedValue&&e){var r=q(x.current.formattedValue,v,K);e.value=v,F(e,r,v)}},[v]);var G=function(e,r,n){var i=r.target,o=Object.assign(Object.assign({},_.current?iN(_.current,i.selectionEnd):iF(v,e)),{lastValue:v}),a=l(e,o),s=V(a);if(a=l(s,void 0),m&&!m(M(s,a))){var c=r.target,u=q(e,v,iq(c));return c.value=v,F(c,u,v),!1}return W({formattedValue:s,numAsString:a,inputValue:e,event:r,source:n,input:r.target}),!0},Y=function(e,r){void 0===r&&(r=0),_.current={selectionStart:e.selectionStart,selectionEnd:e.selectionEnd+r}},X=Object.assign({inputMode:R&&"undefined"!=typeof navigator&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))?"numeric":void 0},k,{type:r,value:v,onChange:function(e){G(e.target.value,e,T.event)&&p(e),_.current=void 0},onKeyDown:function(e){var r,n=e.target,i=e.key,o=n.selectionStart,a=n.selectionEnd,s=n.value;void 0===s&&(s=""),"ArrowLeft"===i||"Backspace"===i?r=Math.max(o-1,0):"ArrowRight"===i?r=Math.min(o+1,s.length):"Delete"===i&&(r=o);var l=0;"Delete"===i&&o===a&&(l=1);var c="ArrowLeft"===i||"ArrowRight"===i;if(void 0===r||o!==a&&!c){f(e),Y(n,l);return}var u=r;c?(u=N(s,r,"ArrowLeft"===i?"left":"right"))!==r&&e.preventDefault():"Delete"!==i||A(s[r])?"Backspace"!==i||A(s[r])||(u=N(s,r,"left")):u=N(s,r,"right"),u!==r&&F(n,u,s),f(e),Y(n,l)},onMouseUp:function(e){var r=e.target,n=function(){var e=r.selectionStart,n=r.selectionEnd,i=r.value;if(void 0===i&&(i=""),e===n){var o=N(i,e);o!==e&&F(r,o,i)}};n(),requestAnimationFrame(function(){n()}),g(e),Y(r)},onFocus:function(e){e.persist&&e.persist();var r=e.target,n=e.currentTarget;U.current=r,B.current.focusTimeout=setTimeout(function(){var i=r.selectionStart,o=r.selectionEnd,a=r.value;void 0===a&&(a="");var s=N(a,i);s!==i&&(0!==i||o!==a.length)&&F(r,s,a),h(Object.assign(Object.assign({},e),{currentTarget:n}))},0)},onBlur:function(e){U.current=null,clearTimeout(B.current.focusTimeout),clearTimeout(B.current.setCaretTimeout),y(e)}});return"text"===n?o?n4.default.createElement(n4.default.Fragment,null,o(v,k)||null):n4.default.createElement("span",Object.assign({},k,{ref:a}),v):i?n4.default.createElement(i,Object.assign({},X,{ref:a})):n4.default.createElement("input",Object.assign({},X,{ref:a}))}function ij(e,r){var n,i,o,a=r.decimalScale,s=r.fixedDecimalScale,l=r.prefix;void 0===l&&(l="");var c=r.suffix;void 0===c&&(c="");var u=r.allowNegative,d=r.thousandsGroupStyle;if(void 0===d&&(d="thousand"),""===e||"-"===e)return e;var m=iQ(r),p=m.thousandSeparator,f=m.decimalSeparator,g=0!==a&&-1!==e.indexOf(".")||a&&s,h=iR(e,u),y=h.beforeDecimal,b=h.afterDecimal,S=h.addNegation;return void 0!==a&&(b=iO(b,a,!!s)),p&&(n=y,i=function(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;default:return/(\d)(?=(\d{3})+(?!\d))/g}}(d),o=-1===(o=n.search(/[1-9]/))?n.length:o,y=n.substring(0,o)+n.substring(o,n.length).replace(i,"$1"+p)),l&&(y=l+y),c&&(b+=c),S&&(y="-"+y),e=y+(g&&f||"")+b}function iQ(e){var r=e.decimalSeparator;void 0===r&&(r=".");var n=e.thousandSeparator,i=e.allowedDecimalSeparators;return!0===n&&(n=","),i||(i=[r,"."]),{decimalSeparator:r,thousandSeparator:n,allowedDecimalSeparators:i}}function iZ(e){var r,n,i,o,a,s,l,c,u,d,m,p,f,g,h,y,b,S,A,w,k,C,I,v,P,L,_,x,D,E=((r=function(e){var r=iQ(e),n=r.thousandSeparator,i=r.decimalSeparator,o=e.prefix;void 0===o&&(o="");var a=e.allowNegative;if(void 0===a&&(a=!0),n===i)throw Error("\n        Decimal separator can't be same as thousand separator.\n        thousandSeparator: "+n+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n        decimalSeparator: '+i+" (default value for decimalSeparator is .)\n     ");return o.startsWith("-")&&a&&(console.error("\n      Prefix can't start with '-' when allowNegative is true.\n      prefix: "+o+"\n      allowNegative: "+a+"\n    "),a=!1),Object.assign(Object.assign({},e),{allowNegative:a})}(r=e)).decimalSeparator,r.allowedDecimalSeparators,r.thousandsGroupStyle,n=r.suffix,i=r.allowNegative,o=r.allowLeadingZeros,void 0===(a=r.onKeyDown)&&(a=iL),void 0===(s=r.onBlur)&&(s=iL),l=r.thousandSeparator,c=r.decimalScale,u=r.fixedDecimalScale,void 0===(d=r.prefix)&&(d=""),m=r.defaultValue,p=r.value,f=r.valueIsNumericString,g=r.onValueChange,h=iP(r,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),b=(y=iQ(r)).decimalSeparator,S=y.allowedDecimalSeparators,A=function(e){return ij(e,r)},w=function(e,n){return function(e,r,n){void 0===r&&(r={from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""});var i,o,a,s,l=n.allowNegative,c=n.prefix;void 0===c&&(c="");var u=n.suffix;void 0===u&&(u="");var d=n.decimalScale,m=r.from,p=r.to,f=p.start,g=p.end,h=iQ(n),y=h.allowedDecimalSeparators,b=h.decimalSeparator,S=e[g]===b;if(i_(e)&&(e===c||e===u)&&""===r.lastValue)return e;if(g-f==1&&-1!==y.indexOf(e[f])){var A=0===d?"":b;e=e.substring(0,f)+A+e.substring(f+1,e.length)}var w=function(e,r,n){var i=!1,o=!1;c.startsWith("-")?i=!1:e.startsWith("--")?(i=!1,o=!0):u.startsWith("-")&&e.length===u.length?i=!1:"-"===e[0]&&(i=!0);var a=+!!i;return o&&(a=2),a&&(e=e.substring(a),r-=a,n-=a),{value:e,start:r,end:n,hasNegation:i}},T=w(e,f,g),k=T.hasNegation;e=T.value,f=T.start,g=T.end;var C=w(r.lastValue,m.start,m.end),I=C.start,v=C.end,P=C.value,L=e.substring(f,g);e.length&&P.length&&(I>P.length-u.length||v<c.length)&&!(L&&u.startsWith(L))&&(e=P);var _=0;e.startsWith(c)?_+=c.length:f<c.length&&(_=f),e=e.substring(_),g-=_;var x=e.length,D=e.length-u.length;e.endsWith(u)?x=D:g>D?x=g:g>e.length-u.length&&(x=g),e=e.substring(0,x),void 0===(i=k?"-"+e:e)&&(i=""),o=RegExp("(-)(.)*(-)"),a=/(-)/.test(i),s=o.test(i),i=i.replace(/-/g,""),a&&!s&&l&&(i="-"+i);var E=(e=((e=i).match(RegExp("(^-)|[0-9]|"+iE(b),"g"))||[]).join("")).indexOf(b),R=iR(e=e.replace(RegExp(iE(b),"g"),function(e,r){return r===E?".":""}),l),O=R.beforeDecimal,U=R.afterDecimal,B=R.addNegation;return p.end-p.start<m.end-m.start&&""===O&&S&&!parseFloat(U)&&(e=B?"-":""),e}(e,n,r)},k=ix(p)?m:p,I=null!=f?f:(C=d,""===k||!(null==C?void 0:C.match(/\d/))&&!(null==n?void 0:n.match(/\d/))&&"string"==typeof k&&!isNaN(Number(k))),ix(p)?ix(m)||(I=I||"number"==typeof m):I=I||"number"==typeof p,_=(L=(P=iY((v=function(e){return iD(e)?e:("number"==typeof e&&(e=iB(e)),I&&"number"==typeof c)?iV(e,c,!!u):e})(p),v(m),!!I,A,w,g))[0]).numAsString,x=L.formattedValue,D=P[1],Object.assign(Object.assign({},h),{value:x,valueIsNumericString:!1,isValidInputCharacter:function(e){return e===b||i_(e)},isCharacterSame:function(e){var r=e.currentValue,n=e.lastValue,i=e.formattedValue,o=e.currentValueIndex,a=e.formattedValueIndex,s=r[o],l=i[a],m=iF(n,r).to,f=function(e){return w(e).indexOf(".")+d.length};return!(0===p&&u&&c&&r[m.start]===b&&f(r)<o&&f(i)>a)&&(!!(o>=m.start&&o<m.end&&S&&S.includes(s))&&l===b||s===l)},onValueChange:D,format:A,removeFormatting:w,getCaretBoundary:function(e){var n,i,o,a,s,l;return void 0===(i=(n=r).prefix)&&(i=""),void 0===(o=n.suffix)&&(o=""),a=Array.from({length:e.length+1}).map(function(){return!0}),s="-"===e[0],a.fill(!1,0,i.length+ +!!s),l=e.length,a.fill(!1,l-o.length+1,l+1),a},onKeyDown:function(e){var r=e.target,n=e.key,o=r.selectionStart,s=r.selectionEnd,m=r.value;if(void 0===m&&(m=""),("Backspace"===n||"Delete"===n)&&s<d.length)return void e.preventDefault();if(o!==s)return void a(e);"Backspace"===n&&"-"===m[0]&&o===d.length+1&&i&&iM(r,1),c&&u&&("Backspace"===n&&m[o-1]===b?(iM(r,o-1),e.preventDefault()):"Delete"===n&&m[o]===b&&e.preventDefault()),(null==S?void 0:S.includes(n))&&m[o]===b&&iM(r,o+1);var p=!0===l?",":l;"Backspace"===n&&m[o-1]===p&&iM(r,o-1),"Delete"===n&&m[o]===p&&iM(r,o+1),a(e)},onBlur:function(e){var n=_;n.match(/\d/g)||(n=""),o||(n=function(e){if(!e)return e;var r="-"===e[0];r&&(e=e.substring(1,e.length));var n=e.split("."),i=n[0].replace(/^0+/,"")||"0",o=n[1]||"";return(r?"-":"")+i+(o?"."+o:"")}(n)),u&&c&&(n=iV(n,c,u)),n!==_&&D({formattedValue:ij(n,r),value:n,floatValue:parseFloat(n)},{event:e,source:T.event}),s(e)}}));return n4.default.createElement(iH,Object.assign({},E))}var iJ=e.i(338319);let i$=(0,n4.forwardRef)(({value:e,decimals:r=6,onValueChange:n,className:i,placeholder:o="0.00",disabled:a,...s},l)=>{let[c,u]=(0,n4.useState)(e);(0,n4.useEffect)(()=>{u(e)},[e]);let d=(0,n4.useCallback)(e=>{let r=e.floatValue;u(r),n?.(r)},[n]),m=(0,n4.useCallback)(e=>{let{value:n}=e;return""===n||"."===n||(0,iv.validateInput)(n,r)},[r]),p=(0,n4.useCallback)(()=>{let e=l?.current;e?.value&&!(0,iv.validateInput)(e.value,r)&&(u(void 0),n?.(void 0))},[r,n,l]),f=(0,n4.useCallback)(e=>{let r=e.target,n=r.value.length;setTimeout(()=>{r.setSelectionRange(n,n)},0)},[]);return(0,k.jsx)(iZ,{value:0===c||void 0===c?"":c,onValueChange:d,onBlur:p,onFocus:f,isAllowed:m,thousandSeparator:!1,decimalScale:r,fixedDecimalScale:!1,allowNegative:!1,allowLeadingZeros:!1,valueIsNumericString:!0,customInput:iT.Input,placeholder:o,disabled:a,className:(0,iJ.cn)("w-full border-none bg-transparent text-base text-white outline-none transition-all duration-300 ease-in-out","[appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",i),getInputRef:l,inputMode:"decimal",...s})});i$.displayName="TradingNumberInput",e.s(["TradingNumberInput",0,i$],761897);var i1=e.i(241526),i0=e.i(974658),i4=e.i(513466),i2=e.i(240763);let i3=new E.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),i6=new E.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),i5=new E.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function i8(e,r,n,i,o){let a=r.baseMint,s=e.baseDecimals,l=r.quoteMint,c=e.quoteDecimals;i||(a=r.quoteMint,s=e.quoteDecimals,l=r.baseMint,c=e.baseDecimals);let u=new tT(new tu(U,a,s),n,!1),d=new tu(U,l,c),m=new tC(Math.floor(o),100),{amountOut:p,minAmountOut:f,currentPrice:g,executionPrice:h,priceImpact:y,fee:b}=nj.computeAmountOut({poolKeys:r,poolInfo:e,amountIn:u,currencyOut:d,slippage:m});return{amountIn:u,amountOut:p,minAmountOut:f,currentPrice:g,executionPrice:h,priceImpact:y,fee:b}}async function i7(e,r){let n=await e.getAccountInfo(r);if(console.log(`RaydiumTradeBox getAccountInfo(marketId=${r.toBase58()})`),n)return nR.decode(n.data)}let i9=new E.PublicKey("So11111111111111111111111111111111111111112");e.s(["RaydiumTradeBox",0,({coin:e,onClose:r,onPlaceTrade:n,onPositionValueChange:i,onSellAll:o,surface:a})=>{let[s,l]=(0,n4.useState)(),[c,u]=(0,n4.useState)(),{address:d,wallet:m}=(0,nZ.useProfile)(),{source:p}=is(),{connection:f}=(0,C.useConnection)(),[g,h]=(0,n4.useState)(),[y,b]=(0,n4.useState)(),{trackEvent:S}=(0,il.useStandardizedAnalytics)(),[A,w]=(0,n4.useState)(),[T,v]=(0,n4.useState)(!0),{tokenBalance:P}=(0,C.useCoinAccountsState)(),[L]=(0,n4.useState)("pump"===e.program),_=(0,n1.useQueryClient)(),x=(0,n4.useCallback)(()=>{v(!1),setTimeout(()=>{P&&l((0,ig.humanizeTokenAmount)(P))})},[P,l]);(0,n4.useEffect)(()=>{o&&o(x)},[o,x]);let{slippage:D}=ii(),{frontRunningProtection:R}=it(),{tipAmount:O}=io(),{lastClickImpression:U,lastAdvancedClickImpression:B}=(0,id.useLastClickImpression)(),{handleCoinConversion:M,handleAdvancedCoinConversion:F}=(0,ir.default)(),{setRecentlyTraded:N,handleRecentTrade:q,handleFirstTrade:W}=(0,im.useRecentTrade)(),{setShowWallet:K}=(0,iu.useConnectWallet)(),[G,Y]=(0,n4.useState)(0),[X,z]=(0,n4.useState)(0),[H,j]=(0,n4.useState)(0),[Q,Z]=(0,n4.useState)(0),[J,$]=(0,n4.useState)(!1),[ee,et]=(0,n4.useState)(!1),[er,en]=(0,n4.useState)(null),ei=(0,n4.useRef)(null),[eo,ea]=(0,n4.useState)(),{signAndSendSwapTx:es}=(0,n7.useFrontendSendSwapTx)(),el=async()=>{e.market_id&&h(await i7(f,new E.PublicKey(e.market_id)))},ec=async()=>{A&&b(await nj.fetchInfo({connection:f,poolKeys:A}))};(0,n4.useEffect)(()=>{el()},[e.market_id,f]),(0,n4.useEffect)(()=>{if(!e.market_id||!g)return;let r=nj.getAssociatedPoolKeys({version:4,marketVersion:3,marketId:new E.PublicKey(e.market_id),baseMint:new E.PublicKey(e.inverted?e.mint:"So11111111111111111111111111111111111111112"),quoteMint:new E.PublicKey(e.inverted?"So11111111111111111111111111111111111111112":e.mint),baseDecimals:e.inverted?9:6,quoteDecimals:e.inverted?6:9,programId:i6,marketProgramId:i3});w({id:r.id,baseMint:r.quoteMint,quoteMint:r.baseMint,lpMint:r.lpMint,baseDecimals:e.inverted?9:6,quoteDecimals:e.inverted?6:9,lpDecimals:6,version:4,programId:i6,authority:r.authority,openOrders:r.openOrders,targetOrders:r.targetOrders,baseVault:r.baseVault,quoteVault:r.quoteVault,withdrawQueue:r.withdrawQueue,lpVault:r.lpVault,marketVersion:3,marketProgramId:i3,marketId:r.marketId,marketAuthority:r.marketAuthority,marketBaseVault:g.baseVault,marketQuoteVault:g.quoteVault,marketBids:g.bids,marketAsks:g.asks,marketEventQueue:g.eventQueue,lookupTableAccount:new E.PublicKey("11111111111111111111111111111111")})},[g]),(0,n4.useEffect)(()=>{ec();let e=setInterval(()=>{ec()},1e4);return()=>clearInterval(e)},[A,f]);let eu=(0,n4.useCallback)(()=>U?.mint===e.mint?U.impression:void 0,[U,e.mint]),ed=(0,n4.useMemo)(()=>{if(y&&A)return T&&c&&c>0||!T&&s&&s>0?{raw:i8(y,A,T?Number(c):Number(s),e.inverted?T:!T,D),pretty:i8(y,A,T?Number(c):Number(s),e.inverted?T:!T,0)}:null},[y,A,T,c,s,D]),em=async()=>{let i=eu(),o=e.mint;if(!d){S("press_connect_wallet",{event_group:"wallet",source_type:"screen",target_type:"button",source:"trade",mint:o,amount:c||s,sol_amount:c}),K(!0);return}if(!m){S("press_connect_wallet",{event_group:"wallet",source_type:"screen",target_type:"button",source:"trade",mint:o,amount:s||0,sol_amount:c||0}),K(!0);return}try{let r=T?c:ed?.pretty?.amountOut?.raw?Number(ed.pretty.amountOut.raw)/1e9:void 0;U?.mint===e.mint?(0,ic.trackTradeInitiated)({mint:e.mint,tradeDirection:T?"buy":"sell",solAmount:r,usdMarketCap:e.usd_market_cap,program:(0,ic.mapCoinProgramToBlockchainProgram)(e.program),isLivestreamActive:e.is_currently_live,absolutePosition:U.impression.itemPosition,recommendationId:U.impression.rec_id,screen:I.SourceScreen.COIN_DETAILS}):(0,ic.trackTradeInitiated)({mint:e.mint,tradeDirection:T?"buy":"sell",solAmount:r,usdMarketCap:e.usd_market_cap,program:(0,ic.mapCoinProgramToBlockchainProgram)(e.program),isLivestreamActive:e.is_currently_live,screen:I.SourceScreen.COIN_DETAILS})}catch(e){console.error("[Analytics] Failed to track trade initiation:",e)}if(!m.signTransaction||!g||!e.market_id||!A||!y||!ed)return;n?.();let l=e.symbol,u=(0,ig.humanizeTokenAmount)(ed.pretty.amountOut.raw),h=new V.default(Math.floor((c??0)*1e9)),b=(0,ig.humanizeTokenAmount)(ed.pretty.amountIn.raw),w=new V.default(ed.pretty.amountOut.raw),{toastId:k,interval:C}=T?(0,i0.showBuyLoadingToast)(u,l,h):(0,i0.showSellLoadingToast)(b,l,w);try{let{amountIn:n,minAmountOut:s}=ed.raw,p=(0,n$.getAssociatedTokenAddressSync)(new E.PublicKey(o),m.publicKey,!0),g=await (0,nJ.getAccount)(f,p).catch(()=>null),y=(0,n$.getAssociatedTokenAddressSync)(i9,m.publicKey,!0),I=await (0,nJ.getAccount)(f,y).catch(()=>null),v=[];g&&v.push({pubkey:p,programId:i5,accountInfo:g}),I&&v.push({pubkey:y,programId:i5,accountInfo:I});let P=(await nj.makeSwapInstructionSimple({connection:f,makeTxVersion:0,poolKeys:A,userKeys:{tokenAccounts:v,owner:m.publicKey},amountIn:n,amountOut:s,fixedSide:"in",config:{bypassAssociatedCheck:!1}})).innerTransactions[0].instructions,L=await es({isBuySelected:T,mint:o,instructions:P,defaultUnits:5e5,unitsScaleFactor:1.1,frontRunningProtection:R,tipAmount:O});if(!L)throw Error("Trade transaction failed");let{signature:x,confirmTxPromise:D,signedTimestamp:V}=L;if(T&&U?.mint===o&&void 0!=c){let r=M(o,U.impression,c,e.usd_market_cap,U.searchTerm);Promise.allSettled([r]).then(e=>{e.forEach(e=>{"rejected"===e.status&&console.error("Activity log failed:",e.reason)})})}if(T&&B?.mint===o&&void 0!=c){let r=F(o,B.impression,c,e.usd_market_cap,B.impression.volume,B.impression.numHolders,!1,B.filters);Promise.allSettled([r]).then(e=>{e.forEach(e=>{"rejected"===e.status&&console.error("Activity log failed:",e.reason)})})}T?(0,i2.showTransactionToast)({type:"buy",amount:u,symbol:l,solAmount:h,signature:x,interval:C,mint:o,toastId:k,confirmTxPromise:D,signedTimestamp:V,onShowToastSuccess:()=>{S("code_swap_success_tradebox",{event_group:"trade",source_type:"screen",target_type:"button",type:"buy",token_amount:u,symbol:e.symbol,mint:o,signature:x,location:"RaydiumTradeBox",sol_amount:h.toNumber()/1e9,source:"tradebox",...a&&{surface:a},raydium:!0,provider:"raydium",impression:i,is_livestream_active:e.is_currently_live}),(0,il.trackFullStoryEvent)(il.AnalyticsEvents.TRANSACTIONS.SUCCESS,{type:"buy",amount:u,symbol:e.symbol,mint:o,signature:x,solAmount:h.toNumber()/1e9,message:"buy successful"})}}):(0,i2.showTransactionToast)({type:"sell",amount:b,symbol:l,solAmount:w,signature:x,interval:C,toastId:k,mint:o,confirmTxPromise:D,signedTimestamp:V,onShowToastSuccess:()=>{S("code_swap_success_tradebox",{event_group:"trade",source_type:"screen",target_type:"button",type:"sell",token_amount:b,symbol:e.symbol,mint:o,signature:x,location:"RaydiumTradeBox",sol_amount:w.toNumber()/1e9,source:"tradebox",...a&&{surface:a},raydium:!0,provider:"raydium",impression:i,is_livestream_active:e.is_currently_live}),(0,il.trackFullStoryEvent)(il.AnalyticsEvents.TRANSACTIONS.SUCCESS,{type:"sell",amount:b,symbol:e.symbol,mint:o,signature:x,solAmount:w.toNumber()/1e9,message:"sell successful"})}}),q(o),N(!0),T&&W(),_.invalidateQueries({queryKey:["coin-pnl",o,d]}),r&&r()}catch(r){console.error("could not submit trade",r),S("code_swap_error_tradebox",{event_group:"trade",source_type:"screen",target_type:"button",type:T?"buy":"sell",error:r?.message,message:"could not submit trade",surface:p,source:"tradebox",raydium:!0,token_amount:s||0,sol_amount:c||0,mint:e.mint,impression:i}),(0,il.trackFullStoryEvent)(il.AnalyticsEvents.TRANSACTIONS.TRADE_ERROR),clearInterval(C),n8.toast.dismiss(k),n8.toast.error("transaction failed",{description:r?.message,cancel:{label:"[dismiss]",onClick:()=>n8.toast.dismiss()}})}};return(0,n4.useEffect)(()=>{null!=P&&(l(0),u(0),Y(0),z(0),$(!1),et(!1))},[P,T]),(0,n4.useEffect)(()=>{if(ee)return ee&&null!==s&&(z(G),G>X?en("up"):G<X?en("down"):en(null),ei.current&&clearTimeout(ei.current),ei.current=setTimeout(()=>{en(null)},500),et(!1)),()=>{ei.current&&clearTimeout(ei.current)}},[G]),(0,n4.useEffect)(()=>{let e;if(!J){if(ed){let e=(0,ih.lamportsToSol)(ed.pretty.minAmountOut.raw);en(null),Y(e),z(e)}return()=>{e&&clearInterval(e)}}},[ed,ih.lamportsToSol,T]),(0,n4.useEffect)(()=>{J&&s&&ed&&Y((0,ih.lamportsToSol)(ed.pretty.minAmountOut.raw))},[J,ed]),(0,n4.useEffect)(()=>{if(!y?.baseReserve||!y?.quoteReserve)return;let e={base:y.baseReserve.toString(),quote:y.quoteReserve.toString()};eo&&(eo.base!==e.base||eo.quote!==e.quote)&&($(!0),et(!0)),ea(e)},[y?.baseReserve,y?.quoteReserve]),(0,n4.useEffect)(()=>{if(void 0!==P&&i){H>Q?(Z(H),i({netSolValue:H,netSolValueArrow:"up",tokenBalance:(0,ig.humanizeTokenAmount)(P)})):H<Q&&(Z(H),i({netSolValue:H,netSolValueArrow:"down",tokenBalance:(0,ig.humanizeTokenAmount)(P)}));let e=setTimeout(()=>{i({netSolValue:H,netSolValueArrow:null,tokenBalance:(0,ig.humanizeTokenAmount)(P)})},500);return()=>{clearTimeout(e)}}},[H]),(0,n4.useEffect)(()=>{if(!y||!A)return;let r=(0,ig.humanizeTokenAmount)(P||new V.default(0));if(r<=0)return void j(0);try{let{minAmountOut:n}=i8(y,A,r,!e.inverted,0),i=(0,ih.lamportsToSol)(n.raw);j(i)}catch(e){console.error("Could not compute net position from user tokens:",e),j(0)}},[P,y,A,e.inverted,ih.lamportsToSol]),(0,n4.useEffect)(()=>{setTimeout(()=>{en(null)},500)},[er]),(0,n4.useEffect)(()=>{i&&i({netSolValue:0,netSolValueArrow:null,tokenBalance:0})},[e.mint]),(0,k.jsx)("div",{className:"z-20 p-1",children:y?(0,k.jsxs)("div",{className:"",children:[(0,k.jsx)("div",{className:"mb-1 flex items-center justify-between",children:(0,k.jsx)(i4.Tabs,{value:T?"buy":"sell",onValueChange:e=>{v("buy"===e),u(0),l(0)},className:"flex-1",children:(0,k.jsxs)(i4.TabsList,{className:"grid w-full grid-cols-2",children:[(0,k.jsx)(i4.TabsTrigger,{value:"buy",className:"data-[state=active]:bg-[#1FD978] data-[state=active]:text-[#18181D]",children:"Buy"}),(0,k.jsx)(i4.TabsTrigger,{value:"sell",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white",children:"Sell"})]})})}),(0,k.jsx)("div",{className:"mb-1 flex w-full justify-between p-1",children:(0,k.jsx)(ik,{})}),(0,k.jsxs)("div",{className:"flex flex-col p-1",children:[(0,k.jsxs)("div",{className:"relative flex items-center rounded-md border border-[#2F3036] bg-white/5 shadow-sm",children:[(0,k.jsx)(i$,{placeholder:"0.00",decimals:T?9:6,value:T?c:s,className:"w-full bg-transparent pl-3 text-[1rem] text-white outline-none",onValueChange:e=>{let r=e||0;0===r?T?u(0):l(0):T?u(r):l(r)}}),(0,k.jsxs)("div",{className:"absolute right-2 ml-2 flex items-center",children:[(0,k.jsx)("span",{className:"mr-2 text-white",children:T?"SOL":e.symbol}),T?(0,k.jsx)(n0.default,{className:"h-8 w-8 rounded-full",width:32,height:32,src:"/icons/sol-filled-logo.svg",alt:"SOL"}):(0,k.jsx)(iy.default,{className:"h-8 w-8 rounded-full",sourceImageUrl:e?.image_uri,mint:e.mint,imageType:iy.IMAGE_TYPES.COIN_IMAGE,alt:e?.name,width:32,height:32})]})]}),T?(0,k.jsxs)("div",{className:"mt-1 flex p-1",children:[(0,k.jsx)("button",{onClick:()=>u(0),className:"font-inter -ml-1 rounded border border-[#2F3036] bg-white/5 px-2 py-1 text-center text-[10px] font-normal leading-3 text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] hover:bg-bg-secondary hover:text-gray-300",children:"Reset"}),[.1,.5,1].map(e=>(0,k.jsx)("button",{onClick:()=>u(e),className:"font-inter ml-1 rounded border border-[#2F3036] bg-white/5 px-2 py-1 text-center text-[10px] font-normal leading-3 text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] hover:bg-bg-secondary hover:text-gray-300",children:e},e))]}):(0,k.jsxs)("div",{className:"mt-2 flex p-1",children:[(0,k.jsx)("button",{onClick:()=>l(0),className:"font-inter -ml-1 rounded border border-[#2F3036] bg-white/5 px-2 py-1 text-center text-[10px] font-normal leading-3 text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] hover:bg-bg-secondary hover:text-gray-300",children:"Reset"}),[25,50,75,100].map(e=>(0,k.jsxs)("button",{className:"font-inter ml-1 rounded border border-[#2F3036] bg-white/5 px-2 py-1 text-center text-[10px] font-normal leading-3 text-[#FAFAFA] shadow-[0px_1px_2px_0px_rgba(0,0,0,0.05)] hover:bg-bg-secondary hover:text-gray-300",onClick:()=>l((0,ig.humanizeTokenAmount)(P?.mul(new V.default(e)).div(new V.default(100))||new V.default(0))),children:[e,"%"]},e))]})]}),!T&&P&&(0,ig.humanizeTokenAmount)(P)>0&&(0,k.jsxs)("div",{className:"flex text-sm text-white",children:[(0,k.jsx)("span",{children:"you receive"})," ",(0,k.jsxs)("span",{className:"flex items-center",children:[er&&(0,k.jsxs)(k.Fragment,{children:["up"===er?(0,k.jsx)(n3,{className:"text-green-500",size:14}):(0,k.jsx)(n6,{className:"text-red-500",size:14}),""]}),G&&0!==G?(0,ip.formatSolAmount)(G):"0.0000"," ","SOL"]})]}),T&&ed&&(0,k.jsxs)("div",{className:"p-1 text-sm text-gray-400",children:[(0,ip.formatCoinAmount)((0,ig.humanizeTokenAmount)(ed.pretty.minAmountOut.raw))," ",e.symbol]}),(0,k.jsxs)("div",{className:"p-1",children:[(0,k.jsx)(i1.Button,{disabled:!L,className:`w-full rounded-lg text-sm font-medium leading-normal shadow-sm ${T?"bg-[#1FD978] text-[#18181D] hover:bg-[#1FD978]/90":"bg-red-500 text-white hover:bg-red-500/90"}`,onClick:em,children:m?`${T?"Buy":"Sell"} ${e.symbol}`:`Log in to ${T?"buy":"sell"}`}),!L&&(0,k.jsx)("div",{className:"mt-1 text-sm",children:"Cannot be traded on Pump platform"})]})]}):(0,k.jsxs)("div",{className:"flex items-center justify-center gap-2 text-white",children:["loading trade interface",(0,k.jsx)(n5.Oval,{color:"white",height:24,width:24})]})})}],41826)},466008,e=>{"use strict";var r=e.i(942765),n=e.i(426091);let i=(0,e.i(281675).forwardRef)(({className:e,children:i,...o},a)=>(0,r.jsx)("button",{ref:a,className:(0,n.cn)("rounded bg-bg-primary px-2 py-1 text-xs text-gray-400 hover:bg-bg-secondary hover:text-gray-300",e),...o,children:i}));i.displayName="TagButton",e.s(["TagButton",0,i])},454028,e=>{"use strict";var r=e.i(649785),n=e.i(711774),i=e.i(690877);e.s(["useInitialBondingCurveParams",0,e=>{let o,a,s,l,c=(0,r.c)(13);c[0]!==e?(o=async()=>{if(!e)throw Error("Timestamp is required");let r=await fetch(`${(0,n.getClientServerUrl)()}/global-params/${e}`);if(!r.ok)throw Error(`Failed to fetch params: ${r.statusText}`);return await r.json()},c[0]=e,c[1]=o):o=c[1];let u=o;c[2]!==e?(a=["bondingCurveParams",e],c[2]=e,c[3]=a):a=c[3];let d=!!e;c[4]!==u||c[5]!==a||c[6]!==d?(s={queryKey:a,queryFn:u,enabled:d,staleTime:6e4,gcTime:3e5},c[4]=u,c[5]=a,c[6]=d,c[7]=s):s=c[7];let{data:m,isLoading:p,error:f,refetch:g}=(0,i.useQuery)(s);return c[8]!==m||c[9]!==f||c[10]!==p||c[11]!==g?(l={initialBondingCurveParams:m,fetchInitialBondingCurveParams:g,isLoading:p,error:f},c[8]=m,c[9]=f,c[10]=p,c[11]=g,c[12]=l):l=c[12],l}])},374403,310233,e=>{"use strict";var r=e.i(942765),n=e.i(170655),i=e.i(18663);e.i(440875);var o=e.i(743182),a=e.i(655703),s=e.i(281675),l=e.i(536925),c=e.i(649785),u=e.i(689943);let d=(e,r,n,i,o,a,s)=>{let l,d,m=(0,c.c)(6),{data:p,isLoading:f,error:g}=(0,u.useAllUserTrades)(e,r,n,i,o,a,void 0!==s&&s),h=g?.message||null;return m[0]!==p?(l=p||{myTrades:[],devTrades:[],trackedTrades:{}},m[0]=p,m[1]=l):l=m[1],m[2]!==h||m[3]!==f||m[4]!==l?(d={trades:l,loading:f,error:h},m[2]=h,m[3]=f,m[4]=l,m[5]=d):d=m[5],d};e.s(["useGetAllTrades",0,d],310233);let m=(0,s.createContext)(null),p=({children:e})=>{let c,u,p,{coinData:f}=(0,n.useCoin)(),{user:g}=(0,a.useProfile)(),{layoutSettings:h}=(0,i.useWidgets)(),y=(0,s.useRef)(null),b=(0,s.useRef)([]),S=(0,s.useRef)((c=null,u=!1,p=!1,e=>{if(c&&(clearTimeout(c),c=null),u){p=!0;return}c=setTimeout(()=>{if(e.current)try{u=!0,p=!1,e.current.activeChart().clearMarks(),setTimeout(()=>{try{e.current&&e.current.activeChart().refreshMarks()}catch(e){console.error("Error refreshing marks:",e)}finally{u=!1,c=null,p&&e.current&&setTimeout(()=>{e.current&&p&&(e.current.activeChart().clearMarks(),e.current.activeChart().refreshMarks(),p=!1)},50)}},10)}catch(e){console.error("Error clearing marks:",e),u=!1,c=null}},100)}));(0,s.useEffect)(()=>{let e=y.current,r="string"==typeof h.cardBgColor?h.cardBgColor:"";if(e&&r)try{let n=r.includes("gradient"),i=n&&r?Y(r,!0):r,o=n&&r?Y(r,!1):r;n?e.applyOverrides({"paneProperties.backgroundType":"gradient","paneProperties.backgroundGradientStartColor":i,"paneProperties.backgroundGradientEndColor":o,"mainSeriesProperties.candleStyle.upColor":"#039981","mainSeriesProperties.candleStyle.downColor":"#C72A38","scalesProperties.textColor":"#707179"}):e.applyOverrides({"paneProperties.backgroundType":"solid","paneProperties.background":r,"mainSeriesProperties.candleStyle.upColor":"#039981","mainSeriesProperties.candleStyle.downColor":"#C72A38","scalesProperties.textColor":"#707179"}),e.setCSSCustomProperty("--tv-color-pane-background",n?i:r||"#131723"),e.setCSSCustomProperty("--tv-color-toolbar-divider-background",n?i:r||"#131723"),e.setCSSCustomProperty("--tv-color-platform-background",n?i:r||"#131723")}catch(e){console.error("TradingViewChartSettingsProvider: Error during chart style update. The chart instance may have been destroyed or is in an invalid state.",e)}},[h.cardBgColor]);let[A]=(0,l.useLocalStorage)("trackedWallets",[]),[w,T]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_trackedTradesEnabled`,!0),k=(0,s.useMemo)(()=>A.map(e=>e.trackedWalletAddress),[A]),[C]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_displayButtons`,!0),[I,v]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_myTradesEnabled`,!0),[P,L]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_devTradesEnabled`,!0),[_]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_indicatorsEnabled`,!0),[x,D]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_myTradesWalletAddress`,g?.address||""),[E,R]=(0,l.useLocalStorage)(`${o.STORAGE_KEYS.TRADING_VIEW_CHART_SETTINGS}_devTradesWalletAddress`,f?.creator||""),[O,U]=(0,s.useState)(""),[B,V]=(0,s.useState)([]),{trades:M,loading:F}=d(f?.mint||"",f?.program||"",f?.created_timestamp||null,I?x:void 0,P?E:void 0,w?k:[],!1),N=(0,s.useMemo)(()=>({myTrades:M.myTrades,devTrades:M.devTrades,trackedTrades:Object.fromEntries(Object.entries(M.trackedTrades).map(([e,r])=>[e,r]))}),[M]);(0,s.useEffect)(()=>{if(g?.address){let e=g.address;e!==x&&D(e)}else x&&D("")},[g?.address,x,D]),(0,s.useEffect)(()=>{f?.creator&&f.creator!==E&&R(f.creator)},[f?.creator,E,R]);let q=(0,s.useCallback)(e=>{v(e),X.current&&(X.current.buttonDisplayOptions.myTrades.enabled=e),y.current&&S.current(y)},[v]),W=(0,s.useCallback)(e=>{L(e),X.current&&(X.current.buttonDisplayOptions.devTrades.enabled=e),y.current&&S.current(y)},[L]),K=(0,s.useCallback)(e=>{T(e),X.current&&(X.current.buttonDisplayOptions.trackedTrades.enabled=e),y.current&&S.current(y)},[T]),G=(0,s.useCallback)((e,r=[])=>{U(e),V(r),S.current(y)},[U,y]),Y=(e,r)=>{try{let n=e.match(/#[a-fA-F0-9]{3,8}|rgba?\([^)]+\)/g);if(n&&n.length>=2)return r?n[0]:n[n.length-1];return r?"#000000":"#ffffff"}catch{return r?"#000000":"#ffffff"}};(0,s.useEffect)(()=>{!y.current||((b.current.length!==A.length||b.current.some(e=>!A.find(r=>r.trackedWalletAddress===e.trackedWalletAddress)))&&(b.current=A),F||S.current(y))},[A,I,P,w,N,F]);let X=(0,s.useRef)({displayButtons:C,initalFetchLoading:F,buttonDisplayOptions:{myTrades:{enabled:I,walletAddress:x,trades:N.myTrades},devTrades:{enabled:P,walletAddress:E,trades:N.devTrades},trackedTrades:{enabled:w,trackedWallets:A,tradesByWallet:N.trackedTrades}},indicatorsEnabled:_,activeWalletFilter:O,filteredWalletTrades:B,callbacks:{onMyTradesToggle:q,onDevTradesToggle:W,onTrackedTradesToggle:K,onActiveWalletFilterChange:G},backgroundType:h.cardBgColor.includes("gradient")?"gradient":"solid",backgroundColor:h.cardBgColor.includes("gradient")?"#000000":h.cardBgColor,backgroundGradientStartColor:h.cardBgColor.includes("gradient")?Y(h.cardBgColor,!0):"#000000",backgroundGradientEndColor:h.cardBgColor.includes("gradient")?Y(h.cardBgColor,!1):"#ffffff"});(0,s.useEffect)(()=>{X.current={...X.current,initalFetchLoading:F,activeWalletFilter:O,filteredWalletTrades:B,buttonDisplayOptions:{...X.current.buttonDisplayOptions,myTrades:{enabled:I,walletAddress:x,trades:N.myTrades,loading:F},devTrades:{enabled:P,walletAddress:E,trades:N.devTrades,loading:F},trackedTrades:{enabled:w,trackedWallets:A,tradesByWallet:N.trackedTrades,loading:F}}}},[N,F,I,P,w,x,E,A,O,B]);let z=s.default.useMemo(()=>({chartSettingsRef:X,chartInstance:y,debouncedRefreshMarks:S.current}),[]);return(0,r.jsx)(m.Provider,{value:z,children:e})};e.s(["TradingViewChartSettingsProvider",0,p,"default",0,p,"useTradingViewChartSettings",0,()=>{let e=(0,s.useContext)(m);if(!e)throw Error("useTradingViewChartSettings must be used within a TradingViewChartSettingsProvider");return e},"useTradingViewChartSettingsSafe",0,()=>(0,s.useContext)(m)],374403)},38573,388458,838587,375269,e=>{"use strict";var r,n,i,o,a,s,l,c,u,d,m,p,f,g,h,y,b,S,A,w,T,k,C,I,v,P,L,_,x,D,E,R,O,U,B,V,M,F,N,q,W,K,G,Y,X,z,H,j,Q,Z,J,$,ee,et,er,en,ei,eo,ea,es,el,ec,eu,ed,em,ep,ef,eg,eh,ey,eb,eS,eA,ew,eT,ek,eC,eI,ev,eP,eL,e_,ex,eD,eE,eR,eO,eU,eB,eV,eM,eF,eN,eq,eW,eK,eG,eY,eX,ez,eH,ej,eQ,eZ,eJ,e$,e1,e0,e4,e2,e3,e6,e5,e8,e7,e9,te,tt,tr,tn,ti,to,ta,ts,tl,tc,tu,td,tm,tp,tf,tg,th,ty,tb,tS,tA,tw,tT,tk,tC,tI,tv,tP,tL,t_,tx,tD,tE,tR,tO,tU,tB,tV,tM,tF,tN,tq,tW,tK,tG,tY,tX=e.i(942765),tz=e.i(938277),tH=e.i(711774),tj=e.i(958083),tQ=e.i(747275),tZ=e.i(281675),tJ=e.i(477908),t$=e.i(658070),t1=e.i(536925),t0=e.i(407751),t4=e.i(235828);let t2=()=>window.matchMedia("(max-width: 767px)").matches?"#15161B":"#18181b";e.s(["createPoolConfig",0,e=>{let r=new t4.PublicKey(e.mint);return{address:(0,t0.canonicalPumpPoolPda)(r).toString(),baseMint:e.mint,quoteMint:"So11111111111111111111111111111111111111112",baseMintDecimals:6,quoteMintDecimals:9}},"getChartBackgroundColor",0,t2,"getDynamicInterval",0,e=>{if(!e)return"1m";let r=(Date.now()-e)/36e5;return r<1?"1m":r<6?"5m":r<24?"15m":r<168?"1h":r<720?"4h":"24h"},"getRetailChartDisabledFeatures",0,()=>["header_screenshot","header_undo_redo","header_fullscreen_button","header_saveload","header_settings","header_indicators"]],388458);var t3=e.i(310233);let t6=(0,tZ.createContext)(null),t5=()=>(0,tZ.useContext)(t6);e.s(["CoinTradingViewProvider",0,({children:e,coin:r})=>{let n,i,{publicKey:o}=(0,t$.useWallet)(),[a]=(0,t1.useLocalStorage)("trackedWallets",[]),s=(0,tZ.useRef)(null),l=(0,tZ.useRef)((n=null,i=!1,e=>{n&&clearTimeout(n),n=setTimeout(()=>{if(!i&&e.current)try{i=!0,e.current.activeChart().clearMarks(),e.current.activeChart().refreshMarks()}catch(e){console.error("Error refreshing marks:",e)}finally{i=!1,n=null}},150)})),[c,u]=(0,t1.useLocalStorage)("coinTradingView_myTradesEnabled",!0),[d,m]=(0,t1.useLocalStorage)("coinTradingView_devTradesEnabled",!0),[p,f]=(0,t1.useLocalStorage)("coinTradingView_trackedTradesEnabled",!0),[g,h]=(0,t1.useLocalStorage)("coinTradingView_myTradesWalletAddress",o?.toBase58()||""),[y,b]=(0,t1.useLocalStorage)("coinTradingView_devTradesWalletAddress",r.creator),S=(0,tZ.useMemo)(()=>a.map(e=>e.trackedWalletAddress),[a]);(0,tZ.useEffect)(()=>{if(o){let e=o.toBase58();e!==g&&h(e)}},[o,g,h]),(0,tZ.useEffect)(()=>{r.creator&&r.creator!==y&&b(r.creator)},[r.creator,y,b]);let A=(0,tZ.useCallback)(e=>{u(e)},[u]),w=(0,tZ.useCallback)(e=>{m(e)},[m]),T=(0,tZ.useCallback)(e=>{f(e)},[f]),{trades:k,loading:C}=(0,t3.useGetAllTrades)(r.mint,r.program,r.created_timestamp,c?g:void 0,d?y:void 0,p?S:[],!1),I=(0,tZ.useRef)({displayButtons:!0,initalFetchLoading:C,buttonDisplayOptions:{myTrades:{enabled:c,walletAddress:g,trades:k.myTrades,loading:C},devTrades:{enabled:d,walletAddress:y,trades:k.devTrades,loading:C},trackedTrades:{enabled:p,trackedWallets:a,tradesByWallet:k.trackedTrades,loading:C}},indicatorsEnabled:!0,activeWalletFilter:"",filteredWalletTrades:[],callbacks:{onMyTradesToggle:A,onDevTradesToggle:w,onTrackedTradesToggle:T},backgroundType:"solid",backgroundColor:t2()});(0,tZ.useEffect)(()=>{I.current={...I.current,initalFetchLoading:C,backgroundColor:t2(),buttonDisplayOptions:{...I.current.buttonDisplayOptions,myTrades:{enabled:c,walletAddress:g,trades:k.myTrades,loading:C},devTrades:{enabled:d,walletAddress:y,trades:k.devTrades,loading:C},trackedTrades:{enabled:p,trackedWallets:a,tradesByWallet:k.trackedTrades,loading:C}}}},[k,C,c,d,p,g,y,a,o]),(0,tZ.useEffect)(()=>{s.current&&l.current(s)},[c,d,p]);let v=tZ.default.useMemo(()=>({chartSettingsRef:I,chartInstance:s,debouncedRefreshMarks:l.current}),[]);return(0,tX.jsx)(t6.Provider,{value:v,children:e})},"useCoinTradingViewSettings",0,()=>{let e=(0,tZ.useContext)(t6);if(!e)throw Error("useCoinTradingViewSettings must be used within a CoinTradingViewProvider");return e},"useCoinTradingViewSettingsSafe",0,t5],838587);var t8=e.i(649785);function t7({value:e,showCurrency:r=!0,currencySymbol:n="$",fixedDecimalLength:i,format:o="plain"}){let a,[s,l=""]=("number"==typeof e?e:parseFloat(e)).toFixed(20).replace(/\.?0+$/,"").split("."),c=l.match(/^(0+)(.+)$/),u=c?c[1].length:0,d=(c?c[2]:l).slice(0,i??void 0),m="";return r&&n&&(m+=n),m+=s,l&&(m+=".",u>0&&("html"===o?m+=`0<sub>${u}</sub>`:m+="0"+(a=["","","","","","","","","",""],String(u).split("").map(e=>a[parseInt(e)]).join(""))),m+=d),m}e.s(["default",0,e=>{let r,n,i,o,a,s,l,c=(0,t8.c)(20),{value:u,textSize:d,textColor:m,fontWeight:p,showCurrency:f,currencySymbol:g,fixedDecimalLength:h,className:y}=e,b=void 0===d?"md":d,S=void 0===m?"text-textPrimary":m,A=void 0===y?"":y,w="number"==typeof u?u:parseFloat(String(u));if(c[0]!==h||c[1]!==w){let[e,a]=w.toFixed(20).replace(/\.?0+$/,"").split(".");r=e;let s=(i=void 0===a?"":a).match(/^(0+)(.+)$/);n=s?s[1].length:0,o=(s?s[2]:i).slice(0,h??void 0),c[0]=h,c[1]=w,c[2]=r,c[3]=n,c[4]=i,c[5]=o}else r=c[2],n=c[3],i=c[4],o=c[5];let T=o,k=`font-${void 0===p?"medium":p}`;c[6]!==A||c[7]!==k||c[8]!==S||c[9]!==b?(a=[b,S,k,A],c[6]=A,c[7]=k,c[8]=S,c[9]=b,c[10]=a):a=c[10];let C=a.join(" "),I=(void 0===f||f)&&(void 0===g?"$":g);return c[11]!==n||c[12]!==i||c[13]!==T?(s=i&&(0,tX.jsxs)(tX.Fragment,{children:[".",n>0&&(0,tX.jsxs)(tX.Fragment,{children:["0",(0,tX.jsx)("sub",{children:n})]}),T]}),c[11]=n,c[12]=i,c[13]=T,c[14]=s):s=c[14],c[15]!==r||c[16]!==C||c[17]!==I||c[18]!==s?(l=(0,tX.jsxs)("span",{className:C,children:[I,r,s]}),c[15]=r,c[16]=C,c[17]=I,c[18]=s,c[19]=l):l=c[19],l},"formatCryptoDecimal",()=>t7],375269);var t9=e.i(237237),re=e.i(208727),rt=e.i(984639),rr=e.i(338319),rn=e.i(12571),ri=e.i(374403);function ro(e,r){let n={...e};for(let i in r)"object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?void 0!==r[i]&&(n[i]=r[i]):n[i]=ro(e[i],r[i]);return n}(r=eP||(eP={})).UnknownAction="UnknownAction",r.Spinner="Spinner",r.Loading="Loading",r.AlertAdd="Alert.Add",r.AlertEdit="Alert.Edit",r.AlertsClone="Alerts.Clone",r.AlertsRemove="Alerts.Remove",r.AlertsRemoveAll="Alerts.RemoveAll",r.AlertsRemoveFiltered="Alerts.RemoveFiltered",r.AlertsRemoveAllInactive="Alerts.RemoveAllInactive",r.AlertsRemoveAllWatchlistInactive="Alerts.RemoveAllWatchlistInactive",r.AlertsRemoveFires="Alerts.RemoveFires",r.AlertsRestart="Alerts.Restart",r.AlertsRestartAllInactive="Alerts.RestartAllInactive",r.AlertsRestartFilteredInactive="Alerts.RestartFilteredInactive",r.AlertsStop="Alerts.Stop",r.AlertsStopAll="Alerts.StopAll",r.AlertsStopFilteredActive="Alerts.StopFilteredActive",r.AlertsExportFiresToCSV="Alerts.ExportFiresToCSV",r.AlertsLogClear="AlertsLog.Clear",r.ChartAddIndicatorToAllCharts="Chart.AddIndicatorToAllCharts",r.ChartAddSymbolToWatchList="Chart.AddSymbolToWatchList",r.ChartAlertLabelToggleExtendLines="Chart.AlertLabel.ToggleExtendLines",r.ChartApplyIndicatorsToAllCharts="Chart.ApplyIndicatorsToAllCharts",r.ChartIndicatorApplyChildIndicator="Chart.Indicator.ApplyChildIndicator",r.ChartIndicatorApplyFinancials="Chart.Indicator.ApplyFinancials",r.ChartIndicatorAbout="Chart.Indicator.About",r.ChartIndicatorPineLogs="Chart.Indicator.PineLogs",r.ChartIndicatorPineSource="Chart.Indicator.PineSource",r.ChartIndicatorAddFavorites="Chart.Indicator.AddFavorites",r.ChartChangeTimeZone="Chart.ChangeTimeZone",r.ChartClipboardCopyPrice="Chart.Clipboard.CopyPrice",r.ChartClipboardCopyLineTools="Chart.Clipboard.CopyLineTools",r.ChartClipboardCopySource="Chart.Clipboard.CopySource",r.ChartClipboardPasteSource="Chart.Clipboard.PasteSource",r.ChartCrosshairLockVerticalCursor="Chart.Crosshair.LockVerticalCursor",r.ChartCrosshairPlusButtonDrawHorizontalLine="Chart.Crosshair.PlusButton.DrawHorizontalLine",r.ChartCustomActionId="Chart.CustomActionId",r.ChartDialogsShowChangeInterval="Chart.Dialogs.ShowChangeInterval",r.ChartDialogsShowChangeSymbol="Chart.Dialogs.ShowChangeSymbol",r.ChartDialogsShowCompareOrAddSymbol="Chart.Dialogs.ShowCompareOrAddSymbol",r.ChartDialogsShowGeneralSettings="Chart.Dialogs.ShowGeneralSettings",r.ChartDialogsShowGeneralSettingsLegendTab="Chart.Dialogs.ShowGeneralSettings.LegendTab",r.ChartDialogsShowGeneralSettingsSymbolTab="Chart.Dialogs.ShowGeneralSettings.SymbolTab",r.ChartDialogsShowGeneralScalesTab="Chart.Dialogs.ShowGeneralSettings.ScalesTab",r.ChartDialogsShowGeneralSettingsEventsTab="Chart.Dialogs.ShowGeneralSettings.EventsTab",r.ChartDialogsShowGeneralSettingsAlertsTab="Chart.Dialogs.ShowGeneralSettings.AlertsTab",r.ChartDialogsShowGoToDate="Chart.Dialogs.ShowGoToDate",r.ChartDialogsShowInsertIndicators="Chart.Dialogs.ShowInsertIndicators",r.ChartDialogsShowInsertFinancials="Chart.Dialogs.ShowInsertFinancials",r.ChartDialogsShowInsertSeasonals="Chart.Dialogs.ShowInsertSeasonals",r.ChartDialogsShowInsertTechnicals="Chart.Dialogs.ShowInsertTechnicals",r.ChartDialogsShowInsertForecast="Chart.Dialogs.ShowInsertForecast",r.ChartDialogsShowInsertOptions="Chart.Dialogs.ShowInsertOptions",r.ChartDetailsMetricsActionId="Chart.Dialogs.DetailsMetrics",r.ChartDialogsShowInsertEconomyIndicators="Chart.Dialogs.ShowInsertEconomyIndicators",r.ChartDialogsShowSymbolInfo="Chart.Dialogs.ShowSymbolInfo",r.ChartDrawingToolbarToggleVisibility="Chart.DrawingToolbar.ToggleVisibility",r.ChartExternalActionId="Chart.ExternalActionId",r.ChartFavoriteDrawingToolsToolbarHide="Chart.FavoriteDrawingToolsToolbar.Hide",r.ChartIndicatorShowSettingsDialog="Chart.Indicator.ShowSettingsDialog",r.ChartLegendToggleLastDayChangeValuesVisibility="Chart.Legend.ToggleLastDayChangeValuesVisibility",r.ChartLinkingGroupSync="Chart.LinkingGroupSync",r.ChartLinkingGroupSyncChangeGroup="Chart.LinkingGroupSync.ChangeGroup",r.ChartLegendToggleBarChangeValuesVisibility="Chart.Legend.ToggleBarChangeValuesVisibility",r.ChartLegendTogglePriceSourceVisibility="Chart.Legend.TogglePriceSourceVisibility",r.ChartLegendToggleIndicatorArgumentsVisibility="Chart.Legend.ToggleIndicatorArgumentsVisibility",r.ChartLegendToggleIndicatorTitlesVisibility="Chart.Legend.ToggleIndicatorTitlesVisibility",r.ChartLegendToggleIndicatorValuesVisibility="Chart.Legend.ToggleIndicatorValuesVisibility",r.ChartLegendToggleOhlcValuesVisibility="Chart.Legend.ToggleOhlcValuesVisibility",r.ChartLegendToggleOpenMarketStatusVisibility="Chart.Legend.ToggleOpenMarketStatusVisibility",r.ChartLegendToggleSymbolVisibility="Chart.Legend.ToggleSymbolVisibility",r.ChartLegendToggleVolumeVisibility="Chart.Legend.ToggleVolumeVisibility",r.ChartLines="Chart.Lines",r.ChartLinesToggleBidAskLinesVisibility="Chart.Lines.ToggleBidAskLinesVisibility",r.ChartLinesToggleHighLowLinesVisibility="Chart.Lines.ToggleHighLowLinesVisibility",r.ChartLinesToggleAverageLineVisibility="Chart.Lines.ToggleAverageLineVisibility",r.ChartLinesTogglePrePostMarketPriceLineVisibility="Chart.Lines.TogglePrePostMarketPriceLineVisibility",r.ChartLinesToggleSeriesPrevCloseLineVisibility="Chart.Lines.ToggleSeriesPrevCloseLineVisibility",r.ChartLinesToggleSeriesPriceLineVisibility="Chart.Lines.ToggleSeriesPriceLineVisibility",r.ChartLineToolBarsPatternToggleFlipped="Chart.LineTool.BarsPattern.ToggleFlipped",r.ChartLineToolBarsPatternToggleMirrored="Chart.LineTool.BarsPattern.ToggleMirrored",r.ChartLineToolRiskRewardReverse="Chart.LineTool.RiskReward.Reverse",r.ChartLineToolClone="Chart.LineTool.Clone",r.ChartLineToolCreateLimitOrderFromState="Chart.LineTool.CreateLimitOrderFromState",r.ChartLineToolElliotChangeDegreeProperty="Chart.LineTool.Elliot.ChangeDegreeProperty",r.ChartLineToolNoSync="Chart.LineTool.NoSync",r.ChartLineToolPitchforkChangeTypeToInside="Chart.LineTool.Pitchfork.ChangeTypeToInside",r.ChartLineToolPitchforkChangeTypeToModifiedSchiff="Chart.LineTool.Pitchfork.ChangeTypeToModifiedSchiff",r.ChartLineToolPitchforkChangeTypeToOriginal="Chart.LineTool.Pitchfork.ChangeTypeToOriginal",r.ChartLineToolPitchforkChangeTypeToSchiff="Chart.LineTool.Pitchfork.ChangeTypeToSchiff",r.ChartLineToolSyncInLayout="Chart.LineTool.SyncInLayout",r.ChartLineToolSyncGlobally="Chart.LineTool.SyncGlobally",r.ChartLineToolTemplates="Chart.LineTool.Templates",r.ChartLineToolTemplatesApply="Chart.LineTool.Templates.Apply",r.ChartLineToolTemplatesApplyDefaults="Chart.LineTool.Templates.ApplyDefaults",r.ChartLineToolTemplatesSaveAs="Chart.LineTool.Templates.SaveAs",r.ChartLineToolToolbarChangeFontSizeProperty="Chart.LineTool.Toolbar.ChangeFontSizeProperty",r.ChartLineToolToolbarChangeLineStyleToDashed="Chart.LineTool.Toolbar.ChangeLineStyleToDashed",r.ChartLineToolToolbarChangeLineStyleToDotted="Chart.LineTool.Toolbar.ChangeLineStyleToDotted",r.ChartLineToolToolbarChangeLineStyleToSolid="Chart.LineTool.Toolbar.ChangeLineStyleToSolid",r.ChartMarksToggleVisibility="Chart.Marks.ToggleVisibility",r.ChartMoveChartInLayout="Chart.MoveChartInLayout",r.ChartMoveChartInLayoutBack="Chart.MoveChartInLayout.Back",r.ChartMoveChartInLayoutForward="Chart.MoveChartInLayout.Forward",r.ChartTpoResetAllMergesAndSplits="Chart.TPO.ResetAllMergesAndSplits",r.ChartTpoSplitBlock="Chart.TPO.SplitBlock",r.ChartTpoMergeBlock="Chart.TPO.MergeBlock",r.ChartObjectTreeShow="Chart.ObjectTree.Show",r.ChartDataWindowShow="Chart.DataWindow.Show",r.ChartPaneControlsDeletePane="Chart.PaneControls.DeletePane",r.ChartPaneControlsMaximizePane="Chart.PaneControls.MaximizePane",r.ChartPaneControlsMinimizePane="Chart.PaneControls.MinimizePane",r.ChartPaneControlsMovePaneDown="Chart.PaneControls.MovePaneDown",r.ChartPaneControlsMovePaneUp="Chart.PaneControls.MovePaneUp",r.ChartPaneControlsCollapsePane="Chart.PaneControls.CollapsePane",r.ChartPaneControlsRestorePane="Chart.PaneControls.RestorePane",r.ChartPriceScaleLabels="Chart.PriceScale.Labels",r.ChartPriceScaleLabelsToggleBidAskLabelsVisibility="Chart.PriceScale.Labels.ToggleBidAskLabelsVisibility",r.ChartPriceScaleLabelsToggleHighLowPriceLabelsVisibility="Chart.PriceScale.Labels.ToggleHighLowPriceLabelsVisibility",r.ChartPriceScaleLabelsToggleAveragePriceLabelVisibility="Chart.PriceScale.Labels.ToggleAveragePriceLabelVisibility",r.ChartPriceScaleLabelsToggleIndicatorsNameLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsNameLabelsVisibility",r.ChartPriceScaleLabelsToggleIndicatorsValueLabelsVisibility="Chart.PriceScale.Labels.ToggleIndicatorsValueLabelsVisibility",r.ChartPriceScaleLabelsTogglePrePostMarketLabelsVisibility="Chart.PriceScale.Labels.TogglePrePostMarketLabelsVisibility",r.ChartPriceScaleLabelsToggleNoOverlappingLabelsVisibility="Chart.PriceScale.Labels.ToggleNoOverlappingLabelsVisibility",r.ChartPriceScaleLabelsToggleSeriesLastValueVisibility="Chart.PriceScale.Labels.ToggleSeriesLastValueVisibility",r.ChartPriceScaleLabelsToggleSymbolNameLabelsVisibility="Chart.PriceScale.Labels.ToggleSymbolNameLabelsVisibility",r.ChartPriceScaleLabelsToggleSymbolPrevCloseValueVisibility="Chart.PriceScale.Labels.ToggleSymbolPrevCloseValueVisibility",r.ChartPriceScaleMergeAllScales="Chart.PriceScale.MergeAllScales",r.ChartPriceScaleMergeAllScalesToLeft="Chart.PriceScale.MergeAllScalesToLeft",r.ChartPriceScaleMergeAllScalesToRight="Chart.PriceScale.MergeAllScalesToRight",r.ChartPriceScaleMoveToLeft="Chart.PriceScale.MoveToLeft",r.ChartPriceScaleMoveToRight="Chart.PriceScale.MoveToRight",r.ChartPriceScaleReset="Chart.PriceScale.Reset",r.ChartPriceScaleToggleAddOrderPlusButtonVisibility="Chart.PriceScale.ToggleAddOrderPlusButtonVisibility",r.ChartPriceScaleToggleAutoScale="Chart.PriceScale.ToggleAutoScale",r.ChartPriceScaleToggleAutoScaleSeriesOnly="Chart.PriceScale.ToggleAutoScaleSeriesOnly",r.ChartPriceScaleToggleCountdownToBarCloseVisibility="Chart.PriceScale.ToggleCountdownToBarCloseVisibility",r.ChartPriceScaleToggleIndexedTo100="Chart.PriceScale.ToggleIndexedTo100",r.ChartPriceScaleToggleInvertScale="Chart.PriceScale.ToggleInvertScale",r.ChartPriceScaleToggleLogarithmic="Chart.PriceScale.ToggleLogarithmic",r.ChartPriceScaleTogglePercentage="Chart.PriceScale.TogglePercentage",r.ChartPriceScaleToggleRegular="Chart.PriceScale.ToggleRegular",r.ChartRedo="Chart.Redo",r.ChartRemoveAllIndicators="Chart.RemoveAllIndicators",r.ChartRemoveAllIndicatorsAndLineTools="Chart.RemoveAllIndicatorsAndLineTools",r.ChartRemoveAllLineTools="Chart.RemoveAllLineTools",r.ChartScalesReset="Chart.Scales.Reset",r.ChartScalesToggleLockPriceToBarRatio="Chart.Scales.ToggleLockPriceToBarRatio",r.ChartScrollToLineTool="Chart.ScrollToLineTool",r.ChartSelectedObjectHide="Chart.SelectedObject.Hide",r.ChartSelectedObjectRemove="Chart.SelectedObject.Remove",r.ChartSelectedObjectShow="Chart.SelectedObject.Show",r.ChartSelectedObjectShowSettingsDialog="Chart.SelectedObject.ShowSettingsDialog",r.ChartSelectedObjectInsertRowTable="Chart.SelectedObject.InsertRowTable",r.ChartSelectedObjectInsertColumnTable="Chart.SelectedObject.InsertColumnTable",r.ChartSelectedObjectRemoveRowTable="Chart.SelectedObject.RemoveRowTable",r.ChartSelectedObjectRemoveColumnTable="Chart.SelectedObject.RemoveColumnTable",r.ChartSelectedObjectToggleLocked="Chart.SelectedObject.ToggleLocked",r.ChartSelectedObjectToggleAnchored="Chart.SelectedObject.ToggleAnchored",r.ChartSeriesPriceScaleToggleAutoScale="Chart.Series.PriceScale.ToggleAutoScale",r.ChartSeriesPriceScaleToggleIndexedTo100="Chart.Series.PriceScale.ToggleIndexedTo100",r.ChartSeriesPriceScaleToggleInvertPriceScale="Chart.Series.PriceScale.ToggleInvertPriceScale",r.ChartSeriesPriceScaleToggleLogarithmic="Chart.Series.PriceScale.ToggleLogarithmic",r.ChartSeriesPriceScaleTogglePercentage="Chart.Series.PriceScale.TogglePercentage",r.ChartSeriesPriceScaleToggleRegular="Chart.Series.PriceScale.ToggleRegular",r.ChartSessionBreaksToggleVisibility="Chart.SessionBreaks.ToggleVisibility",r.ChartSetSession="Chart.SetSession",r.ChartSourceChangePriceScale="Chart.Source.ChangePriceScale",r.ChartSourceMergeDown="Chart.Source.MergeDown",r.ChartSourceMergeUp="Chart.Source.MergeUp",r.ChartSourceMoveToNoScale="Chart.Source.MoveToNoScale",r.ChartSourceMoveToOtherScale="Chart.Source.MoveToOtherScale",r.ChartSourceMoveToPane="Chart.Source.MoveToPane",r.ChartSourceUnmergeDown="Chart.Source.UnmergeDown",r.ChartSourceUnmergeUp="Chart.Source.UnmergeUp",r.ChartSourceVisualOrder="Chart.Source.VisualOrder",r.ChartSourceVisualOrderBringForward="Chart.Source.VisualOrder.BringForward",r.ChartSourceVisualOrderBringToFront="Chart.Source.VisualOrder.BringToFront",r.ChartSourceVisualOrderSendBackward="Chart.Source.VisualOrder.SendBackward",r.ChartSourceVisualOrderSendToBack="Chart.Source.VisualOrder.SendToBack",r.ChartSourceResetInputPoints="Chart.Source.ResetInputPoints",r.ChartThemeApply="Chart.Theme.Apply",r.ChartThemeApplyCustom="Chart.Theme.Apply.Custom",r.ChartThemeSaveAs="Chart.Theme.SaveAs",r.ChartTimeScaleReset="Chart.TimeScale.Reset",r.ChartUndo="Chart.Undo",r.ChartShowAllIdeas="Chart.ShowAllIdeas",r.ChartShowIdeasOfFollowedUsers="Chart.ShowIdeasOfFollowedUsers",r.ChartShowMyIdeasOnly="Chart.ShowMyIdeasOnly",r.ChartToggleVisibilityAllLineTools="Chart.ToggleVisibility.AllLineTools",r.ChartToggleVisibilityContinuousContractSwitch="Chart.ToggleVisibility.ContinuousContractSwitch",r.ChartToggleVisibilityContractExpiration="Chart.ToggleVisibility.ContractExpiration",r.ChartToggleVisibilityDividends="Chart.ToggleVisibility.Dividends",r.ChartToggleVisibilityEarnings="Chart.ToggleVisibility.Earnings",r.ChartToggleVisibilityEconomicEvents="Chart.ToggleVisibility.EconomicEvents",r.ChartToggleVisibilitySplits="Chart.ToggleVisibility.Splits",r.ChartToggleVisibilityLatestNewsAndMinds="Chart.ToggleVisibility.LatestNewsAndMinds",r.ChartToggleVisibilityKeyFactsToday="Chart.ToggleVisibility.KeyFactsToday",r.ChartSourceIntervalsVisibility="Chart.Source.IntervalsVisibility",r.ChartSourceIntervalsVisibilityCurrentAndAbove="Chart.Source.IntervalsVisibility.CurrentAndAbove",r.ChartSourceIntervalsVisibilityCurrentAndBelow="Chart.Source.IntervalsVisibility.CurrentAndBelow",r.ChartSourceIntervalsVisibilityOnlyCurrent="Chart.Source.IntervalsVisibility.Current",r.ChartSourceIntervalsVisibilityAll="Chart.Source.IntervalsVisibility.All",r.NoteCreate="Note.Create",r.NoteEdit="Note.Edit",r.NoteRemove="Note.Remove",r.ObjectsTreeCreateGroup="ObjectsTree.CreateGroup",r.ObjectsTreeRemoveItem="ObjectsTree.RemoveItem",r.ObjectsTreeRenameItem="ObjectsTree.RenameItem",r.ObjectsTreeToggleItemLocked="ObjectsTree.ToggleItemLocked",r.ObjectsTreeToggleItemVisibility="ObjectsTree.ToggleItemVisibility",r.PineEditorConsoleCopyMessage="PineEditor.Console.CopyMessage",r.PineEditorConsoleToggleVisibility="PineEditor.Console.ToggleVisibility",r.PineEditorConsoleClear="PineEditor.Console.Clear",r.ScreenerColumnRemove="Screener.Column.Remove",r.ScreenerFilterChange="Screener.Filter.Change",r.ScreenerFilterReset="Screener.Filter.Reset",r.ScreenerToggleVisibilityCurrency="Screener.ToggleVisibility.Currency",r.ScreenerToggleVisibilityDescription="Screener.ToggleVisibility.Description",r.ScreenerToggleVisibilityRating="Screener.ToggleVisibility.Rating",r.ScreenerToggleVisibilitySymbolType="Screener.ToggleVisibility.SymbolType",r.TradingCancelOrder="Trading.CancelOrder",r.TradingClosePosition="Trading.ClosePosition",r.TradingCustomActionId="Trading.CustomActionId",r.TradingDOMPlaceLimitOrder="Trading.DOMPlaceLimitOrder",r.TradingDOMPlaceMarketOrder="Trading.DOMPlaceMarketOrder",r.TradingDOMPlaceStopLimitOrder="Trading.DOMPlaceStopLimitOrder",r.TradingDOMPlaceStopOrder="Trading.DOMPlaceStopOrder",r.TradingEditOrder="Trading.EditOrder",r.TradingModifyPosition="Trading.ModifyPosition",r.TradingReversePosition="Trading.ReversePosition",r.TradingSellBuyButtonsToggleVisibility="Trading.SellBuyButtonsToggleVisibility",r.TradingTradeFromChart="Trading.TradeFromChart",r.TradingNoOverlapMode="Trading.NoOverlapMode",r.TradingShowSelectBrokerPanel="Trading.ShowSelectBrokerPanel",r.TradingOrderTitle="Trading.OrderTitle",r.TradingPositionTitle="Trading.PositionTitle",r.WatchlistActions="Watchlist.Actions",r.WatchlistAddSelectedSymbolsToCompare="Watchlist.AddSelectedSymbolsToCompare ",r.WatchlistAddSymbolToCompare="Watchlist.AddSymbolToCompare",r.WatchlistAddSymbolToSection="Watchlist.AddSymbolToSection",r.WatchlistChangeFlaggedGroupColor="Watchlist.ChangeFlaggedGroupColor",r.WatchlistAddSymbol="Watchlist.AddSymbol",r.WatchlistCreate="Watchlist.Create",r.WatchlistAddSelectedSymbols="Watchlist.AddSelectedSymbols",r.WatchlistAddSelectedSymbolsLists="Watchlist.AddSelectedSymbols.Lists",r.WatchlistGetDisplayedTickerDescription="Watchlist.GetDisplayedTickerDescription",r.WatchlistCreateSection="Watchlist.CreateSection",r.WatchlistFlagSelectedSymbols="Watchlist.FlagSelectedSymbols",r.WatchlistFlagSymbol="Watchlist.FlagSymbol",r.WatchlistOpenSymbolChart="Watchlist.OpenSymbolChart",r.WatchlistOpenSymbolOverview="Watchlist.OpenSymbolOverview",r.WatchlistRemoveSection="Watchlist.RemoveSection",r.WatchlistRemoveSymbol="Watchlist.RemoveSymbol",r.WatchlistRenameSection="Watchlist.RenameSection",r.WatchlistUnflagAllSymbols="Watchlist.UnflagAllSymbols",r.WatchlistUnflagSelectedSymbols="Watchlist.UnflagSelectedSymbols",r.WatchlistUnflagSymbol="Watchlist.UnflagSymbol",(eL||(eL={})).extractErrorReason=function(e){return e.params[1]},(n=e_||(e_={})).Default="default",n.FullSingleSession="full_single_session",(i=ex||(ex={})).PeriodBack="period-back",i.TimeRange="time-range",(o=eD||(eD={})).PeriodBack="period-back",o.TimeRange="time-range",(a=eE||(eE={})).Open="market",a.Pre="pre_market",a.Post="post_market",a.Close="out_of_session",a.Holiday="holiday",(s=eR||(eR={})).Separator="separator",s.Action="action",(l=eO||(eO={}))[l.All=0]="All",l[l.BarMarks=1]="BarMarks",l[l.TimeScaleMarks=2]="TimeScaleMarks",(c=eU||(eU={}))[c.Line=0]="Line",c[c.Histogram=1]="Histogram",c[c.Cross=3]="Cross",c[c.Area=4]="Area",c[c.Columns=5]="Columns",c[c.Circles=6]="Circles",c[c.LineWithBreaks=7]="LineWithBreaks",c[c.AreaWithBreaks=8]="AreaWithBreaks",c[c.StepLine=9]="StepLine",c[c.StepLineWithDiamonds=10]="StepLineWithDiamonds",c[c.StepLineWithBreaks=11]="StepLineWithBreaks",(u=eB||(eB={})).Line="line",u.Colorer="colorer",u.BarColorer="bar_colorer",u.BgColorer="bg_colorer",u.TextColorer="text_colorer",u.OhlcColorer="ohlc_colorer",u.CandleWickColorer="wick_colorer",u.CandleBorderColorer="border_colorer",u.UpColorer="up_colorer",u.DownColorer="down_colorer",u.Shapes="shapes",u.Chars="chars",u.Arrows="arrows",u.Data="data",u.DataOffset="dataoffset",u.OhlcOpen="ohlc_open",u.OhlcHigh="ohlc_high",u.OhlcLow="ohlc_low",u.OhlcClose="ohlc_close",(eV||(eV={})).AlertCondition="alertcondition",(d=eM||(eM={}))[d.None=0]="None",d[d.Pane=1]="Pane",d[d.DataWindow=2]="DataWindow",d[d.PriceScale=4]="PriceScale",d[d.StatusLine=8]="StatusLine",d[d.All=15]="All",(m=eF||(eF={}))[m.None=0]="None",m[m.Pane=1]="Pane",m[m.DataWindow=2]="DataWindow",m[m.PriceScale=4]="PriceScale",m[m.StatusLine=8]="StatusLine",m[m.All=15]="All",(p=eN||(eN={})).OhlcBars="ohlc_bars",p.OhlcCandles="ohlc_candles",(f=eq||(eq={})).Auto="auto",f.Tiny="tiny",f.Small="small",f.Normal="normal",f.Large="large",f.Huge="huge",(g=eW||(eW={})).Integer="integer",g.Float="float",g.Price="price",g.Bool="bool",g.Text="text",g.Symbol="symbol",g.Session="session",g.Source="source",g.Resolution="resolution",g.Time="time",g.BarTime="bar_time",g.Color="color",g.Textarea="text_area",(h=eK||(eK={}))[h.None=0]="None",h[h.DataWindow=2]="DataWindow",h[h.StatusLine=8]="StatusLine",h[h.All=15]="All",(y=eG||(eG={})).InitialCapital="initial_capital",y.Currency="currency",y.DefaultQTYValue="default_qty_value",y.DefaultQTYType="default_qty_type",y.Pyramiding="pyramiding",y.ComissionValue="commission_value",y.ComissionType="commission_type",y.BacktestFillLimitsAssumtion="backtest_fill_limits_assumption",y.Slippage="slippage",y.CalcOnOrderFills="calc_on_order_fills",y.CalcOnEveryTick="calc_on_every_tick",y.MarginLong="margin_long",y.MarginShort="margin_short",y.UseBarMagnifier="use_bar_magnifier",y.ProcessOrdersOnClose="process_orders_on_close",y.FillOrdersOnStandardOHLC="fill_orders_on_standard_ohlc",(b=eY||(eY={})).Fixed="fixed",b.CashPerOrder="cash_per_order",b.PercentOfEquity="percent_of_equity",(S=eX||(eX={})).Percent="percent",S.CashPerContract="cash_per_contract",S.CashPerOrder="cash_per_order",(A=ez||(ez={})).FirstBar="first_visible_bar_time",A.LastBar="last_visible_bar_time",A.Realtime="subscribeRealtime",(w=eH||(eH={})).FgColor="__chart_fgcolor",w.BgColor="__chart_bgcolor",(T=ej||(ej={}))[T.Right=0]="Right",T[T.Left=1]="Left",T[T.NoScale=2]="NoScale",(k=eQ||(eQ={}))[k.Right=0]="Right",k[k.Left=1]="Left",k[k.None=2]="None",(C=eZ||(eZ={})).TypePlots="plot_plot",C.TypeHlines="hline_hline",(I=eJ||(eJ={}))[I.StopLoss=0]="StopLoss",I[I.TrailingStop=1]="TrailingStop",I[I.GuaranteedStop=2]="GuaranteedStop",(v=e$||(e$={})).Stocks="stocks",v.Futures="futures",v.Forex="forex",v.Crypto="crypto",v.Others="others",(e1||(e1={})).Symbol="symbol",(P=e0||(e0={}))[P.PopUp=0]="PopUp",P[P.Notification=1]="Notification",(L=e4||(e4={})).Quantity="qty",L.OrderSide="side",L.Price="price",L.Duration="duration",L.Brackets="brackets",L.StopLossType="slType",(_=e2||(e2={}))[_.CONNECTED=1]="CONNECTED",_[_.CONNECTING=2]="CONNECTING",_[_.DISCONNECTED=3]="DISCONNECTED",_[_.ERROR=4]="ERROR",(x=e3||(e3={}))[x.Connected=1]="Connected",x[x.Connecting=2]="Connecting",x[x.Disconnected=3]="Disconnected",x[x.Error=4]="Error",(D=e6||(e6={}))[D.LIMIT=1]="LIMIT",D[D.MARKET=2]="MARKET",D[D.STOP=3]="STOP",D[D.STOPLIMIT=4]="STOPLIMIT",(E=e5||(e5={}))[E.Limit=1]="Limit",E[E.Market=2]="Market",E[E.Stop=3]="Stop",E[E.StopLimit=4]="StopLimit",(R=e8||(e8={}))[R.BUY=1]="BUY",R[R.SELL=-1]="SELL",(O=e7||(e7={}))[O.Buy=1]="Buy",O[O.Sell=-1]="Sell",(U=e9||(e9={}))[U.CANCELED=1]="CANCELED",U[U.FILLED=2]="FILLED",U[U.INACTIVE=3]="INACTIVE",U[U.PLACING=4]="PLACING",U[U.REJECTED=5]="REJECTED",U[U.WORKING=6]="WORKING",(B=te||(te={}))[B.ALL=0]="ALL",B[B.CANCELED=1]="CANCELED",B[B.FILLED=2]="FILLED",B[B.INACTIVE=3]="INACTIVE",B[B.REJECTED=5]="REJECTED",B[B.WORKING=6]="WORKING",(V=tt||(tt={}))[V.Canceled=1]="Canceled",V[V.Filled=2]="Filled",V[V.Inactive=3]="Inactive",V[V.Placing=4]="Placing",V[V.Rejected=5]="Rejected",V[V.Working=6]="Working",(M=tr||(tr={}))[M.All=0]="All",M[M.Canceled=1]="Canceled",M[M.Filled=2]="Filled",M[M.Inactive=3]="Inactive",M[M.Rejected=5]="Rejected",M[M.Working=6]="Working",(F=tn||(tn={}))[F.Order=1]="Order",F[F.Position=2]="Position",(N=ti||(ti={}))[N.ORDER=1]="ORDER",N[N.POSITION=2]="POSITION",(q=to||(to={}))[q.Order=1]="Order",q[q.Position=2]="Position",q[q.IndividualPosition=3]="IndividualPosition",(W=ta||(ta={}))[W.StopLoss=0]="StopLoss",W[W.TakeProfit=1]="TakeProfit",W[W.TrailingStop=2]="TrailingStop",W[W.GuaranteedStop=3]="GuaranteedStop",(K=ts||(ts={}))[K.LIMITPRICE=1]="LIMITPRICE",K[K.STOPPRICE=2]="STOPPRICE",K[K.TAKEPROFIT=3]="TAKEPROFIT",K[K.STOPLOSS=4]="STOPLOSS",(G=tl||(tl={}))[G.LimitPrice=1]="LimitPrice",G[G.StopPrice=2]="StopPrice",G[G.TakeProfit=3]="TakeProfit",G[G.StopLoss=4]="StopLoss",G[G.Quantity=5]="Quantity",(Y=tc||(tc={}))[Y.ERROR=0]="ERROR",Y[Y.SUCCESS=1]="SUCCESS",(X=tu||(tu={}))[X.Error=0]="Error",X[X.Success=1]="Success",(z=td||(td={}))[z.Demo=1]="Demo",z[z.Real=0]="Real",(H=tm||(tm={})).Information="information",H.Warning="warning",H.Error="error",(j=tp||(tp={})).Demo="demo",j.Live="live",(Q=tf||(tf={}))[Q.LogOut=0]="LogOut",Q[Q.FailedRestoring=1]="FailedRestoring",Q[Q.Offline=2]="Offline",Q[Q.APIError=3]="APIError",Q[Q.TwoFactorRequired=4]="TwoFactorRequired",Q[Q.CancelAuthorization=5]="CancelAuthorization",Q[Q.TimeOutForAuthorization=6]="TimeOutForAuthorization",Q[Q.OauthError=7]="OauthError",Q[Q.BrokenConnection=8]="BrokenConnection",Q[Q.Reconnect=9]="Reconnect",Q[Q.FailedSignIn=10]="FailedSignIn",(Z=tg||(tg={}))[Z.None=0]="None",Z[Z.Pips=1]="Pips",Z[Z.Ticks=2]="Ticks",(J=th||(th={})).Halted="HALTED",J.NotShortable="NOT-SHORTABLE",J.HardToBorrow="HARD-TO-BORROW",($=ty||(ty={}))[$.Limit=1]="Limit",$[$.Stop=2]="Stop",(ee=tb||(tb={})).Disallowed="disallowed",ee.Allowed="allowed",ee.AllowedWithWarning="allowed_with_warning",(et=tS||(tS={})).PlaceOrder="place_order",et.ModifyOrder="modify_order",et.CancelOrder="cancel_order",et.ModifyPosition="modify_position",et.ClosePosition="close_position",et.ModifyIndividualPosition="modify_individual_position",et.CloseIndividualPosition="close_individual_position",et.CloseNetPosition="close_net_position",(er=tA||(tA={})).Date="date",er.DateOrDateTime="dateOrDateTime",er.Default="default",er.Fixed="fixed",er.FixedInCurrency="fixedInCurrency",er.VariablePrecision="variablePrecision",er.FormatQuantity="formatQuantity",er.FormatPrice="formatPrice",er.FormatPriceForexSup="formatPriceForexSup",er.FormatPriceInCurrency="formatPriceInCurrency",er.IntegerSeparated="integerSeparated",er.LocalDate="localDate",er.LocalDateOrDateTime="localDateOrDateTime",er.Percentage="percentage",er.Pips="pips",er.Profit="profit",er.ProfitInInstrumentCurrency="profitInInstrumentCurrency",er.Side="side",er.PositionSide="positionSide",er.Status="status",er.Symbol="symbol",er.Text="text",er.Type="type",er.MarginPercent="marginPercent",er.Empty="empty",(en=tw||(tw={}))[en.LastPriceAndPercentageValue=0]="LastPriceAndPercentageValue",en[en.LastValueAccordingToScale=1]="LastValueAccordingToScale",(ei=tT||(tT={}))[ei.Solid=0]="Solid",ei[ei.Dotted=1]="Dotted",ei[ei.Dashed=2]="Dashed",(eo=tk||(tk={}))[eo.Offline=0]="Offline",eo[eo.Resolving=1]="Resolving",eo[eo.Loading=2]="Loading",eo[eo.Ready=3]="Ready",eo[eo.InvalidSymbol=4]="InvalidSymbol",eo[eo.Snapshot=5]="Snapshot",eo[eo.EOD=6]="EOD",eo[eo.Pulse=7]="Pulse",eo[eo.Delayed=8]="Delayed",eo[eo.DelayedSteaming=9]="DelayedSteaming",eo[eo.NoBars=10]="NoBars",eo[eo.Replay=11]="Replay",eo[eo.Error=12]="Error",eo[eo.CalculationError=13]="CalculationError",eo[eo.UnsupportedResolution=14]="UnsupportedResolution",(ea=tC||(tC={}))[ea.Markers=0]="Markers",ea[ea.Stepline=1]="Stepline",ea[ea.Simple=2]="Simple",(es=tI||(tI={}))[es.Bar=0]="Bar",es[es.Candle=1]="Candle",es[es.Line=2]="Line",es[es.Area=3]="Area",es[es.Renko=4]="Renko",es[es.Kagi=5]="Kagi",es[es.PnF=6]="PnF",es[es.LineBreak=7]="LineBreak",es[es.HeikinAshi=8]="HeikinAshi",es[es.HollowCandle=9]="HollowCandle",es[es.Baseline=10]="Baseline",es[es.Range=11]="Range",es[es.HiLo=12]="HiLo",es[es.Column=13]="Column",es[es.LineWithMarkers=14]="LineWithMarkers",es[es.Stepline=15]="Stepline",es[es.HLCArea=16]="HLCArea",es[es.VolFootprint=17]="VolFootprint",es[es.TPO=18]="TPO",es[es.VolCandle=19]="VolCandle",es[es.SVP=20]="SVP",es[es.HLCBars=21]="HLCBars",(el=tv||(tv={})).TwentyFourHours="24-hours",el.TwelveHours="12-hours",(ec=tP||(tP={}))[ec.Initial=2]="Initial",ec[ec.SeriesZOrderIsAlwaysZero=3]="SeriesZOrderIsAlwaysZero",ec[ec.Current=3]="Current",(eu=tL||(tL={}))[eu.Money=0]="Money",eu[eu.Pips=1]="Pips",eu[eu.Percentage=2]="Percentage",(ed=t_||(t_={}))[ed.Left=0]="Left",ed[ed.Center=1]="Center",ed[ed.Right=2]="Right",tL.Money,tL.Money,t_.Right,(em=tx||(tx={}))[em.Background=0]="Background",em[em.Foreground=1]="Foreground",em[em.Topmost=2]="Topmost",(ep=tD||(tD={}))[ep.Unavailable=0]="Unavailable",ep[ep.AvailableReadonlyAlwaysDisabled=1]="AvailableReadonlyAlwaysDisabled",ep[ep.AvailableReadonlyAlwaysEnabled=2]="AvailableReadonlyAlwaysEnabled",ep[ep.Available=3]="Available",(ef=tE||(tE={}))[ef.ViewportChangeUserAction=0]="ViewportChangeUserAction",ef[ef.DataUpdate=1]="DataUpdate",ef[ef.SeriesRestart=2]="SeriesRestart",ef[ef.SeriesCompleted=3]="SeriesCompleted",ef[ef.StudyCreation=4]="StudyCreation",(eg=tR||(tR={}))[eg.Chart=0]="Chart",(eh=tO||(tO={})).AlwaysOn="alwaysOn",eh.VisibleOnMouseOver="visibleOnMouseOver",eh.AlwaysOff="alwaysOff",(ey=tU||(tU={}))[ey.Normal=0]="Normal",ey[ey.Log=1]="Log",ey[ey.Percentage=2]="Percentage",ey[ey.IndexedTo100=3]="IndexedTo100",(eb=tB||(tB={}))[eb.Bars=0]="Bars",eb[eb.Candles=1]="Candles",eb[eb.Line=2]="Line",eb[eb.Area=3]="Area",eb[eb.HeikenAshi=8]="HeikenAshi",eb[eb.HollowCandles=9]="HollowCandles",eb[eb.Baseline=10]="Baseline",eb[eb.HiLo=12]="HiLo",eb[eb.Column=13]="Column",eb[eb.LineWithMarkers=14]="LineWithMarkers",eb[eb.Stepline=15]="Stepline",eb[eb.HLCArea=16]="HLCArea",eb[eb.VolCandle=19]="VolCandle",eb[eb.HLCBars=21]="HLCBars",eb[eb.Renko=4]="Renko",eb[eb.Kagi=5]="Kagi",eb[eb.PointAndFigure=6]="PointAndFigure",eb[eb.LineBreak=7]="LineBreak",(tV||(tV={})).Value="_seriesId",(eS=tM||(tM={}))[eS.InvalidSymbol=0]="InvalidSymbol",eS[eS.ReplayUnsupported=1]="ReplayUnsupported",eS[eS.UnsupportedDepth=2]="UnsupportedDepth",eS[eS.UnsupportedIntradyReplay=3]="UnsupportedIntradyReplay",(eA=tF||(tF={})).LeftToRight="left_to_right",eA.RightToLeft="right_to_left",(ew=tN||(tN={})).Relative="relative",ew.Absolute="absolute",(eT=tq||(tq={})).UpDown="Up/Down",eT.Total="Total",eT.Delta="Delta",(ek=tW||(tW={})).AboveBar="AboveBar",ek.BelowBar="BelowBar",ek.Top="Top",ek.Bottom="Bottom",ek.Right="Right",ek.Left="Left",ek.Absolute="Absolute",ek.AbsoluteUp="AbsoluteUp",ek.AbsoluteDown="AbsoluteDown",(eC=tK||(tK={})).Left="left",eC.Center="center",eC.Right="right",(eI=tG||(tG={})).Top="top",eI.Middle="middle",eI.Bottom="bottom",(ev=tY||(tY={}))[ev.Solid=0]="Solid",ev[ev.Dotted=1]="Dotted",ev[ev.Dashed=2]="Dashed";let ra={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},rs=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]'),rl=!1,rc=class{constructor(e){if(this._id=`tradingview_${(1048576*(1+Math.random())|0).toString(16).substring(1)}`,this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw Error("Datafeed is not defined");e.overrides?.["mainSeriesProperties.priceAxisProperties.lockScale"]&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete e.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=ro(ra,e),"dark"===(this._options.theme??"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),(this._options.debug||this._options.debug_broker)&&(rl||(rl=!0,console.log("Using CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"))),this._innerWindowLoaded=new Promise(e=>{this._innerWindowResolver=e}),this._create()}setDebugMode(e){this._innerAPI().setDebugMode(e)}onChartReady(e){this._ready?e.call(this):this._readyHandlers.push(e)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(e){this._doWhenInnerApiLoaded(r=>{r.onGrayedObjectClicked(e)})}onShortcut(e,r){this._doWhenInnerWindowLoaded(n=>{n.createShortcutAction(e,r)})}subscribe(e,r){this._doWhenInnerApiLoaded(n=>{n.subscribe(e,r)})}unsubscribe(e,r){this._doWhenInnerApiLoaded(n=>{n.unsubscribe(e,r)})}chart(e){return this._innerAPI().chart(e)}getLanguage(){return this._options.locale}setSymbol(e,r,n){this._innerAPI().changeSymbol(e,r,n)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(e=>{e.closePopupsAndDialogs()})}selectLineTool(e,r){return this._innerAPI().selectLineTool(e,r)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(e,r){this._innerAPI().saveChart(e,r)}async load(e,r){return this._innerAPI().loadChart({json:e,extendedData:r})}getSavedCharts(e){this._innerAPI().getSavedCharts(e)}loadChartFromServer(e){return this._innerAPI().loadChartFromServer(e)}saveChartToServer(e,r,n){this._innerAPI().saveChartToServer(e,r,n)}removeChartFromServer(e,r){this._innerAPI().removeChartFromServer(e,r)}onContextMenu(e){this._doWhenInnerApiLoaded(r=>{r.onContextMenu(e)})}createButton(e){return this._innerWindow().createButton(e)}removeButton(e){this._innerWindow().removeButton(e)}createDropdown(e){return this._innerWindow().createDropdown(e)}showNoticeDialog(e){this._doWhenInnerApiLoaded(r=>{r.showNoticeDialog(e)})}showConfirmDialog(e){this._doWhenInnerApiLoaded(r=>{r.showConfirmDialog(e)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(e){return this._innerAPI().getStudyInputs(e)}getStudyStyles(e){return this._innerAPI().getStudyStyles(e)}addCustomCSSFile(e){this._innerWindow().addCustomCSSFile(e)}applyOverrides(e){this._options=ro(this._options,{overrides:e}),this._doWhenInnerWindowLoaded(r=>{r.applyOverrides(e)})}applyStudiesOverrides(e){this._doWhenInnerWindowLoaded(r=>{r.applyStudiesOverrides(e)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}activeChartIndex(){return this._innerAPI().activeChartIndex()}setActiveChart(e){return this._innerAPI().setActiveChart(e)}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(e){this._innerAPI().setLayout(e)}layoutName(){return this._innerAPI().layoutName()}resetLayoutSizes(e){this._innerAPI().resetLayoutSizes(e)}changeTheme(e,r){return this._innerWindow().changeTheme(e,r)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(e=>{e.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllChartsEnabled(){return this._innerAPI().drawOnAllChartsEnabled()}drawOnAllCharts(e){this._innerAPI().drawOnAllCharts(e)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(e){this._innerAPI().setIntervalLinkingEnabled(e)}setDateRangeLinkingEnabled(e){this._innerAPI().setDateRangeLinkingEnabled(e)}setTimeFrame(e){this._innerAPI().setTimeFrame(e)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}dateRangeSync(){return this._innerAPI().dateRangeSync()}setFeatureEnabled(e,r){this._innerAPI().setFeatureEnabled(e,r)}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(e){return this._innerAPI().takeClientScreenshot(e)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}timeHoursFormat(){return this._innerWindow().getTimeHoursFormat()}currencyAndUnitVisibility(){return this._innerWindow().getCurrencyAndUnitVisibility()}supportedChartTypes(){return this._innerAPI().supportedChartTypes()}watermark(){return this._innerAPI().watermark()}customSymbolStatus(){return this._innerWindow().customSymbolStatus()}setCSSCustomProperty(e,r){if(!1===e.startsWith("--"))throw Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,r)}getCSSCustomPropertyValue(e){if(!1===e.startsWith("--"))throw Error("customPropertyName should begin with a double hyphen");let r=this._innerWindow().document.body,n=r.style.getPropertyValue(e);return n||getComputedStyle(r).getPropertyValue(e)}unloadUnusedCharts(){this._innerAPI().unloadUnusedCharts()}async customThemes(){return this._innerWindow().customThemes()}resetCache(){this._innerAPI().resetCache()}linking(){return this._innerAPI().linking}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(e){this._ready?e(this._innerWindow()):this._innerWindowLoaded.then(()=>{e(this._innerWindow())})}_doWhenInnerApiLoaded(e){this._doWhenInnerWindowLoaded(r=>{r.doWhenApiIsReady(()=>e(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",ru&&setTimeout(()=>{this._iFrame.style.height=window.innerHeight+"px"},30))}async _create(){let e=this._options.enabled_features?.includes("iframe_loading_same_origin")??!1,r=e||(this._options.enabled_features?.includes("iframe_loading_compatibility_mode")??!1),[n,i]=this._render(!r,e),o=this._options.container,a="string"==typeof o?document.getElementById(o):o;if(null===a)throw Error(`There is no such element - #${this._options.container}`);a.innerHTML=n,this._iFrame=a.querySelector(`#${this._id}`);let s=this._iFrame;e&&await this._innerWindowEvent("sameOriginLoad"),r&&(s.contentWindow?(s.contentWindow.document.open(),s.contentWindow.document.write(i),s.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),this._innerWindow().addEventListener("innerWindowLoad",e=>{e.detail.received=!0,(function(e,r){if(void 0===e)throw Error(`${r} is undefined`);return e})(this._innerWindowResolver,"_innerWindowResolver")()},{once:!0}),(this._options.autosize||this._options.fullscreen)&&(s.style.width="100%",this._options.fullscreen||(s.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then(()=>{try{this._innerWindow().widgetReady(()=>{for(let e of(this._ready=!0,this._readyHandlers))try{e.call(this)}catch(e){console.error(e)}this._innerWindow().initializationFinished()})}catch(e){if(e instanceof Error&&/widgetReady is not a function/.test(e.message))throw Error(`There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ${window.location.host}/${this._options.library_path||""} or correct the library_path option.`)}})}_innerWindowEvent(e){return new Promise(r=>{this._innerWindow().addEventListener(e,r,{once:!0})})}_render(e,r){var n,i,o;let a,s,l,c,u,d,m=window;if(m[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function,customThemes:this._options.custom_themes,imageStorageAdapter:this._options.image_storage_adapter},this._options.saved_data)m[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(m[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){let e=encodeURIComponent(this._options.locale);rs.findIndex(r=>r.language===e)>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}let p=(n=this._options.library_path||"",i=this._options.locale,a=new URL(`${n||""}`,location.href).href,s=JSON.parse('["bundles/runtime.528f81f7a425983444d8.js","bundles/__LANG__.9488.2f156b47fe84118759c5.js","bundles/1996.25e6f30e7a095ec239f4.css","bundles/207.2e06ffb7ce05936178f2.js","bundles/library.2a35263e52ab75f5729a.js"]'),l=encodeURIComponent(i),c=rs.find(e=>e.language===l)??{iso:"en",dir:"ltr"},u=`lang="${c.iso}" dir="${c.dir}"`,d=`
${function(e,r,n){if(void 0===e)return"";let i=[],o=[];for(let a of e)a.endsWith(".js")?i.push(`<script defer crossorigin="anonymous" src="${a.replace("__LANG__",n)}"></script>`):a.endsWith(".css")&&o.push(`<link type="text/css" href="${r?a.replace(/\.css$/i,".rtl.css"):a}" rel="stylesheet"/>`);return[...i,...o].join("\n")}(s,"rtl"===c.dir,l)}
`,`<!DOCTYPE html><html ${(o={bundles:d,localeLanguage:l,htmlAttrs:u,libraryPath:a}).htmlAttrs}><head><base href="${o.libraryPath}"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")</script> ${o.bundles} </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["charting_library"]</script><script>(function() {
		window.urlParams = (function () {
			var match,
				pl	 = /\\+/g,  // Regex for replacing addition symbol with a space
				search = /([^&=]+)=?([^&]*)/g,
				decode = function (s) { return decodeURIComponent(s.replace(pl, ' ')).replace(/<\\/?[^>]+(>|$)/g, ''); },
				query = function() {
					// We don't use hash on the url because: safari 13 throws an error if you attempt this
					// on a blob, and safari 14 will strip hash from blob urls.
					if (frameElement && frameElement.dataset.widgetOptions) {
						return frameElement.dataset.widgetOptions;
					} else {
						throw "Unexpected use of this page";
					}
				}(),
				result = {};

			while (match = search.exec(query)) {
				result[decode(match[1])] = decode(match[2]);
			}

			var additionalSettingsObject = window.parent[result.uid];

			var customObjectNames = ['datafeed', 'customFormatters', 'brokerFactory', 'save_load_adapter', 'customTranslateFunction', 'contextMenu'];

			for (var p in additionalSettingsObject) {
				if (customObjectNames.indexOf(p) === -1) {
					result[p] = JSON.stringify(additionalSettingsObject[p]);
				}
			}

			return result;
		})();

		window.locale = urlParams.locale;
		window.language = urlParams.locale; // a very big attention needed here
		window.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;
		window.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;

		window.addCustomCSSFile = function(href) {
			var link = document.createElement('link');
			link.setAttribute('type', 'text/css');
			link.setAttribute('rel', 'stylesheet');
			link.setAttribute('href', href);
			link.setAttribute('cross-origin', 'anonymous');

			window.loadedCustomCss = new Promise((resolve) => {
				link.onload = resolve;
				link.onerror = resolve;
			});
			document.body.appendChild(link);
		};

		window.loadedCustomCss = Promise.resolve();
		if (!!urlParams.customCSS) {
			window.addCustomCSSFile(urlParams.customCSS);
		}

		var loadingScreenParams = {};

		if (typeof urlParams.loading_screen === 'string') {
			try {
				loadingScreenParams = JSON.parse(urlParams.loading_screen);
			} catch(e) {}
		}

		var loadingIndicatorElement = document.getElementById('loading-indicator');

		if (loadingScreenParams.backgroundColor) {
			loadingIndicatorElement.style = 'background-color: ' + loadingScreenParams.backgroundColor;
		}

		!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l=(void 0===r&&(r=""),s='<div class="tv-spinner '.concat(r,'" role="progressbar"></div>'),i=function(t){var n,s;return n=document.documentElement,e&&(s=e.get(n)),s||((s=n.ownerDocument.createRange()).selectNodeContents(n),e&&e.set(n,s)),s.createContextualFragment(t)}(s),null!==(o=i.firstElementChild)&&i.removeChild(o),o),a=function(){function t(t){this._shown=!1,this._el=l.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();


		var spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;

		var loadingSpinner = new Spinner('large').setStyle({
			'--tv-spinner-color': spinnerColor,
			zIndex: String(2e9),
		});
		loadingSpinner.getEl().classList.add('spinner');
		loadingSpinner.spin(loadingIndicatorElement);
	})();</script></body></html>`),f=new URL("about:blank");if(e){let e=new Blob([p],{type:"text/html"}),r=URL.createObjectURL(e);f=new URL(r)}else r&&(f=new URL((this._options.library_path??"/")+"sameorigin.html",location.origin));let g="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.debug_broker?"&debugBroker="+encodeURIComponent(String(this._options.debug_broker)):"")+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return[`<iframe
		version="CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)" id="${this._id}" name="${this._id}" src="${f.href}" data-widget-options="${g}"
		${this._options.autosize||this._options.fullscreen?"":`width="${this._options.width}" height="${this._options.height}"`} title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">
	</iframe>`,p]}};window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v29.3.0 (internal id 600f67b870c88a89c46e6ef27f17e88ca7fba741 @ 2025-05-08T13:32:24.827Z)"};let ru=!(!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS");var rd=e.i(66732);let rm="trade-settings-update",rp=({tradeDisplaySettings:e,chartInstance:r,chartSettingsRef:n,bubbleToggleTextRef:i})=>{let o=(0,ri.useTradingViewChartSettingsSafe)(),a=o?.debouncedRefreshMarks,[s,l]=(0,tZ.useState)({myTradesEnabled:e.current.myTradesEnabled,devTradesEnabled:e.current.devTradesEnabled,trackedTradesEnabled:e.current.trackedTradesEnabled}),c=()=>{if(!i?.current)return;let r=e.current.myTradesEnabled&&e.current.devTradesEnabled&&e.current.trackedTradesEnabled;i.current.textContent=r?"Hide All Bubbles":"Show All Bubbles"};(0,tZ.useEffect)(()=>{let r=r=>{r.detail&&"object"==typeof r.detail&&(l(r.detail),e.current={...e.current,...r.detail})};return window.addEventListener(rm,r),()=>{window.removeEventListener(rm,r)}},[e]),(0,tZ.useEffect)(()=>{if(n?.current?.buttonDisplayOptions){let r={myTradesEnabled:n.current.buttonDisplayOptions.myTrades.enabled,devTradesEnabled:n.current.buttonDisplayOptions.devTrades.enabled,trackedTradesEnabled:n.current.buttonDisplayOptions.trackedTrades.enabled};e.current=r,l(r),c()}},[n?.current?.buttonDisplayOptions?.myTrades?.enabled,n?.current?.buttonDisplayOptions?.devTrades?.enabled,n?.current?.buttonDisplayOptions?.trackedTrades?.enabled]);let u=(i,o)=>{l(s=>{let l=!s[i];return e.current[i]=l,o&&o(l),n?.current?.buttonDisplayOptions&&("myTradesEnabled"===i?n.current.buttonDisplayOptions.myTrades.enabled=l:"devTradesEnabled"===i?n.current.buttonDisplayOptions.devTrades.enabled=l:"trackedTradesEnabled"===i&&(n.current.buttonDisplayOptions.trackedTrades.enabled=l)),a&&a(r),c(),{...s,[i]:l}})};return(0,tX.jsxs)(rd.Popover,{children:[(0,tX.jsx)(rd.PopoverTrigger,{asChild:!0,children:(0,tX.jsx)("span",{children:"Trade Display"})}),(0,tX.jsx)(rd.PopoverContent,{className:"w-42 border-gray-700 bg-black p-0",align:"end",alignOffset:-60,children:(0,tX.jsxs)("div",{className:"flex flex-col",children:[(0,tX.jsxs)("button",{className:"flex items-center px-4 py-2 text-sm text-white transition-colors hover:bg-[#363A45]",onClick:()=>u("myTradesEnabled",n?.current?.callbacks?.onMyTradesToggle),children:[(0,tX.jsx)("span",{className:"mr-2",children:s.myTradesEnabled?"":""}),"My Trades"]}),(0,tX.jsxs)("button",{className:"flex items-center px-4 py-2 text-sm text-white transition-colors hover:bg-[#363A45]",onClick:()=>u("devTradesEnabled",n?.current?.callbacks?.onDevTradesToggle),children:[(0,tX.jsx)("span",{className:"mr-2",children:s.devTradesEnabled?"":""}),"Dev Trades"]}),(0,tX.jsxs)("button",{className:"flex items-center px-4 py-2 text-sm text-white transition-colors hover:bg-[#363A45]",onClick:()=>u("trackedTradesEnabled",n?.current?.callbacks?.onTrackedTradesToggle),children:[(0,tX.jsx)("span",{className:"mr-2",children:s.trackedTradesEnabled?"":""}),"Tracked Trades"]})]})})]})},rf=e=>({"1s":"1S","15s":"15S","30s":"30S","1m":"1","5m":"5","15m":"15","30m":"30","1h":"60","4h":"240","6h":"360","12h":"720","24h":"1440"})[e],rg=e=>({"1S":"1s","15S":"15s","30S":"30s",1:"1m",5:"5m",15:"15m",30:"30m",60:"1h",240:"4h",360:"6h",720:"12h",1440:"24h"})[e]||"1m",rh=(e,r)=>(r.has(e)||r.set(e,new Map),r.get(e)),ry=(e,r)=>{let n=r?.current.buttonDisplayOptions.myTrades.walletAddress===e||r?.current.buttonDisplayOptions.myTrades.trades?.some(r=>r.userAddress===e),i=r?.current.buttonDisplayOptions.devTrades.walletAddress===e||r?.current.buttonDisplayOptions.devTrades.trades?.some(r=>r.userAddress===e);return n?"my":i?"dev":"tracked"},rb=(e,r,n)=>{let i=r?"B":"S",o=e.slice(0,6),a=n?.current.buttonDisplayOptions.trackedTrades.trackedWallets?.find(r=>r.trackedWalletAddress===e),s=n?.current.buttonDisplayOptions.devTrades.walletAddress===e||n?.current.buttonDisplayOptions.devTrades.trades?.some(r=>r.userAddress===e),l=n?.current.buttonDisplayOptions.myTrades.walletAddress===e||n?.current.buttonDisplayOptions.myTrades.trades?.some(r=>r.userAddress===e);return a?(i=a.emoji,o=a.name):s?(i=r?"DB":"DS",o="Dev"):l&&(o="You"),{label:i,prefix:o}},rS=({prefix:e,type:r,usdAmount:n,solAmount:i,priceUSD:o,priceSOL:a,currency:s,displayMode:l,currentSolPriceInUSD:c})=>{if("USD"!==s)return((e,r,n,i,o,a,s,l)=>{let c=(0,tz.formatCurrency)(a,2,"$"),u=Number(i),d=s?Number(s):0;if("marketcap"===o){let n=(0,tz.formatCurrency)(1e9*d/(l&&l>0?l:u>0?u:1),0,"");return`${e} ${"buy"===r?"bought":"sold"} ${c} at ${n} SOL Market Cap`}{let n=t7({value:i,fixedDecimalLength:2});return`${e} ${"buy"===r?"bought":"sold"} ${c} at ${n} SOL`}})(e,r,0,a,l,n,o,c);let u=(0,tz.formatCurrency)(n,2,"$"),d=Number(o);if("marketcap"===l){let n=(0,tz.formatCurrency)(1e9*d,0);return`${e} ${"buy"===r?"bought":"sold"} ${u} at ${n} USD Market Cap`}{let n=t7({value:d,fixedDecimalLength:2});return`${e} ${"buy"===r?"bought":"sold"} ${u} at ${n} USD`}},rA=async({resolution:e,periodParams:r,onHistoryCallback:n,onErrorCallback:i,fetchData:o,dataCache:a,activeIntervalRef:s,isUpdatingInterval:l})=>{try{let i=rg(e);if(r.firstDataRequest){let e=await o(i);l.current||(s.current=i);let r=e.map(e=>({time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:parseFloat(e.volume)}));n(r,{noData:0===r.length});return}let c=a.get(i)||[];0===c.length&&(c=await o(i));let u=c.filter(e=>{let n=Math.floor(e.timestamp/1e3);return n>=r.from&&n<=r.to}).map(e=>({time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:parseFloat(e.volume)}));if(0===u.length&&c.length>0){let e=Math.min(...c.map(e=>e.timestamp)),a=(await o(i,e)).filter(e=>{let n=Math.floor(e.timestamp/1e3);return n>=r.from&&n<=r.to}).map(e=>({time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:parseFloat(e.volume)}));if(a.length>0)return void n(a,{noData:!1})}n(u,{noData:0===u.length})}catch(e){console.error("Error loading bars:",e),i(e)}},rw=e=>"string"==typeof e?new Date(e).getTime():1e3*Number(e),rT=(e,r,n,i,o)=>{r&&e?.length&&e.forEach((e,r)=>{let a=rw(e.timestamp);if(o.respectTimeRange&&(a<o.timeStartMs||a>o.timeEndMs))return;let{idPrefix:s,prefix:l,label:c}=i(e,r);n.push(((e,{idPrefix:r,prefix:n,label:i,currency:o,displayMode:a,currentSolPriceInUSD:s,idx:l})=>{let c=Math.floor(rw(e.timestamp)/1e3);return{id:`${r}_${e.userAddress}_${c}_${e.type}_${e.tx||l}`,time:c,color:"buy"===e.type?"green":"red",text:rS({prefix:n,type:e.type,usdAmount:e.amountUSD??0,solAmount:e.amountSOL??0,priceUSD:e.priceUSD??0,priceSOL:e.priceSOL??0,currency:o,displayMode:a,currentSolPriceInUSD:s}),label:i,labelFontColor:"white",minSize:20}})(e,{idPrefix:s,prefix:l,label:c,currency:o.currency,displayMode:o.displayMode,currentSolPriceInUSD:o.currentSolPriceInUSD,idx:r}))})};e.s(["default",0,e=>{let{additionalDisabledFeatures:r=[],baseTokenSymbol:n,chartSettingsRef:i,className:o,coin:a,defaultMode:s,interval:l,pool:c,quoteTokenSymbol:u}=e,d=(0,tZ.useRef)(null),m=(0,tZ.useRef)(null),p=t5(),f=(0,ri.useTradingViewChartSettingsSafe)(),g=(p||f||null)?.chartInstance,[h,y]=(0,tZ.useState)(!0),[b,S]=(0,tZ.useState)("USD"),[A,w]=(0,tZ.useState)(s||"marketcap"),T=window.innerWidth<=1050,k=(0,tZ.useRef)(null),C=(0,tZ.useRef)(null),{solPrice:I}=(0,rn.useSolPrice)(),v=(0,tZ.useRef)(I),P=(0,tZ.useRef)(l),L=(0,tZ.useRef)(new Map),_=(0,tZ.useRef)(!1),x=(0,tZ.useRef)(new Map),D=(0,tZ.useRef)(new Map),E=(0,tZ.useRef)(new Map),R=(0,tZ.useRef)([]),O=(0,tZ.useRef)({myTradesEnabled:i?.current?.buttonDisplayOptions?.myTrades?.enabled??!0,devTradesEnabled:i?.current?.buttonDisplayOptions?.devTrades?.enabled??!0,trackedTradesEnabled:i?.current?.buttonDisplayOptions?.trackedTrades?.enabled??!0});(0,tZ.useEffect)(()=>{if(i?.current?.buttonDisplayOptions){let e={myTradesEnabled:i.current.buttonDisplayOptions.myTrades.enabled,devTradesEnabled:i.current.buttonDisplayOptions.devTrades.enabled,trackedTradesEnabled:i.current.buttonDisplayOptions.trackedTrades.enabled},r=O.current;(!e.myTradesEnabled&&r.myTradesEnabled||!e.devTradesEnabled&&r.devTradesEnabled||!e.trackedTradesEnabled&&r.trackedTradesEnabled)&&(R.current=R.current.filter(r=>{switch(r.tradeType){case"my":return e.myTradesEnabled;case"dev":return e.devTradesEnabled;case"tracked":return e.trackedTradesEnabled;default:return!0}})),O.current=e}},[i?.current?.buttonDisplayOptions?.myTrades?.enabled,i?.current?.buttonDisplayOptions?.devTrades?.enabled,i?.current?.buttonDisplayOptions?.trackedTrades?.enabled]),(0,tZ.useEffect)(()=>{v.current=I},[I]);let U=(0,tZ.useCallback)(async e=>{if(e)try{var r,n;let o,a;if(!e.priceQuotePerBase||!e.priceBasePerQuote)return;switch(b){case"SOL":a=new tj.default(e.priceSol||e.priceQuotePerBase||0).toNumber();break;case"USD":{let r=e.priceUsd?new tj.default(e.priceUsd).toNumber():0;a=0===r&&e.priceSol&&v.current>0?new tj.default(e.priceSol).toNumber()*v.current:r||new tj.default(e.priceBasePerQuote||0).toNumber();break}default:a=new tj.default(e.priceBasePerQuote||0).toNumber()}if(!isFinite(a)||a<=0)return void console.warn("Invalid basePrice calculated, skipping trade event:",{basePrice:a,currency:b,event:{priceUsd:e.priceUsd,priceSol:e.priceSol,priceBasePerQuote:e.priceBasePerQuote,solPriceRef:v.current}});if(o="marketcap"===A?1e9*a:a,function(e,r,n,i,o){if(!r?.current)return!1;let a=r.current.activeWalletFilter===e;if(a)return!0;if(!e)return!1;let s=n&&r.current.buttonDisplayOptions.myTrades.walletAddress===e,l=i&&r.current.buttonDisplayOptions.devTrades.walletAddress===e,c=o&&!!r.current.buttonDisplayOptions.trackedTrades?.trackedWallets?.some(r=>r.trackedWalletAddress===e);return s||l||c||a}(e.userAddress,i,O.current.myTradesEnabled,O.current.devTradesEnabled,O.current.trackedTradesEnabled)){let r=((e,r,n="SOL",i="price",o)=>{let a=new Date(e.timestamp).getTime()/1e3,s="buy"===e.type,l=parseFloat(e.amountSol||"0"),c=parseFloat(e.amountUsd||"0"),u=parseFloat(e.priceUsd||"0"),d=parseFloat(e.priceSol||"0"),{label:m,prefix:p}=rb(e.userAddress,s,r),f=ry(e.userAddress,r),g=rS({prefix:p,type:e.type,usdAmount:c,solAmount:l,priceUSD:u,priceSOL:d,currency:n,displayMode:i,currentSolPriceInUSD:o});return{id:`unified_${e.tx}_${e.slotIndexId}`,time:a,color:s?"green":"red",text:g,label:m,labelFontColor:"white",minSize:20,slotIndexId:e.slotIndexId,tradeType:f}})(e,i,b,A,v.current);R.current=(0,tQ.default)([...R.current,r],"slotIndexId"),m.current&&m.current.activeChart().refreshMarks()}let s=(r=new tj.default(e.amountSol||0),n=new tj.default(e.amountUsd||0),"SOL"===b?parseFloat(r.toFixed(2)):parseFloat(n.toFixed(2)));x.current.forEach((e,r)=>{let n=r.split("_"),i=n[n.length-1],a=rg(i),l=((e,r,n,i,o,a)=>{var s,l;let c,u=(s=a,(c=({"1s":1e3,"15s":15e3,"30s":3e4,"1m":6e4,"5m":3e5,"15m":9e5,"30m":18e5,"1h":36e5,"4h":144e5,"6h":216e5,"12h":432e5,"24h":864e5})[l=n])<=0?(console.error(`Invalid interval duration ${c} for interval ${l}. Falling back to raw timestamp.`),s):Math.floor(s/c)*c),d=rh(n,e),m=r.get(n);if(!m||m.time<u){let e=m?m.close:i,a={time:u,open:e,high:Math.max(e,i),low:0===e&&i>0?i:Math.min(e,i),close:i,volume:o};return d.set(u,a),r.set(n,a),a}if(m.time!==u)return console.warn(`Time violation detected for interval ${n}: latestCandle.time (${m.time}) > currentIntervalTimestamp (${u}).`),null;{let e=d.get(m.time);return e?(e.high=Math.max(e.high,i),e.low=0===e.low&&i>0?i:Math.min(e.low,i),e.close=i,e.volume+=o,e):(console.error(`Inconsistency: latestCandle time ${m.time} matches timestamp ${u}, but candle not found in sessionMap for interval ${n}.`),null)}})(E.current,D.current,a,o,s,new Date().getTime());l&&e(l)})}catch(e){console.error("Error processing trade event for chart:",e)}},[b,A,c.baseMint,i]);(0,tZ.useEffect)(()=>{if(!a.mint)return;let e=(0,re.subscribe)(rt.NatsInstance.Unified,`${t9.UNIFIED_TRADE_SUBJECT}.${a.mint}`,U);return()=>{(0,re.unsubscribe)(rt.NatsInstance.Unified,e)}},[a.mint,U]);let B=(0,tZ.useCallback)(async(e,r)=>{try{let n=`${(0,tH.getPumpSwapClientServerUrl)("v2")}/coins/${a.mint}/candles?interval=${e}&limit=1000&currency=${b}&createdTs=${a.created_timestamp}&program=${a.program}`;r&&(n+=`&beforeTs=${Math.floor(r/1e3)}`);let i=await fetch(n),o=await i.json();if(o&&o.length>0){let n=o.map(e=>{let r=e.timestamp>1e10?e.timestamp:1e3*e.timestamp,{open:n,high:i,low:o,close:a}=e;return"marketcap"===A&&(n*=1e9,i*=1e9,o*=1e9,a*=1e9),{...e,volume:Number(e.volume).toFixed(2),timestamp:r,open:n,high:i,low:o,close:a}});if(r){let r=L.current.get(e)||[],i=new Set(r.map(e=>e.timestamp)),o=n.filter(e=>!i.has(e.timestamp));L.current.set(e,[...r,...o])}else L.current.set(e,n),n.length>0&&((e,r,n,i)=>{if(0===e.length)return;let o=rh(r,n);e.forEach(e=>{let n={time:e.timestamp,open:e.open,high:e.high,low:e.low,close:e.close,volume:e.volume};o.set(e.timestamp,n);let a=i.get(r);(!a||e.timestamp>a.time)&&i.set(r,n)})})(n,e,E.current,D.current);return n}return[]}catch(e){return console.error("Error fetching data:",e),[]}},[a.mint,b,A]),V=(0,tZ.useCallback)(()=>{let e,r,n,o,a,s,l;return e=x.current,r=L.current,n=D.current,o=E.current,a=()=>R.current,s=()=>({myTradesEnabled:i?.current?.buttonDisplayOptions?.myTrades?.enabled??!0,devTradesEnabled:i?.current?.buttonDisplayOptions?.devTrades?.enabled??!0,trackedTradesEnabled:i?.current?.buttonDisplayOptions?.trackedTrades?.enabled??!0}),l=v.current,{onReady:e=>{setTimeout(()=>e({supported_resolutions:["1S","15S","30S","1","5","15","30","60","240","360","720","1440"],supports_time:!0,supports_marks:!0}),0)},searchSymbols:()=>{},resolveSymbol:(e,r)=>{let n={name:e,description:e,type:"crypto",session:"24x7",timezone:"Etc/UTC",exchange:"Pump",minmov:1,has_intraday:!0,has_daily:!0,has_seconds:!0,supported_resolutions:["1S","15S","30S","1","5","15","30","60","240","360","720","1440"],volume_precision:8};"marketcap"===A?n.pricescale=100:n.pricescale=1e9,setTimeout(()=>r(n),0)},getBars:async(e,n,i,o,a)=>{await rA({symbolInfo:e,resolution:n,periodParams:i,onHistoryCallback:o,onErrorCallback:a,fetchData:B,dataCache:r,activeIntervalRef:P,isUpdatingInterval:_})},subscribeBars:(r,i,a,s)=>{e.set(s,a);let l=rg(i);o.has(l)||o.set(l,new Map);let c=n.get(l);c&&a(c)},unsubscribeBars:r=>{e.delete(r)},getMarks:(e,r,n,o)=>{o(((e,r,n,i,o,a,s,l)=>{let c=1e3*e,u=1e3*r,d=[],{myTradesEnabled:m,devTradesEnabled:p,trackedTradesEnabled:f}=i;if(!n?.current)return d;let{activeWalletFilter:g,filteredWalletTrades:h,buttonDisplayOptions:y}=n.current;g&&h?.length&&h.forEach(e=>{d.push(((e,r,n="SOL",i="price",o)=>{let a=e.timestamp>1e10?Math.floor(e.timestamp/1e3):e.timestamp,s=e.walletId||"",l="buy"===e.type,{label:c,prefix:u}=rb(s,l,r),d=ry(s,r),m=rS({prefix:u,type:e.type,usdAmount:e.amountUSD||0,solAmount:e.amountSOL||0,priceUSD:e.priceUSD||0,priceSOL:e.priceSOL||0,currency:n,displayMode:i,currentSolPriceInUSD:o});return{id:`wallet_${s||e.id}_${e.timestamp}`,time:a,color:l?"green":"red",text:m,label:c,labelFontColor:"white",minSize:20,slotIndexId:e.slotIndexId,tradeType:d}})(e,n,o,a,s))});let b=y?.devTrades?.trades,S=y?.myTrades?.trades,A=y?.trackedTrades;if(rT(b,p,d,e=>({idPrefix:"dev",prefix:"Dev",label:"buy"===e.type?"DB":"DS"}),{currency:o,displayMode:a,currentSolPriceInUSD:s,timeStartMs:c,timeEndMs:u,respectTimeRange:!1}),rT(S,m,d,e=>({idPrefix:"my",prefix:"You",label:"buy"===e.type?"B":"S"}),{currency:o,displayMode:a,currentSolPriceInUSD:s,timeStartMs:c,timeEndMs:u,respectTimeRange:!0}),f&&A?.tradesByWallet){let{tradesByWallet:e,trackedWallets:r}=A;Object.entries(e).forEach(([e,n])=>{let i=r?.find(r=>r.trackedWalletAddress===e);i&&rT(n,!0,d,()=>({idPrefix:`tracked_${e}`,prefix:i.name,label:i.emoji}),{currency:o,displayMode:a,currentSolPriceInUSD:s,timeStartMs:c,timeEndMs:u,respectTimeRange:!0})})}return l&&l.length>0&&l.forEach(e=>{let r=!1;switch(e.tradeType){case"my":r=m;break;case"dev":r=p;break;case"tracked":r=f;break;default:r=!1}r&&d.push({id:e.slotIndexId,time:e.time,color:e.color,text:e.text,label:e.label,labelFontColor:e.labelFontColor,minSize:e.minSize})}),d})(r,n,i,s(),b,A,l,a()))}}},[B,a.mint,b,A,i]);return(0,tZ.useEffect)(()=>{if(!d.current||!a.mint)return;let e=!0;(()=>{if(m.current&&(m.current.remove(),m.current=null),!e||!d.current)return;y(!0),L.current.clear(),D.current.clear(),E.current.clear(),R.current=[];let o=`tv_chart_container_${a.mint}`;d.current.id=o;let s="price"===A?"Price":"Market Cap",c=`${n}/${u} ${s} (${b})`,p=Array.from(new Set(["header_symbol_search","symbol_search_hot_key","header_compare","header_screenshot","header_undo_redo","header_fullscreen_button","header_settings","header_indicators","display_market_status",...r]));i?.current?.indicatorsEnabled||p.push("header_indicators");let f={...((e,r,n,i,o="dark",a=[])=>({symbol:e,interval:r,container:n,datafeed:i,library_path:"/tradingview/charting_library/",locale:"en",disabled_features:["header_symbol_search","symbol_search_hot_key","search_button","symbol_search","header_compare","compare_symbol","header_widget_buttons_mode","show_symbol_logo_in_header","use_localstorage_for_settings",...a],enabled_features:["create_volume_indicator_by_default","header_widget","seconds_resolution","two_character_bar_marks_labels"],time_frames:[{text:"1d",resolution:"15",description:"1 Day",title:"1D"},{text:"5d",resolution:"60",description:"5 Days",title:"5D"},{text:"1m",resolution:"720",description:"1 Month",title:"1M"}],charts_storage_url:"https://saveload.tradingview.com",charts_storage_api_version:"1.1",client_id:"pump.fun",user_id:"public",autosize:!0,theme:o}))(c,rf(l),o,V(),"dark",p),...T&&{enabled_features:["hide_left_toolbar_by_default","hide_resolution_in_legend"]},custom_formatters:{priceFormatterFactory:(e,r)=>"marketcap"===A?{format:e=>(0,tz.formatMarketCap)(e)}:"price"===A?{format:e=>t7({value:e,showCurrency:"USD"===b,currencySymbol:"USD"===b?"$":"",format:"plain",fixedDecimalLength:2})}:null}};try{let r=new rc(f);m.current=r,g&&(g.current=r),r.onChartReady(()=>{e&&(r.headerReady().then(()=>{if(e){var n,o;let e,a,s,l,c,u;if(i?.current){let e,a,s,l=document.createElement("div");l.className="tradingview-chart-button",r.createButton().append(l),tJ.default.createRoot(l).render((0,tX.jsx)(rp,{tradeDisplaySettings:O,chartInstance:m,chartSettingsRef:i,bubbleToggleTextRef:k})),n={myTradesEnabled:i?.current?.buttonDisplayOptions.myTrades.enabled??!0,devTradesEnabled:i?.current?.buttonDisplayOptions.devTrades.enabled??!0,trackedTradesEnabled:i?.current?.buttonDisplayOptions.trackedTrades.enabled??!0},o={setMyTradesEnabled:e=>{i?.current?.buttonDisplayOptions&&(i.current.buttonDisplayOptions.myTrades.enabled=e),O.current.myTradesEnabled=e},setDevTradesEnabled:e=>{i?.current?.buttonDisplayOptions&&(i.current.buttonDisplayOptions.devTrades.enabled=e),O.current.devTradesEnabled=e},setTrackedTradesEnabled:e=>{i?.current?.buttonDisplayOptions&&(i.current.buttonDisplayOptions.trackedTrades.enabled=e),O.current.trackedTradesEnabled=e}},(e=r.createButton()).setAttribute("title","Toggle all trade bubbles"),e.classList.add("apply-common-tooltip"),(a=document.createElement("span")).style.padding="2px 4px",a.style.borderRadius="3px",a.style.cursor="pointer",k.current=a,C.current=e,(s=()=>{let e={devTradesEnabled:!1,trackedTradesEnabled:!1},r=(e=i?.current?.buttonDisplayOptions?{myTradesEnabled:i.current.buttonDisplayOptions.myTrades.enabled,devTradesEnabled:i.current.buttonDisplayOptions.devTrades.enabled,trackedTradesEnabled:i.current.buttonDisplayOptions.trackedTrades.enabled}:n).myTradesEnabled&&e.devTradesEnabled&&e.trackedTradesEnabled;k.current&&(k.current.textContent=r?"Hide All Bubbles":"Show All Bubbles")})(),e.appendChild(a),e.addEventListener("click",e=>{e.stopPropagation(),e.preventDefault();let r=(k.current?.textContent||"").includes("Show All");n.myTradesEnabled=r,n.devTradesEnabled=r,n.trackedTradesEnabled=r,i?.current?.buttonDisplayOptions&&(i.current.buttonDisplayOptions.myTrades.enabled=r,i.current.buttonDisplayOptions.devTrades.enabled=r,i.current.buttonDisplayOptions.trackedTrades.enabled=r),o.setMyTradesEnabled(r),o.setDevTradesEnabled(r),o.setTrackedTradesEnabled(r),i?.current?.callbacks&&(i.current.callbacks.onMyTradesToggle&&i.current.callbacks.onMyTradesToggle(r),i.current.callbacks.onDevTradesToggle&&i.current.callbacks.onDevTradesToggle(r),i.current.callbacks.onTrackedTradesToggle&&i.current.callbacks.onTrackedTradesToggle(r));let a=new CustomEvent("trade-settings-update",{detail:{myTradesEnabled:r,devTradesEnabled:r,trackedTradesEnabled:r}});window.dispatchEvent(a),s()})}(e=r.createButton()).setAttribute("title","Toggle between Price and Market Cap"),e.classList.add("apply-common-tooltip"),(a=document.createElement("span")).style.padding="2px 4px",a.style.borderRadius="3px",a.style.cursor="pointer",(s=e=>{"price"===e?a.innerHTML="<span style='font-weight: bold; color: #87EFAC;'>Price</span>/MCap":a.innerHTML="Price/<span style='font-weight: bold; color: #87EFAC;'>MCap</span>"})(A),e.appendChild(a),e.addEventListener("click",()=>{let e="price"===A?"marketcap":"price";w(e),s(e);try{if(r&&"function"==typeof r.activeChart){let e=r.activeChart();if(e&&"function"==typeof e.resolution&&"function"==typeof e.setResolution){let r=e.resolution();r&&e.setResolution(r)}}}catch(e){console.error("Error reloading chart after mode change:",e)}}),(l=r.createButton()).setAttribute("title","Toggle between USD and SOL"),l.classList.add("apply-common-tooltip"),(c=document.createElement("span")).style.padding="2px 4px",c.style.borderRadius="3px",c.style.cursor="pointer",(u=e=>{"USD"===e?c.innerHTML="<span style='font-weight: bold; color: #87EFAC;'>USD</span>/SOL":c.innerHTML="USD/<span style='font-weight: bold; color: #87EFAC;'>SOL</span>"})(b),l.appendChild(c),l.addEventListener("click",()=>{let e="USD"===b?"SOL":"USD";S(e),u(e);try{if(r&&"function"==typeof r.activeChart){let e=r.activeChart();if(e&&"function"==typeof e.resolution&&"function"==typeof e.setResolution){let r=e.resolution();r&&e.setResolution(r)}}}catch(e){console.error("Error reloading chart:",e)}})}}),r.chart().onIntervalChanged().subscribe(null,e=>{_.current||(P.current=rg(e))}),i?.current?.backgroundColor?i?.current?.backgroundType==="solid"?(r.applyOverrides({"paneProperties.backgroundType":"solid","paneProperties.background":i?.current?.backgroundColor||"#131723"}),r.setCSSCustomProperty("--tv-color-pane-background",i?.current?.backgroundColor||"#131723"),r.setCSSCustomProperty("--tv-color-toolbar-divider-background",i?.current?.backgroundColor||"#131723"),r.setCSSCustomProperty("--tv-color-platform-background",i?.current?.backgroundColor||"#131723")):(r.applyOverrides({"paneProperties.backgroundType":"gradient","paneProperties.backgroundGradientStartColor":i?.current?.backgroundGradientStartColor||"#131723","paneProperties.backgroundGradientEndColor":i?.current?.backgroundGradientEndColor||"#131723"}),r.setCSSCustomProperty("--tv-color-pane-background",i?.current?.backgroundGradientStartColor||"#131723"),r.setCSSCustomProperty("--tv-color-toolbar-divider-background",i?.current?.backgroundGradientStartColor||"#131723"),r.setCSSCustomProperty("--tv-color-platform-background",i?.current?.backgroundGradientStartColor||"#131723")):(r.applyOverrides({"paneProperties.backgroundType":"solid","paneProperties.background":"#14171B","mainSeriesProperties.candleStyle.upColor":"#039981","mainSeriesProperties.candleStyle.downColor":"#F23645"}),r.setCSSCustomProperty("--tv-color-pane-background","#14171B"),r.setCSSCustomProperty("--tv-color-toolbar-divider-background","#14171B"),r.setCSSCustomProperty("--tv-color-platform-background","#14171B")),y(!1))})}catch(e){console.error("Error creating chart widget:",e),y(!1)}})();let o=x.current,s=D.current,c=E.current;return()=>{e=!1,m.current&&(m.current.remove(),m.current=null),o.clear(),s.clear(),c.clear(),R.current=[]}},[a.mint,b,A,n,u,l,V]),(0,tZ.useEffect)(()=>{if(m.current&&l!==P.current)try{_.current=!0;let e=m.current.activeChart(),r=rf(l);e.setResolution(r,()=>{P.current=l,setTimeout(()=>{_.current=!1},100)})}catch(e){console.error("Error updating chart interval:",e),_.current=!1}},[l]),(0,tX.jsxs)("div",{className:(0,rr.cn)("relative flex h-full w-full flex-col",o),children:[h&&(0,tX.jsx)("div",{className:"absolute inset-0 z-10 flex h-full items-center justify-center bg-gray-900/50",children:(0,tX.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-b-2 border-t-2 border-gray-400"})}),(0,tX.jsx)("div",{ref:d,className:"h-full w-full"})]})}],38573)},78202,e=>{"use strict";var r=e.i(942765),n=e.i(401998),i=e.i(407751),o=e.i(612860),a=e.i(235828),s=e.i(958083),l=e.i(281675),c=e.i(237237),u=e.i(208727),d=e.i(984639),m=e.i(12571),p=e.i(799041);let f=(0,l.createContext)(null);e.s(["PumpSwapPoolProvider",0,({children:e,mint:g})=>{let{pool:h}=(0,n.useCoinAccountsState)(),{solPrice:y}=(0,m.useSolPrice)(),b=(0,l.useRef)(y),S=(0,l.useRef)({}),[A,w]=(0,l.useState)(null),[T,k]=(0,l.useState)(null);(0,l.useEffect)(()=>{b.current=y},[y]),(0,l.useEffect)(()=>{A?.priceUSD&&k((A.priceUSD instanceof s.default?A.priceUSD:new s.default(A.priceUSD)).mul(new s.default(1e9)).toNumber())},[A]);let C=(0,l.useCallback)(e=>{let r=crypto.randomUUID();return S.current[r]=e,r},[]),I=(0,l.useCallback)(e=>{delete S.current[e]},[]);(0,l.useEffect)(()=>{if(!h)return;let e=async e=>{try{var r;let n;if(!e.data)return;let i=new s.default(b.current),a=(r=o.NATIVE_MINT.toBase58(),n="buyEvent"===e.name?(0,p.parseBuyEventData)(e.data):(0,p.parseSellEventData)(e.data),{...(0,p.parseTrade)(e.tx,e.slot,e.index,e.eventIndex,n,g,r,6,9,i.toNumber(),null,null),userAddress:n.user,poolAddress:n.pool});if(null===a.priceQuotePerBase||null===a.priceBasePerQuote)return;w(a),Object.values(S.current).forEach(e=>{e(a)})}catch(e){console.error("Error processing trade event:",e)}},r=(0,u.subscribe)(d.NatsInstance.Unified,`${c.UNIFIED_TRADE_SUBJECT}.${g}`,e);return()=>{(0,u.unsubscribe)(d.NatsInstance.Unified,r)}},[h,g]);let v={pumpSwapPool:null,poolAddress:(0,i.canonicalPumpPoolPda)(new a.PublicKey(g)).toBase58(),pumpSwapPoolExists:!!h,loading:!1,error:null,addTradeEventListener:C,removeTradeEventListener:I,pumpSwapMarketCapUSD:T,latestTrade:A};return(0,r.jsx)(f.Provider,{value:v,children:e})},"usePumpSwapPoolContext",0,()=>{let e=(0,l.useContext)(f);if(!e)throw Error("usePumpSwapPoolContext must be used within a PumpSwapPoolProvider");return e}],78202)}]);