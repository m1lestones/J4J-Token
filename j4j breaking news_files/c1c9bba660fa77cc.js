(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,113318,e=>{"use strict";e.i(171580);var t=e.i(942765),r=e.i(281675),a=e.i(794720),s=e.i(954735),i=e.i(532508),n=e.i(553039),o=e.i(812064),l=r,d=e.i(687625);class c extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:r,anchorX:a,root:s}){let i=(0,l.useId)(),n=(0,l.useRef)(null),o=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,l.useContext)(d.MotionConfigContext);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:l,left:d,right:c}=o.current;if(r||!n.current||!e||!t)return;let m="left"===a?`left: ${d}`:`right: ${c}`;n.current.dataset.motionPopId=i;let p=document.createElement("style");u&&(p.nonce=u);let g=s??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${m}px !important;
            top: ${l}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[r]),(0,t.jsx)(c,{isPresent:r,childRef:n,sizeRef:o,children:l.cloneElement(e,{ref:n})})}let m=({children:e,initial:a,isPresent:i,onExitComplete:o,custom:l,presenceAffectsLayout:d,mode:c,anchorX:m,root:g})=>{let h=(0,s.useConstant)(p),x=(0,r.useId)(),f=!0,v=(0,r.useMemo)(()=>(f=!1,{id:x,initial:a,isPresent:i,custom:l,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;o&&o()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,o]);return d&&f&&(v={...v}),(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),r.useEffect(()=>{i||h.size||!o||o()},[i]),"popLayout"===c&&(e=(0,t.jsx)(u,{isPresent:i,anchorX:m,root:g,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:v,children:e})};function p(){return new Map}var g=e.i(96139);let h=e=>e.key||"";function x(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let f=({children:e,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",root:f})=>{let[v,b]=(0,g.usePresence)(u),y=(0,r.useMemo)(()=>x(e),[e]),C=u&&!v?[]:y.map(h),j=(0,r.useRef)(!0),w=(0,r.useRef)(y),E=(0,s.useConstant)(()=>new Map),[S,N]=(0,r.useState)(y),[M,k]=(0,r.useState)(y);(0,i.useIsomorphicLayoutEffect)(()=>{j.current=!1,w.current=y;for(let e=0;e<M.length;e++){let t=h(M[e]);C.includes(t)?E.delete(t):!0!==E.get(t)&&E.set(t,!1)}},[M,C.length,C.join("-")]);let I=[];if(y!==S){let e=[...y];for(let t=0;t<M.length;t++){let r=M[t],a=h(r);C.includes(a)||(e.splice(t,0,r),I.push(r))}return"wait"===c&&I.length&&(e=I),k(x(e)),N(y),null}let{forceRender:R}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:M.map(e=>{let r=h(e),a=(!u||!!v)&&(y===M||C.includes(r));return(0,t.jsx)(m,{isPresent:a,initial:(!j.current||!!o)&&void 0,custom:n,presenceAffectsLayout:d,mode:c,root:f,onExitComplete:a?void 0:()=>{if(!E.has(r))return;E.set(r,!0);let e=!0;E.forEach(t=>{t||(e=!1)}),e&&(R?.(),k(w.current),u&&b?.(),l&&l())},anchorX:p,children:e},r)})})};e.s(["AnimatePresence",()=>f],113318)},864532,806058,e=>{"use strict";let t=(0,e.i(376530).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["default",()=>t],806058),e.s(["User",()=>t],864532)},95098,e=>{"use strict";let t=(0,e.i(376530).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],95098)},723897,e=>{"use strict";let t=(0,e.i(376530).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],723897)},902551,e=>{"use strict";let t=(0,e.i(376530).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],902551)},325348,e=>{"use strict";var t=e.i(281675),r=e.i(876006),a=e.i(192791),s=e.i(989780),i=e.i(824961),n=e.i(568851),o=e.i(396070),l=e.i(942765),d="Switch",[c,u]=(0,a.createContextScope)(d),[m,p]=c(d),g=t.forwardRef((e,a)=>{let{__scopeSwitch:i,name:n,checked:d,defaultChecked:c,required:u,disabled:p,value:g="on",onCheckedChange:h,...x}=e,[b,y]=t.useState(null),C=(0,r.useComposedRefs)(a,e=>y(e)),j=t.useRef(!1),w=!b||!!b.closest("form"),[E=!1,S]=(0,s.useControllableState)({prop:d,defaultProp:c,onChange:h});return(0,l.jsxs)(m,{scope:i,checked:E,disabled:p,children:[(0,l.jsx)(o.Primitive.button,{type:"button",role:"switch","aria-checked":E,"aria-required":u,"data-state":v(E),"data-disabled":p?"":void 0,disabled:p,value:g,...x,ref:C,onClick:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}(e.onClick,e=>{S(e=>!e),w&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})}),w&&(0,l.jsx)(f,{control:b,bubbles:!j.current,name:n,value:g,checked:E,required:u,disabled:p,style:{transform:"translateX(-100%)"}})]})});g.displayName=d;var h="SwitchThumb",x=t.forwardRef((e,t)=>{let{__scopeSwitch:r,...a}=e,s=p(h,r);return(0,l.jsx)(o.Primitive.span,{"data-state":v(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});x.displayName=h;var f=e=>{let{control:r,checked:a,bubbles:s=!0,...o}=e,d=t.useRef(null),c=(0,i.usePrevious)(a),u=(0,n.useSize)(r);return t.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==a&&t){let r=new Event("click",{bubbles:s});t.call(e,a),e.dispatchEvent(r)}},[c,a,s]),(0,l.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...o,tabIndex:-1,ref:d,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}e.s(["Root",()=>g,"Thumb",()=>x],325348)},876730,e=>{"use strict";let t=(0,e.i(376530).default)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],876730)},804854,e=>{"use strict";let t=(0,e.i(376530).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},652145,e=>{"use strict";var t=e.i(804854);e.s(["Search",()=>t.default])},546781,739505,e=>{"use strict";let t=(0,e.i(376530).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>t],739505),e.s(["X",()=>t],546781)},481834,e=>{"use strict";let t=(0,e.i(376530).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],481834)},876006,e=>{"use strict";var t=e.i(281675);function r(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function a(...e){return t.useCallback(r(...e),e)}e.s(["composeRefs",()=>r,"useComposedRefs",()=>a])},192791,e=>{"use strict";var t=e.i(281675),r=e.i(942765);function a(e,s=[]){let i=[],n=()=>{let r=i.map(e=>t.createContext(e));return function(a){let s=a?.[e]||r;return t.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return n.scopeName=e,[function(a,s){let n=t.createContext(s),o=i.length;function l(a){let{scope:s,children:i,...l}=a,d=s?.[e][o]||n,c=t.useMemo(()=>l,Object.values(l));return(0,r.jsx)(d.Provider,{value:c,children:i})}return i=[...i,s],l.displayName=a+"Provider",[l,function(r,i){let l=i?.[e][o]||n,d=t.useContext(l);if(d)return d;if(void 0!==s)return s;throw Error(`\`${r}\` must be used within \`${a}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return t.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return a.scopeName=r.scopeName,a}(n,...s)]}e.s(["createContextScope",()=>a])},396070,e=>{"use strict";var t=e.i(281675);e.i(834649);var r=e.i(876006),a=e.i(942765),s=t.forwardRef((e,r)=>{let{children:s,...n}=e,l=t.Children.toArray(s),d=l.find(o);if(d){let e=d.props.children,s=l.map(r=>r!==d?r:t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null);return(0,a.jsx)(i,{...n,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,s):null})}return(0,a.jsx)(i,{...n,ref:r,children:s})});s.displayName="Slot";var i=t.forwardRef((e,a)=>{let{children:s,...i}=e;if(t.isValidElement(s)){var n;let e,o,l=(n=s,(o=(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.ref:(o=(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?n.props.ref:n.props.ref||n.ref);return t.cloneElement(s,{...function(e,t){let r={...t};for(let a in t){let s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...e)=>{i(...e),s(...e)}:s&&(r[a]=s):"style"===a?r[a]={...s,...i}:"className"===a&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(i,s.props),ref:a?(0,r.composeRefs)(a,l):l})}return t.Children.count(s)>1?t.Children.only(null):null});i.displayName="SlotClone";var n=({children:e})=>(0,a.jsx)(a.Fragment,{children:e});function o(e){return t.isValidElement(e)&&e.type===n}var l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let i=t.forwardRef((e,t)=>{let{asChild:i,...n}=e,o=i?s:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(o,{...n,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});e.s(["Primitive",()=>l],396070)},360833,e=>{"use strict";let t=(0,e.i(376530).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["default",()=>t])},804300,122378,166826,e=>{"use strict";var t=e.i(942765),r=e.i(649785),a=e.i(654747),s=e.i(738045),i=e.i(749606),n=e.i(852655),o=e.i(128296);let l=e=>{let t,a,s,l=(0,r.c)(12),{roomName:u,limit:m,clipType:p}=e,g=void 0===m?20:m,h=void 0===p?o.ClipType.Complete:p,{hasClipParam:x,hasArchivedFilter:f}=(0,i.useClipParam)(),v=!x&&!f,b=!!u&&v;l[0]!==h||l[1]!==g||l[2]!==u||l[3]!==b?(t={roomName:u,limit:g,enabled:b,includeUserHidden:!1,clipType:h},l[0]=h,l[1]=g,l[2]=u,l[3]=b,l[4]=t):t=l[4];let y=(0,n.useGetClipsForRoom)(t);l[5]!==y.data?.pages?.[0]?.clips?(a=(y.data?.pages?.[0]?.clips??[]).filter(d).sort(c),l[5]=y.data?.pages?.[0]?.clips,l[6]=a):a=l[6];let C=a;return l[7]!==C||l[8]!==y.error||l[9]!==y.isLoading||l[10]!==v?(s={clips:C,isLoading:y.isLoading,error:y.error,showClipsPreview:v},l[7]=C,l[8]=y.error,l[9]=y.isLoading,l[10]=v,l[11]=s):s=l[11],s};function d(e,t,r){return t===r.findIndex(t=>t.clipId===e.clipId)}function c(e,t){return new Date(t.startTime).getTime()-new Date(e.startTime).getTime()}var u=e.i(921753),m=e.i(325320),p=e.i(474877),g=e.i(687470),h=e.i(264458),x=e.i(675898),f=e.i(51837);let v=e=>{let a,i,n,o,l,d,c,u=(0,r.c)(21),{title:m,clips:p,isLoading:g,canEdit:v,className:b,onSeeAll:y}=e;if(g){let e;return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(x.Loader,{className:"animate-spin"}),u[0]=e):e=u[0],e}if(!p||0===p.length)return null;if(u[1]!==b?(a=(0,h.default)("mb-1.5 mt-1.5 w-full max-w-[1000px]",b),u[1]=b,u[2]=a):a=u[2],u[3]!==m?(i=(0,t.jsx)("span",{className:"text-base font-semibold text-white",children:m}),u[3]=m,u[4]=i):i=u[4],u[5]!==y?(n=(0,t.jsx)("button",{onClick:y,className:"cursor-pointer text-sm font-medium text-green-300 hover:text-green-200",children:s.SEE_ALL}),u[5]=y,u[6]=n):n=u[6],u[7]!==i||u[8]!==n?(o=(0,t.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[i,n]}),u[7]=i,u[8]=n,u[9]=o):o=u[9],u[10]!==v||u[11]!==p){let e;u[13]!==v?(e=e=>(0,t.jsx)("div",{className:"flex-none",children:(0,t.jsx)(f.ArchivedVideoCard,{clip:e,canEdit:v})},e.clipId),u[13]=v,u[14]=e):e=u[14],l=p.map(e),u[10]=v,u[11]=p,u[12]=l}else l=u[12];return u[15]!==l?(d=(0,t.jsx)("div",{className:"custom-scrollbar w-full overflow-x-auto",children:(0,t.jsx)("div",{className:"flex w-0 gap-4 whitespace-nowrap pb-2",children:l})}),u[15]=l,u[16]=d):d=u[16],u[17]!==a||u[18]!==o||u[19]!==d?(c=(0,t.jsxs)("div",{className:a,children:[o,d]}),u[17]=a,u[18]=o,u[19]=d,u[20]=c):c=u[20],c};var b=e.i(454616);function y(){return(0,g.updateArchivedFilterParam)(b.ArchivedVideosFilter.ACTIVE)}function C(){return(0,g.updateArchivedFilterParam)(b.ArchivedVideosFilter.CLIPS)}e.s(["ArchivedVideosPreview",0,e=>{let i,n,d,c,g,h=(0,r.c)(15),{className:x}=e,{mintId:f}=(0,m.useLivestreamContext)();h[0]!==f?(i={mintId:f},h[0]=f,h[1]=i):i=h[1];let{data:b}=(0,u.useIsApprovedCreator)(i),{canModerateRoom:C}=(0,p.useRoomModerationContext)();h[2]!==f?(n={roomName:f,limit:20,clipType:o.ClipType.Complete},h[2]=f,h[3]=n):n=h[3];let{clips:j,isLoading:w,showClipsPreview:E}=l(n);if(!E)return null;h[4]!==b||h[5]!==C?(d=(b||C)&&(0,t.jsx)(a.Toaster,{position:"top-right"}),h[4]=b,h[5]=C,h[6]=d):d=h[6];let S=!!b;return h[7]!==x||h[8]!==j||h[9]!==w||h[10]!==S?(c=(0,t.jsx)(v,{title:s.PREVIOUS_STREAMS,clips:j,isLoading:w,canEdit:S,className:x,onSeeAll:y}),h[7]=x,h[8]=j,h[9]=w,h[10]=S,h[11]=c):c=h[11],h[12]!==d||h[13]!==c?(g=(0,t.jsxs)(t.Fragment,{children:[d,c]}),h[12]=d,h[13]=c,h[14]=g):g=h[14],g}],804300),e.s(["FeaturedClipsPreview",0,e=>{let a,i,n,d=(0,r.c)(9),{className:c}=e,{mintId:p}=(0,m.useLivestreamContext)();d[0]!==p?(a={mintId:p},d[0]=p,d[1]=a):a=d[1];let{data:g}=(0,u.useIsApprovedCreator)(a);d[2]!==p?(i={roomName:p,limit:20,clipType:o.ClipType.Highlight},d[2]=p,d[3]=i):i=d[3];let{clips:h,isLoading:x,showClipsPreview:f}=l(i);if(!f)return null;let b=!!g;return d[4]!==c||d[5]!==h||d[6]!==x||d[7]!==b?(n=(0,t.jsx)(v,{title:s.FEATURED_CLIPS,clips:h,isLoading:x,canEdit:b,className:c,onSeeAll:C}),d[4]=c,d[5]=h,d[6]=x,d[7]=b,d[8]=n):n=d[8],n}],122378);var j=e.i(641768),w=e.i(967388),E=e.i(275762);let S=e=>{let a,s,i=(0,r.c)(3),{className:n}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M2.75 6.75C2.75 5.64543 3.64543 4.75 4.75 4.75H13.25C14.3546 4.75 15.25 5.64543 15.25 6.75V17.25C15.25 18.3546 14.3546 19.25 13.25 19.25H4.75C3.64543 19.25 2.75 18.3546 2.75 17.25V6.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M15.25 10L19.8028 7.72361C20.4677 7.39116 21.25 7.87465 21.25 8.61803V15.382C21.25 16.1253 20.4677 16.6088 19.8028 16.2764L15.25 14V10Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]}),i[0]=a):a=i[0],i[1]!==n?(s=(0,t.jsx)("div",{className:n,children:a}),i[1]=n,i[2]=s):s=i[2],s};var N=e.i(323888);e.s(["StartPreviewButton",0,e=>{let a,s,i,n,o,l,d,c=(0,r.c)(23),{onClick:p,label:g,className:x,disabled:f,disabledTooltip:v}=e,b=void 0===g?"Start livestream":g,{mintId:y,isBanned:C,showBackstage:M,setShowBackstage:k}=(0,m.useLivestreamContext)(),I=(0,E.useLivestream)(y);c[0]!==y||c[1]!==p||c[2]!==k?(a=e=>{(0,j.trackLivestreamSetup)({mint:y,context:w.LIFECYCLE_SOURCE_CONTEXTS.START_BUTTON}),k(!0),p?.(e)},c[0]=y,c[1]=p,c[2]=k,c[3]=a):a=c[3];let R=a;c[4]!==y?(s={mintId:y},c[4]=y,c[5]=s):s=c[5];let{data:A}=(0,u.useIsApprovedCreator)(s);if(!A||M||I||C)return null;let _=!f&&"group";c[6]!==x||c[7]!==_?(i=(0,h.default)(x,_),c[6]=x,c[7]=_,c[8]=i):i=c[8];let T=f?void 0:"hover:scale-105 hover:opacity-[1]",L=!f&&"group-hover:animate-spring-in";c[9]!==L?(n=(0,h.default)("transition-transform duration-300",L),c[9]=L,c[10]=n):n=c[10],c[11]!==n?(o=(0,t.jsx)(S,{className:n}),c[11]=n,c[12]=o):o=c[12];let U=f?v:void 0;return c[13]!==f||c[14]!==R||c[15]!==b||c[16]!==U||c[17]!==T||c[18]!==o?(l=(0,t.jsx)(N.PumpButton,{onClick:R,label:b,className:T,icon:o,variant:"primary",size:"medium",disabled:f,tooltip:U}),c[13]=f,c[14]=R,c[15]=b,c[16]=U,c[17]=T,c[18]=o,c[19]=l):l=c[19],c[20]!==l||c[21]!==i?(d=(0,t.jsx)("div",{className:i,children:l}),c[20]=l,c[21]=i,c[22]=d):d=c[22],d}],166826)},71064,e=>{"use strict";var t=e.i(649785),r=e.i(132838),a=e.i(936736),s=e.i(54567);e.s(["useResetLivestream",0,e=>{let i,n=(0,t.c)(2);return n[0]!==e?(i={onMutate:()=>{s.logger.debug("[useResetLivestream] Attempting to reset livestream via API",{mintId:e.mintId})},mutationFn:async()=>a.api.post("human-moderation/reset-livestream",{json:{mintId:e.mintId}}).json(),onSuccess:t=>{s.logger.debug("[useResetLivestream] Successfully reset livestream",{mintId:e.mintId,success:t?.success}),t.success&&e.onSuccess?.(t)},onError:t=>{s.logger.error("[useResetLivestream] Failed to reset livestream",{mintId:e.mintId,error:t.message||"Unknown error during livestream reset"}),e.onError?.(t)}},n[0]=e,n[1]=i):i=n[1],(0,r.useMutation)(i)}])},128809,e=>{"use strict";var t=e.i(690877),r=e.i(419799),a=e.i(936736),s=e.i(54567);let i="get-moderation-queue-page";e.s(["GET_MODERATION_QUEUE_PAGE_QUERY_KEY",0,i,"useGetModerationQueuePage",0,({page:e,pageSize:n,reported:o,moderatorId:l,mint:d,creator:c,isLive:u,enabled:m,banned:p,downranked:g,groupBy:h,onSuccess:x,refetchOnMount:f,refetchOnWindowFocus:v,mustClockIn:b})=>{let{isOnline:y}=(0,r.useModeratorContext)();return(0,t.useQuery)({queryKey:[i,{page:e,pageSize:n,reported:o,mint:d,creator:c,isLive:u,banned:p,moderatorId:l,groupBy:h,downranked:g}],queryFn:async()=>{let t={page:e,pageSize:n,reported:o,mint:d,creator:c,isLive:u,banned:p,moderatorId:l,groupBy:h,downranked:g};s.logger.debug("[useGetModerationQueuePage] Attempting to fetch moderation queue page",t);let r=new URLSearchParams;r.set("page",e.toString()),void 0!==n&&r.set("pageSize",n.toString()),void 0!==l&&r.set("moderatorId",l?l.toString():"null"),void 0!==d&&r.set("mint",d),void 0!==c&&r.set("creator",c),void 0===u||p||r.set("isLive",u.toString()),void 0!==o&&r.set("reported",o.toString()),void 0!==p&&r.set("banned",p.toString()),!0===h&&r.set("groupBy","mintId"),void 0!==g&&r.set("downranked",g.toString());try{let e=await a.api.get(`human-moderation/moderation-queue?${r.toString()}`).json();return s.logger.debug("[useGetModerationQueuePage] Fetch successful",{...t,itemCount:e?.items?.length}),x?.(e),e}catch(r){let e=r instanceof Error?r.message:String(r);throw s.logger.error("[useGetModerationQueuePage] Fetch failed",{...t,error:e}),r}},enabled:!1!==m&&(!1===b||y),staleTime:1e4,refetchInterval:1e4,refetchOnMount:f,refetchOnWindowFocus:v})}])},270837,916764,e=>{"use strict";var t=e.i(649785),r=e.i(132838),a=e.i(606933),s=e.i(771440),i=e.i(967388),n=e.i(182251),o=e.i(936736),l=e.i(54567),d=e.i(128809);e.s(["useUnban",0,e=>{let c,u,m,p,g,h=(0,t.c)(22),{livestreamId:x,moderatorId:f,mintId:v,sourceContext:b,onSuccess:y,onError:C}=e,j=void 0===b?i.MODERATION_SOURCE_CONTEXTS.QUEUE_USER_ACTION:b,w=(0,a.useQueryClient)();return h[0]!==x||h[1]!==v||h[2]!==f?(c=()=>{l.logger.debug("[useUnban] Attempting to unban via API",{livestreamId:x,mintId:v,moderatorId:f})},u=async()=>o.api.post("human-moderation/unban",{json:{livestreamId:x,moderatorId:f,mintId:v}}).json(),h[0]=x,h[1]=v,h[2]=f,h[3]=c,h[4]=u):(c=h[3],u=h[4]),h[5]!==x||h[6]!==v||h[7]!==f||h[8]!==y||h[9]!==w||h[10]!==j?(m=e=>{let t=n.useLivestreamDataStore.getState().getLivestream(v);(0,s.trackUnbanUser)({mint:v,livestreamId:String(x),targetUser:t?.creatorAddress??"",context:j}),l.logger.debug("[useUnban] Successfully unbanned, invalidating queue",{livestreamId:x,mintId:v,moderatorId:f,success:e?.success}),w.invalidateQueries({queryKey:[d.GET_MODERATION_QUEUE_PAGE_QUERY_KEY]}),y?.(e)},h[5]=x,h[6]=v,h[7]=f,h[8]=y,h[9]=w,h[10]=j,h[11]=m):m=h[11],h[12]!==x||h[13]!==v||h[14]!==f||h[15]!==C?(p=e=>{l.logger.error("[useUnban] Failed to unban",{livestreamId:x,mintId:v,moderatorId:f,error:e.message}),C?.(e)},h[12]=x,h[13]=v,h[14]=f,h[15]=C,h[16]=p):p=h[16],h[17]!==c||h[18]!==u||h[19]!==m||h[20]!==p?(g={onMutate:c,mutationFn:u,onSuccess:m,onError:p},h[17]=c,h[18]=u,h[19]=m,h[20]=p,h[21]=g):g=h[21],(0,r.useMutation)(g)}],270837),e.s(["useUpdateDownrankStatus",0,e=>{let s,i,n,c,u,m=(0,t.c)(24),{livestreamId:p,moderatorId:g,type:h,mintId:x,onSuccess:f,onError:v}=e,b=(0,a.useQueryClient)();return m[0]!==p||m[1]!==x||m[2]!==g||m[3]!==h?(s=()=>{l.logger.debug("[useUpdateDownrankStatus] Attempting to update downrank status via API",{livestreamId:p,mintId:x,type:h,moderatorId:g})},i=async()=>o.api.post("human-moderation/update_downrank_status",{json:{livestreamId:p,moderatorId:g,type:h,mintId:x}}).json(),m[0]=p,m[1]=x,m[2]=g,m[3]=h,m[4]=s,m[5]=i):(s=m[4],i=m[5]),m[6]!==p||m[7]!==x||m[8]!==g||m[9]!==f||m[10]!==b||m[11]!==h?(n=e=>{l.logger.debug("[useUpdateDownrankStatus] Successfully updated downrank status, invalidating queue",{livestreamId:p,mintId:x,type:h,moderatorId:g,success:e?.success}),b.invalidateQueries({queryKey:[d.GET_MODERATION_QUEUE_PAGE_QUERY_KEY]}),f?.(e)},m[6]=p,m[7]=x,m[8]=g,m[9]=f,m[10]=b,m[11]=h,m[12]=n):n=m[12],m[13]!==p||m[14]!==x||m[15]!==g||m[16]!==v||m[17]!==h?(c=e=>{l.logger.error("[useUpdateDownrankStatus] Failed to update downrank status",{livestreamId:p,mintId:x,type:h,moderatorId:g,error:e.message||"Unknown error during downrank status update"}),v?.(e)},m[13]=p,m[14]=x,m[15]=g,m[16]=v,m[17]=h,m[18]=c):c=m[18],m[19]!==s||m[20]!==i||m[21]!==n||m[22]!==c?(u={onMutate:s,mutationFn:i,onSuccess:n,onError:c},m[19]=s,m[20]=i,m[21]=n,m[22]=c,m[23]=u):u=m[23],(0,r.useMutation)(u)}],916764)},393557,e=>{"use strict";var t=e.i(649785),r=e.i(132838),a=e.i(606933),s=e.i(771440),i=e.i(967388),n=e.i(182251),o=e.i(936736),l=e.i(54567),d=e.i(128809);e.s(["useBan",0,e=>{let c,u,m,p,g,h=(0,t.c)(25),{livestreamId:x,moderatorId:f,banType:v,mintId:b,sourceContext:y,onSuccess:C,onError:j}=e,w=void 0===y?i.MODERATION_SOURCE_CONTEXTS.QUEUE_USER_ACTION:y,E=(0,a.useQueryClient)();return h[0]!==v||h[1]!==x||h[2]!==b||h[3]!==f?(c=()=>{l.logger.debug("[useBan] Attempting to ban via API",{livestreamId:x,mintId:b,banType:v,moderatorId:f})},u=async()=>o.api.post("human-moderation/ban",{json:{livestreamId:x,moderatorId:f,banType:v,mintId:b}}).json(),h[0]=v,h[1]=x,h[2]=b,h[3]=f,h[4]=c,h[5]=u):(c=h[4],u=h[5]),h[6]!==v||h[7]!==x||h[8]!==b||h[9]!==f||h[10]!==C||h[11]!==E||h[12]!==w?(m=e=>{let t=n.useLivestreamDataStore.getState().getLivestream(b);(0,s.trackBanUser)({mint:b,livestreamId:String(x),targetUser:t?.creatorAddress??"",context:w}),l.logger.debug("[useBan] Successfully banned, invalidating queue",{livestreamId:x,mintId:b,banType:v,moderatorId:f,success:e?.success}),E.invalidateQueries({queryKey:[d.GET_MODERATION_QUEUE_PAGE_QUERY_KEY]}),C?.(e)},h[6]=v,h[7]=x,h[8]=b,h[9]=f,h[10]=C,h[11]=E,h[12]=w,h[13]=m):m=h[13],h[14]!==v||h[15]!==x||h[16]!==b||h[17]!==f||h[18]!==j?(p=e=>{l.logger.error("[useBan] Failed to ban",{livestreamId:x,mintId:b,banType:v,moderatorId:f,error:e.message}),j?.(e)},h[14]=v,h[15]=x,h[16]=b,h[17]=f,h[18]=j,h[19]=p):p=h[19],h[20]!==c||h[21]!==u||h[22]!==m||h[23]!==p?(g={onMutate:c,mutationFn:u,onSuccess:m,onError:p},h[20]=c,h[21]=u,h[22]=m,h[23]=p,h[24]=g):g=h[24],(0,r.useMutation)(g)}])},601008,e=>{"use strict";var t=e.i(649785),r=e.i(132838),a=e.i(606933),s=e.i(936736),i=e.i(54567),n=e.i(128809);function o(e){i.logger.debug("[useMarkSafe] Attempting to mark safe via API",{args:e})}async function l(e){return s.api.post("human-moderation/mark-safe",{json:e}).json()}e.s(["useMarkSafe",0,e=>{let s,d,c,u,m=(0,t.c)(10);m[0]!==e?(s=void 0===e?{}:e,m[0]=e,m[1]=s):s=m[1];let{onSuccess:p,onError:g}=s,h=(0,a.useQueryClient)();return m[2]!==p||m[3]!==h?(d=(e,t)=>{i.logger.debug("[useMarkSafe] Successfully marked safe, invalidating queue",{args:t,success:e?.success}),h.invalidateQueries({queryKey:[n.GET_MODERATION_QUEUE_PAGE_QUERY_KEY]}),p?.(e)},m[2]=p,m[3]=h,m[4]=d):d=m[4],m[5]!==g?(c=(e,t)=>{i.logger.error("[useMarkSafe] Failed to mark safe",{args:t,error:e.message||"Unknown error during mark safe"}),g?.(e)},m[5]=g,m[6]=c):c=m[6],m[7]!==d||m[8]!==c?(u={onMutate:o,mutationFn:l,onSuccess:d,onError:c},m[7]=d,m[8]=c,m[9]=u):u=m[9],(0,r.useMutation)(u)}])},880085,e=>{"use strict";var t=e.i(690877),r=e.i(936736),a=e.i(54567);e.s(["useGetModerationEvents",0,({mintId:e,page:s,limit:i,types:n,enabled:o,onSuccess:l,refetchOnMount:d,refetchOnWindowFocus:c})=>(0,t.useQuery)({queryKey:["get-moderation-events",e,s,i,n],queryFn:async()=>{if(!e)return a.logger.warn("[useGetModerationEvents] Fetch skipped, no mintId"),null;a.logger.debug("[useGetModerationEvents] Attempting to fetch moderation events",{mintId:e,page:s,limit:i,types:n});let t=new URLSearchParams;t.set("mintId",e),t.set("page",s.toString()),t.set("limit",i.toString()),n&&t.set("types",n.join(","));try{let o=await r.api.get(`human-moderation/get-moderation-events?${t.toString()}`).json();return a.logger.debug("[useGetModerationEvents] Fetch successful",{mintId:e,page:s,limit:i,types:n,itemCount:o?.items?.length}),l?.(o),o}catch(r){let t=r instanceof Error?r.message:String(r);throw a.logger.error("[useGetModerationEvents] Fetch failed",{mintId:e,page:s,limit:i,types:n,error:t}),r}},enabled:!!e&&o,refetchOnMount:d,refetchOnWindowFocus:c})])},458903,e=>{"use strict";var t=e.i(281675),r=Object.defineProperty,a=new Map,s=new WeakMap,i=0,n=void 0;function o({threshold:e,delay:r,trackVisibility:l,rootMargin:d,root:c,triggerOnce:u,skip:m,initialInView:p,fallbackInView:g,onChange:h}={}){var x;let[f,v]=t.useState(null),b=t.useRef(h),[y,C]=t.useState({inView:!!p,entry:void 0});b.current=h,t.useEffect(()=>{let t;if(!m&&f)return t=function(e,t,r={},o=n){if(void 0===window.IntersectionObserver&&void 0!==o){let a=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:a,intersectionRect:a,rootBounds:a}),()=>{}}let{id:l,observer:d,elements:c}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var r;return`${t}_${"root"===t?!(r=e.root)?"0":(s.has(r)||(i+=1,s.set(r,i.toString())),s.get(r)):e[t]}`}).toString(),r=a.get(t);if(!r){let s,i=new Map,n=new IntersectionObserver(t=>{t.forEach(t=>{var r;let a=t.isIntersecting&&s.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(r=i.get(t.target))||r.forEach(e=>{e(a,t)})})},e);s=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:n,elements:i},a.set(t,r)}return r}(r),u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),d.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),d.unobserve(e)),0===c.size&&(d.disconnect(),a.delete(l))}}(f,(e,r)=>{C({inView:e,entry:r}),b.current&&b.current(e,r),r.isIntersecting&&u&&t&&(t(),t=void 0)},{root:c,rootMargin:d,threshold:e,trackVisibility:l,delay:r},g),()=>{t&&t()}},[Array.isArray(e)?e.toString():e,f,c,d,u,m,l,g,r]);let j=null==(x=y.entry)?void 0:x.target,w=t.useRef(void 0);f||!j||u||m||w.current===j||(w.current=j,C({inView:!!p,entry:void 0}));let E=[v,y.inView,y.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}t.Component,e.s(["useInView",()=>o])},766409,e=>{"use strict";let t=(0,e.i(376530).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],766409)},429877,e=>{"use strict";var t=e.i(739505);e.s(["XIcon",()=>t.default])},369195,e=>{"use strict";let t=(0,e.i(376530).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],369195)},141327,433173,765057,e=>{"use strict";var t=e.i(376530);let r=(0,t.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>r],141327);let a=(0,t.default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserMinus",()=>a],433173);let s=(0,t.default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>s],765057)},710080,549281,e=>{"use strict";var t=e.i(649785),r=e.i(132838),a=e.i(54567);e.s(["useBanCoin",0,e=>{let s,i,n,o,l,d=(0,t.c)(14),{mint:c,onSuccess:u,onError:m}=e;return d[0]!==c?(s=()=>{a.logger.debug("[useBanCoin] Attempting to ban coin via API",{mint:c})},i=async()=>{if(!(await fetch("/api/ban-coin",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({mint:c})})).ok)throw Error("Failed to ban coin");return!0},d[0]=c,d[1]=s,d[2]=i):(s=d[1],i=d[2]),d[3]!==c||d[4]!==u?(n=e=>{a.logger.debug("[useBanCoin] Successfully banned coin",{mint:c}),u?.(e)},d[3]=c,d[4]=u,d[5]=n):n=d[5],d[6]!==c||d[7]!==m?(o=e=>{let t=e.message||"Unknown error during ban";a.logger.error("[useBanCoin] Failed to ban coin",{mint:c,error:t}),m?.(e)},d[6]=c,d[7]=m,d[8]=o):o=d[8],d[9]!==s||d[10]!==i||d[11]!==n||d[12]!==o?(l={onMutate:s,mutationFn:i,onSuccess:n,onError:o},d[9]=s,d[10]=i,d[11]=n,d[12]=o,d[13]=l):l=d[13],(0,r.useMutation)(l)}],710080);var s=e.i(606933),i=e.i(936736),n=e.i(128809);function o(e){a.logger.debug("[useMarkUnsafe] Attempting to mark unsafe via API",{args:e})}async function l(e){return i.api.post("human-moderation/mark-unsafe",{json:e}).json()}e.s(["useMarkUnsafe",0,e=>{let i,d,c,u,m=(0,t.c)(10);m[0]!==e?(i=void 0===e?{}:e,m[0]=e,m[1]=i):i=m[1];let{onSuccess:p,onError:g}=i,h=(0,s.useQueryClient)();return m[2]!==p||m[3]!==h?(d=(e,t)=>{a.logger.debug("[useMarkUnsafe] Successfully marked unsafe, invalidating queue",{args:t,success:e?.success}),h.invalidateQueries({queryKey:[n.GET_MODERATION_QUEUE_PAGE_QUERY_KEY]}),p?.(e)},m[2]=p,m[3]=h,m[4]=d):d=m[4],m[5]!==g?(c=(e,t)=>{a.logger.error("[useMarkUnsafe] Failed to mark unsafe",{args:t,error:e.message||"Unknown error during mark unsafe"}),g?.(e)},m[5]=g,m[6]=c):c=m[6],m[7]!==d||m[8]!==c?(u={onMutate:o,mutationFn:l,onSuccess:d,onError:c},m[7]=d,m[8]=c,m[9]=u):u=m[9],(0,r.useMutation)(u)}],549281)},935232,817079,987078,e=>{"use strict";var t=e.i(942765),r=e.i(649785),a=e.i(419799),s=e.i(731880),i=e.i(264458),n=e.i(443815),o=e.i(281675),l=e.i(395963),d=e.i(681750),c=e.i(132838),u=e.i(606933),m=e.i(936736),p=e.i(54567),g=e.i(869727);let h=({onSuccess:e,onError:t}={})=>{let r=(0,u.useQueryClient)();return(0,c.useMutation)({mutationFn:async e=>{p.logger.debug("[useUpdateChatModerationRules] Attempting to update chat moderation rules",{rulesCount:e.rules.banned_terms.length});try{let t=await m.api.put("human-moderation/chat-moderation-rules",{json:e}).json();return p.logger.debug("[useUpdateChatModerationRules] Update successful",{rulesCount:t?.rules?.banned_terms?.length||0}),t}catch(t){let e=t instanceof Error?t.message:String(t);throw p.logger.error("[useUpdateChatModerationRules] Update failed",{error:e}),t}},onSuccess:()=>{r.invalidateQueries({queryKey:g.MODERATION_QUERY_KEYS.chatModerationRules()}),p.logger.debug("[useUpdateChatModerationRules] Cache invalidated and refetched"),e?.()},onError:e=>{p.logger.error("[useUpdateChatModerationRules] Mutation failed",{error:e.message}),t?.(e)}})};e.s(["useUpdateChatModerationRules",0,h],817079);let x=e=>{let a,s,n,c,u,m,p,g,x,v,b,y,C,j,w,E,S,N,M,k,I,R,A,_,T,L,U,P=(0,r.c)(77),{rules:O}=e,[F,Q]=(0,o.useState)(""),[B,D]=(0,o.useState)(null),[G,V]=(0,o.useState)(""),[$,q]=(0,o.useState)(""),[K,H]=(0,o.useState)(!1);P[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],P[0]=a):a=P[0];let[Y,X]=(0,o.useState)(a),z=h();P[1]!==O?(s=()=>{O?.rules?.banned_terms&&X(O.rules.banned_terms)},P[1]=O,P[2]=s):s=P[2];let W=O?.rules?.banned_terms;P[3]!==W?(n=[W],P[3]=W,P[4]=n):n=P[4],(0,o.useEffect)(s,n);e:{let e;if(!F.trim()){c=Y;break e}if(P[5]!==Y||P[6]!==F){let t;P[8]!==F?(t=e=>e.toLowerCase().includes(F.toLowerCase()),P[8]=F,P[9]=t):t=P[9],e=Y.filter(t),P[5]=Y,P[6]=F,P[7]=e}else e=P[7];c=e}let J=c;P[10]!==Y||P[11]!==$?(u=()=>{if(!$.trim())return;let e=$.trim();Y.includes(e)||(X([...Y,e]),H(!0),q(""))},P[10]=Y,P[11]=$,P[12]=u):u=P[12];let Z=u;P[13]!==Y?(m=e=>{X(Y.filter(t=>t!==e)),H(!0)},P[13]=Y,P[14]=m):m=P[14];let ee=m;P[15]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{D(e),V(e)},P[15]=p):p=P[15];let et=p;P[16]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{D(null),V("")},P[16]=g):g=P[16];let er=g;P[17]!==Y||P[18]!==B||P[19]!==G?(x=()=>{if(!B||!G.trim())return void er();let e=G.trim();e!==B&&Y.includes(e)?er():(X(Y.map(t=>t===B?e:t)),H(!0),D(null),V(""))},P[17]=Y,P[18]=B,P[19]=G,P[20]=x):x=P[20];let ea=x;P[21]!==Y||P[22]!==O||P[23]!==z?(v=()=>{O&&z.mutate({rules:{banned_terms:Y}},{onSuccess:()=>{H(!1)},onError:f})},P[21]=Y,P[22]=O,P[23]=z,P[24]=v):v=P[24];let es=v;P[25]!==Z||P[26]!==ea?(b=(e,t)=>{"Enter"===e.key?"add"===t?Z():ea():"Escape"===e.key&&"edit"===t&&er()},P[25]=Z,P[26]=ea,P[27]=b):b=P[27];let ei=b;if(!O){let e;return P[28]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{children:"No chat moderation rules found."}),P[28]=e):e=P[28],e}P[29]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)("h3",{className:"text-xl font-semibold lowercase",children:"chat moderation rules"}),P[29]=y):y=P[29],P[30]!==K?(C=K&&(0,t.jsx)("span",{className:"text-sm text-yellow-400",children:"Unsaved changes"}),P[30]=K,P[31]=C):C=P[31];let en=!K||z.isPending,eo=z.isPending?"Saving...":"Save Changes";P[32]!==es||P[33]!==en||P[34]!==eo?(j=(0,t.jsx)(l.Button,{onClick:es,disabled:en,variant:"info",label:eo}),P[32]=es,P[33]=en,P[34]=eo,P[35]=j):j=P[35],P[36]!==C||P[37]!==j?(w=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[y,(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[C,j]})]}),P[36]=C,P[37]=j,P[38]=w):w=P[38],P[39]===Symbol.for("react.memo_cache_sentinel")?(E=e=>Q(e||""),P[39]=E):E=P[39],P[40]!==F?(S=(0,t.jsx)("div",{className:"flex gap-4",children:(0,t.jsx)(d.Input,{placeholder:"Search banned terms...",value:F,onChange:E,className:"flex-1"})}),P[40]=F,P[41]=S):S=P[41],P[42]===Symbol.for("react.memo_cache_sentinel")?(N=e=>q(e.target.value),P[42]=N):N=P[42],P[43]!==ei?(M=e=>ei(e,"add"),P[43]=ei,P[44]=M):M=P[44],P[45]!==$||P[46]!==M?(k=(0,t.jsx)("input",{type:"text",placeholder:"Add new banned term...",value:$,onChange:N,onKeyPress:M,className:"flex-1 rounded-md border border-gray-600 bg-bg-secondary px-3 py-2 text-white placeholder-gray-400 focus:border-gray-500 focus:outline-none"}),P[45]=$,P[46]=M,P[47]=k):k=P[47],P[48]!==Y||P[49]!==$?(I=!$.trim()||Y.includes($.trim()),P[48]=Y,P[49]=$,P[50]=I):I=P[50],P[51]!==Z||P[52]!==I?(R=(0,t.jsx)(l.Button,{onClick:Z,disabled:I,variant:"info",label:"Add"}),P[51]=Z,P[52]=I,P[53]=R):R=P[53],P[54]!==k||P[55]!==R?(A=(0,t.jsxs)("div",{className:"flex gap-2",children:[k,R]}),P[54]=k,P[55]=R,P[56]=A):A=P[56],P[57]!==B||P[58]!==G||P[59]!==J||P[60]!==ei||P[61]!==ee||P[62]!==ea||P[63]!==F?(_=0===J.length?(0,t.jsx)("p",{className:"text-gray-400",children:F?"No terms match your search.":"No banned terms configured."}):J.map(e=>(0,t.jsx)("div",{className:(0,i.default)("group flex items-center gap-1 rounded-md border px-3 py-1 text-sm","border-gray-600 bg-bg-secondary hover:border-gray-500","transition-colors duration-200"),children:B===e?(0,t.jsx)("input",{type:"text",value:G,onChange:e=>V(e.target.value),onKeyPress:e=>ei(e,"edit"),onBlur:ea,className:"bg-transparent text-white outline-none",autoFocus:!0}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"cursor-pointer hover:text-white",onClick:()=>et(e),children:e}),(0,t.jsx)("button",{onClick:()=>ee(e),className:"ml-1 text-gray-400 opacity-0 transition-opacity hover:text-red-400 group-hover:opacity-100",children:"Ã—"})]})},e)),P[57]=B,P[58]=G,P[59]=J,P[60]=ei,P[61]=ee,P[62]=ea,P[63]=F,P[64]=_):_=P[64],P[65]!==_?(T=(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:_}),P[65]=_,P[66]=T):T=P[66];let el=F&&` (filtered by "${F}")`;return P[67]!==Y.length||P[68]!==J.length||P[69]!==el?(L=(0,t.jsxs)("div",{className:"text-sm text-gray-400",children:["Showing ",J.length," of ",Y.length," banned terms",el]}),P[67]=Y.length,P[68]=J.length,P[69]=el,P[70]=L):L=P[70],P[71]!==w||P[72]!==S||P[73]!==A||P[74]!==T||P[75]!==L?(U=(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[w,S,A,T,L]}),P[71]=w,P[72]=S,P[73]=A,P[74]=T,P[75]=L,P[76]=U):U=P[76],U};function f(e){}var v=e.i(690877);let b=()=>(0,v.useQuery)({queryKey:g.MODERATION_QUERY_KEYS.chatModerationRules(),queryFn:async()=>{p.logger.debug("[useGetChatModerationRules] Attempting to fetch chat moderation rules");try{let e=await m.api.get("human-moderation/chat-moderation-rules").json();return p.logger.debug("[useGetChatModerationRules] Fetch successful",{rulesCount:e?.rules?.banned_terms?.length||0}),e??null}catch(t){let e=t instanceof Error?t.message:String(t);throw p.logger.error("[useGetChatModerationRules] Fetch failed",{error:e}),t}}});e.s(["useGetChatModerationRules",0,b],987078);let y=()=>{let e,a,s=(0,r.c)(7),{data:o,isLoading:l,isError:d,error:c}=b();if(l){let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(n.Loading,{}),s[0]=e):e=s[0],e}if(d){let e,r;s[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.default)("flex flex-col rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]","text-red-500"),s[1]=e):e=s[1];let a=c?.message||"Please try again later.";return s[2]!==a?(r=(0,t.jsx)("div",{className:e,children:(0,t.jsxs)("p",{children:["Error loading chat moderation rules:"," ",a]})}),s[2]=a,s[3]=r):r=s[3],r}s[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.default)("flex flex-col rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]"),s[4]=e):e=s[4];let u=o??void 0;return s[5]!==u?(a=(0,t.jsx)("div",{className:e,children:(0,t.jsx)(x,{rules:u})}),s[5]=u,s[6]=a):a=s[6],a};var C=e.i(802809),j=e.i(323888);let w=e=>{let a,s,n,l,d,c,u,m,p,g,h,x,f,v,b,y,C=(0,r.c)(45),{onPrevious:w,onNext:E,onJumpToPage:S,canGoPrevious:N,canGoNext:M,currentPage:k,totalPages:I,className:R}=e;C[0]!==k?(a=k.toString(),C[0]=k,C[1]=a):a=C[1];let[A,_]=(0,o.useState)(a);C[2]!==k?(s=()=>{_(k.toString())},n=[k],C[2]=k,C[3]=s,C[4]=n):(s=C[3],n=C[4]),(0,o.useEffect)(s,n),C[5]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{_(e.target.value)},C[5]=l):l=C[5];let T=l;C[6]!==k||C[7]!==A||C[8]!==S||C[9]!==I?(d=()=>{let e=parseInt(A,10);!isNaN(e)&&e>=1&&e<=I?S(e):_(k.toString())},C[6]=k,C[7]=A,C[8]=S,C[9]=I,C[10]=d):d=C[10];let L=d;C[11]!==L?(c=e=>{"Enter"===e.key&&L()},C[11]=L,C[12]=c):c=C[12];let U=c;C[13]!==R?(u=(0,i.default)("flex items-center justify-center gap-4",R),C[13]=R,C[14]=u):u=C[14];let P=!N&&"invisible";C[15]!==P?(m=(0,i.default)("w-28",P),C[15]=P,C[16]=m):m=C[16];let O=!N,F=!N;C[17]!==w||C[18]!==O||C[19]!==F||C[20]!==m?(p=(0,t.jsx)(j.PumpButton,{label:"previous",onClick:w,className:m,disabled:O,"aria-hidden":F}),C[17]=w,C[18]=O,C[19]=F,C[20]=m,C[21]=p):p=C[21],C[22]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)("span",{children:"Page"}),C[22]=g):g=C[22],C[23]!==L||C[24]!==U||C[25]!==A||C[26]!==I?(h=(0,t.jsx)("input",{type:"number",value:A,onChange:T,onKeyDown:U,onBlur:L,min:"1",max:I,className:"w-14 rounded border border-gray-600 bg-bg-secondary px-2 py-1 text-center text-white focus:border-blue-500 focus:outline-none","aria-label":"Current page number, edit to jump to page"}),C[23]=L,C[24]=U,C[25]=A,C[26]=I,C[27]=h):h=C[27],C[28]!==I?(x=(0,t.jsxs)("span",{children:["of ",I]}),C[28]=I,C[29]=x):x=C[29],C[30]!==h||C[31]!==x?(f=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[g,h,x]}),C[30]=h,C[31]=x,C[32]=f):f=C[32];let Q=!M&&"invisible";C[33]!==Q?(v=(0,i.default)("w-28",Q),C[33]=Q,C[34]=v):v=C[34];let B=!M,D=!M;return C[35]!==E||C[36]!==v||C[37]!==B||C[38]!==D?(b=(0,t.jsx)(j.PumpButton,{label:"next",onClick:E,className:v,disabled:B,"aria-hidden":D}),C[35]=E,C[36]=v,C[37]=B,C[38]=D,C[39]=b):b=C[39],C[40]!==p||C[41]!==f||C[42]!==b||C[43]!==u?(y=(0,t.jsxs)("div",{className:u,children:[p,f,b]}),C[40]=p,C[41]=f,C[42]=b,C[43]=u,C[44]=y):y=C[44],y};var E=e.i(967388),S=e.i(202006),N=e.i(468078),M=e.i(786453),k=e.i(474388);let I=e=>{let a,s,i,n=(0,r.c)(7),{mintId:o,creatorAddress:l}=e;return n[0]!==o?(a=(0,t.jsx)(k.CopyableBadge,{label:"mint",value:o}),n[0]=o,n[1]=a):a=n[1],n[2]!==l?(s=(0,t.jsx)(k.CopyableBadge,{label:"creator",value:l}),n[2]=l,n[3]=s):s=n[3],n[4]!==a||n[5]!==s?(i=(0,t.jsxs)("div",{className:"mt-[10px]",children:[a,s]}),n[4]=a,n[5]=s,n[6]=i):i=n[6],i};var R=e.i(638198);let A=e=>{let a,s,n,o,l,d,c,u,m=(0,r.c)(31),{group:g,onNavigate:h,coinData:x}=e;m[0]!==g||m[1]!==h?(a={group:g,onNavigate:h},m[0]=g,m[1]=h,m[2]=a):a=m[2];let{latestItem:f,handleClick:v,isBanned:b,hasReports:y,showAggregatedAiReports:C,lastEventMedia:j}=(e=>{let t,a,s,i=(0,r.c)(16),{group:n,onNavigate:o}=e,l=n.latestItem;i[0]!==n.mintId||i[1]!==l.livestreamId||i[2]!==o?(t=()=>{p.logger.debug("[useGroupedModerationQueueItemLogic] handleClick called",{mintId:n.mintId,latestLivestreamId:l.livestreamId}),o(`/moderation/livestream/${l.livestreamId}`)},i[0]=n.mintId,i[1]=l.livestreamId,i[2]=o,i[3]=t):t=i[3];let d=t,c=!!l.bannedAt,u=n.totalAutomaticReportsLowConfidenceAudioCount>0||n.totalAutomaticReportsLowConfidenceVideoCount>0,m=n.totalUserReportsCount>0,g=u||m,h=!c&&u;e:{if(!l.recentEvents?.length){p.logger.debug("[useGroupedModerationQueueItemLogic] No recent events for lastEventMedia calculation",{mintId:n.mintId,latestItemId:l.id}),a=null;break e}let e=l.recentEvents[l.recentEvents.length-1],t=(0,S.getModerationSourceFromEventType)(e.event);if(p.logger.debug("[useGroupedModerationQueueItemLogic] Calculating lastEventMedia",{mintId:n.mintId,latestItemId:l.id,lastEventType:e.event,mediaSource:t,mediaUrl:e.mediaUrl}),"video"===t&&e.mediaUrl){let t;i[4]!==e.mediaUrl?(t={imageUrl:e.mediaUrl},i[4]=e.mediaUrl,i[5]=t):t=i[5],a=t;break e}if("audio"===t&&e.mediaUrl){let t;i[6]!==e.mediaTranscript||i[7]!==e.mediaUrl?(t={audioUrl:e.mediaUrl,transcript:e.mediaTranscript},i[6]=e.mediaTranscript,i[7]=e.mediaUrl,i[8]=t):t=i[8],a=t;break e}a=null}let x=a;return i[9]!==d||i[10]!==g||i[11]!==c||i[12]!==x||i[13]!==l||i[14]!==h?(s={latestItem:l,handleClick:d,isBanned:c,hasReports:g,showAggregatedAiReports:h,lastEventMedia:x},i[9]=d,i[10]=g,i[11]=c,i[12]=x,i[13]=l,i[14]=h,i[15]=s):s=i[15],s})(a),w=b?"border-red-400":"border-bg-secondary";return m[3]!==w?(s=(0,i.default)("relative cursor-pointer overflow-hidden rounded-[8px] border-[2px] bg-bg-secondary transition-all duration-300 hover:scale-[1.004]",w),m[3]=w,m[4]=s):s=m[4],m[5]!==x||m[6]!==g.totalUserReportsCount||m[7]!==j||m[8]!==f?(n=(0,t.jsx)(M.ModerationQueueItemMedia,{item:f,lastEventMedia:j,isGrouped:!0,overrideUserReportsCount:g.totalUserReportsCount,initialAudioMuted:!0,coinData:x}),m[5]=x,m[6]=g.totalUserReportsCount,m[7]=j,m[8]=f,m[9]=n):n=m[9],m[10]!==g.mintId||m[11]!==f.creatorAddress?(o=(0,t.jsx)(I,{mintId:g.mintId,creatorAddress:f.creatorAddress}),m[10]=g.mintId,m[11]=f.creatorAddress,m[12]=o):o=m[12],m[13]!==g.mintId||m[14]!==y||m[15]!==b||m[16]!==f.livestreamId?(l=(0,t.jsx)(N.ModerationQueueItemActions,{mint:g.mintId,isBanned:b,livestreamId:f.livestreamId,hasReports:y,showMarkingAsSafe:!1,sourceContext:E.MODERATION_SOURCE_CONTEXTS.QUEUE_USER_ACTION}),m[13]=g.mintId,m[14]=y,m[15]=b,m[16]=f.livestreamId,m[17]=l):l=m[17],m[18]!==g.totalAutomaticReportsLowConfidenceAudioCount||m[19]!==g.totalAutomaticReportsLowConfidenceVideoCount||m[20]!==C?(d=C&&(0,t.jsx)(R.ModerationQueueItemReportInfo,{className:"mt-[10px] gap-[10px]",automaticReportsLowConfidenceAudioCount:g.totalAutomaticReportsLowConfidenceAudioCount,automaticReportsLowConfidenceVideoCount:g.totalAutomaticReportsLowConfidenceVideoCount}),m[18]=g.totalAutomaticReportsLowConfidenceAudioCount,m[19]=g.totalAutomaticReportsLowConfidenceVideoCount,m[20]=C,m[21]=d):d=m[21],m[22]!==o||m[23]!==l||m[24]!==d?(c=(0,t.jsxs)("div",{className:"px-[20px] pb-[20px] pt-[10px]",children:[o,l,d]}),m[22]=o,m[23]=l,m[24]=d,m[25]=c):c=m[25],m[26]!==v||m[27]!==s||m[28]!==n||m[29]!==c?(u=(0,t.jsxs)("div",{className:s,onClick:v,children:[n,c]}),m[26]=v,m[27]=s,m[28]=n,m[29]=c,m[30]=u):u=m[30],u},_=e=>{let a,s,n,o,l,d,c,u,m=(0,r.c)(34),{showMarkingAsSafe:g,item:h,onNavigate:x,onSelectItem:f,coinData:v}=e,b=void 0===g||g;m[0]!==h||m[1]!==x||m[2]!==f?(a={item:h,onNavigate:x,onSelectItem:f},m[0]=h,m[1]=x,m[2]=f,m[3]=a):a=m[3];let{handleClick:y,isBanned:C,hasReports:j,showAiReports:w,lastEventMedia:k,canClick:A}=(e=>{let t,a,s,i=(0,r.c)(16),{item:n,onNavigate:o,onSelectItem:l}=e;i[0]!==n||i[1]!==o||i[2]!==l?(t=()=>{p.logger.debug("[useModerationQueueItemLogic] handleClick called",{itemId:n.id,livestreamId:n.livestreamId,hasOnSelectItem:!!l,hasOnNavigate:!!o}),l?l(n):o&&o(`/moderation/livestream/${n.livestreamId}`)},i[0]=n,i[1]=o,i[2]=l,i[3]=t):t=i[3];let d=t,c=!!n.bannedAt,u=(n.automaticReportsLowConfidenceAudioCount??0)>0||(n.automaticReportsLowConfidenceVideoCount??0)>0,m=(n.userReportsCount??0)>0,g=u||m,h=!c&&u,x=!!l||!!o;e:{if(!n.recentEvents?.length){p.logger.debug("[useModerationQueueItemLogic] No recent events for lastEventMedia calculation",{itemId:n.id}),a=null;break e}let e=n.recentEvents[n.recentEvents.length-1],t=(0,S.getModerationSourceFromEventType)(e.event);if(p.logger.debug("[useModerationQueueItemLogic] Calculating lastEventMedia",{itemId:n.id,lastEventType:e.event,mediaSource:t,mediaUrl:e.mediaUrl}),"video"===t&&e.mediaUrl){let t;i[4]!==e.mediaUrl?(t={imageUrl:e.mediaUrl},i[4]=e.mediaUrl,i[5]=t):t=i[5],a=t;break e}if("audio"===t&&e.mediaUrl){let t;i[6]!==e.mediaTranscript||i[7]!==e.mediaUrl?(t={audioUrl:e.mediaUrl,transcript:e.mediaTranscript},i[6]=e.mediaTranscript,i[7]=e.mediaUrl,i[8]=t):t=i[8],a=t;break e}a=null}let f=a;return i[9]!==x||i[10]!==d||i[11]!==g||i[12]!==c||i[13]!==f||i[14]!==h?(s={handleClick:d,isBanned:c,hasReports:g,showAiReports:h,lastEventMedia:f,canClick:x},i[9]=x,i[10]=d,i[11]=g,i[12]=c,i[13]=f,i[14]=h,i[15]=s):s=i[15],s})(a),_=C?"border-red-400":"border-bg-secondary",T=A&&"cursor-pointer hover:scale-[1.004]";m[4]!==_||m[5]!==T?(s=(0,i.default)("relative overflow-hidden rounded-[8px] border-[2px] bg-bg-secondary transition-all duration-300",_,T),m[4]=_,m[5]=T,m[6]=s):s=m[6];let L=A?y:void 0;return m[7]!==v||m[8]!==h||m[9]!==k?(n=(0,t.jsx)(M.ModerationQueueItemMedia,{item:h,lastEventMedia:k,initialAudioMuted:!0,coinData:v}),m[7]=v,m[8]=h,m[9]=k,m[10]=n):n=m[10],m[11]!==h.creatorAddress||m[12]!==h.mintId?(o=(0,t.jsx)(I,{mintId:h.mintId,creatorAddress:h.creatorAddress}),m[11]=h.creatorAddress,m[12]=h.mintId,m[13]=o):o=m[13],m[14]!==j||m[15]!==C||m[16]!==h.downrankScore||m[17]!==h.livestreamId||m[18]!==h.mintId||m[19]!==b?(l=(0,t.jsx)(N.ModerationQueueItemActions,{showMarkingAsSafe:b,mint:h.mintId,isBanned:C,livestreamId:h.livestreamId,hasReports:j,downrankScore:h.downrankScore,sourceContext:E.MODERATION_SOURCE_CONTEXTS.QUEUE_USER_ACTION}),m[14]=j,m[15]=C,m[16]=h.downrankScore,m[17]=h.livestreamId,m[18]=h.mintId,m[19]=b,m[20]=l):l=m[20],m[21]!==h.automaticReportsLowConfidenceAudioCount||m[22]!==h.automaticReportsLowConfidenceVideoCount||m[23]!==w?(d=w&&(0,t.jsx)(R.ModerationQueueItemReportInfo,{className:"mt-[10px] gap-[10px]",automaticReportsLowConfidenceAudioCount:h.automaticReportsLowConfidenceAudioCount,automaticReportsLowConfidenceVideoCount:h.automaticReportsLowConfidenceVideoCount}),m[21]=h.automaticReportsLowConfidenceAudioCount,m[22]=h.automaticReportsLowConfidenceVideoCount,m[23]=w,m[24]=d):d=m[24],m[25]!==d||m[26]!==o||m[27]!==l?(c=(0,t.jsxs)("div",{className:"px-[20px] pb-[20px] pt-[10px]",children:[o,l,d]}),m[25]=d,m[26]=o,m[27]=l,m[28]=c):c=m[28],m[29]!==c||m[30]!==s||m[31]!==L||m[32]!==n?(u=(0,t.jsxs)("div",{className:s,onClick:L,children:[n,c]}),m[29]=c,m[30]=s,m[31]=L,m[32]=n,m[33]=u):u=m[33],u};var T=e.i(798656),L=e.i(128809);function U(e){return e.mintId}let P=e=>{let s,i,l,d,c,u=(0,r.c)(30),{activeTab:g,page:h,onNavigate:x,isGrouped:f}=e;u[0]!==g||u[1]!==f||u[2]!==x||u[3]!==h?(s={activeTab:g,page:h,onNavigate:x,isGrouped:f},u[0]=g,u[1]=f,u[2]=x,u[3]=h,u[4]=s):s=u[4];let{isLoading:b,displayItems:y,handlePrevious:C,handleNext:j,handleJumpToPage:E,showPagination:N,canGoPrevious:M,canGoNext:k,showNoData:I,currentPage:R,totalPages:P,coinDataMap:O}=(e=>{let t,s,i,n,l,d,c,u,g,h=(0,r.c)(50),{activeTab:x,page:f,onNavigate:b,filterByMintId:y,isGrouped:C}=e,{moderator:j}=(0,a.useEnforceModerator)(),w=C&&!y,E=!y&&x!==T.ModerationQueueTab.BANNED,S=y?1:f,N=y?void 0:w?25:void 0,M=j?.id;h[0]!==x||h[1]!==M?(t=(0,T.getModerationTabFilters)(x,M),h[0]=x,h[1]=M,h[2]=t):t=h[2];let k=!!E||void 0,I=!!j;h[3]!==S||h[4]!==y||h[5]!==w||h[6]!==N||h[7]!==t||h[8]!==k||h[9]!==I?(s={page:S,mint:y,pageSize:N,...t,isLive:k,enabled:I,groupBy:w},h[3]=S,h[4]=y,h[5]=w,h[6]=N,h[7]=t,h[8]=k,h[9]=I,h[10]=s):s=h[10];let{data:R,isLoading:A,isFetching:_,refetch:P}=(0,L.useGetModerationQueuePage)(s);p.logger.debug("[useModerationQueueListLogic] Moderation queue page data fetched",{isLoading:A,isFetching:_,hasData:!!R,itemCount:R?.items?.length,pageFromHook:S,activeTab:x,filterByMintId:y,isGroupingEnabled:w}),R?.items,h[11]!==R?.items?(i=R?.items??[],h[11]=R?.items,h[12]=i):i=h[12];let O=i;h[13]!==x||h[14]!==R||h[15]!==y||h[16]!==b?(n={data:R,activeTab:x,onNavigate:b,filterByMintId:y},h[13]=x,h[14]=R,h[15]=y,h[16]=b,h[17]=n):n=h[17];let{handlePrevious:F,handleNext:Q,handleJumpToPage:B,canGoPrevious:D,canGoNext:G,showPagination:V,currentPage:$,totalPages:q}=(e=>{let t,a,s,i,n=(0,r.c)(24),{data:o,activeTab:l,onNavigate:d,filterByMintId:c}=e,u=o?.currentPage??1,m=o?.totalPages??0;n[0]!==l||n[1]!==o||n[2]!==c||n[3]!==d?(t=()=>{o?.prevPage&&!c&&d&&d(`?tab=${l}&page=${o.prevPage}`)},n[0]=l,n[1]=o,n[2]=c,n[3]=d,n[4]=t):t=n[4];let p=t;n[5]!==l||n[6]!==o||n[7]!==c||n[8]!==d?(a=()=>{o?.nextPage&&!c&&d&&d(`?tab=${l}&page=${o.nextPage}`)},n[5]=l,n[6]=o,n[7]=c,n[8]=d,n[9]=a):a=n[9];let g=a;n[10]!==l||n[11]!==c||n[12]!==d||n[13]!==m?(s=e=>{if(0===m||!d||c)return;let t=Math.max(1,Math.min(e,m));d(`?tab=${l}&page=${t}`)},n[10]=l,n[11]=c,n[12]=d,n[13]=m,n[14]=s):s=n[14];let h=s,x=!c&&!!o?.prevPage,f=!c&&!!o?.nextPage,v=!c&&m>1;return n[15]!==f||n[16]!==x||n[17]!==u||n[18]!==h||n[19]!==g||n[20]!==p||n[21]!==v||n[22]!==m?(i={handlePrevious:p,handleNext:g,handleJumpToPage:h,canGoPrevious:x,canGoNext:f,showPagination:v,currentPage:u,totalPages:m},n[15]=f,n[16]=x,n[17]=u,n[18]=h,n[19]=g,n[20]=p,n[21]=v,n[22]=m,n[23]=i):i=n[23],i})(n),K=!j||(A||_)&&!R,H=!A&&0===O.length,Y=O.length;h[18]!==j||h[19]!==P?(l=()=>{j&&P()},h[18]=j,h[19]=P,h[20]=l):l=h[20],h[21]!==x||h[22]!==y||h[23]!==C||h[24]!==j||h[25]!==f||h[26]!==P?(d=[x,y,P,j,C,f],h[21]=x,h[22]=y,h[23]=C,h[24]=j,h[25]=f,h[26]=P,h[27]=d):d=h[27],(0,o.useEffect)(l,d),h[28]!==O?(c=O.map(U),h[28]=O,h[29]=c):c=h[29];let X=c;h[30]!==X?(u={mintIds:X},h[30]=X,h[31]=u):u=h[31];let{data:z}=(e=>{let t,a,s,i,n,o=(0,r.c)(12),{mintIds:l}=e;o[0]!==l?(t=[...l].sort(),o[0]=l,o[1]=t):t=o[1];let d=t;o[2]!==d?(a=d.join(","),o[2]=d,o[3]=a):a=o[3],o[4]!==a?(s=["get-multiple-coins",a],o[4]=a,o[5]=s):s=o[5];let c=s;o[6]!==d?(i=async()=>{if(0===d.length)return p.logger.debug("[useGetMultipleCoins] Fetch skipped, no mintIds provided"),new Map;p.logger.debug("[useGetMultipleCoins] Attempting to fetch multiple coin data",{mintIdCount:d.length,firstFewMints:d.slice(0,5)});try{let e=await m.clientServerApi.post("coins-v2/mints",{json:{mints:d}}).json(),t=new Map;return e.forEach(e=>{e?.mint&&t.set(e.mint,e)}),p.logger.debug("[useGetMultipleCoins] Fetch multiple coin data successful",{fetchedCount:t.size,requestedCount:d.length}),t}catch(t){let e=t instanceof Error?t.message:String(t);throw p.logger.error("[useGetMultipleCoins] Fetch multiple coin data failed",{mintIdCount:d.length,error:e}),t}},o[6]=d,o[7]=i):i=o[7];let u=d.length>0;return o[8]!==c||o[9]!==i||o[10]!==u?(n={queryKey:c,queryFn:i,enabled:u,staleTime:6e4},o[8]=c,o[9]=i,o[10]=u,o[11]=n):n=o[11],(0,v.useQuery)(n)})(u);return h[32]!==G||h[33]!==D||h[34]!==z||h[35]!==$||h[36]!==R||h[37]!==O||h[38]!==B||h[39]!==Q||h[40]!==F||h[41]!==_||h[42]!==w||h[43]!==j||h[44]!==K||h[45]!==H||h[46]!==V||h[47]!==Y||h[48]!==q?(g={moderator:j,data:R,isLoading:K,isFetching:_,displayItems:O,isDisplayingGroupedItems:w,handlePrevious:F,handleNext:Q,handleJumpToPage:B,showPagination:V,canGoPrevious:D,canGoNext:G,showNoData:H,totalItems:Y,currentPage:$,totalPages:q,coinDataMap:z},h[32]=G,h[33]=D,h[34]=z,h[35]=$,h[36]=R,h[37]=O,h[38]=B,h[39]=Q,h[40]=F,h[41]=_,h[42]=w,h[43]=j,h[44]=K,h[45]=H,h[46]=V,h[47]=Y,h[48]=q,h[49]=g):g=h[49],g})(s);if(b){let e;return u[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(n.Loading,{}),u[5]=e):e=u[5],e}if(I){let e;return u[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex h-[200px] items-center justify-center text-gray-400",children:"no items found"}),u[6]=e):e=u[6],e}if(u[7]!==g||u[8]!==O||u[9]!==y||u[10]!==x){let e;u[12]!==g||u[13]!==O||u[14]!==x?(e=e=>{let r=O?.get(e.mintId);return(0,S.isGroupedItem)(e)?(0,t.jsx)(A,{group:e,onNavigate:x,coinData:r},e.mintId):(0,t.jsx)(_,{item:e,onNavigate:x,showMarkingAsSafe:g!==T.ModerationQueueTab.BANNED,coinData:r},e.livestreamId)},u[12]=g,u[13]=O,u[14]=x,u[15]=e):e=u[15],i=y.map(e),u[7]=g,u[8]=O,u[9]=y,u[10]=x,u[11]=i}else i=u[11];return u[16]!==i?(l=(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:i}),u[16]=i,u[17]=l):l=u[17],u[18]!==k||u[19]!==M||u[20]!==R||u[21]!==E||u[22]!==j||u[23]!==C||u[24]!==N||u[25]!==P?(d=N&&(0,t.jsx)(w,{onPrevious:C,onNext:j,onJumpToPage:E,currentPage:R,totalPages:P,canGoPrevious:M,canGoNext:k,className:"mt-[40px]"}),u[18]=k,u[19]=M,u[20]=R,u[21]=E,u[22]=j,u[23]=C,u[24]=N,u[25]=P,u[26]=d):d=u[26],u[27]!==l||u[28]!==d?(c=(0,t.jsxs)("div",{children:[l,d]}),u[27]=l,u[28]=d,u[29]=c):c=u[29],c},O=e=>{let a,s,n=(0,r.c)(4),{activeTab:o,setActiveTab:l}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(a=Object.values(T.ModerationQueueTab),n[0]=a):a=n[0],n[1]!==o||n[2]!==l?(s=(0,t.jsx)("div",{className:"mb-[40px] flex gap-[20px]",children:a.map((e,r)=>(0,t.jsx)("button",{onClick:()=>l(e),className:(0,i.default)("rounded-[4px] px-[10px] py-[4px] transition-colors duration-200","text-[14px]",o===e?"bg-blue-600":"bg-gray-600"),children:T.MODERATION_QUEUE_LABELS[e]},r))}),n[1]=o,n[2]=l,n[3]=s):s=n[3],s};e.s(["ModerationQueuePage",0,e=>{let i,n,o,l,d,c,u,m,p=(0,r.c)(22),{onNavigate:g,tabParam:h,pageParam:x}=e,{isOnline:f,clockIn:v,clockOut:b}=(0,a.useModeratorContext)(),j=h??null;p[0]!==j?(i=(0,s.parseModerationTabParam)(j),p[0]=j,p[1]=i):i=p[1];let w=i,E=x??null;p[2]!==E?(n=(0,s.parsePageParam)(E),p[2]=E,p[3]=n):n=p[3];let S=n;p[4]!==g?(o=e=>{let t=new URLSearchParams;t.set("tab",e),t.set("page","1"),g(`?${t.toString()}`)},p[4]=g,p[5]=o):o=p[5];let N=o;if(!f){let e;return p[6]!==v?(e=(0,t.jsx)("div",{className:"flex h-screen w-full items-center justify-center text-white",children:(0,t.jsx)("button",{className:"text-2xl font-bold",onClick:v,children:"clock in"})}),p[6]=v,p[7]=e):e=p[7],e}return p[8]!==b?(l=(0,t.jsx)("div",{className:"absolute right-[20px] top-[20px]",children:(0,t.jsx)("button",{onClick:b,className:"rounded-md bg-red-500 px-4 py-2 text-white",children:"clock out"})}),p[8]=b,p[9]=l):l=p[9],p[10]!==w||p[11]!==N?(d=(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)(O,{activeTab:w,setActiveTab:N})}),p[10]=w,p[11]=N,p[12]=d):d=p[12],p[13]!==w||p[14]!==S||p[15]!==g?(c=w===T.ModerationQueueTab.CHAT_MODERATION_RULES?(0,t.jsx)(y,{}):(0,t.jsx)(P,{activeTab:w,page:S,onNavigate:g,isGrouped:!1}),p[13]=w,p[14]=S,p[15]=g,p[16]=c):c=p[16],p[17]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(C.ActivityCheck,{}),p[17]=u):u=p[17],p[18]!==l||p[19]!==d||p[20]!==c?(m=(0,t.jsxs)("div",{className:"p-[40px] text-white",children:[l,d,c,u]}),p[18]=l,p[19]=d,p[20]=c,p[21]=m):m=p[21],m}],935232)},977164,e=>{"use strict";var t,r=e.i(942765),a=e.i(649785),s=e.i(323888),i=e.i(202006),n=e.i(967388),o=e.i(281675),l=e.i(880085),d=e.i(690877),c=e.i(936736),u=e.i(54567),m=e.i(128809),p=e.i(419799),g=e.i(443815),h=e.i(802809),x=e.i(468078),f=e.i(786453),v=e.i(446152),b=e.i(264458),y=e.i(474388),C=e.i(29054),j=e.i(448924),w=e.i(638198);let E=e=>{let t,s,i,n,o=(0,a.c)(10),{userReportsCount:l,className:d}=e;o[0]!==l?(t=()=>l>50?"danger":l>10?"warning":l>0?"muted":"danger",o[0]=l,o[1]=t):t=o[1];let c=t;if(0===l)return null;o[2]!==d?(s=(0,b.default)("flex items-center gap-1 text-[12px]",d),o[2]=d,o[3]=s):s=o[3];let u=`${l} user report${1!==l?"s":""}`,m=c();return o[4]!==u||o[5]!==m?(i=(0,r.jsx)(j.Badge,{label:u,variant:m}),o[4]=u,o[5]=m,o[6]=i):i=o[6],o[7]!==s||o[8]!==i?(n=(0,r.jsx)("div",{className:s,children:i}),o[7]=s,o[8]=i,o[9]=n):n=o[9],n},S=e=>{let t,s,i,n,o,l,d,c,u,m,p,g,h,x,f,v,S,N,M=(0,a.c)(48),{item:k,className:I,totalUserReportsForMint:R}=e,A=!!k.bannedAt,_=(k.automaticReportsLowConfidenceAudioCount??0)>0||(k.automaticReportsLowConfidenceVideoCount??0)>0,T=void 0!==R&&R>0?R:k.userReportsCount;M[0]!==I?(t=(0,b.default)("rounded-lg bg-bg-secondary text-white shadow",I),M[0]=I,M[1]=t):t=M[1];let L=k.isLive?"Live":"Offline",U=k.isLive?"success":"muted";return M[2]!==L||M[3]!==U?(s=(0,r.jsx)("div",{className:"mb-3 flex items-center justify-between",children:(0,r.jsx)(j.Badge,{label:L,variant:U})}),M[2]=L,M[3]=U,M[4]=s):s=M[4],M[5]!==k.creatorAddress?(i=(0,r.jsx)(y.CopyableBadge,{label:"creator",value:k.creatorAddress,labelClassName:"text-gray-200 font-medium",valueClassName:"text-gray-400 font-medium"}),M[5]=k.creatorAddress,M[6]=i):i=M[6],M[7]!==k.mintId?(n=(0,r.jsx)(y.CopyableBadge,{label:"mint",value:k.mintId,labelClassName:"text-gray-200 font-medium",valueClassName:"text-gray-400 font-medium"}),M[7]=k.mintId,M[8]=n):n=M[8],M[9]!==i||M[10]!==n?(o=(0,r.jsxs)("div",{className:"mb-2 flex max-w-xs flex-col gap-2",children:[i,n]}),M[9]=i,M[10]=n,M[11]=o):o=M[11],M[12]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)("span",{className:"font-medium",children:"started:"}),M[12]=l):l=M[12],M[13]!==k.streamStartTimestamp?(d=(0,C.formatDate)(k.streamStartTimestamp),M[13]=k.streamStartTimestamp,M[14]=d):d=M[14],M[15]!==d?(c=(0,r.jsxs)("div",{className:"mb-2",children:[l," ",d]}),M[15]=d,M[16]=c):c=M[16],M[17]!==k.streamEndTimestamp?(u=k.streamEndTimestamp&&(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"ended:"})," ",(0,C.formatDate)(k.streamEndTimestamp)]}),M[17]=k.streamEndTimestamp,M[18]=u):u=M[18],M[19]!==k.numParticipants?(m=!!k.numParticipants&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("span",{className:"font-medium",children:"participants:"})," ",k.numParticipants]}),M[19]=k.numParticipants,M[20]=m):m=M[20],M[21]===Symbol.for("react.memo_cache_sentinel")?(p=(0,r.jsx)("h4",{className:"font-semibold",children:"reports:"}),M[21]=p):p=M[21],M[22]!==T?(g=T>0&&(0,r.jsx)(E,{userReportsCount:T}),M[22]=T,M[23]=g):g=M[23],M[24]!==_||M[25]!==k.automaticReportsLowConfidenceAudioCount||M[26]!==k.automaticReportsLowConfidenceVideoCount?(h=_&&(0,r.jsx)(w.ModerationQueueItemReportInfo,{automaticReportsLowConfidenceAudioCount:k.automaticReportsLowConfidenceAudioCount,automaticReportsLowConfidenceVideoCount:k.automaticReportsLowConfidenceVideoCount}),M[24]=_,M[25]=k.automaticReportsLowConfidenceAudioCount,M[26]=k.automaticReportsLowConfidenceVideoCount,M[27]=h):h=M[27],M[28]!==T||M[29]!==_?(x=!_&&0===T&&(0,r.jsx)("span",{className:"text-gray-400",children:"no reports"}),M[28]=T,M[29]=_,M[30]=x):x=M[30],M[31]!==g||M[32]!==h||M[33]!==x?(f=(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2 border-t border-gray-700 pt-4",children:[p,g,h,x]}),M[31]=g,M[32]=h,M[33]=x,M[34]=f):f=M[34],M[35]===Symbol.for("react.memo_cache_sentinel")?(v=(0,r.jsx)("span",{className:"font-medium",children:"status:"}),M[35]=v):v=M[35],M[36]!==A||M[37]!==k.userReportsCount?(S=(0,r.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[v,A?(0,r.jsx)(j.Badge,{label:"banned",variant:"danger"}):0===k.userReportsCount?(0,r.jsx)(j.Badge,{label:"reviewed",variant:"success"}):(0,r.jsx)(j.Badge,{label:"needs review",variant:"warning"})]}),M[36]=A,M[37]=k.userReportsCount,M[38]=S):S=M[38],M[39]!==t||M[40]!==c||M[41]!==u||M[42]!==m||M[43]!==f||M[44]!==S||M[45]!==s||M[46]!==o?(N=(0,r.jsxs)("div",{className:t,children:[s,o,c,u,m,f,S]}),M[39]=t,M[40]=c,M[41]=u,M[42]=m,M[43]=f,M[44]=S,M[45]=s,M[46]=o,M[47]=N):N=M[47],N},N=e=>{let t,i,n,o=(0,a.c)(10),{open:l,onOpenChange:d,item:c}=e;o[0]!==d?(t=()=>d(!1),o[0]=d,o[1]=t):t=o[1];let u=t,m=`Livestream ID: ${c?.livestreamId??"N/A"}`;return o[2]!==u||o[3]!==c?(i=c?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"break-words",children:(0,r.jsx)(S,{item:c,className:"mb-4"})}),(0,r.jsx)("div",{className:"mt-4 flex justify-end",children:(0,r.jsx)(s.PumpButton,{label:"Close",onClick:u})})]}):(0,r.jsx)(g.Loading,{}),o[2]=u,o[3]=c,o[4]=i):i=o[4],o[5]!==d||o[6]!==l||o[7]!==m||o[8]!==i?(n=(0,r.jsx)(v.Dialog,{open:l,onOpenChange:d,title:m,children:i}),o[5]=d,o[6]=l,o[7]=m,o[8]=i,o[9]=n):n=o[9],n},M=e=>{let t,s,i,n=(0,a.c)(10),{reasons:o,variant:l,className:d}=e,c=void 0===l?"muted":l;if(n[0]!==d?(t=(0,b.default)(d,"flex items-center gap-[20px]"),n[0]=d,n[1]=t):t=n[1],n[2]!==o||n[3]!==c){let e;n[5]!==c?(e=e=>(0,r.jsx)(j.Badge,{label:e,variant:c,className:"!px-[8px] py-[4px] font-bold"},e),n[5]=c,n[6]=e):e=n[6],s=o.map(e),n[2]=o,n[3]=c,n[4]=s}else s=n[4];return n[7]!==t||n[8]!==s?(i=(0,r.jsx)("div",{className:t,children:s}),n[7]=t,n[8]=s,n[9]=i):i=n[9],i},k={automated_video_ban:{title:"AI banned for 15 minutes because of inappropriate video content"},automated_audio_ban:{title:"AI banned for 15 minutes because of inappropriate audio"},automated_video_flagged:{title:"Automated Video Flagged"},automated_audio_flagged:{title:"Automated Audio Flagged"},moderator_ban:{title:"Moderator Ban"},moderator_ban_dismissed:{title:"Moderator Ban Dismissed"},moderator_marked_safe:{title:"Moderator Marked Safe"},downrank:{title:"Downrank"},remove_downrank:{title:"Remove Downrank"}},I=e=>{let t,s,n,o,l,d,c,u,m,p,g,h,x=(0,a.c)(34),{event:f,idx:v}=e,{title:b}=k[f.event],y=f.mediaUrl,j=f.mediaUrl;x[0]!==f.event?(t=(0,i.getModerationSourceFromEventType)(f.event),x[0]=f.event,x[1]=t):t=x[1];let w=t,E=f.moderatorName?f.moderatorName:f.moderatorId?`(ID: ${f.moderatorId})`:null;x[2]!==f.reasons||x[3]!==w?(s=f.reasons?.map(e=>`${w}: ${e}`)||[],x[2]=f.reasons,x[3]=w,x[4]=s):s=x[4];let S=s,N=v+1;return x[5]!==N?(n=(0,r.jsx)("p",{className:"text-[20px] font-bold text-gray-500",children:N}),x[5]=N,x[6]=n):n=x[6],x[7]!==f.timestamp?(o=(0,C.formatDate)(f.timestamp),x[7]=f.timestamp,x[8]=o):o=x[8],x[9]!==o?(l=(0,r.jsx)("p",{className:"whitespace-nowrap text-gray-500",children:o}),x[9]=o,x[10]=l):l=x[10],x[11]!==b?(d=(0,r.jsx)("p",{className:"max-w-[300px] font-bold",children:b}),x[11]=b,x[12]=d):d=x[12],x[13]!==E?(c=E&&(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["by ",E]}),x[13]=E,x[14]=c):c=x[14],x[15]!==n||x[16]!==l||x[17]!==d||x[18]!==c?(u=(0,r.jsxs)("div",{className:"relative left-[-30px] mb-[10px] flex flex-wrap items-center gap-x-[20px] gap-y-1",children:[n,l,d,c]}),x[15]=n,x[16]=l,x[17]=d,x[18]=c,x[19]=u):u=x[19],x[20]!==S?(m=(0,r.jsx)(M,{reasons:S,className:"mb-[20px] !gap-[4px] text-[12px]",variant:"warning"}),x[20]=S,x[21]=m):m=x[21],x[22]!==y||x[23]!==w?(p="video"===w&&(y?(0,r.jsx)("img",{className:"aspect-video h-[200px]",src:y}):(0,r.jsx)("div",{className:"flex aspect-video h-[200px] items-center justify-center !bg-bg-secondary text-gray-300",children:(0,r.jsx)("p",{children:"No image"})})),x[22]=y,x[23]=w,x[24]=p):p=x[24],x[25]!==j||x[26]!==f.mediaTranscript||x[27]!==w?(g="audio"===w&&(0,r.jsxs)("div",{children:[j?(0,r.jsx)("audio",{src:j,controls:!0,controlsList:"nofullscreen noremoteplayback noplaybackrate"}):(0,r.jsx)("div",{className:"flex h-[80px] w-[360px] items-center justify-center !bg-bg-secondary text-gray-300",children:(0,r.jsx)("p",{children:"No audio"})}),(0,r.jsxs)("div",{className:"mt-[10px] flex w-[360px] items-start gap-[10px]",children:[(0,r.jsx)("p",{className:"font-bold text-white",children:"Transcript:"}),(0,r.jsx)("p",{className:"font-bold text-gray-300",children:f.mediaTranscript})]})]}),x[25]=j,x[26]=f.mediaTranscript,x[27]=w,x[28]=g):g=x[28],x[29]!==m||x[30]!==p||x[31]!==g||x[32]!==u?(h=(0,r.jsxs)("div",{className:"mb-[40px]",children:[u,m,p,g]}),x[29]=m,x[30]=p,x[31]=g,x[32]=u,x[33]=h):h=x[33],h},R=e=>{let t,s,i,n,o,l,d=(0,a.c)(11),{recentEvents:c}=e;d[0]!==c?(t=c??[],d[0]=c,d[1]=t):t=d[1];let u=t;return d[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,b.default)("flex flex-col gap-[10px] rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]"),i=(0,r.jsx)("p",{className:"text-[30px] font-bold",children:"moderation history for mint"}),d[2]=s,d[3]=i):(s=d[2],i=d[3]),d[4]!==u?(n=u.map(A),d[4]=u,d[5]=n):n=d[5],d[6]!==u.length?(o=0===u.length&&(0,r.jsx)("p",{className:"text-gray-400",children:"there are no moderation events for this mint"}),d[6]=u.length,d[7]=o):o=d[7],d[8]!==n||d[9]!==o?(l=(0,r.jsxs)("div",{className:s,children:[i,n,o]}),d[8]=n,d[9]=o,d[10]=l):l=d[10],l};function A(e,t){return(0,r.jsx)(I,{event:e,idx:t},`${e.timestamp}-${t}`)}var _=e.i(360833),_=_;let T=e=>{let t,s,n,o,l,d,c=(0,a.c)(11),{mintHistoryItems:u}=e;e:{let e;if(!u){let e;c[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],c[0]=e):e=c[0],t=e;break e}c[1]!==u?(e=u.filter(i.isModerationQueueItem).slice().sort(L),c[1]=u,c[2]=e):e=c[2],t=e}let m=t;if(0===m.length){let e;return c[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"flex h-[100px] items-center justify-center rounded-md bg-black/70 text-gray-400",children:"no past reported livestreams found for this mint"}),c[3]=e):e=c[3],e}return c[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,b.default)("flex flex-col rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]","custom-scrollbar overflow-auto"),n=(0,r.jsx)("p",{className:"text-[30px] font-bold",children:"reported livestreams for mint "}),o=(0,r.jsxs)("div",{className:(0,b.default)("flex items-center bg-white px-[5px] font-bold text-black","sticky top-[0px]"),children:[(0,r.jsx)("p",{className:"w-[60px]"}),(0,r.jsx)("p",{className:"w-[200px] border-x py-[14px] text-center",children:"started at"}),(0,r.jsx)("p",{className:"w-[120px] border-r py-[14px] text-center",children:"duration"}),(0,r.jsx)("p",{className:"w-[200px] border-r py-[14px] text-center",children:"end reason"}),(0,r.jsx)("p",{className:"w-[400px] py-[14px] text-center",children:"reports"})]}),c[4]=s,c[5]=n,c[6]=o):(s=c[4],n=c[5],o=c[6]),c[7]!==m?(l=m.map(U),c[7]=m,c[8]=l):l=c[8],c[9]!==l?(d=(0,r.jsxs)("div",{className:s,children:[n,o,l]}),c[9]=l,c[10]=d):d=c[10],d};function L(e,t){return t.streamStartTimestamp-e.streamStartTimestamp}function U(e,t){return(0,r.jsxs)("div",{className:(0,b.default)("flex flex-row items-center px-[5px] py-[14px]",t%2==0&&"bg-gray-700",t%2==1&&"bg-bg-secondary"),children:[(0,r.jsxs)("div",{className:"flex w-[60px] items-center justify-center gap-[5px]",children:[(0,r.jsx)("p",{className:"text-[14px] font-bold",children:e.numParticipants}),(0,r.jsx)(_.default,{className:"h-[14px] w-[14px]"})]}),(0,r.jsx)("p",{className:"w-[200px] text-center",children:(0,C.formatDate)(e.streamStartTimestamp,C.DateFormat.COMPACT)}),(0,r.jsx)("p",{className:"w-[120px] text-center",children:e.streamEndTimestamp?(e=>{let t=e/6e4;if(t>60){let e=t/60,r=t%60;return`${e.toFixed(0)}h ${r.toFixed(0)}min`}return t>1?`${t.toFixed(0)}min`:"< 1min"})(e.streamEndTimestamp-e.streamStartTimestamp):"Ongoing"}),(0,r.jsx)("p",{className:"w-[200px] text-center",children:e.streamEndTimestamp?e.bannedAt?"Banned":"Ended by creator":"N/A"}),(0,r.jsxs)("div",{className:"flex w-[400px] justify-center gap-[10px] text-[12px]",children:[(0,r.jsx)(E,{userReportsCount:e.userReportsCount,className:"text-[12px]"}),(0,r.jsx)(w.ModerationQueueItemReportInfo,{automaticReportsLowConfidenceAudioCount:e.automaticReportsLowConfidenceAudioCount,automaticReportsLowConfidenceVideoCount:e.automaticReportsLowConfidenceVideoCount,className:"mt-0 text-[12px]"})]})]},e.livestreamId)}var P=((t={}).HISTORY="history",t.PAST_LIVESTREAMS_MINT="past_livestreams_mint",t.REPORTS="reports",t);let O={history:"history",past_livestreams_mint:"past livestreams mint",reports:"user reports"},F=["history","past_livestreams_mint","reports"],Q={illegal:"danger",unsafe:"warning",spam:"info",other:"muted"};var B=e.i(869727),D=e.i(734127);let G=(0,e.i(376530).default)("clipboard-copy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]),V=e=>{let t,s,i,n,l,d,c,u,m=(0,a.c)(22),{text:p,charsStart:g,charsEnd:h,className:x}=e,f=void 0===g?6:g,v=void 0===h?6:h,[y,C]=(0,o.useState)(!1);m[0]!==f||m[1]!==p?(t=p.slice(0,f),m[0]=f,m[1]=p,m[2]=t):t=m[2],m[3]!==v||m[4]!==p?(s=p.slice(-v),m[3]=v,m[4]=p,m[5]=s):s=m[5];let j=`${t}...${s}`;m[6]!==p?(i=async()=>{try{await navigator.clipboard.writeText(p),C(!0),setTimeout(()=>C(!1),1500)}catch{}},m[6]=p,m[7]=i):i=m[7];let w=i;return m[8]!==x?(n=(0,b.default)("inline-flex items-center gap-1",x),m[8]=x,m[9]=n):n=m[9],m[10]!==j||m[11]!==p?(l=(0,r.jsx)("span",{className:"font-mono text-sm text-gray-400",title:p,children:j}),m[10]=j,m[11]=p,m[12]=l):l=m[12],m[13]!==y?(d=y?(0,r.jsx)(D.Check,{className:"h-3 w-3 text-green-500"}):(0,r.jsx)(G,{className:"h-3 w-3"}),m[13]=y,m[14]=d):d=m[14],m[15]!==w||m[16]!==d?(c=(0,r.jsx)("button",{onClick:w,className:"text-gray-500 transition-colors duration-150 hover:text-gray-300",title:"Copy full value","aria-label":"Copy full value",children:d}),m[15]=w,m[16]=d,m[17]=c):c=m[17],m[18]!==n||m[19]!==l||m[20]!==c?(u=(0,r.jsxs)("div",{className:n,children:[l,c]}),m[18]=n,m[19]=l,m[20]=c,m[21]=u):u=m[21],u},$=e=>{let t,s,i,n,o=(0,a.c)(7),{reports:l}=e;if(!l||0===l.length){let e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("p",{children:"No user reports found for this mint."}),o[0]=e):e=o[0],e}return o[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("h3",{className:"text-xl font-semibold lowercase",children:"user reports"}),o[1]=t):t=o[1],o[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)("thead",{className:"bg-white text-black",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-4 py-4 text-left text-xs font-medium tracking-wider",children:"date"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-4 text-left text-xs font-medium tracking-wider",children:"reason"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-4 text-left text-xs font-medium tracking-wider",children:"description"}),(0,r.jsx)("th",{scope:"col",className:"px-4 py-4 text-left text-xs font-medium tracking-wider",children:"reporter address"})]})}),o[2]=s):s=o[2],o[3]!==l?(i=l.map(q),o[3]=l,o[4]=i):i=o[4],o[5]!==i?(n=(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[t,(0,r.jsx)("div",{className:"custom-scrollbar overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[s,(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:i})]})})]}),o[5]=i,o[6]=n):n=o[6],n};function q(e,t){return(0,r.jsxs)("tr",{className:(0,b.default)(t%2==0&&"bg-gray-700",t%2==1&&"bg-bg-secondary"),children:[(0,r.jsx)("td",{className:"whitespace-nowrap px-4 py-4 text-sm text-gray-300",children:(0,C.formatDate)(e.createdAt)}),(0,r.jsx)("td",{className:"whitespace-nowrap px-4 py-4 text-sm",children:(0,r.jsx)(j.Badge,{label:e.reason,variant:Q[e.reason]??"muted"})}),(0,r.jsx)("td",{className:"px-4 py-4 text-sm text-gray-300",children:e.description||"--"}),(0,r.jsx)("td",{className:"whitespace-nowrap px-4 py-4 text-sm",children:(0,r.jsx)(V,{text:e.userAddress,charsEnd:4})})]},e.id)}let K=e=>{let t,s,i,n,o=(0,a.c)(12),{mintId:l}=e,m=!!l;o[0]!==l||o[1]!==m?(t={mintId:l,enabled:m},o[0]=l,o[1]=m,o[2]=t):t=o[2];let{data:p,isLoading:h,isError:x,error:f}=(({mintId:e,enabled:t=!0})=>(0,d.useQuery)({queryKey:B.MODERATION_QUERY_KEYS.reportsByMint(e??""),queryFn:async()=>{if(!e)return u.logger.warn("[useGetLivestreamUserReportsByMint] Fetch skipped, no mintId"),null;u.logger.debug("[useGetLivestreamUserReportsByMint] Attempting to fetch user reports by mint",{mintId:e});try{let t=await c.api.get("livestream-reports/get-reports-by-mint",{searchParams:{mint:e}}).json();return u.logger.debug("[useGetLivestreamUserReportsByMint] Fetch successful",{mintId:e,reportCount:t?.length}),t??null}catch(r){let t=r instanceof Error?r.message:String(r);throw u.logger.error("[useGetLivestreamUserReportsByMint] Fetch failed",{mintId:e,error:t}),r}},enabled:t&&!!e}))(t);if(h){let e;return o[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(g.Loading,{}),o[3]=e):e=o[3],e}if(x){let e,t;o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,b.default)("flex flex-col rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]","text-red-500"),o[4]=e):e=o[4];let a=f?.message||"Please try again later.";return o[5]!==a?(t=(0,r.jsx)("div",{className:e,children:(0,r.jsxs)("p",{children:["Error loading reports: ",a]})}),o[5]=a,o[6]=t):t=o[6],t}return o[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,b.default)("flex flex-col rounded-md bg-black/70","border-[2px] border-gray-700 px-[60px] py-[40px]"),o[7]=s):s=o[7],o[8]!==p?(i=p??[],o[8]=p,o[9]=i):i=o[9],o[10]!==i?(n=(0,r.jsx)("div",{className:s,children:(0,r.jsx)($,{reports:i})}),o[10]=i,o[11]=n):n=o[11],n},H=e=>{let t,s,i,n,l,d=(0,a.c)(15),{item:c,mintHistoryItems:u,recentEvents:m}=e,[p,g]=(0,o.useState)(P.HISTORY);switch(p){case P.HISTORY:{let e;d[0]!==m?(e=(0,r.jsx)(R,{recentEvents:m}),d[0]=m,d[1]=e):e=d[1],t=e;break}case P.PAST_LIVESTREAMS_MINT:{let e;d[2]!==u?(e=(0,r.jsx)(T,{mintHistoryItems:u}),d[2]=u,d[3]=e):e=d[3],t=e;break}case P.REPORTS:{let e;d[4]!==c.mintId?(e=(0,r.jsx)(K,{mintId:c.mintId}),d[4]=c.mintId,d[5]=e):e=d[5],t=e;break}default:t=null}let h=t;return d[6]!==p?(s=F.map(e=>(0,r.jsx)("div",{className:(0,b.default)("w-[180px] cursor-pointer rounded-sm border-l-4 p-[10px] transition-all duration-300 hover:bg-bg-secondary hover:text-white",{"border-livestream-green bg-bg-secondary font-bold text-white":p===e,"border-transparent bg-gray-900 text-livestream-muted":p!==e}),onClick:()=>g(e),children:O[e]},e)),d[6]=p,d[7]=s):s=d[7],d[8]!==s?(i=(0,r.jsx)("div",{className:"flex flex-col gap-[20px]",children:s}),d[8]=s,d[9]=i):i=d[9],d[10]!==h?(n=(0,r.jsx)("div",{className:"max-w-[75%]",children:h}),d[10]=h,d[11]=n):n=d[11],d[12]!==i||d[13]!==n?(l=(0,r.jsxs)("div",{className:"mt-[40px] flex gap-[40px]",children:[i,n]}),d[12]=i,d[13]=n,d[14]=l):l=d[14],l};e.s(["ModerationPanelItemDetail",0,e=>{let t,v,b,y,C,j,w,E,M,k,I,R,A=(0,a.c)(53),{livestreamId:_,onNavigate:T,livestreamPath:L}=e,U=void 0===L?"/moderation/livestream":L;A[0]!==_||A[1]!==U||A[2]!==T?(t={initialLivestreamIdProp:_,onNavigate:T,livestreamPath:U},A[0]=_,A[1]=U,A[2]=T,A[3]=t):t=A[3];let{itemData:P,isLoading:O,showNotFound:F,isDialogOpen:Q,selectedItemForDialog:B,handleGoBack:D,handleActionSuccess:G,handleCloseDialog:V,isBanned:$,hasReports:q,lastEventMedia:K,totalUserReportsForMint:Y,mintItemsData:X,recentEvents:z}=(({initialLivestreamIdProp:e,onNavigate:t,livestreamPath:r="/moderation/livestream"})=>{let{isOnline:a}=(0,p.useModeratorContext)(),[s,n]=(0,o.useState)(void 0),[g,h]=(0,o.useState)(!1),[x,f]=(0,o.useState)(null);(0,o.useEffect)(()=>{let t=Number(e);!isNaN(t)&&t>0?(u.logger.debug("[useModerationPanelItemDetailLogic] Setting selectedLivestreamId from prop",{initialId:t}),n(t)):(u.logger.debug("[useModerationPanelItemDetailLogic] initialLivestreamIdProp is invalid or not provided, clearing selectedLivestreamId",{initialLivestreamIdProp:e}),n(void 0))},[e]);let{data:v,isLoading:b,isError:y,isFetching:C}=(({livestreamId:e,enabled:t,onSuccess:r,refetchOnMount:a,refetchOnWindowFocus:s})=>(0,d.useQuery)({queryKey:["get-moderation-queue-item",e],queryFn:async()=>{u.logger.debug("[useGetModerationQueueItem] Attempting to fetch moderation queue item",{livestreamId:e});let t=new URLSearchParams;t.set("livestreamId",e.toString());try{let a=await c.api.get(`human-moderation/moderation-queue-item?${t.toString()}`).json();return u.logger.debug("[useGetModerationQueueItem] Fetch successful",{livestreamId:e,hasItem:!!a,itemId:a?.id,isLiveDataInResponse:a?.isLive}),r?.(a),a}catch(r){let t=r instanceof Error?r.message:String(r);throw u.logger.error("[useGetModerationQueueItem] Fetch failed",{livestreamId:e,error:t}),r}},enabled:t,refetchOnMount:a,refetchOnWindowFocus:s}))({livestreamId:s??0,enabled:!!s&&!isNaN(s),refetchOnMount:!1,refetchOnWindowFocus:!1}),{data:j,isLoading:w}=(0,m.useGetModerationQueuePage)({page:1,pageSize:100,mint:v?.mintId,enabled:!!v?.mintId,refetchOnMount:!1,refetchOnWindowFocus:!1}),{data:E,isLoading:S,isFetching:N}=(0,l.useGetModerationEvents)({mintId:v?.mintId,page:1,limit:20,enabled:!!v?.mintId,refetchOnMount:!1,refetchOnWindowFocus:!1}),M=(0,o.useMemo)(()=>{if(j?.items)return j.items.reduce((e,t)=>"latestItem"in t?e:e+(t.userReportsCount??0),0)},[j?.items]),k=b||C&&!v||!!v?.mintId&&w||!!v?.id&&(S||N),I=!s||!b&&(y||!v),{isBanned:R,hasReports:A,isReportedByAI:_,moderationReasons:T}=(0,o.useMemo)(()=>{if(!v)return{isBanned:!1,hasAiReports:!1,hasUserReports:!1,hasReports:!1,isReportedByAI:!1,moderationReasons:[]};let e=!!v.bannedAt,t=(v.automaticReportsLowConfidenceAudioCount??0)>0||(v.automaticReportsLowConfidenceVideoCount??0)>0,r=(v.userReportsCount??0)>0;return{isBanned:e,hasAiReports:t,hasUserReports:r,hasReports:t||r,isReportedByAI:!e&&t,moderationReasons:(0,i.getModerationReasonsFromItem)(v)}},[v]),L=(0,o.useMemo)(()=>x?(0,i.getModerationReasonsFromItem)(x):[],[x]);return{isOnline:a,selectedLivestreamId:s,itemData:v,isLoading:k,showNotFound:I,isDialogOpen:g,selectedItemForDialog:x,handleSelectItemInList:e=>{f(e),h(!0)},handleGoBack:()=>{t(r)},handleActionSuccess:()=>{t(r)},handleCloseDialog:()=>{h(!1)},isBanned:R,hasReports:A,isReportedByAI:_,moderationReasons:T,dialogModerationReasons:L,lastEventMedia:(0,o.useMemo)(()=>{let e=E?.items;if(!e?.length)return null;let t=e[0];if(!t)return null;let r=(0,i.getModerationSourceFromEventType)(t.event);return"video"===r&&t.mediaUrl?{imageUrl:t.mediaUrl}:"audio"===r&&t.mediaUrl?{audioUrl:t.mediaUrl,transcript:t.mediaTranscript}:null},[E?.items]),totalUserReportsForMint:M,mintItemsData:j,recentEvents:E?.items}})(t);X?.items,A[4]!==X?.items?(v=X?.items?.filter(i.isModerationQueueItem),A[4]=X?.items,A[5]=v):v=A[5];let W=v;if(O){let e;return A[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(g.Loading,{}),A[6]=e):e=A[6],e}if(F||!P){let e,t,a,i;A[7]!==D?(e=(0,r.jsx)("div",{className:"mb-6 text-left",children:(0,r.jsx)(s.PumpButton,{label:"back",appearance:"outline",onClick:D})}),A[7]=D,A[8]=e):e=A[8],A[9]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("h2",{className:"mb-4 text-2xl font-bold",children:"Livestream Not Found"}),A[9]=t):t=A[9];let n=_??"N/A";return A[10]!==n?(a=(0,r.jsxs)("p",{className:"mb-6",children:["The requested livestream (ID: ",n,") could not be found."]}),A[10]=n,A[11]=a):a=A[11],A[12]!==e||A[13]!==a?(i=(0,r.jsxs)("div",{className:"p-8 text-center text-white",children:[e,t,a]}),A[12]=e,A[13]=a,A[14]=i):i=A[14],i}return A[15]!==D?(b=(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)(s.PumpButton,{label:"back",appearance:"outline",onClick:D})}),A[15]=D,A[16]=b):b=A[16],A[17]!==P.livestreamId?(y=(0,r.jsxs)("h1",{className:"mb-4 text-2xl font-bold",children:["moderation details for livestream id: ",P.livestreamId]}),A[17]=P.livestreamId,A[18]=y):y=A[18],A[19]!==P||A[20]!==Y?(C=(0,r.jsx)(S,{item:P,className:"mb-[20px]",totalUserReportsForMint:Y}),A[19]=P,A[20]=Y,A[21]=C):C=A[21],A[22]!==G||A[23]!==q||A[24]!==$||A[25]!==P.livestreamId||A[26]!==P.mintId?(j=(0,r.jsx)(x.ModerationQueueItemActions,{mint:P.mintId,isBanned:$,livestreamId:P.livestreamId,hasReports:q,onSuccess:G,className:"mb-[20px] gap-4 text-[20px] xl:text-[20px]",showMarkingAsSafe:!0,showResetButton:!0,sourceContext:n.MODERATION_SOURCE_CONTEXTS.DETAIL_USER_ACTION}),A[22]=G,A[23]=q,A[24]=$,A[25]=P.livestreamId,A[26]=P.mintId,A[27]=j):j=A[27],A[28]!==P||A[29]!==K?(w=(0,r.jsx)("div",{className:"mx-auto max-w-[800px]",children:(0,r.jsx)(f.ModerationQueueItemMedia,{item:P,lastEventMedia:K,showControls:!0})}),A[28]=P,A[29]=K,A[30]=w):w=A[30],A[31]!==C||A[32]!==j||A[33]!==w?(E=(0,r.jsxs)("div",{className:"mb-8 rounded-lg bg-bg-secondary p-4 shadow",children:[C,j,w]}),A[31]=C,A[32]=j,A[33]=w,A[34]=E):E=A[34],A[35]!==W||A[36]!==P||A[37]!==z?(M=(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(H,{item:P,mintHistoryItems:W,recentEvents:z})}),A[35]=W,A[36]=P,A[37]=z,A[38]=M):M=A[38],A[39]!==V||A[40]!==Q||A[41]!==B?(k=(0,r.jsx)(N,{open:Q,onOpenChange:V,item:B}),A[39]=V,A[40]=Q,A[41]=B,A[42]=k):k=A[42],A[43]!==U||A[44]!==T?(I=(0,r.jsx)(h.ActivityCheck,{onClockOut:()=>T(U)}),A[43]=U,A[44]=T,A[45]=I):I=A[45],A[46]!==M||A[47]!==k||A[48]!==I||A[49]!==b||A[50]!==y||A[51]!==E?(R=(0,r.jsxs)("div",{className:"p-4 text-white md:p-8",children:[b,y,E,M,k,I]}),A[46]=M,A[47]=k,A[48]=I,A[49]=b,A[50]=y,A[51]=E,A[52]=R):R=A[52],R}],977164)},263986,e=>{"use strict";e.s([],516217),e.i(516217);var t=e.i(804300),r=e.i(122378),a=e.i(419157),s=e.i(929),i=e.i(848963),n=e.i(276116),o=e.i(30625),l=e.i(115044),d=e.i(793764),c=e.i(612809),u=e.i(120234),m=e.i(717298),p=e.i(353810),g=e.i(243900),h=e.i(723394),x=e.i(313768),f=e.i(841550),v=e.i(773918),b=e.i(942765),y=e.i(649785),C=e.i(264458),j=e.i(71064),w=e.i(166826),E=e.i(977164),S=e.i(935232),N=e.i(967388),M=e.i(203350),k=e.i(47606),I=e.i(749606),R=e.i(472125),A=e.i(281675),_=e.i(855645),T=e.i(596904),L=e.i(54567),U=e.i(393557),P=e.i(710080),O=e.i(690877),F=e.i(812768),Q=e.i(936736),B=e.i(987078),D=e.i(880085),G=e.i(128809),V=e.i(601008),$=e.i(549281),q=e.i(270837),K=e.i(817079),H=e.i(916764),Y=e.i(325320),X=e.i(419799),z=e.i(952544),W=e.i(86868),J=e.i(89085),Z=e.i(687470);e.s(["AUTH_TOKEN_COOKIE_NAME",()=>T.AUTH_TOKEN_COOKIE_NAME,"ArchivedVideosPreview",()=>t.ArchivedVideosPreview,"CLIP_SOURCE_CONTEXTS",()=>N.CLIP_SOURCE_CONTEXTS,"CenteredStatusMessage",()=>s.CenteredStatusMessage,"ChatMessage",()=>i.ChatMessage,"CoinLivestream",()=>h.CoinLivestream,"FeaturedClipsPreview",()=>r.FeaturedClipsPreview,"LIVECHAT_SOURCE_CONTEXTS",()=>N.LIVECHAT_SOURCE_CONTEXTS,"LIVESTREAM_SOURCE_CONTEXTS",()=>N.LIVESTREAM_SOURCE_CONTEXTS,"Livechat",()=>n.Livechat,"LivechatContent",()=>o.LivechatContent,"LivechatHeader",()=>l.LivechatHeader,"LivechatProvider",()=>_.LivechatProvider,"LivechatView",()=>d.LivechatView,"LivekitRole",()=>J.LivekitRole,"LivestreamBanned",()=>x.LivestreamBanned,"LivestreamParticipantView",()=>f.LivestreamParticipantView,"LivestreamPreviewPlayer",()=>v.LivestreamPreviewPlayer,"LivestreamProvider",()=>Y.LivestreamProvider,"MODERATION_SOURCE_CONTEXTS",()=>N.MODERATION_SOURCE_CONTEXTS,"MessageInput",()=>c.MessageInput,"MessageList",()=>u.MessageList,"ModerationPanelItemDetail",()=>E.ModerationPanelItemDetail,"ModerationQueuePage",()=>S.ModerationQueuePage,"ModeratorContext",()=>X.ModeratorContext,"ModeratorMessageMenu",()=>m.ModeratorMessageMenu,"ModeratorProvider",()=>X.ModeratorProvider,"PumpPillLoader",()=>a.PumpPillLoader,"ResetLivestreamButton",0,e=>{let t,r,a,s,i=(0,y.c)(11),{mintId:n,className:o,label:l,onReset:d}=e,c=void 0===l?"Reset Livestream":l;i[0]!==n?(t={mintId:n},i[0]=n,i[1]=t):t=i[1];let{mutateAsync:u}=(0,j.useResetLivestream)(t);i[2]!==d||i[3]!==u?(r=async()=>{await u(),d?.()},i[2]=d,i[3]=u,i[4]=r):r=i[4];let m=r;return i[5]!==o?(a=(0,C.default)("rounded bg-blue-500 px-2 py-1 text-white",o),i[5]=o,i[6]=a):a=i[6],i[7]!==m||i[8]!==c||i[9]!==a?(s=(0,b.jsx)("button",{onClick:m,className:a,children:c}),i[7]=m,i[8]=c,i[9]=a,i[10]=s):s=i[10],s},"StartPreviewButton",()=>w.StartPreviewButton,"SystemMessage",()=>p.SystemMessage,"UNSPECIFIED_SOURCE_CONTEXT",()=>N.UNSPECIFIED_SOURCE_CONTEXT,"UserMessageBubble",()=>g.UserMessageBubble,"api",()=>Q.api,"clientServerApi",()=>Q.clientServerApi,"decodeJwtPayload",()=>T.decodeJwtPayload,"environment",()=>z.environment,"featureFlags",()=>z.featureFlags,"getAuthTokenFromCookies",()=>T.getAuthTokenFromCookies,"getUserAddressFromToken",()=>T.getUserAddressFromToken,"getUserEventsSDK",()=>M.getUserEventsSDK,"hasClipParam",()=>Z.hasClipParam,"hasValidAuthToken",()=>T.hasValidAuthToken,"isTokenExpired",()=>T.isTokenExpired,"livechatApi",()=>Q.livechatApi,"logger",()=>L.logger,"removeAuthTokenCookie",()=>T.removeAuthTokenCookie,"setAuthTokenCookie",()=>T.setAuthTokenCookie,"setRecordEventFunction",()=>M.setRecordEventFunction,"setUserEventsSDK",()=>M.setUserEventsSDK,"trackLivestreamEvent",()=>k.trackLivestreamEvent,"useAuthenticatedLivechat",0,e=>{let t,r,a,s,i,n,o,l=(0,y.c)(21);l[0]!==e?(t=void 0===e?{}:e,l[0]=e,l[1]=t):t=l[1];let{authToken:d,autoReconnect:c}=t,u=void 0===c||c,m=(0,_.useLivechat)();l[2]!==u||l[3]!==m?(r=(e,t)=>{let r=void 0===t?u:t;if(e){if(3!==e.split(".").length)return void L.logger.warn("[useAuthenticatedLivechat] Invalid JWT token format");if((0,T.isTokenExpired)(e))return void L.logger.warn("[useAuthenticatedLivechat] Attempting to set expired JWT token");L.logger.debug("[useAuthenticatedLivechat] Setting auth token cookie"),(0,T.setAuthTokenCookie)(e),r&&(L.logger.debug("[useAuthenticatedLivechat] Reconnecting with new auth token"),m.forceReconnect())}else L.logger.debug("[useAuthenticatedLivechat] Removing auth token cookie"),(0,T.removeAuthTokenCookie)(),r&&(L.logger.debug("[useAuthenticatedLivechat] Reconnecting in read-only mode"),m.forceReconnect())},l[2]=u,l[3]=m,l[4]=r):r=l[4];let p=r;l[5]!==m?(a=()=>{L.logger.debug("[useAuthenticatedLivechat] Clearing authentication - switching to read-only mode"),(0,T.removeAuthTokenCookie)(),m.forceReconnect()},l[5]=m,l[6]=a):a=l[6];let g=a;l[7]!==m?(s=()=>{L.logger.debug("[useAuthenticatedLivechat] Force reconnecting websocket"),m.forceReconnect()},l[7]=m,l[8]=s):s=l[8];let h=s;l[9]!==d||l[10]!==u||l[11]!==p?(i=()=>{void 0!==d&&(0,T.getAuthTokenFromCookies)()!==d&&p(d,u)},n=[d,u,p],l[9]=d,l[10]=u,l[11]=p,l[12]=i,l[13]=n):(i=l[12],n=l[13]),(0,A.useEffect)(i,n);let x=m.isAuthenticated,f=m.readOnly;return l[14]!==g||l[15]!==h||l[16]!==x||l[17]!==f||l[18]!==m||l[19]!==p?(o={setAuthToken:p,clearAuth:g,isAuthenticated:x,isReadOnly:f,forceReconnect:h,livechat:m},l[14]=g,l[15]=h,l[16]=x,l[17]=f,l[18]=m,l[19]=p,l[20]=o):o=l[20],o},"useBan",()=>U.useBan,"useBanCoin",()=>P.useBanCoin,"useClipParam",()=>I.useClipParam,"useCoinQuery",0,e=>{let t,r=(0,y.c)(2),{mintId:a}=e;return r[0]!==a?(t={queryKey:["coin",a],queryFn:async()=>{L.logger.debug("[useCoinQuery] Attempting to fetch coin details");try{let e=await Q.clientServerApi.get(`coins-v2/${a}`).json();return L.logger.debug("[useCoinQuery] Fetch successful",{mintId:a,hasData:!!e}),e}catch(t){if(t instanceof F.HTTPError&&401===t.response.status)return null;let e=t instanceof Error?t.message:String(t);throw L.logger.error("[useCoinQuery] Fetch failed",{error:e}),t}}},r[0]=a,r[1]=t):t=r[1],(0,O.useQuery)(t)},"useEnforceModerator",()=>X.useEnforceModerator,"useGetChatModerationRules",()=>B.useGetChatModerationRules,"useGetClipCounts",()=>R.useGetClipCounts,"useGetModerationEvents",()=>D.useGetModerationEvents,"useGetModerationQueuePage",()=>G.useGetModerationQueuePage,"useLivestreamContext",()=>Y.useLivestreamContext,"useMarkSafe",()=>V.useMarkSafe,"useMarkUnsafe",()=>$.useMarkUnsafe,"useModeratorContext",()=>X.useModeratorContext,"useModeratorStore",()=>W.useModeratorStore,"useUnban",()=>q.useUnban,"useUpdateChatModerationRules",()=>K.useUpdateChatModerationRules,"useUpdateDownrankStatus",()=>H.useUpdateDownrankStatus],263986)},995037,e=>{e.v(t=>Promise.all(["static/chunks/3fe5f1d372da0ac0.js"].map(t=>e.l(t))).then(()=>t(699040)))},321372,e=>{e.v(t=>Promise.all(["static/chunks/c6c8bf917c41f4d4.js"].map(t=>e.l(t))).then(()=>t(939685)))},305136,e=>{e.v(t=>Promise.all(["static/chunks/b721a5a3d9c86a00.js"].map(t=>e.l(t))).then(()=>t(368684)))},447578,e=>{e.v(t=>Promise.all(["static/chunks/92648bf2b2a875dd.js"].map(t=>e.l(t))).then(()=>t(173594)))},44830,e=>{e.v(t=>Promise.all(["static/chunks/c75799f6e8437bef.js"].map(t=>e.l(t))).then(()=>t(776868)))},167307,e=>{e.v(t=>Promise.all(["static/chunks/353d4ca1e8ec1c11.js"].map(t=>e.l(t))).then(()=>t(306952)))},541462,e=>{e.v(t=>Promise.all(["static/chunks/e1e59f82b089540f.js"].map(t=>e.l(t))).then(()=>t(994212)))},783219,e=>{e.v(t=>Promise.all(["static/chunks/07f2b14cd666c8ca.js"].map(t=>e.l(t))).then(()=>t(409050)))},833511,e=>{e.v(t=>Promise.all(["static/chunks/d6370c5119ec8fc4.js"].map(t=>e.l(t))).then(()=>t(123696)))},78813,e=>{e.v(t=>Promise.all(["static/chunks/bf45ed48731ae19a.js"].map(t=>e.l(t))).then(()=>t(880073)))},859592,e=>{e.v(e=>Promise.resolve().then(()=>e(607079)))}]);