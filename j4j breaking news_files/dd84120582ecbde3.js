(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,762621,e=>{"use strict";let t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},r=console,n={};Object.keys(t).forEach(e=>{n[e]=r[e]});let i="Datadog Browser SDK:",o={debug:n.debug.bind(r,i),log:n.log.bind(r,i),info:n.info.bind(r,i),warn:n.warn.bind(r,i),error:n.error.bind(r,i)},a="https://docs.datadoghq.com",s=`${a}/real_user_monitoring/browser/troubleshooting`;e.s(["ConsoleApiName",0,t,"DOCS_ORIGIN",0,a,"DOCS_TROUBLESHOOTING",0,s,"MORE_DETAILS",0,"More details:","display",0,o,"globalConsole",0,r])},747701,e=>{"use strict";var t=e.i(762621);function r(e,r){return(...n)=>{try{return e(...n)}catch(e){t.display.error(r,e)}}}e.s(["catchUserErrors",()=>r])},77669,e=>{"use strict";let t;var r=e.i(762621);let n=!1;function i(e){t=e}function o(e){n=e}function a(e){return function(){return s(e,this,arguments)}}function s(e,t,r){try{return e.apply(t,r)}catch(e){l(e)}}function l(e){if(u(e),t)try{t(e)}catch(e){u(e)}}function u(...e){n&&r.display.error("[MONITOR]",...e)}e.s(["callMonitored",()=>s,"displayIfDebugEnabled",()=>u,"monitor",()=>a,"monitorError",()=>l,"setDebugMode",()=>o,"startMonitorErrorCollection",()=>i])},855447,e=>{"use strict";var t=e.i(747701),r=e.i(77669),n=e.i(762621);function i(e){let t={version:"6.21.0",onReady(e){e()},...e};return Object.defineProperty(t,"_setDebug",{get:()=>r.setDebugMode,enumerable:!1}),t}function o(e,r,i){let o=e[r];o&&!o.q&&o.version&&n.display.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[r]=i,o&&o.q&&o.q.forEach(e=>(0,t.catchUserErrors)(e,"onReady callback threw an error:")())}e.s(["defineGlobal",()=>o,"makePublicApi",()=>i])},175408,e=>{"use strict";function t(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}let r=t();e.s(["getGlobalObject",()=>t,"globalObject",0,r,"isWorkerEnvironment",0,!("document"in r)])},229360,e=>{"use strict";e.s(["ContextManagerMethod",0,{getContext:"getContext",setContext:"setContext",setContextProperty:"setContextProperty",removeContextProperty:"removeContextProperty",clearContext:"clearContext"},"CustomerContextKey",0,{userContext:"userContext",globalContext:"globalContext",accountContext:"accountContext"}])},608350,e=>{"use strict";let t=/[^\u0000-\u007F]/;function r(e){return t.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function n(e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}e.s(["ONE_KIBI_BYTE",0,1024,"ONE_MEBI_BYTE",0,1048576,"computeBytesCount",()=>r,"concatBuffers",()=>n])},277949,e=>{"use strict";var t=e.i(175408);function r(e,r){let n,i=(0,t.getGlobalObject)();return i.Zone&&"function"==typeof i.Zone.__symbol__&&(n=e[i.Zone.__symbol__(r)]),n||(n=e[r]),n}e.s(["getZoneJsOriginalValue",()=>r])},137880,e=>{"use strict";var t=e.i(277949),r=e.i(77669),n=e.i(175408);function i(e,i){return(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"setTimeout")((0,r.monitor)(e),i)}function o(e){(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"clearTimeout")(e)}function a(e,i){return(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"setInterval")((0,r.monitor)(e),i)}function s(e){(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"clearInterval")(e)}e.s(["clearInterval",()=>s,"clearTimeout",()=>o,"setInterval",()=>a,"setTimeout",()=>i])},104404,146331,412491,784049,294691,410592,170737,212632,148368,e=>{"use strict";let t;var r,n,i=e.i(762621),o=e.i(608350),a=e.i(137880);function s(e,t,r){let n,i,o=!r||void 0===r.leading||r.leading,s=!r||void 0===r.trailing||r.trailing,l=!1;return{throttled:(...r)=>{if(l){n=r;return}o?e(...r):n=r,l=!0,i=(0,a.setTimeout)(()=>{s&&n&&e(...n),l=!1,n=void 0},t)},cancel:()=>{(0,a.clearTimeout)(i),l=!1,n=void 0}}}function l(){}function u(e,t,r){if("object"!=typeof e||null===e)return JSON.stringify(e);let n=c(Object.prototype),i=c(Array.prototype),o=c(Object.getPrototypeOf(e)),a=c(e);try{return JSON.stringify(e,t,r)}catch(e){return"<error: unable to serialize object>"}finally{n(),i(),o(),a()}}function c(e){let t=e.toJSON;return t?(delete e.toJSON,()=>{e.toJSON=t}):l}e.s(["noop",()=>l,"throttle",()=>s],146331),e.s(["detachToJsonMethod",()=>c,"jsonStringify",()=>u],412491);let d=220*o.ONE_KIBI_BYTE;function p(e,t=d){let r=c(Object.prototype),n=c(Array.prototype),i=[],o=new WeakMap,a=f(e,"$",void 0,i,o),s=JSON.stringify(a),l=s?s.length:0;if(l>t)return void m(t,"discarded",e);for(;i.length>0&&l<t;){let r=i.shift(),n=0;if(Array.isArray(r.source))for(let a=0;a<r.source.length;a++){let s=f(r.source[a],r.path,a,i,o);if(void 0!==s?l+=JSON.stringify(s).length:l+=4,l+=n,n=1,l>t){m(t,"truncated",e);break}r.target[a]=s}else for(let a in r.source)if(Object.prototype.hasOwnProperty.call(r.source,a)){let s=f(r.source[a],r.path,a,i,o);if(void 0!==s&&(l+=JSON.stringify(s).length+n+a.length+3,n=1),l>t){m(t,"truncated",e);break}r.target[a]=s}}return r(),n(),a}function f(e,t,r,n,i){let o=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!o||"object"!=typeof o){var a;return"bigint"==typeof(a=o)?`[BigInt] ${a.toString()}`:"function"==typeof a?`[Function] ${a.name||"unknown"}`:"symbol"==typeof a?`[Symbol] ${a.description||a.toString()}`:a}let s=function e(t){try{if(t instanceof Event){var r;return{type:(r=t).type,isTrusted:r.isTrusted,currentTarget:r.currentTarget?e(r.currentTarget):null,target:r.target?e(r.target):null}}if(t instanceof RegExp)return`[RegExp] ${t.toString()}`;let n=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch(e){}return"[Unserializable]"}(o);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(i.has(e))return`[Reference seen at ${i.get(e)}]`;let l=void 0!==r?`${t}.${r}`:t,u=Array.isArray(o)?[]:{};return i.set(e,l),n.push({source:o,target:u,path:l}),u}function m(e,t,r){i.display.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,r)}function g(e){var r,n;let i=[],o=w(e,"stack"),a=String(e);if(o&&o.startsWith(a)&&(o=o.slice(a.length)),o&&o.split("\n").forEach(e=>{let t=function(e){let t=b.exec(e);if(!t)return;let r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=h.exec(t[2]);return n&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}(e)||function(e){let t=E.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){let t=S.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){let t=T.exec(e);if(!t)return;let r=t[3]&&t[3].indexOf(" > eval")>-1,n=_.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}(e);t&&(!t.func&&t.line&&(t.func="?"),i.push(t))}),i.length>0&&function(){if(void 0!==t)return t;let[e,r]=[class extends Error{constructor(){super(),this.name="Error"}},Error].map(e=>new e);return t=A(Object.getPrototypeOf(e))&&r.stack!==e.stack}()&&e instanceof Error){let t=[],o=e;for(;(o=Object.getPrototypeOf(o))&&A(o);){let e=(null==(r=o.constructor)?void 0:r.name)||"?";t.push(e)}for(let e=t.length-1;e>=0&&(null==(n=i[0])?void 0:n.func)===t[e];e--)i.shift()}return{message:w(e,"message"),name:w(e,"name"),stack:i}}e.s(["sanitize",()=>p],784049);let y="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",v="(?::(\\d+))",b=RegExp(`^\\s*at (.*?) ?\\(${y}${v}?${v}?\\)?\\s*$`,"i"),h=RegExp(`\\((\\S*)${v}${v}\\)`),E=RegExp(`^\\s*at ?${y}${v}?${v}??\\s*$`,"i"),S=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,T=/^\s*(.*?)(?:\((.*?)\))?(?:(?:(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?)|@)\s*$/i,_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function w(e,t){if("object"!=typeof e||!e||!(t in e))return;let r=e[t];return"string"==typeof r?r:void 0}function C(e,t,r,n){var i;let o,a;if(void 0===t)return;let{name:s,message:l}=(i=e,"[object String]"===({}).toString.call(i)&&([,o,a]=I.exec(i)),{name:o,message:a});return{name:s,message:l,stack:[{url:t,column:n,line:r}]}}let I=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function A(e){return String(e.constructor).startsWith("class ")}e.s(["computeStackTrace",()=>g,"computeStackTraceFromOnErrorMessage",()=>C],294691);var R=e.i(77669);function O(e){let t,r=Error(e);return r.name="HandlingStack",(0,R.callMonitored)(()=>{let e=g(r);e.stack=e.stack.slice(2),t=N(e)}),t}function N(e){let t=x(e);return e.stack.forEach(e=>{let r="?"===e.func?"<anonymous>":e.func,n=e.args&&e.args.length>0?`(${e.args.join(", ")})`:"",i=e.line?`:${e.line}`:"",o=e.line&&e.column?`:${e.column}`:"";t+=`
  at ${r}${n} @ ${e.url}${i}${o}`}),t}function x(e){return`${e.name||"Error"}: ${e.message}`}e.s(["createHandlingStack",()=>O,"formatErrorMessage",()=>x,"toStackTraceString",()=>N],410592);let k="No stack, consider using an instance of Error";function D({stackTrace:e,originalError:t,handlingStack:r,componentStack:n,startClocks:i,nonErrorPrefix:o,useFallbackStack:a=!0,source:s,handling:l}){var c,d,f,m,y;let v=M(t);return!e&&v&&(e=g(t)),{startClocks:i,source:s,handling:l,handlingStack:r,componentStack:n,originalError:t,type:e?e.name:void 0,message:(c=e,d=v,f=o,m=t,(null==c?void 0:c.message)&&(null==c?void 0:c.name)?c.message:d?"Empty message":`${f} ${u(p(m))}`),stack:e?N(e):a?k:void 0,causes:v?function(e,t){let r=e,n=[];for(;M(null==r?void 0:r.cause)&&n.length<10;){let e=g(r.cause);n.push({message:r.cause.message,source:t,type:null==e?void 0:e.name,stack:e&&N(e)}),r=r.cause}return n.length?n:void 0}(t,s):void 0,fingerprint:M(y=t)&&"dd_fingerprint"in y?String(y.dd_fingerprint):void 0,context:function(e){if(null!==e&&"object"==typeof e&&"dd_context"in e)return e.dd_context}(t)}}function M(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}function L(e){return{...e}}function U(e,t){return Object.keys(e).some(r=>e[r]===t)}function P(e){return 0===Object.keys(e).length}function V(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n]);return r}e.s(["NO_ERROR_STACK_PRESENT_MESSAGE",0,k,"computeRawError",()=>D,"isError",()=>M],104404),e.s(["isEmptyObject",()=>P,"mapValues",()=>V,"objectHasValue",()=>U,"shallowClone",()=>L],170737),(r=n||(n={})).TRACK_INTAKE_REQUESTS="track_intake_requests",r.WRITABLE_RESOURCE_GRAPHQL="writable_resource_graphql",r.USE_TREE_WALKER_FOR_ACTION_NAME="use_tree_walker_for_action_name",r.GRAPHQL_TRACKING="graphql_tracking",r.FEATURE_OPERATION_VITAL="feature_operation_vital",r.SHORT_SESSION_INVESTIGATION="short_session_investigation";let $=new Set;function B(e){Array.isArray(e)&&e.filter(e=>U(n,e)).forEach(e=>{$.add(e)})}function F(e){return $.has(e)}function j(){return $}e.s(["ExperimentalFeature",()=>n,"getExperimentalFeatures",()=>j,"initFeatureFlags",()=>B,"isExperimentalFeatureEnabled",()=>F],212632),e.s(["INTAKE_SITE_EU1",0,"datadoghq.eu","INTAKE_SITE_FED_STAGING",0,"dd0g-gov.com","INTAKE_SITE_STAGING",0,"datad0g.com","INTAKE_SITE_US1",0,"datadoghq.com","INTAKE_SITE_US1_FED",0,"ddog-gov.com","INTAKE_URL_PARAMETERS",0,["ddsource","dd-api-key","dd-request-id"],"PCI_INTAKE_HOST_US1",0,"pci.browser-intake-datadoghq.com"],148368)},17586,e=>{"use strict";var t=e.i(77669),r=e.i(175408);function n(e){var n;let i=null==(n=r.globalObject.queueMicrotask)?void 0:n.bind(r.globalObject);"function"==typeof i?i((0,t.monitor)(e)):Promise.resolve().then((0,t.monitor)(e))}class i{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.addObserver(e),{unsubscribe:()=>this.removeObserver(e)}}notify(e){this.observers.forEach(t=>t(e))}addObserver(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0)}removeObserver(e){this.observers=this.observers.filter(t=>e!==t),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}function o(...e){return new i(t=>{let r=e.map(e=>e.subscribe(e=>t.notify(e)));return()=>r.forEach(e=>e.unsubscribe())})}class a extends i{constructor(e){super(),this.maxBufferSize=e,this.buffer=[]}notify(e){this.buffer.push(e),this.buffer.length>this.maxBufferSize&&this.buffer.shift(),super.notify(e)}subscribe(e){let t=!1;return n(()=>{for(let r of this.buffer){if(t)return;e(r)}t||this.addObserver(e)}),{unsubscribe:()=>{t=!0,this.removeObserver(e)}}}unbuffer(){n(()=>{this.maxBufferSize=this.buffer.length=0})}}e.s(["BufferedObservable",()=>a,"Observable",()=>i,"mergeObservables",()=>o],17586)},843483,892900,e=>{"use strict";let t;function r(e){return 0!==e&&100*Math.random()<=e}function n(e,t){return+e.toFixed(t)}function i(e){return o(e)&&e>=0&&e<=100}function o(e){return"number"==typeof e}e.s(["isNumber",()=>o,"isPercentage",()=>i,"performDraw",()=>r,"round",()=>n],892900);function a(e){var t,r;let n;return{relative:e,timeStamp:(t=e,(n=c()-performance.now())>h()?Math.round(function(e,t){return e+t}(n,t)):(r=t,Math.round(h()+r)))}}function s(e){return{relative:v(e),timeStamp:e}}function l(){var e;return Math.round(c()-(e=h(),e+performance.now()))}function u(e){return o(e)?n(1e6*e,0):e}function c(){return new Date().getTime()}function d(){return c()}function p(){return performance.now()}function f(){return{relative:p(),timeStamp:d()}}function m(){return{relative:0,timeStamp:h()}}function g(e,t){return t-e}function y(e,t){return e+t}function v(e){return e-h()}function b(e){return e<31536e6}function h(){var e,r;return void 0===t&&(t=null!=(r=null==(e=performance.timing)?void 0:e.navigationStart)?r:performance.timeOrigin),t}e.s(["ONE_HOUR",0,36e5,"ONE_MINUTE",0,6e4,"ONE_SECOND",0,1e3,"ONE_YEAR",0,31536e6,"addDuration",()=>y,"clocksNow",()=>f,"clocksOrigin",()=>m,"currentDrift",()=>l,"dateNow",()=>c,"elapsed",()=>g,"getRelativeTime",()=>v,"looksLikeRelativeTime",()=>b,"relativeNow",()=>p,"relativeToClocks",()=>a,"timeStampNow",()=>d,"timeStampToClocks",()=>s,"toServerDuration",()=>u],843483)},8038,283702,578609,27522,248806,998361,e=>{"use strict";var t=e.i(175408);function r(e,r){let n=t.globalObject.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:r})}function n(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function i(e,t,r=function(){if("undefined"!=typeof WeakSet){let e=new WeakSet;return{hasAlreadyBeenSeen(t){let r=e.has(t);return r||e.add(t),r}}}let e=[];return{hasAlreadyBeenSeen(t){let r=e.indexOf(t)>=0;return r||e.push(t),r}}}()){if(void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let e=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,e)}if(r.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let n=Array.isArray(e)?e:[];for(let e=0;e<t.length;++e)n[e]=i(n[e],t[e],r);return n}let o="object"===n(e)?e:{};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=i(o[e],t[e],r));return o}function o(e){return i(void 0,e)}function a(...e){let t;for(let r of e)null!=r&&(t=i(t,r));return t}function s(){var e;let r=t.globalObject.navigator;return{status:r.onLine?"connected":"not_connected",interfaces:r.connection&&r.connection.type?[r.connection.type]:void 0,effective_type:null==(e=r.connection)?void 0:e.effectiveType}}function l(){let e=(0,t.getGlobalObject)().DatadogEventBridge;if(e)return{getCapabilities(){var t;return JSON.parse((null==(t=e.getCapabilities)?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return null==(t=e.getPrivacyLevel)?void 0:t.call(e)},getAllowedWebViewHosts:()=>JSON.parse(e.getAllowedWebViewHosts()),send(t,r,n){e.send(JSON.stringify({eventType:t,event:r,view:n?{id:n}:void 0}))}}}function u(e){let t=l();return!!t&&t.getCapabilities().includes(e)}function c(e){var r;void 0===e&&(e=null==(r=(0,t.getGlobalObject)().location)?void 0:r.hostname);let n=l();return!!n&&n.getAllowedWebViewHosts().some(t=>e===t||e.endsWith(`.${t}`))}e.s(["sendToExtension",()=>r],8038),e.s(["getType",()=>n],283702),e.s(["combine",()=>a,"deepClone",()=>o],578609),e.s(["getConnectivity",()=>s],27522),e.s(["bridgeSupports",()=>u,"canUseEventBridge",()=>c,"getEventBridge",()=>l],248806);var d=e.i(17586),p=e.i(137880);function f({messagesLimit:e,bytesLimit:t,durationLimit:r,pageMayExitObservable:n,sessionExpireObservable:i}){let o,a=n.subscribe(e=>f(e.reason)),s=i.subscribe(()=>f("session_expire")),l=new d.Observable(()=>()=>{a.unsubscribe(),s.unsubscribe()}),u=0,c=0;function f(e){if(0===c)return;let t=c,r=u;c=0,u=0,m(),l.notify({reason:e,messagesCount:t,bytesCount:r})}function m(){(0,p.clearTimeout)(o),o=void 0}return{flushObservable:l,get messagesCount(){return c},notifyBeforeAddMessage(e){u+e>=t&&f("bytes_limit"),c+=1,u+=e,void 0===o&&(o=(0,p.setTimeout)(()=>{f("duration_limit")},r))},notifyAfterAddMessage(r=0){u+=r,c>=e?f("messages_limit"):u>=t&&f("bytes_limit")},notifyAfterRemoveMessage(e){u-=e,0==(c-=1)&&m()}}}e.s(["createFlushController",()=>f],998361)},990595,320136,862203,e=>{"use strict";var t=e.i(77669),r=e.i(17586),n=e.i(137880),i=e.i(843483),o=e.i(608350);function a(e){return e>=500}function s(e){try{return e.clone()}catch(e){return}}e.s(["isServerError",()=>a,"tryToClone",()=>s],320136);let l={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};e.s(["ErrorSource",0,l],862203);let u=80*o.ONE_KIBI_BYTE,c=20*o.ONE_MEBI_BYTE,d=i.ONE_MINUTE,p=i.ONE_SECOND;function f(e,t,r,i,o,a){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?m(e,t,r,a,{onSuccess:()=>g(0,t,r,i,o,a),onFailure:()=>{t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e}),function e(t,r,i,o,a){2===t.transportStatus&&(0,n.setTimeout)(()=>{m(t.queuedPayloads.first(),t,r,a,{onSuccess:()=>{t.queuedPayloads.dequeue(),t.currentBackoffTime=p,g(1,t,r,i,o,a)},onFailure:()=>{t.currentBackoffTime=Math.min(d,2*t.currentBackoffTime),e(t,r,i,o,a)}})},t.currentBackoffTime)}(t,r,i,o,a)}}):t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e})}function m(e,t,r,n,{onSuccess:i,onFailure:o}){t.bandwidthMonitor.add(e),r(e,r=>{var s;t.bandwidthMonitor.remove(e),"opaque"!==(s=r).type&&(0===s.status&&!navigator.onLine||408===s.status||429===s.status||a(s.status))?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:r.status},n.notify({type:"failure",bandwidth:t.bandwidthMonitor.stats(),payload:e}),o()):(t.transportStatus=0,n.notify({type:"success",bandwidth:t.bandwidthMonitor.stats(),payload:e}),i())})}function g(e,t,r,n,a,s){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(a({message:`Reached max ${n} events size queued for upload: ${c/o.ONE_MEBI_BYTE}MiB`,source:l.AGENT,startClocks:(0,i.clocksNow)()}),t.queueFullReported=!0);let u=t.queuedPayloads;for(t.queuedPayloads=y();u.size()>0;)f(u.dequeue(),t,r,n,a,s)}function y(){let e=[];return{bytesCount:0,enqueue(t){return!this.isFull()&&(e.push(t),this.bytesCount+=t.bytesCount,!0)},first:()=>e[0],dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:()=>e.length,isFull(){return this.bytesCount>=c}}}function v(e,n,i){let o=new r.Observable,a={transportStatus:0,currentBackoffTime:p,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=u&&this.ongoingRequestCount<32},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount},stats(){return{ongoingByteCount:this.ongoingByteCount,ongoingRequestCount:this.ongoingRequestCount}}},queuedPayloads:y(),queueFullReported:!1};return{observable:o,send:r=>{for(let s of e)f(r,a,(e,r)=>(function(e,r,n,i){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&n.bytesCount<r?fetch(e.build("fetch-keepalive",n),{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then((0,t.monitor)(e=>null==i?void 0:i({status:e.status,type:e.type}))).catch((0,t.monitor)(()=>h(e,n,i))):h(e,n,i)})(s,n,e,r),s.trackType,i,o)},sendOnExit:r=>{for(let i of e)!function(e,r,n){if(navigator.sendBeacon&&n.bytesCount<r)try{let t=e.build("beacon",n);if(navigator.sendBeacon(t,n.data))return}catch(e){var i;i=e,b||(b=!0,(0,t.monitorError)(i))}h(e,n)}(i,n,r)}}}let b=!1;function h(e,r,n){fetch(e.build("fetch",r),{method:"POST",body:r.data,mode:"cors"}).then((0,t.monitor)(e=>null==n?void 0:n({status:e.status,type:e.type}))).catch((0,t.monitor)(()=>null==n?void 0:n({status:0})))}e.s(["createHttpRequest",()=>v],990595)},582287,e=>{"use strict";function t(e,t){for(let r=e.length-1;r>=0;r-=1){let n=e[r];if(t(n,r,e))return n}}function r(e){return Object.values(e)}function n(e){return Object.entries(e)}e.s(["findLast",()=>t,"objectEntries",()=>n,"objectValues",()=>r])},605625,e=>{"use strict";var t=e.i(77669),r=e.i(277949);function n(e,t,r,n,o){return i(e,t,[r],n,o)}function i(e,n,o,a,{once:s,capture:l,passive:u}={}){let c=(0,t.monitor)(t=>{(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(s&&m(),a(t))}),d=u?{capture:l,passive:u}:l,p=window.EventTarget&&n instanceof EventTarget?window.EventTarget.prototype:n,f=(0,r.getZoneJsOriginalValue)(p,"addEventListener");function m(){let e=(0,r.getZoneJsOriginalValue)(p,"removeEventListener");o.forEach(t=>e.call(n,t,c,d))}return o.forEach(e=>f.call(n,e,c,d)),{stop:m}}e.s(["addEventListener",()=>n,"addEventListeners",()=>i])},414023,882720,294941,835523,e=>{"use strict";let t;var r=e.i(762621),n=e.i(104404),i=e.i(410592),o=e.i(212632),a=e.i(148368),s=e.i(17586),l=e.i(843483),u=e.i(77669),c=e.i(8038),d=e.i(892900),p=e.i(412491),f=e.i(578609),m=e.i(294691),g=e.i(27522),y=e.i(248806),v=e.i(998361),b=e.i(990595),h=e.i(582287),E=e.i(605625);let S={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function T(e){return new s.Observable(t=>{let{stop:r}=(0,E.addEventListeners)(e,window,["visibilitychange","freeze"],e=>{"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:S.HIDDEN}):"freeze"===e.type&&t.notify({reason:S.FROZEN})},{capture:!0}),n=(0,E.addEventListener)(e,window,"beforeunload",()=>{t.notify({reason:S.UNLOADING})}).stop;return()=>{r(),n()}})}function _(e){return(0,h.objectValues)(S).includes(e)}e.s(["PageExitReason",0,S,"createPageMayExitObservable",()=>T,"isPageExitReason",()=>_],882720);var w=e.i(608350);function C({encoder:e,request:t,flushController:n,messageBytesLimit:i}){let o={},a=n.flushObservable.subscribe(r=>(function(r){let n=(0,h.objectValues)(o).join("\n");o={};let i=_(r.reason),a=i?t.sendOnExit:t.send;if(i&&e.isAsync){let t=e.finishSync();t.outputBytesCount&&a(I(t));let r=[t.pendingData,n].filter(Boolean).join("\n");r&&a({data:r,bytesCount:(0,w.computeBytesCount)(r)})}else n&&e.write(e.isEmpty?n:`
${n}`),e.finish(e=>{a(I(e))})})(r));function s(t,a){let s,l,u=(0,p.jsonStringify)(t),c=e.estimateEncodedBytesCount(u);c>=i?r.display.warn(`Discarded a message whose size was bigger than the maximum allowed size ${i}KB. ${r.MORE_DETAILS} ${r.DOCS_TROUBLESHOOTING}/#technical-limitations`):(void 0!==a&&void 0!==o[a]&&(s=o[a],delete o[a],l=e.estimateEncodedBytesCount(s),n.notifyAfterRemoveMessage(l)),n.notifyBeforeAddMessage(c),void 0!==a?(o[a]=u,n.notifyAfterAddMessage()):e.write(e.isEmpty?u:`
${u}`,e=>{n.notifyAfterAddMessage(e-c)}))}return{flushController:n,add:s,upsert:s,stop:a.unsubscribe}}function I(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}e.s(["createBatch",()=>C],294941);let A="DISCARDED",R="SKIPPED";function O(){let e={};return{register:(t,r)=>(e[t]||(e[t]=[]),e[t].push(r),{unregister:()=>{e[t]=e[t].filter(e=>e!==r)}}),triggerHook(t,r){let n=e[t]||[],i=[];for(let e of n){let t=e(r);if(t===A)return A;t!==R&&i.push(t)}return(0,f.combine)(...i)}}}e.s(["DISCARDED",0,A,"SKIPPED",0,R,"abstractHooks",()=>O],835523);var N=e.i(175408);let x="configuration",k="usage",D=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],M=[a.INTAKE_SITE_US1_FED];function L(){return t||(t=new s.BufferedObservable(100)),t}function U(e,t,r,n,i,m){var h,E,S,T,_;let w,I,R,O,D,U=new s.Observable,{stop:P}=function(e,t,r,n,i){let o=[];if((0,y.canUseEventBridge)()){let e=(0,y.getEventBridge)(),t=i.subscribe(t=>e.send("internal_telemetry",t));o.push(t.unsubscribe)}else{let l=[e.rumEndpointBuilder];e.replica&&e.site===a.INTAKE_SITE_STAGING&&l.push(e.replica.rumEndpointBuilder);let u=C({encoder:n(4),request:(0,b.createHttpRequest)(l,e.batchBytesLimit,t),flushController:(0,v.createFlushController)({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageMayExitObservable:r,sessionExpireObservable:new s.Observable}),messageBytesLimit:e.messageBytesLimit});o.push(u.stop);let c=i.subscribe(u.add);o.push(c.unsubscribe)}return{stop:()=>o.forEach(e=>e())}}(t,n,i,m,U),{enabled:$}=(h=e,E=t,S=r,T=U,w={},R={log:I=!M.includes(E.site)&&(0,d.performDraw)(E.telemetrySampleRate),[x]:I&&(0,d.performDraw)(E.telemetryConfigurationSampleRate),[k]:I&&(0,d.performDraw)(E.telemetryUsageSampleRate)},O={is_local_file:(null==(_=N.globalObject.location)?void 0:_.protocol)==="file:",is_worker:N.isWorkerEnvironment},(D=L()).subscribe(({rawEvent:e,kind:t})=>{var r,n,i,a;let s;if(!R[e.type])return;let u=w[t];if(u||(u=w[t]=new Set),u.size>=E.maxTelemetryEventsPerPage)return;let d=(0,p.jsonStringify)(e);if(u.has(d))return;let m=S.triggerHook(1,{startTime:(0,l.clocksNow)().relative});if(m===A)return;let y=(r=m,n=h,i=e,a=O,s={type:"telemetry",date:(0,l.clocksNow)().timeStamp,service:n,version:"6.21.0",source:"browser",_dd:{format_version:2},telemetry:(0,f.combine)(i,{runtime_env:a,connectivity:(0,g.getConnectivity)(),sdk_setup:"npm"}),experimental_features:Array.from((0,o.getExperimentalFeatures)())},(0,f.combine)(s,r));T.notify(y),(0,c.sendToExtension)("telemetry",y),u.add(d)}),D.unbuffer(),(0,u.startMonitorErrorCollection)(V),{enabled:I});return{stop:P,enabled:$}}function P(e,t){(0,u.displayIfDebugEnabled)(r.ConsoleApiName.debug,e,t),L().notify({rawEvent:{type:"log",message:e,status:"debug",...t},kind:"debug"})}function V(e,t){L().notify({rawEvent:{type:"log",status:"error",...function(e){if((0,n.isError)(e)){var t;let r=(0,m.computeStackTrace)(e);return{error:{kind:r.name,stack:(0,i.toStackTraceString)(((t=r).stack=t.stack.filter(e=>!e.url||D.some(t=>e.url.startsWith(t))),t))},message:r.message}}return{error:{stack:n.NO_ERROR_STACK_PRESENT_MESSAGE},message:`Uncaught ${(0,p.jsonStringify)(e)}`}}(e),...t},kind:"error"})}function $(e){L().notify({rawEvent:{type:x,configuration:e},kind:x})}function B(e,t){L().notify({rawEvent:{type:"log",message:e,status:"debug",...t},kind:e})}function F(e){L().notify({rawEvent:{type:k,usage:e},kind:k})}e.s(["addTelemetryConfiguration",()=>$,"addTelemetryDebug",()=>P,"addTelemetryError",()=>V,"addTelemetryMetrics",()=>B,"addTelemetryUsage",()=>F,"startTelemetry",()=>U],414023)},367116,307759,176285,244346,706765,418864,728356,9859,413057,632391,371646,8204,856986,770319,e=>{"use strict";let t,r;var n=e.i(608350);function i(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(r,i){let o=(0,n.computeBytesCount)(r);t+=o,e+=r,i&&i(o)},finish(e){e(this.finishSync())},finishSync(){let r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount:e=>e.length}}e.s(["createIdentityEncoder",()=>i],367116);var o=e.i(762621);function a(e,t){t.silentMultipleInit||o.display.error(`${e} is already initialized.`)}e.s(["displayAlreadyInitializedError",()=>a],307759);var s=e.i(17586);let l={GRANTED:"granted",NOT_GRANTED:"not-granted"};function u(e){let t=new s.Observable;return{tryToInit(t){e||(e=t)},update(r){e=r,t.notify()},isGranted:()=>e===l.GRANTED,observable:t}}e.s(["TrackingConsent",0,l,"createTrackingConsentState",()=>u],176285);var c=e.i(414023),d=e.i(77669);function p(e,t,r,n){return(0,d.monitor)((...i)=>(n&&(0,c.addTelemetryUsage)({feature:n}),e()[t][r](...i)))}e.s(["defineContextMethod",()=>p],244346);var f=e.i(137880),m=e.i(146331),g=e.i(410592);function y(e,t,r,{computeHandlingStack:n}={}){let i=e[t];if("function"!=typeof i)if(!(t in e&&t.startsWith("on")))return{stop:m.noop};else i=m.noop;let o=!1,a=function(){let e;if(o)return i.apply(this,arguments);let t=Array.from(arguments);(0,d.callMonitored)(r,null,[{target:this,parameters:t,onPostCall:t=>{e=t},handlingStack:n?(0,g.createHandlingStack)("instrumented method"):void 0}]);let a=i.apply(this,t);return e&&(0,d.callMonitored)(e,null,[a]),a};return e[t]=a,{stop:()=>{o=!0,e[t]===a&&(e[t]=i)}}}function v(e,t,r){let n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:m.noop};let i=m.noop,o=(e,t)=>{(0,f.setTimeout)(()=>{o!==i&&r(e,t)},0)},a=function(e){n.set.call(this,e),o(this,e)};return Object.defineProperty(e,t,{set:a}),{stop:()=>{var r;(null==(r=Object.getOwnPropertyDescriptor(e,t))?void 0:r.set)===a&&Object.defineProperty(e,t,n),o=i}}}e.s(["instrumentMethod",()=>y,"instrumentSetter",()=>v],706765);var b=e.i(843483),h=e.i(294691),E=e.i(175408),S=e.i(104404),T=e.i(862203);function _(){return new s.Observable(e=>{var t,r;let n=(t,r)=>{let n=(0,S.computeRawError)({stackTrace:r,originalError:t,startClocks:(0,b.clocksNow)(),nonErrorPrefix:"Uncaught",source:T.ErrorSource.SOURCE,handling:"unhandled"});e.notify(n)},{stop:i}=(t=n,y((0,E.getGlobalObject)(),"onerror",({parameters:[e,r,n,i,o]})=>{let a;(0,S.isError)(o)||(a=(0,h.computeStackTraceFromOnErrorMessage)(e,r,n,i)),t(null!=o?o:e,a)})),{stop:o}=(r=n,y((0,E.getGlobalObject)(),"onunhandledrejection",({parameters:[e]})=>{r(e.reason||"Empty reason")}));return()=>{i(),o()}})}function w(e=_){let t=new s.BufferedObservable(500),r=e().subscribe(e=>{t.notify({type:0,error:e})});return{observable:t,stop:()=>{r.unsubscribe()}}}e.s(["startBufferingData",()=>w],418864);let C={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",VITAL:"vital"},I={DURATION:"duration",OPERATION_STEP:"operation_step"};e.s(["ActionType",0,{CLICK:"click",CUSTOM:"custom"},"FrustrationType",0,{RAGE_CLICK:"rage_click",ERROR_CLICK:"error_click",DEAD_CLICK:"dead_click"},"RumEventType",0,C,"RumLongTaskEntryType",0,{LONG_TASK:"long-task",LONG_ANIMATION_FRAME:"long-animation-frame"},"ViewLoadingType",0,{INITIAL_LOAD:"initial_load",ROUTE_CHANGE:"route_change",BF_CACHE:"bf_cache"},"VitalType",0,I],728356);var A=e.i(578609),R=e.i(212632);function O(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,O)}let N=/([\w-]+)\s*=\s*([^;]+)/g;function x(e,t){for(N.lastIndex=0;;){let r=N.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function k(e){let t=new Map;for(N.lastIndex=0;;){let r=N.exec(e);if(r)t.set(r[1],r[2]);else break}return t}function D(e,t,r=""){let n=e.charCodeAt(t-1),i=n>=55296&&n<=56319?t+1:t;return e.length<=i?e:`${e.slice(0,i)}${r}`}e.s(["findCommaSeparatedValue",()=>x,"findCommaSeparatedValues",()=>k,"generateUUID",()=>O,"safeTruncate",()=>D],9859);var M=e.i(784049);function L(){return{vitalsByName:new Map,vitalsByReference:new WeakMap}}function U(e,t,r){function n(r){t.wasInPageStateDuringPeriod("frozen",r.startClocks.relative,r.duration)||e.notify(12,$(r))}return{addOperationStepVital:function(t,r,n,i){if(!(0,R.isExperimentalFeatureEnabled)(R.ExperimentalFeature.FEATURE_OPERATION_VITAL))return;let{operationKey:o,context:a,description:s}=n||{},l={name:t,type:I.OPERATION_STEP,operationKey:o,failureReason:i,stepType:r,startClocks:(0,b.clocksNow)(),context:(0,M.sanitize)(a),description:s};e.notify(12,$(l))},addDurationVital:n,startDurationVital:(e,t={})=>P(r,e,t),stopDurationVital:(e,t={})=>{V(n,r,e,t)}}}function P({vitalsByName:e,vitalsByReference:t},r,n={}){let i={name:r,startClocks:(0,b.clocksNow)(),...n},o={__dd_vital_reference:!0};return e.set(r,i),t.set(o,i),o}function V(e,{vitalsByName:t,vitalsByReference:r},n,i={}){var o,a,s,l,u;let c="string"==typeof n?t.get(n):r.get(n);c&&(e((o=c,a=c.startClocks,s=i,l=(0,b.clocksNow)(),{name:o.name,type:I.DURATION,startClocks:a,duration:(0,b.elapsed)(a.timeStamp,l.timeStamp),context:(0,A.combine)(o.context,s.context),description:null!=(u=s.description)?u:o.description})),"string"==typeof n?t.delete(n):r.delete(n))}function $(e){let{startClocks:t,type:r,name:n,description:i,context:o}=e,a={id:O(),type:r,name:n,description:i,...r===I.DURATION?{duration:(0,b.toServerDuration)(e.duration)}:{step_type:e.stepType,operation_key:e.operationKey,failure_reason:e.failureReason}};return{rawRumEvent:{date:t.timeStamp,vital:a,type:C.VITAL,context:o},startTime:t.relative,duration:r===I.DURATION?e.duration:void 0,domainContext:{}}}function B(e,t,r){if(e)for(let n of e){let e=n[t];e&&e(r)}}function F(e,t){let r=e.indexOf(t);r>=0&&e.splice(r,1)}function j(e){return Array.isArray(e)&&e.length>0}function q(){let e=[];return{add:t=>{e.push(t)>500&&e.splice(0,1)},remove:t=>{F(e,t)},drain:t=>{e.forEach(e=>e(t)),e.length=0}}}function K(e,t,r=0,n){let i=new Date;i.setTime(i.getTime()+r);let o=`expires=${i.toUTCString()}`,a=n&&n.crossSite?"none":"strict",s=n&&n.domain?`;domain=${n.domain}`:"",l=n&&n.secure?";secure":"",u=n&&n.partitioned?";partitioned":"";document.cookie=`${e}=${t};${o};path=/;samesite=${a}${s}${l}${u}`}function G(e){return x(document.cookie,e)}function z(e){return t||(t=k(document.cookie)),t.get(e)}e.s(["createCustomVitalsState",()=>L,"startDurationVital",()=>P,"startVitalCollection",()=>U,"stopDurationVital",()=>V],413057),e.s(["callPluginsMethod",()=>B],632391),e.s(["isNonEmptyArray",()=>j,"removeItem",()=>F],371646),e.s(["createBoundedBuffer",()=>q],8204);function H(e){if(void 0===document.cookie||null===document.cookie)return!1;try{let t=`dd_cookie_test_${O()}`,r="test";K(t,r,b.ONE_MINUTE,e);let n=G(t)===r;return K(t,"",0,e),n}catch(e){return o.display.error(e),!1}}function W(){if(void 0===r){let e=`dd_site_test_${O()}`,t=window.location.hostname.split("."),n=t.pop();for(;t.length&&!G(e);)n=`${t.pop()}.${n}`,K(e,"test",b.ONE_SECOND,{domain:n});K(e,"",0,{domain:n}),r=n}return r}function J(){return!E.isWorkerEnvironment&&!!(E.globalObject._DATADOG_SYNTHETICS_INJECTS_RUM||z("datadog-synthetics-injects-rum"))}function Y(){let e=window._DATADOG_SYNTHETICS_PUBLIC_ID||z("datadog-synthetics-public-id");return"string"==typeof e?e:void 0}function X(){let e=window._DATADOG_SYNTHETICS_RESULT_ID||z("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}function Z(){return!!(Y()&&X())}e.s(["areCookiesAuthorized",()=>H,"getCookie",()=>G,"getCurrentSite",()=>W,"getInitCookie",()=>z,"setCookie",()=>K],856986),e.s(["getSyntheticsResultId",()=>X,"getSyntheticsTestId",()=>Y,"isSyntheticsTest",()=>Z,"willSyntheticsInjectRum",()=>J],770319)},847803,e=>{"use strict";let t;var r=e.i(412491),n=e.i(175408);function i(e){return s(e,location.href).href}function o(e){try{return!!s(e)}catch(e){return!1}}function a(e){let t=s(e).pathname;return"/"===t[0]?t:`/${t}`}function s(e,i){let{URL:o}=function(){if(!t){let e,r;try{(e=document.createElement("iframe")).style.display="none",document.body.appendChild(e),r=e.contentWindow}catch(e){r=n.globalObject}t={URL:r.URL},null==e||e.remove()}return t}();try{return void 0!==i?new o(e,i):new o(e)}catch(t){throw Error(`Failed to construct URL: ${String(t)} ${(0,r.jsonStringify)({url:e,base:i})}`)}}e.s(["buildUrl",()=>s,"getPathName",()=>a,"isValidUrl",()=>o,"normalizeUrl",()=>i])},643004,205466,763934,415720,974562,849275,904348,980563,426614,616160,427747,48240,972397,296538,135549,142445,636888,455221,e=>{"use strict";let t,r,n,i,o,a,s,l,u,c;var d,p,f=e.i(229360),m=e.i(414023),g=e.i(578609),y=e.i(855447),v=e.i(77669),b=e.i(843483),h=e.i(410592),E=e.i(784049),S=e.i(367116),T=e.i(307759),_=e.i(176285),w=e.i(244346),C=e.i(418864),I=e.i(728356),A=e.i(413057),R=e.i(632391),O=e.i(8204),N=e.i(762621),x=e.i(248806),k=e.i(770319),D=e.i(146331),M=e.i(212632),L=e.i(706765),U=e.i(17586),P=e.i(847803),V=e.i(175408);function $(){return t||(t=new U.Observable(e=>{if(!V.globalObject.fetch)return;let{stop:t}=(0,L.instrumentMethod)(V.globalObject,"fetch",t=>(function({parameters:e,onPostCall:t,handlingStack:r},n){let[i,o]=e,a=o&&o.method;void 0===a&&i instanceof Request&&(a=i.method);let s=void 0!==a?String(a).toUpperCase():"GET",l=i instanceof Request?i.url:(0,P.normalizeUrl)(String(i)),u={state:"start",init:o,input:i,method:s,startClocks:(0,b.clocksNow)(),url:l,handlingStack:r};n.notify(u),e[0]=u.input,e[1]=u.init,t(e=>(function(e,t,r){function n(t){r.state="resolve",Object.assign(r,t),e.notify(r)}t.then((0,v.monitor)(e=>{n({response:e,responseType:e.type,status:e.status,isAborted:!1})}),(0,v.monitor)(e=>{var t,i;n({status:0,isAborted:(null==(i=null==(t=r.init)?void 0:t.signal)?void 0:i.aborted)||e instanceof DOMException&&e.code===DOMException.ABORT_ERR,error:e})}))})(n,e,u))})(t,e),{computeHandlingStack:!0});return t})),t}var B=e.i(605625),F=e.i(170737);let j=[];function q(e,t,r,n){var i,o;let a=(i=r,o=n,`_dd_c_${i}_${o}`);j.push((0,B.addEventListener)(e,window,"storage",({key:e})=>{a===e&&t.setContext(l())})),t.changeObservable.subscribe(function(){localStorage.setItem(a,JSON.stringify(t.getContext()))});let s=(0,g.combine)(l(),t.getContext());function l(){let e=localStorage.getItem(a);return e?JSON.parse(e):{}}(0,F.isEmptyObject)(s)||t.setContext(s)}var K=e.i(835523),G=e.i(283702);function z(e,t,r){let n={...e};for(let[e,{required:i,type:o}]of Object.entries(t))"string"!==o||H(n[e])||(n[e]=String(n[e])),i&&H(n[e])&&N.display.warn(`The property ${e} of ${r} is required; context will not be sent to the intake.`);return n}function H(e){return null==e||""===e}function W(e="",{propertiesConfig:t={}}={}){let r={},n=new U.Observable,i={getContext:()=>(0,g.deepClone)(r),setContext:o=>{let a;((a="object"===(0,G.getType)(o))||N.display.error("Unsupported context:",o),a)?r=(0,E.sanitize)(z(o,t,e)):i.clearContext(),n.notify()},setContextProperty:(i,o)=>{r=(0,E.sanitize)(z({...r,[i]:o},t,e)),n.notify()},removeContextProperty:i=>{delete r[i],z(r,t,e),n.notify()},clearContext:()=>{r={},n.notify()},changeObservable:n};return i}function J(){return W("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}})}function Y(){return W("global context")}function X(){return W("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}})}function Z(e){let t=(0,G.getType)(e);return"string"===t||"function"===t||e instanceof RegExp}function Q(e,t,r=!1){return e.some(e=>{try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return r?t.startsWith(e):e===t}catch(e){N.display.error(e)}return!1})}var ee=e.i(747701),et=e.i(892900),er=e.i(608350),en=e.i(137880),ei=e.i(9859);function eo(){return 0===es()}function ea(){return 1===es()}function es(){return null!=r?r:r=function(e=window){var t;let r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?0:(null==(t=e.navigator.vendor)?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?1:2}()}e.s(["isChromium",()=>eo,"isSafari",()=>ea],205466);var el=e.i(856986);let eu="_dd_s";var ec=e.i(582287);let ed=4*b.ONE_HOUR,ep=15*b.ONE_MINUTE,ef=b.ONE_YEAR,em="cookie",eg="local-storage",ey=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function ev(e,t){let r={isExpired:"1"};return t.trackAnonymousUser&&((null==e?void 0:e.anonymousId)?r.anonymousId=null==e?void 0:e.anonymousId:r.anonymousId=(0,ei.generateUUID)()),r}function eb(e){return(0,F.isEmptyObject)(e)}function eh(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||(0,b.dateNow)()-Number(t.created)<ed)&&(void 0===t.expire||(0,b.dateNow)()<Number(t.expire)))}function eE(e){e.expire=String((0,b.dateNow)()+ep)}function eS(e){return(0,ec.objectEntries)(e).map(([e,t])=>"anonymousId"===e?`aid=${t}`:`${e}=${t}`).join("&")}function eT(e){let t={};return e&&(-1!==e.indexOf("&")||ey.test(e))&&e.split("&").forEach(e=>{let r=ey.exec(e);if(null!==r){let[,e,n]=r;"aid"===e?t.anonymousId=n:t[e]=n}}),t}function e_(e){var t;let r,n=((r={}).secure=!!(t=e).useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie,r.crossSite=!!t.usePartitionedCrossSiteSessionCookie,r.partitioned=!!t.usePartitionedCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(r.domain=(0,el.getCurrentSite)()),r);return(0,el.areCookiesAuthorized)(n)?{type:em,cookieOptions:n}:void 0}function ew(e,t,r,n){(0,el.setCookie)(eu,eS(r),t.trackAnonymousUser?ef:n,e)}function eC(){return eT((0,el.getCookie)(eu))}function eI(){try{let e=(0,ei.generateUUID)(),t=`_dd_test_${e}`;localStorage.setItem(t,e);let r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:eg}:void 0}catch(e){return}}function eA(e){localStorage.setItem(eu,eS(e))}function eR(){return eT(localStorage.getItem(eu))}let eO=b.ONE_SECOND,eN=[];function ex(e,t,r=0){var i;let o,{isLockEnabled:a,persistSession:s,expireSession:l}=t,u=e=>s({...e,lock:o}),c=()=>{let{lock:e,...r}=t.retrieveSession();return{session:r,lock:e&&!function(e){let[,t]=e.split("--");return!t||(0,b.elapsed)(Number(t),(0,b.timeStampNow)())>eO}(e)?e:void 0}};if(n||(n=e),e!==n)return void eN.push(e);if(a&&r>=100){(0,m.addTelemetryDebug)("Aborted session operation after max lock retries",{currentStore:c()}),eD(t);return}let d=c();if(a&&(d.lock||(o=(0,ei.generateUUID)()+"--"+(0,b.timeStampNow)(),u(d.session),(d=c()).lock!==o)))return void ek(e,t,r);let p=e.process(d.session);if(a&&(d=c()).lock!==o)return void ek(e,t,r);if(p&&(eh(p)?l(p):(eE(p),a?u(p):s(p))),a&&!(p&&eh(p))){if((d=c()).lock!==o)return void ek(e,t,r);s(d.session),p=d.session}null==(i=e.after)||i.call(e,p||d.session),eD(t)}function ek(e,t,r){(0,en.setTimeout)(()=>{ex(e,t,r+1)},10)}function eD(e){n=void 0;let t=eN.shift();t&&ex(t,e)}let eM=b.ONE_SECOND,eL=["chrome-extension://","moz-extension://"];function eU(e){return eL.some(t=>e.includes(t))}let eP="Running the Browser SDK in a Web extension content script is discouraged and will be forbidden in a future major release unless the `allowedTrackingOrigins` option is provided.";var eV=e.i(148368);function e$(e,t,r){let n=function(e,t){let r=`/api/v2/${t}`,n=e.proxy;if("string"==typeof n){let e=(0,P.normalizeUrl)(n);return t=>`${e}?ddforward=${encodeURIComponent(`${r}?${t}`)}`}if("function"==typeof n)return e=>n({path:r,parameters:e});let i=eB(t,e);return e=>`https://${i}${r}?${e}`}(e,t);return{build:(i,o)=>n(function({clientToken:e,internalAnalyticsSubdomain:t,source:r="browser"},n,i,{retry:o,encoding:a},s=[]){let l=[`ddsource=${r}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.21.0")}`,"dd-evp-origin=browser",`dd-request-id=${(0,ei.generateUUID)()}`].concat(s);return a&&l.push(`dd-evp-encoding=${a}`),"rum"===n&&(l.push(`batch_time=${(0,b.timeStampNow)()}`,`_dd.api=${i}`),o&&l.push(`_dd.retry_count=${o.count}`,`_dd.retry_after=${o.lastFailureStatus}`)),t&&l.reverse(),l.join("&")}(e,t,i,o,r)),trackType:t}}function eB(e,t){let{site:r=eV.INTAKE_SITE_US1,internalAnalyticsSubdomain:n}=t;if("logs"===e&&t.usePciIntake&&r===eV.INTAKE_SITE_US1)return eV.PCI_INTAKE_HOST_US1;if(n&&r===eV.INTAKE_SITE_US1)return`${n}.${eV.INTAKE_SITE_US1}`;if(r===eV.INTAKE_SITE_FED_STAGING)return`http-intake.logs.${r}`;let i=r.split("."),o=i.pop();return`browser-intake-${i.join("-")}.${o}`}let eF={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input",MASK_UNLESS_ALLOWLISTED:"mask-unless-allowlisted"},ej={ALL:"all",SAMPLED:"sampled"};function eq(e,t){return null==e||"string"==typeof e||(N.display.error(`${t} must be defined as a string`),!1)}function eK(e,t){return void 0===e||!!(0,et.isPercentage)(e)||(N.display.error(`${t} Sample Rate should be a number between 0 and 100`),!1)}var eG=e.i(371646);let ez=new Map;function eH(e,t){var r,n;let i,o,a;if(100===t)return!0;if(0===t)return!1;let s=ez.get(t);return s&&e===s.sessionId?s.decision:(i=window.BigInt?(r=BigInt(`0x${e.split("-")[4]}`),n=t,o=BigInt("1111111111111111111"),Number(r*o%(a=BigInt("0x10000000000000000")))<=n/100*Number(a)):(0,et.performDraw)(t),ez.set(t,{sessionId:e,decision:i}),i)}e.s(["isSampled",()=>eH],763934);function eW(e){let t=crypto.getRandomValues(new Uint32Array(2));return 63===e&&(t[t.length-1]>>>=1),{toString(e=10){let r=t[1],n=t[0],i="";do{let t=r%e*0x100000000+n;r=Math.floor(r/e),n=Math.floor(t/e),i=(t%e).toString(e)+i}while(r||n)return i}}}function eJ(e){return e.toString(16).padStart(16,"0")}function eY(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function eX(e,t,r,n,i,o){let a=r.findTrackedSession();if(!a)return;let s=e.allowedTracingUrls.find(e=>Q([e.match],t.url,!0));if(!s)return;let l=eH(a.id,e.traceSampleRate);(l||e.traceContextInjection===ej.ALL)&&(t.traceSampled=l,t.traceId=eW(64),t.spanId=eW(63),o(function(e,t,r,n,i,o,a,s){let l={};if(i.forEach(n=>{switch(n){case"datadog":Object.assign(l,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toString()});break;case"tracecontext":Object.assign(l,{traceparent:`00-0000000000000000${eJ(e)}-${eJ(t)}-0${r?"1":"0"}`,tracestate:`dd=s:${r?"1":"0"};o:rum`});break;case"b3":Object.assign(l,{b3:`${eJ(e)}-${eJ(t)}-${r?"1":"0"}`});break;case"b3multi":Object.assign(l,{"X-B3-TraceId":eJ(e),"X-B3-SpanId":eJ(t),"X-B3-Sampled":r?"1":"0"})}}),s.propagateTraceBaggage){let e={"session.id":n},t=o.getContext().id;"string"==typeof t&&(e["user.id"]=t);let r=a.getContext().id;"string"==typeof r&&(e["account.id"]=r);let i=Object.entries(e).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join(",");i&&(l.baggage=i)}return l}(t.traceId,t.spanId,t.traceSampled,a.id,s.propagatorTypes,n,i,e)))}let eZ=["tracecontext","datadog"],eQ=/[a-zA-Z_$]/,e0=/[a-zA-Z0-9_$]/,e1=/[0-9]/,e2=/[a-fA-F0-9]/,e4={0:()=>!1,1:()=>!1,2:e=>eQ.test(e),3:e=>e0.test(e),4:e=>"."===e,5:e=>"["===e,6:e=>"]"===e,7:e=>e1.test(e),8:e=>"'\"".includes(e),9:(e,t)=>e===t.quote,10:()=>!0,11:e=>"\\"===e,12:(e,t)=>void 0===t.escapeSequence?`${t.quote}/\\bfnrtu`.includes(e):!!t.escapeSequence.startsWith("u")&&t.escapeSequence.length<5&&e2.test(e)},e6={0:[2,5],1:[],2:[3,4,5,1],3:[3,4,5,1],4:[2],5:[8,7],6:[4,5,1],7:[7,6],8:[11,9,10],9:[6],10:[11,9,10],11:[12],12:[12,11,9,10]},e3=[2,3,7,10],e8=[4,5,6],e7={'"':'"',"'":"'","/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},e5=["applicationId","service","env","version","sessionSampleRate","sessionReplaySampleRate","defaultPrivacyLevel","enablePrivacyForActionName","traceSampleRate","trackSessionAcrossSubdomains","allowedTracingUrls","allowedTrackingOrigins"];async function e9(e,t){var r,n,i;let o,a=await tr(e);return a.ok?(r=e,n=a.value,i=t,o={...r},e5.forEach(e=>{e in n&&(o[e]=te(n[e]))}),Object.keys(i).forEach(e=>{var t;void 0!==n[e]&&(t=i[e],n[e].forEach(({key:e,value:r})=>{t.setContextProperty(e,te(r))}))}),o):void N.display.error(a.error)}function te(e){if(Array.isArray(e))return e.map(te);if("object"==typeof(t=e)&&null!==t){if("rcSerializedType"in e){let n=e.rcSerializedType;switch(n){case"string":return e.value;case"regex":return tt(e.value);case"dynamic":var t,r=e;let i,o=r.strategy;switch(o){case"cookie":i=function({name:e}){return(0,el.getCookie)(e)}(r);break;case"dom":i=function({selector:e,attribute:t}){var r,n;let i;try{i=document.querySelector(e)}catch(t){i=null,N.display.error(`Invalid selector in the remote configuration: '${e}'`)}if(null===i||(r=i,n=t,"password"===r.getAttribute("type")&&"value"===n))return;let o=void 0!==t?i.getAttribute(t):i.textContent;return null!=o?o:void 0}(r);break;case"js":i=function({path:e}){let t=window,r=function(e){let t,r=[],n=0,i={quote:void 0,escapeSequence:void 0},o="";for(let l of e){if(!(t=e6[n].find(e=>e4[e](l,i))))return[];if(void 0!==i.escapeSequence&&12!==t){var a,s;if(a=i.escapeSequence,!("\"'/\\bfnrt".includes(a)||a.startsWith("u")&&5===a.length))return[];o+=(s=i.escapeSequence).startsWith("u")?String.fromCharCode(parseInt(s.slice(1),16)):e7[s],i.escapeSequence=void 0}e3.includes(t)?o+=l:e8.includes(t)&&""!==o?(r.push(o),o=""):12===t?i.escapeSequence=i.escapeSequence?`${i.escapeSequence}${l}`:l:8===t?i.quote=l:9===t&&(i.quote=void 0),n=t}return e6[n].includes(1)?(""!==o&&r.push(o),r):[]}(e);if(0===r.length)return void N.display.error(`Invalid JSON path in the remote configuration: '${e}'`);for(let n of r){if(!(n in t))return;try{t=t[n]}catch(t){N.display.error(`Error accessing: '${e}'`,t);return}}return t}(r);break;default:N.display.error(`Unsupported remote configuration: "strategy": "${o}"`);return}let a=r.extractor;return void 0!==a&&"string"==typeof i?function(e,t){let r=tt(e.value);if(void 0===r)return;let n=r.exec(t);if(null===n)return;let[i,o]=n;return o||i}(a,i):i;default:N.display.error(`Unsupported remote configuration: "rcSerializedType": "${n}"`);return}}return(0,F.mapValues)(e,te)}return e}function tt(e){try{return new RegExp(e)}catch(t){N.display.error(`Invalid regex in the remote configuration: '${e}'`)}}async function tr(e){let t;try{var r;t=await fetch((r=e).remoteConfigurationProxy?r.remoteConfigurationProxy:`https://sdk-configuration.${eB("rum",r)}/v1/${encodeURIComponent(r.remoteConfigurationId)}.json`)}catch(e){t=void 0}if(!t||!t.ok)return{ok:!1,error:Error("Error fetching the remote configuration.")};let n=await t.json();return n.rum?{ok:!0,value:n.rum}:{ok:!1,error:Error("No remote configuration for RUM.")}}function tn(e,t,r){e.changeObservable.subscribe(()=>{let n=e.getContext();r.add(e=>e[t].setContext(n))})}function ti(e,t,r,n={}){let i=(0,_.createTrackingConsentState)(),o=(0,A.createCustomVitalsState)(),a=(0,C.startBufferingData)().observable,s=function({ignoreInitIfSyntheticsWillInjectRum:e=!0,startDeflateWorker:t},r,n,i){let o,a,s,l,u=(0,O.createBoundedBuffer)(),c=Y();tn(c,f.CustomerContextKey.globalContext,u);let d=X();tn(d,f.CustomerContextKey.userContext,u);let p=J();tn(p,f.CustomerContextKey.accountContext,u);let g=r.observable.subscribe(h),y={};function h(){let e;if(!s||!l||!r.isGranted())return;if(g.unsubscribe(),l.trackViewsManually){if(!o)return;u.remove(o.callback),e=o.options}let t=i(l,a,e);u.drain(t)}function S(e){var n,i,o,u,c,d,p;let f,g,y=(0,x.canUseEventBridge)();if(y&&(e={...c=e,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!=(d=c.defaultPrivacyLevel)?d:null==(p=(0,x.getEventBridge)())?void 0:p.getPrivacyLevel()}),s=e,(0,m.addTelemetryConfiguration)((f={session_sample_rate:(o=n=e).sessionSampleRate,telemetry_sample_rate:o.telemetrySampleRate,telemetry_configuration_sample_rate:o.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:o.telemetryUsageSampleRate,use_before_send:!!o.beforeSend,use_partitioned_cross_site_session_cookie:o.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:o.useSecureSessionCookie,use_proxy:!!o.proxy,silent_multiple_init:o.silentMultipleInit,track_session_across_subdomains:o.trackSessionAcrossSubdomains,track_anonymous_user:o.trackAnonymousUser,session_persistence:o.sessionPersistence,allow_fallback_to_local_storage:!!o.allowFallbackToLocalStorage,store_contexts_across_pages:!!o.storeContextsAcrossPages,allow_untrusted_events:!!o.allowUntrustedEvents,tracking_consent:o.trackingConsent,use_allowed_tracking_origins:Array.isArray(o.allowedTrackingOrigins),source:o.source,sdk_version:o.sdkVersion,variant:o.variant},{session_replay_sample_rate:n.sessionReplaySampleRate,start_session_replay_recording_manually:n.startSessionReplayRecordingManually,trace_sample_rate:n.traceSampleRate,trace_context_injection:n.traceContextInjection,propagate_trace_baggage:n.propagateTraceBaggage,action_name_attribute:n.actionNameAttribute,use_allowed_tracing_urls:(0,eG.isNonEmptyArray)(n.allowedTracingUrls),use_allowed_graph_ql_urls:(0,eG.isNonEmptyArray)(n.allowedGraphQlUrls),use_track_graph_ql_payload:(u=n.allowedGraphQlUrls,(0,eG.isNonEmptyArray)(u)&&u.some(e=>"object"==typeof e&&"trackPayload"in e&&!!e.trackPayload)),selected_tracing_propagators:(g=new Set,(0,eG.isNonEmptyArray)(n.allowedTracingUrls)&&n.allowedTracingUrls.forEach(e=>{Z(e)?eZ.forEach(e=>g.add(e)):"object"===(0,G.getType)(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(e=>g.add(e))}),Array.from(g)),default_privacy_level:n.defaultPrivacyLevel,enable_privacy_for_action_name:n.enablePrivacyForActionName,use_excluded_activity_urls:(0,eG.isNonEmptyArray)(n.excludedActivityUrls),use_worker_url:!!n.workerUrl,compress_intake_requests:n.compressIntakeRequests,track_views_manually:n.trackViewsManually,track_user_interactions:n.trackUserInteractions,track_resources:n.trackResources,track_long_task:n.trackLongTasks,track_bfcache_views:n.trackBfcacheViews,track_early_requests:n.trackEarlyRequests,plugins:null==(i=n.plugins)?void 0:i.map(e=>{var t;return{name:e.name,...null==(t=e.getConfigurationTelemetry)?void 0:t.call(e)}}),track_feature_flags_for_events:n.trackFeatureFlagsForEvents,remote_configuration_id:n.remoteConfigurationId,profiling_sample_rate:n.profilingSampleRate,use_remote_configuration_proxy:!!n.remoteConfigurationProxy,...f})),l)return void(0,T.displayAlreadyInitializedError)("DD_RUM",e);let v=function(e){var t,r,n,i,o,a,s;if(void 0===e.trackFeatureFlagsForEvents||Array.isArray(e.trackFeatureFlagsForEvents)||N.display.warn("trackFeatureFlagsForEvents should be an array"),!e.applicationId)return void N.display.error("Application ID is not configured, no RUM data will be collected.");if(!eK(e.sessionReplaySampleRate,"Session Replay")||!eK(e.traceSampleRate,"Trace"))return;if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls))return void N.display.error("Excluded Activity Urls should be an array");let l=function(e){if(void 0===e.allowedTracingUrls)return[];if(!Array.isArray(e.allowedTracingUrls))return void N.display.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void N.display.error("Service needs to be configured when tracing is enabled");let t=[];return e.allowedTracingUrls.forEach(e=>{if(Z(e))t.push({match:e,propagatorTypes:eZ});else"object"===(0,G.getType)(e)&&Z(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):N.display.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}(e);if(!l)return;let u=function(e){if(!e.allowedGraphQlUrls)return[];if(!Array.isArray(e.allowedGraphQlUrls))return N.display.warn("allowedGraphQlUrls should be an array"),[];let t=[];return e.allowedGraphQlUrls.forEach(e=>{Z(e)?t.push({match:e,trackPayload:!1}):e&&"object"==typeof e&&"match"in e&&Z(e.match)&&t.push({match:e.match,trackPayload:!!e.trackPayload})}),t}(e),c=function(e){var t,r,n,i,o,a,s,l,u,c,d,p,f;if(!e||!e.clientToken)return void N.display.error("Client Token is not configured, we will not send any data.");if(void 0!==e.allowedTrackingOrigins&&!Array.isArray(e.allowedTrackingOrigins))return void N.display.error("Allowed Tracking Origins must be an array");if((!(d=e.site)||"string"!=typeof d||/(datadog|ddog|datad0g|dd0g)/.test(d)||(N.display.error(`Site should be a valid Datadog site. ${N.MORE_DETAILS} ${N.DOCS_ORIGIN}/getting_started/site/.`),0))&&eK(e.sessionSampleRate,"Session")&&eK(e.telemetrySampleRate,"Telemetry")&&eK(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&eK(e.telemetryUsageSampleRate,"Telemetry Usage")&&eq(e.version,"Version")&&eq(e.env,"Env")&&eq(e.service,"Service")&&function(e,t="undefined"!=typeof location?location.origin:"",r=Error().stack){let n=e.allowedTrackingOrigins;if(!n){if(function(e,t=""){return!eU(e)&&eU(t)}(t,r)){N.display.warn(eP);let e=function(e=""){for(let t of eL){let r=e.match(RegExp(`${t}[^/]+`));if(r)return r[0]}}(r);(0,m.addTelemetryDebug)(eP,{extensionUrl:e||"unknown"})}return!0}let i=Q(n,t);return i||N.display.error("SDK initialized on a non-allowed domain."),i}(e)){let d,m,g;if(void 0!==e.trackingConsent&&!(0,F.objectHasValue)(_.TrackingConsent,e.trackingConsent))return void N.display.error('Tracking Consent should be either "granted" or "not-granted"');return{beforeSend:e.beforeSend&&(0,ee.catchUserErrors)(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:V.isWorkerEnvironment?void 0:function(e){switch(e.sessionPersistence){case em:return e_(e);case eg:return eI();case void 0:{let t=e_(e);return!t&&e.allowFallbackToLocalStorage&&(t=eI()),t}default:N.display.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}(e),sessionSampleRate:null!=(t=e.sessionSampleRate)?t:100,telemetrySampleRate:null!=(r=e.telemetrySampleRate)?r:20,telemetryConfigurationSampleRate:null!=(n=e.telemetryConfigurationSampleRate)?n:5,telemetryUsageSampleRate:null!=(i=e.telemetryUsageSampleRate)?i:5,service:null!=(o=e.service)?o:void 0,env:null!=(a=e.env)?a:void 0,version:null!=(s=e.version)?s:void 0,datacenter:null!=(l=e.datacenter)?l:void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!=(u=e.trackingConsent)?u:_.TrackingConsent.GRANTED,trackAnonymousUser:null==(c=e.trackAnonymousUser)||c,storeContextsAcrossPages:!!e.storeContextsAcrossPages,batchBytesLimit:16*er.ONE_KIBI_BYTE,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*b.ONE_SECOND,batchMessagesLimit:V.isWorkerEnvironment?1:50,messageBytesLimit:256*er.ONE_KIBI_BYTE,variant:e.variant,sdkVersion:e.sdkVersion,...(d=e.site||eV.INTAKE_SITE_US1,m="flutter"===(p=e.source)||"unity"===p?p:"browser",g={logsEndpointBuilder:e$(f={...e,site:d,source:m},"logs"),rumEndpointBuilder:e$(f,"rum"),profilingEndpointBuilder:e$(f,"profile"),sessionReplayEndpointBuilder:e$(f,"replay"),exposuresEndpointBuilder:e$(f,"exposures")},{replica:function(e){if(!e.replica)return;let t={...e,site:eV.INTAKE_SITE_US1,clientToken:e.replica.clientToken};return{logsEndpointBuilder:e$(t,"logs"),rumEndpointBuilder:e$(t,"rum",[`application.id=${e.replica.applicationId}`])}}({...e,site:d,source:m}),site:d,source:m,...g})}}}(e);if(!c)return;let d=null!=(t=e.sessionReplaySampleRate)?t:0;return{applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:d,startSessionReplayRecordingManually:void 0!==e.startSessionReplayRecordingManually?!!e.startSessionReplayRecordingManually:0===d,traceSampleRate:null!=(r=e.traceSampleRate)?r:100,rulePsr:(0,et.isNumber)(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:l,excludedActivityUrls:null!=(n=e.excludedActivityUrls)?n:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!(null==(i=e.trackUserInteractions)||i),trackViewsManually:!!e.trackViewsManually,trackResources:!!(null==(o=e.trackResources)||o),trackLongTasks:!!(null==(a=e.trackLongTasks)||a),trackBfcacheViews:!!e.trackBfcacheViews,trackEarlyRequests:!!e.trackEarlyRequests,subdomain:e.subdomain,defaultPrivacyLevel:(0,F.objectHasValue)(eF,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:eF.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,customerDataTelemetrySampleRate:1,initialViewMetricsTelemetrySampleRate:1,replayTelemetrySampleRate:1,traceContextInjection:(0,F.objectHasValue)(ej,e.traceContextInjection)?e.traceContextInjection:ej.SAMPLED,plugins:e.plugins||[],trackFeatureFlagsForEvents:e.trackFeatureFlagsForEvents||[],profilingSampleRate:null!=(s=e.profilingSampleRate)?s:0,propagateTraceBaggage:!!e.propagateTraceBaggage,allowedGraphQlUrls:u,...c}}(e);if(v){if(!y&&!v.sessionStoreStrategyType)return void N.display.warn("No storage available for session. We will not send any data.");if(v.compressIntakeRequests&&!y&&t&&!(a=t(v,"Datadog RUM",D.noop)))return;l=v,$().subscribe(D.noop),r.tryToInit(v.trackingConsent),h()}}let w=e=>{u.add(t=>t.addDurationVital(e))};return{init(t,r){t?((0,M.initFeatureFlags)(t.enableExperimentalFeatures),s=t,e&&(0,k.willSyntheticsInjectRum)()||((0,R.callPluginsMethod)(t.plugins,"onInit",{initConfiguration:t,publicApi:r}),t.remoteConfigurationId?e9(t,{user:d,context:c}).then(e=>{e&&S(e)}).catch(v.monitorError):S(t))):N.display.error("Missing configuration")},get initConfiguration(){return s},getInternalContext:D.noop,stopSession:D.noop,addTiming(e,t=(0,b.timeStampNow)()){u.add(r=>r.addTiming(e,t))},startView(e,t=(0,b.clocksNow)()){let r=r=>{r.startView(e,t)};u.add(r),o||(o={options:e,callback:r},h())},setViewName(e){u.add(t=>t.setViewName(e))},setViewContext(e){u.add(t=>t.setViewContext(e))},setViewContextProperty(e,t){u.add(r=>r.setViewContextProperty(e,t))},getViewContext:()=>y,globalContext:c,userContext:d,accountContext:p,addAction(e){u.add(t=>t.addAction(e))},addError(e){u.add(t=>t.addError(e))},addFeatureFlagEvaluation(e,t){u.add(r=>r.addFeatureFlagEvaluation(e,t))},startDurationVital:(e,t)=>(0,A.startDurationVital)(n,e,t),stopDurationVital(e,t){(0,A.stopDurationVital)(w,n,e,t)},addDurationVital:w,addOperationStepVital:(e,t,r,n)=>{u.add(i=>i.addOperationStepVital((0,E.sanitize)(e),t,(0,E.sanitize)(r),(0,E.sanitize)(n)))}}}(n,i,o,(l,u,c)=>{var d,p;let f=e(l,t,r,c,u&&n.createDeflateEncoder?e=>n.createDeflateEncoder(l,u,e):S.createIdentityEncoder,i,o,a,n.sdkName);return t.onRumStart(f.lifeCycle,l,f.session,f.viewHistory,u,f.telemetry),r.onRumStart(f.lifeCycle,f.hooks,l,f.session,f.viewHistory),d=s,p=f,s={init:e=>{(0,T.displayAlreadyInitializedError)("DD_RUM",e)},initConfiguration:d.initConfiguration,...p},(0,R.callPluginsMethod)(l.plugins,"onRumStart",{strategy:s,addEvent:f.addEvent}),f}),l=()=>s,u=(0,v.monitor)(e=>{s.startView("object"==typeof e?e:{name:e}),(0,m.addTelemetryUsage)({feature:"start-view"})}),c=(0,y.makePublicApi)({init:(0,v.monitor)(e=>{s.init(e,c)}),setTrackingConsent:(0,v.monitor)(e=>{i.update(e),(0,m.addTelemetryUsage)({feature:"set-tracking-consent",tracking_consent:e})}),setViewName:(0,v.monitor)(e=>{s.setViewName(e),(0,m.addTelemetryUsage)({feature:"set-view-name"})}),setViewContext:(0,v.monitor)(e=>{s.setViewContext(e),(0,m.addTelemetryUsage)({feature:"set-view-context"})}),setViewContextProperty:(0,v.monitor)((e,t)=>{s.setViewContextProperty(e,t),(0,m.addTelemetryUsage)({feature:"set-view-context-property"})}),getViewContext:(0,v.monitor)(()=>((0,m.addTelemetryUsage)({feature:"set-view-context-property"}),s.getViewContext())),getInternalContext:(0,v.monitor)(e=>s.getInternalContext(e)),getInitConfiguration:(0,v.monitor)(()=>(0,g.deepClone)(s.initConfiguration)),addAction:(e,t)=>{let r=(0,h.createHandlingStack)("action");(0,v.callMonitored)(()=>{s.addAction({name:(0,E.sanitize)(e),context:(0,E.sanitize)(t),startClocks:(0,b.clocksNow)(),type:I.ActionType.CUSTOM,handlingStack:r}),(0,m.addTelemetryUsage)({feature:"add-action"})})},addError:(e,t)=>{let r=(0,h.createHandlingStack)("error");(0,v.callMonitored)(()=>{s.addError({error:e,handlingStack:r,context:(0,E.sanitize)(t),startClocks:(0,b.clocksNow)()}),(0,m.addTelemetryUsage)({feature:"add-error"})})},addTiming:(0,v.monitor)((e,t)=>{s.addTiming((0,E.sanitize)(e),t)}),setGlobalContext:(0,w.defineContextMethod)(l,f.CustomerContextKey.globalContext,f.ContextManagerMethod.setContext,"set-global-context"),getGlobalContext:(0,w.defineContextMethod)(l,f.CustomerContextKey.globalContext,f.ContextManagerMethod.getContext,"get-global-context"),setGlobalContextProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.globalContext,f.ContextManagerMethod.setContextProperty,"set-global-context-property"),removeGlobalContextProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.globalContext,f.ContextManagerMethod.removeContextProperty,"remove-global-context-property"),clearGlobalContext:(0,w.defineContextMethod)(l,f.CustomerContextKey.globalContext,f.ContextManagerMethod.clearContext,"clear-global-context"),setUser:(0,w.defineContextMethod)(l,f.CustomerContextKey.userContext,f.ContextManagerMethod.setContext,"set-user"),getUser:(0,w.defineContextMethod)(l,f.CustomerContextKey.userContext,f.ContextManagerMethod.getContext,"get-user"),setUserProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.userContext,f.ContextManagerMethod.setContextProperty,"set-user-property"),removeUserProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.userContext,f.ContextManagerMethod.removeContextProperty,"remove-user-property"),clearUser:(0,w.defineContextMethod)(l,f.CustomerContextKey.userContext,f.ContextManagerMethod.clearContext,"clear-user"),setAccount:(0,w.defineContextMethod)(l,f.CustomerContextKey.accountContext,f.ContextManagerMethod.setContext,"set-account"),getAccount:(0,w.defineContextMethod)(l,f.CustomerContextKey.accountContext,f.ContextManagerMethod.getContext,"get-account"),setAccountProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.accountContext,f.ContextManagerMethod.setContextProperty,"set-account-property"),removeAccountProperty:(0,w.defineContextMethod)(l,f.CustomerContextKey.accountContext,f.ContextManagerMethod.removeContextProperty,"remove-account-property"),clearAccount:(0,w.defineContextMethod)(l,f.CustomerContextKey.accountContext,f.ContextManagerMethod.clearContext,"clear-account"),startView:u,stopSession:(0,v.monitor)(()=>{s.stopSession(),(0,m.addTelemetryUsage)({feature:"stop-session"})}),addFeatureFlagEvaluation:(0,v.monitor)((e,t)=>{s.addFeatureFlagEvaluation((0,E.sanitize)(e),(0,E.sanitize)(t)),(0,m.addTelemetryUsage)({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:(0,v.monitor)(()=>t.getSessionReplayLink()),startSessionReplayRecording:(0,v.monitor)(e=>{t.start(e),(0,m.addTelemetryUsage)({feature:"start-session-replay-recording",force:e&&e.force})}),stopSessionReplayRecording:(0,v.monitor)(()=>t.stop()),addDurationVital:(0,v.monitor)((e,t)=>{(0,m.addTelemetryUsage)({feature:"add-duration-vital"}),s.addDurationVital({name:(0,E.sanitize)(e),type:I.VitalType.DURATION,startClocks:(0,b.timeStampToClocks)(t.startTime),duration:t.duration,context:(0,E.sanitize)(t&&t.context),description:(0,E.sanitize)(t&&t.description)})}),startDurationVital:(0,v.monitor)((e,t)=>((0,m.addTelemetryUsage)({feature:"start-duration-vital"}),s.startDurationVital((0,E.sanitize)(e),{context:(0,E.sanitize)(t&&t.context),description:(0,E.sanitize)(t&&t.description)}))),stopDurationVital:(0,v.monitor)((e,t)=>{(0,m.addTelemetryUsage)({feature:"stop-duration-vital"}),s.stopDurationVital("string"==typeof e?(0,E.sanitize)(e):e,{context:(0,E.sanitize)(t&&t.context),description:(0,E.sanitize)(t&&t.description)})}),startFeatureOperation:(0,v.monitor)((e,t)=>{(0,m.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"start"}),s.addOperationStepVital(e,"start",t)}),succeedFeatureOperation:(0,v.monitor)((e,t)=>{(0,m.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"succeed"}),s.addOperationStepVital(e,"end",t)}),failFeatureOperation:(0,v.monitor)((e,t,r)=>{(0,m.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"fail"}),s.addOperationStepVital(e,"end",r,t)})});return c}e.s(["makeRumPublicApi",()=>ti],415720);var to=e.i(8038),ta=e.i(882720),ts=e.i(277949);function tl(){let e=tu();return new U.Observable(t=>{if(!e)return;let r=new e((0,v.monitor)(e=>t.notify(e)));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>r.disconnect()})}function tu(){let e,t=window;if(t.Zone&&(e=(0,ts.getZoneJsOriginalValue)(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){let r=new t.MutationObserver(D.noop),n=(0,ts.getZoneJsOriginalValue)(r,"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}e.s(["createDOMMutationObservable",()=>tl,"getMutationObserverConstructor",()=>tu],974562);let tc=class{constructor(){this.callbacks={}}notify(e,t){let r=this.callbacks[e];r&&r.forEach(e=>e(t))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter(e=>t!==e)}}}},td=1/0,tp=b.ONE_MINUTE,tf=null,tm=new Set;function tg({expireDelay:e,maxEntries:t}){let r=[];tf||(tf=(0,en.setInterval)(()=>void tm.forEach(e=>e()),tp));let n=()=>{let t=(0,b.relativeNow)()-e;for(;r.length>0&&r[r.length-1].endTime<t;)r.pop()};return tm.add(n),{add:function(e,n){let i={value:e,startTime:n,endTime:td,remove:()=>{(0,eG.removeItem)(r,i)},close:e=>{i.endTime=e}};return t&&r.length>=t&&r.pop(),r.unshift(i),i},find:function(e=td,t={returnInactive:!1}){for(let n of r)if(n.startTime<=e){if(t.returnInactive||e<=n.endTime)return n.value;break}},closeActive:function(e){let t=r[0];t&&t.endTime===td&&t.close(e)},findAll:function(e=td,t=0){let n=(0,b.addDuration)(e,t);return r.filter(t=>t.startTime<=n&&e<=t.endTime).map(e=>e.value)},reset:function(){r=[]},stop:function(){tm.delete(n),0===tm.size&&tf&&((0,en.clearInterval)(tf),tf=null)}}}let ty="fetch",tv="other",tb=new WeakMap;function th({target:e,parameters:[t,r]}){tb.set(e,{state:"open",method:String(t).toUpperCase(),url:(0,P.normalizeUrl)(String(r))})}function tE({target:e}){let t=tb.get(e);t&&(t.isAborted=!0)}var tS=e.i(320136);let tT="initial_document",t_=[["document",e=>tT===e],["xhr",e=>"xmlhttprequest"===e],[ty,e=>"fetch"===e],["beacon",e=>"beacon"===e],["css",(e,t)=>/\.css$/i.test(t)],["js",(e,t)=>/\.js$/i.test(t)],["image",(e,t)=>["image","img","icon"].includes(e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)],["font",(e,t)=>null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)],["media",(e,t)=>["audio","video"].includes(e)||null!==/\.(mp3|mp4)$/i.exec(t)]];function tw(e){let t=e.name;if(!(0,P.isValidUrl)(t))return(0,m.addTelemetryDebug)(`Failed to construct URL for "${e.name}"`),tv;let r=(0,P.getPathName)(t);for(let[t,n]of t_)if(n(e.initiatorType,r))return t;return tv}function tC(...e){for(let t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function tI(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType}function tA(e){let{duration:t,startTime:r,responseEnd:n}=e;return 0===t&&r<n?(0,b.elapsed)(r,n):t}function tR(e){if(!tN(e))return;let{startTime:t,fetchStart:r,workerStart:n,redirectStart:i,redirectEnd:o,domainLookupStart:a,domainLookupEnd:s,connectStart:l,secureConnectionStart:u,connectEnd:c,requestStart:d,responseStart:p,responseEnd:f}=e,m={download:tx(t,p,f),first_byte:tx(t,d,p)};return 0<n&&n<r&&(m.worker=tx(t,n,r)),r<c&&(m.connect=tx(t,l,c),l<=u&&u<=c&&(m.ssl=tx(t,u,c))),r<s&&(m.dns=tx(t,a,s)),t<o&&(m.redirect=tx(t,i,o)),m}function tO(e){return e.duration>=0}function tN(e){var t;let r=tC(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!((t=e).redirectEnd>t.startTime)||tC(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return r&&n}function tx(e,t,r){if(e<=t&&t<=r)return{duration:(0,b.toServerDuration)((0,b.elapsed)(t,r)),start:(0,b.toServerDuration)((0,b.elapsed)(e,t))}}function tk(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}function tD(e){return""===e.deliveryType?"other":e.deliveryType}function tM(e){if(e.startTime<e.responseStart){let{encodedBodySize:t,decodedBodySize:r,transferSize:n}=e;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:n}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function tL(e){return e&&(!eV.INTAKE_URL_PARAMETERS.every(t=>e.includes(t))||(0,M.isExperimentalFeatureEnabled)(M.ExperimentalFeature.TRACK_INTAKE_REQUESTS))}let tU=/data:(.+)?(;base64)?,/g;function tP(e,t=24e3){if(e.length<=t||!e.startsWith("data:"))return e;let r=e.substring(0,100).match(tU);return r?`${r[0]}[...]`:e}e.s(["FAKE_INITIAL_DOCUMENT",0,tT,"computeResourceEntryDeliveryType",()=>tD,"computeResourceEntryDetails",()=>tR,"computeResourceEntryDuration",()=>tA,"computeResourceEntryProtocol",()=>tk,"computeResourceEntrySize",()=>tM,"computeResourceEntryType",()=>tw,"hasValidResourceEntryDuration",()=>tO,"hasValidResourceEntryTimings",()=>tN,"isAllowedRequestUrl",()=>tL,"isResourceEntryRequestType",()=>tI,"sanitizeIfLongDataUrl",()=>tP],849275);let tV=1;function t$(){let e=tV;return tV+=1,e}function tB(e){return(0,et.isNumber)(e)&&e<0?void 0:e}function tF({lifeCycle:e,isChildEvent:t,onChange:r=D.noop}){let n={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},i=e.subscribe(13,e=>{var i;if("view"!==e.type&&"vital"!==e.type&&t(e))switch(e.type){case I.RumEventType.ERROR:n.errorCount+=1,r();break;case I.RumEventType.ACTION:n.actionCount+=1,e.action.frustration&&(n.frustrationCount+=e.action.frustration.type.length),r();break;case I.RumEventType.LONG_TASK:n.longTaskCount+=1,r();break;case I.RumEventType.RESOURCE:(null==(i=e._dd)?void 0:i.discarded)||(n.resourceCount+=1,r())}});return{stop:()=>{i.unsubscribe()},eventCounts:n}}function tj(e,t){return new U.Observable(r=>{var n;let i,a;if(!window.PerformanceObserver)return;let s=e=>{let t=e.filter(e=>{var t;return!((t=e).entryType===p.RESOURCE&&(!tL(t.name)||!tO(t)))});t.length>0&&r.notify(t)},l=!0,u=new PerformanceObserver((0,v.monitor)(e=>{l?i=(0,en.setTimeout)(()=>s(e.getEntries())):s(e.getEntries())}));try{u.observe(t)}catch(e){if([p.RESOURCE,p.NAVIGATION,p.LONG_TASK,p.PAINT].includes(t.type)){t.buffered&&(i=(0,en.setTimeout)(()=>s(performance.getEntriesByType(t.type))));try{u.observe({entryTypes:[t.type]})}catch(e){return}}}return l=!1,n=e,!o&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(o=(0,B.addEventListener)(n,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),tq(p.FIRST_INPUT)||t.type!==p.FIRST_INPUT||({stop:a}=function(e,t){let r=(0,b.dateNow)(),n=!1,{stop:i}=(0,B.addEventListeners)(e,window,["click","mousedown","keydown","touchstart","pointerdown"],t=>{var r,n;if(!t.cancelable)return;let i={entryType:"first-input",processingStart:(0,b.relativeNow)(),processingEnd:(0,b.relativeNow)(),startTime:t.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};"pointerdown"===t.type?(r=e,n=i,(0,B.addEventListeners)(r,window,["pointerup","pointercancel"],e=>{"pointerup"===e.type&&o(n)},{once:!0})):o(i)},{passive:!0,capture:!0});return{stop:i};function o(e){if(!n){n=!0,i();let o=e.processingStart-e.startTime;o>=0&&o<(0,b.dateNow)()-r&&t(e)}}}(e,e=>{s([e])})),()=>{u.disconnect(),a&&a(),(0,en.clearTimeout)(i)}})}function tq(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function tK(e){return e.nodeType===Node.TEXT_NODE}function tG(e){return e.nodeType===Node.COMMENT_NODE}function tz(e){return e.nodeType===Node.ELEMENT_NODE}function tH(e){return tz(e)&&!!e.shadowRoot}function tW(e){return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&tz(e.host)}function tJ(e){return e.childNodes.length>0||tH(e)}function tY(e,t){let r=e.firstChild;for(;r;)t(r),r=r.nextSibling;tH(e)&&t(e.shadowRoot)}function tX(e){return tW(e)?e.host:e.parentNode}(d=p||(p={})).EVENT="event",d.FIRST_INPUT="first-input",d.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",d.LAYOUT_SHIFT="layout-shift",d.LONG_TASK="longtask",d.LONG_ANIMATION_FRAME="long-animation-frame",d.NAVIGATION="navigation",d.PAINT="paint",d.RESOURCE="resource",d.VISIBILITY_STATE="visibility-state",e.s(["RumPerformanceEntryType",()=>p,"createPerformanceObservable",()=>tj,"supportPerformanceTimingEvent",()=>tq],904348),e.s(["forEachChildNodes",()=>tY,"getParentNode",()=>tX,"hasChildNodes",()=>tJ,"isCommentNode",()=>tG,"isElementNode",()=>tz,"isNodeShadowHost",()=>tH,"isNodeShadowRoot",()=>tW,"isTextNode",()=>tK],980563);let tZ="data-dd-excluded-activity-mutations";function tQ(e,t,r){let n,i=!1,o=(0,en.setTimeout)((0,v.monitor)(()=>u({hadActivity:!1})),100),a=void 0!==r?(0,en.setTimeout)((0,v.monitor)(()=>u({hadActivity:!0,end:(0,b.timeStampNow)()})),r):void 0,s=e.subscribe(({isBusy:e})=>{(0,en.clearTimeout)(o),(0,en.clearTimeout)(n);let t=(0,b.timeStampNow)();e||(n=(0,en.setTimeout)((0,v.monitor)(()=>u({hadActivity:!0,end:t})),100))}),l=()=>{i=!0,(0,en.clearTimeout)(o),(0,en.clearTimeout)(n),(0,en.clearTimeout)(a),s.unsubscribe()};function u(e){i||(l(),t(e))}return{stop:l}}function t0(e,t,r,n){return new U.Observable(i=>{let o,a=[],s=0;return a.push(t.subscribe(e=>{e.every(t2)||l()}),r.subscribe(l),tj(n,{type:p.RESOURCE}).subscribe(e=>{e.some(e=>!t1(n,e.name))&&l()}),e.subscribe(7,e=>{t1(n,e.url)||(void 0===o&&(o=e.requestIndex),s+=1,l())}),e.subscribe(8,e=>{t1(n,e.url)||void 0===o||e.requestIndex<o||(s-=1,l())})),()=>{a.forEach(e=>e.unsubscribe())};function l(){i.notify({isBusy:s>0})}})}function t1(e,t){return Q(e.excludedActivityUrls,t)}function t2(e){let t="characterData"===e.type?e.target.parentElement:e.target;return!!(t&&tz(t)&&t.matches(`[${tZ}], [${tZ}] *`))}let t4="data-dd-action-name",t6=[t4,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],t3=[t9,function(e){if(e.id&&!t5(e.id))return`#${CSS.escape(e.id)}`}],t8=[t9,function(e){if("BODY"===e.tagName)return;let t=e.classList;for(let r=0;r<t.length;r+=1){let n=t[r];if(!t5(n))return`${CSS.escape(e.tagName)}.${CSS.escape(n)}`}},function(e){return CSS.escape(e.tagName)}];function t7(e,t){let r;if(!e.isConnected)return;let n=e;for(;n&&"HTML"!==n.nodeName;){let e=re(n,t3,rt,t,r);if(e)return e;r=re(n,t8,rr,t,r)||rn(function(e){let t=e.parentElement.firstElementChild,r=1;for(;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return`${CSS.escape(e.tagName)}:nth-of-type(${r})`}(n),r),n=n.parentElement}return r}function t5(e){return/[0-9]/.test(e)}function t9(e,t){if(t){let e=r(t);if(e)return e}for(let e of t6){let t=r(e);if(t)return t}function r(t){if(e.hasAttribute(t))return`${CSS.escape(e.tagName)}[${t}="${CSS.escape(e.getAttribute(t))}"]`}}function re(e,t,r,n,i){for(let o of t){let t=o(e,n);if(t&&r(e,t,i))return rn(t,i)}}function rt(e,t,r){return 1===e.ownerDocument.querySelectorAll(rn(t,r)).length}function rr(e,t,r){let n;if(void 0===r)n=e=>e.matches(t);else{let e=rn(`${t}:scope`,r);n=t=>null!==t.querySelector(e)}let i=e.parentElement.firstElementChild;for(;i;){if(i!==e&&n(i))return!1;i=i.nextElementSibling}return!0}function rn(e,t){return t?`${e}>${t}`:e}e.s(["STABLE_ATTRIBUTES",0,t6,"getSelectorFromElement",()=>t7],426614);let ri={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:eF.ALLOW,MASK:eF.MASK,MASK_USER_INPUT:eF.MASK_USER_INPUT,MASK_UNLESS_ALLOWLISTED:eF.MASK_UNLESS_ALLOWLISTED},ro="data-dd-privacy",ra={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function rs(e){return`[${ro}="${e}"], .dd-privacy-${e}`}function rl(e,t,r){if(r&&r.has(e))return r.get(e);let n=tX(e),i=n?rl(n,t,r):t,o=ru(rc(e),i);return r&&r.set(e,o),o}function ru(e,t){switch(t){case ri.HIDDEN:case ri.IGNORE:return t}switch(e){case ri.ALLOW:case ri.MASK:case ri.MASK_USER_INPUT:case ri.MASK_UNLESS_ALLOWLISTED:case ri.HIDDEN:case ri.IGNORE:return e;default:return t}}function rc(e){if(tz(e)){if("BASE"===e.tagName)return ri.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return ri.MASK;let t=e.getAttribute("autocomplete");if(t&&(t.startsWith("cc-")||t.endsWith("-password")))return ri.MASK}if(e.matches(rs(ri.HIDDEN)))return ri.HIDDEN;if(e.matches(rs(ri.MASK)))return ri.MASK;if(e.matches(rs(ri.MASK_UNLESS_ALLOWLISTED)))return ri.MASK_UNLESS_ALLOWLISTED;if(e.matches(rs(ri.MASK_USER_INPUT)))return ri.MASK_USER_INPUT;if(e.matches(rs(ri.ALLOW)))return ri.ALLOW;if(function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){let e=t("rel");return/preload|prefetch/i.test(e)&&"script"===t("as")||"shortcut icon"===e||"icon"===e}if("META"===e.nodeName){let r=t("name"),n=t("rel"),i=t("property");return/^msapplication-tile(image|color)$/.test(r)||"application-name"===r||"icon"===n||"apple-touch-icon"===n||"shortcut icon"===n||"keywords"===r||"description"===r||/^(og|twitter|fb):/.test(i)||/^(og|twitter):/.test(r)||"pinterest"===r||"robots"===r||"googlebot"===r||"bingbot"===r||e.hasAttribute("http-equiv")||"author"===r||"generator"===r||"framework"===r||"publisher"===r||"progid"===r||/^article:/.test(i)||/^product:/.test(i)||"google-site-verification"===r||"yandex-verification"===r||"csrf-token"===r||"p:domain_verify"===r||"verify-v1"===r||"verification"===r||"shopify-checkout-api-token"===r}function t(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e))return ri.IGNORE}}function rd(e,t){switch(t){case ri.MASK:case ri.HIDDEN:case ri.IGNORE:return!0;case ri.MASK_UNLESS_ALLOWLISTED:if(tK(e))return!!rp(e.parentNode)||!rm(e.textContent||"");return rp(e);case ri.MASK_USER_INPUT:return tK(e)?rp(e.parentNode):rp(e);default:return!1}}function rp(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!ra[e.tagName]}function rf(e,t,r){var n,i;let o=null==(n=e.parentElement)?void 0:n.tagName,a=e.textContent||"";if(!t||a.trim()){if("SCRIPT"===o)a="***";else if(r===ri.HIDDEN)a="***";else if(rd(e,r))if("DATALIST"===o||"SELECT"===o||"OPTGROUP"===o){if(!a.trim())return}else if("OPTION"===o)a="***";else if(r===ri.MASK_UNLESS_ALLOWLISTED){a=rm(i=a)?i:i.replace(/\S/g,"x")}else a=a.replace(/\S/g,"x");return a}}function rm(e){var t;return!(e&&e.trim())||(null==(t=window.$DD_ALLOW)?void 0:t.has(e.toLocaleLowerCase()))||!1}e.s(["CENSORED_IMG_MARK",0,"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==","CENSORED_STRING_MARK",0,"***","FORM_PRIVATE_TAG_NAMES",0,ra,"NodePrivacyLevel",0,ri,"PRIVACY_ATTR_NAME",0,ro,"PRIVACY_ATTR_VALUE_HIDDEN",0,"hidden","TEXT_MASKING_CHAR",0,"x","getPrivacySelector",()=>rs],616160),e.s(["getNodePrivacyLevel",()=>rl,"getNodeSelfPrivacyLevel",()=>rc,"getTextContent",()=>rf,"reducePrivacyLevel",()=>ru,"shouldMaskNode",()=>rd],427747);let rg=b.ONE_SECOND;function ry(e,t){let r=e.closest(`[${t}]`);if(r)return rS(rE(r.getAttribute(t).trim()))}let rv=[(e,t)=>{if("labels"in e&&e.labels&&e.labels.length>0)return r_(e.labels[0],t)},e=>{if("INPUT"===e.nodeName){let t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return{name:e.value,nameSource:"text_content"}}},(e,t)=>{if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return r_(e,t)},e=>rT(e,"aria-label"),(e,t)=>{let r=e.getAttribute("aria-labelledby");if(r)return{name:r.split(/\s+/).map(t=>{var r,n;return r=e,n=t,r.ownerDocument?r.ownerDocument.getElementById(n):null}).filter(e=>!!e).map(e=>rw(e,t)).join(" "),nameSource:"text_content"}},e=>rT(e,"alt"),e=>rT(e,"name"),e=>rT(e,"title"),e=>rT(e,"placeholder"),(e,t)=>{if("options"in e&&e.options.length>0)return r_(e.options[0],t)}],rb=[(e,t)=>r_(e,t)];function rh(e,t,r){let n=e,i=0;for(;i<=10&&n&&"BODY"!==n.nodeName&&"HTML"!==n.nodeName&&"HEAD"!==n.nodeName;){for(let e of t){let t=e(n,r);if(t){let{name:e,nameSource:r}=t,n=e&&e.trim();if(n)return{name:rS(rE(n)),nameSource:r}}}if("FORM"===n.nodeName)break;n=n.parentElement,i+=1}}function rE(e){return e.replace(/\s+/g," ")}function rS(e){return e.length>100?`${(0,ei.safeTruncate)(e,100)} [...]`:e}function rT(e,t){return{name:e.getAttribute(t)||"",nameSource:"standard_attribute"}}function r_(e,t){return{name:rw(e,t)||"",nameSource:"text_content"}}function rw(e,t){if(e.isContentEditable)return;let{enablePrivacyForActionName:r,actionNameAttribute:n,defaultPrivacyLevel:i}=t;if((0,M.isExperimentalFeatureEnabled)(M.ExperimentalFeature.USE_TREE_WALKER_FOR_ACTION_NAME)){var o=e,a=n,s=r,l=i;let t=new Map,u=document.createTreeWalker(o,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,function(e){let r=rl(e,l,t);if(s&&r&&rd(e,r))return NodeFilter.FILTER_REJECT;if(tz(e)){if(e.hasAttribute(t4)||a&&e.hasAttribute(a))return NodeFilter.FILTER_REJECT;let t=getComputedStyle(e);if("visible"!==t.visibility||"none"===t.display||t.contentVisibility&&"visible"!==t.contentVisibility)return NodeFilter.FILTER_REJECT}return NodeFilter.FILTER_ACCEPT}),c="";for(;u.nextNode();){let e=u.currentNode;if(tz(e)){("BR"===e.nodeName||"P"===e.nodeName||["block","flex","grid","list-item","table","table-caption"].includes(getComputedStyle(e).display))&&(c+=" ");continue}c+=e.textContent||""}return c.replace(/\s+/g," ").trim()}if("innerText"in e){let t=e.innerText,i=r=>{let n=e.querySelectorAll(r);for(let e=0;e<n.length;e+=1){let r=n[e];if("innerText"in r){let e=r.innerText;e&&e.trim().length>0&&(t=t.replace(e,""))}}};return i(`[${t4}]`),n&&i(`[${n}]`),r&&i(`${rs(ri.HIDDEN)}, ${rs(ri.MASK)}`),t}return e.textContent}function rC(){let e=window.getSelection();return!e||e.isCollapsed}function rI(e){return e.target instanceof Element&&!1!==e.isPrimary}function rA(e){if(e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll)return!1;let t=e.event.target;return"LABEL"===t.tagName&&t.hasAttribute("for")&&(t=document.getElementById(t.getAttribute("for"))),!t||!t.matches('input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}let rR=10*b.ONE_SECOND,rO=new Map;function rN(e,t){rO.set(e,t),rO.forEach((e,t)=>{(0,b.elapsed)(t,(0,b.relativeNow)())>rR&&rO.delete(t)})}let rx=5*b.ONE_MINUTE;function rk(e){let t=rD(e)?{action:{id:e.id,loading_time:tB((0,b.toServerDuration)(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:e.nameSource}}}:{context:e.context},r=(0,g.combine)({action:{id:(0,ei.generateUUID)(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:I.RumEventType.ACTION},t),n=rD(e)?e.duration:void 0,i=rD(e)?{events:e.events}:{handlingStack:e.handlingStack};return{rawRumEvent:r,duration:n,startTime:e.startClocks.relative,domainContext:i}}function rD(e){return e.type!==I.ActionType.CUSTOM}var rM=e.i(862203),rL=e.i(104404),rU=e.i(412491),rP=e.i(294691);let rV={},r$="csp_violation";function rB(e){return{startClocks:(0,b.clocksNow)(),source:rM.ErrorSource.REPORT,handling:"unhandled",...e}}function rF(e,t,r,n,i){return r?(0,h.toStackTraceString)({name:e,message:t,stack:[{func:"?",url:r,line:null!=n?n:void 0,column:null!=i?i:void 0}]}):void 0}function rj(e,t){var r;let n,i;if(window.requestIdleCallback&&window.cancelIdleCallback){let r=window.requestIdleCallback((0,v.monitor)(e),t);return()=>window.cancelIdleCallback(r)}return r=e,n=(0,b.dateNow)(),i=(0,en.setTimeout)(()=>{r({didTimeout:!1,timeRemaining:()=>Math.max(0,50-((0,b.dateNow)()-n))})},0),()=>(0,en.clearTimeout)(i)}e.s(["requestIdleCallback",()=>rj],48240);let rq=b.ONE_SECOND,rK=new WeakSet;function rG(e){return(0,b.addDuration)(e.startTime,e.duration)}function rz(e,t,r){return document.readyState===t||"complete"===document.readyState?(r(),{stop:D.noop}):(0,B.addEventListener)(e,window,"complete"===t?"load":"DOMContentLoaded",r,{once:!0})}function rH(e,t){return new Promise(r=>{rz(e,t,r)})}e.s(["asyncRunOnReadyState",()=>rH,"runOnReadyState",()=>rz],972397);let rW=2*b.ONE_MINUTE;function rJ(e,t){let r=t&&Number(t);if(e&&r)return{traceId:e,traceTime:r}}function rY(e){if(e&&tG(e)){let t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function rX(){if(tq(p.NAVIGATION)){let e=performance.getEntriesByType(p.NAVIGATION)[0];if(e)return e}let e=function(){let e={},t=performance.timing;for(let r in t)if((0,et.isNumber)(t[r])){let n=t[r];e[r]=0===n?0:(0,b.getRelativeTime)(n)}return e}(),t={entryType:p.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:e.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...t,toJSON:void 0}),...e};return t}let rZ=32*er.ONE_KIBI_BYTE;function rQ(e,t,r,n){let i=tI(e)&&n?n.getMatchingRequest(e):void 0;return r0(e,i,r,t)}function r0(e,t,r,n){var i,o,a,s;if(!e&&!t)return;let l=t?function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}(t,n):function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:eW(63).toString(),rule_psr:t.rulePsr}}}(e,n);if(!n.trackResources&&!l)return;let u=e?(0,b.relativeToClocks)(e.startTime):t.startClocks,c=e?tA(e):(i=r,o=u,a=t.duration,i.wasInPageStateDuringPeriod("frozen",o.relative,a)?void 0:a),d=t&&function(e,t){var r;if(!(0,M.isExperimentalFeatureEnabled)(M.ExperimentalFeature.GRAPHQL_TRACKING))return;let n=(r=e.url,t.allowedGraphQlUrls.find(e=>Q([e.match],r)));if(n)return function(e,t=!1){var r;let n,i;if(!e||"string"!=typeof e)return;try{n=JSON.parse(e)}catch(e){return}if(!n||!n.query)return;let o=n.query.trim(),a=null==(r=o.match(/^\s*(query|mutation|subscription)\b/i))?void 0:r[1],s=n.operationName;if(a)return n.variables&&(i=JSON.stringify(n.variables)),{operationType:a,operationName:s,variables:i,payload:t?(0,ei.safeTruncate)(o,rZ,"..."):void 0}}(e.body,n.trackPayload)}(t,n),p=(0,g.combine)({date:u.timeStamp,resource:{id:(0,ei.generateUUID)(),duration:(0,b.toServerDuration)(c),type:t?"xhr"===t.type?"xhr":ty:tw(e),method:t?t.method:void 0,status_code:t?t.status:0===(s=e.responseStatus)?void 0:s,url:t?tP(t.url):e.name,protocol:e&&tk(e),delivery_type:e&&tD(e),graphql:d},type:I.RumEventType.RESOURCE,_dd:{discarded:!n.trackResources}},l,e&&function(e){let{renderBlockingStatus:t}=e;return{resource:{render_blocking_status:t,...tM(e),...tR(e)}}}(e));return{startTime:u.relative,duration:c,rawRumEvent:p,domainContext:function(e,t){if(t){let r={performanceEntry:e,isAborted:t.isAborted,handlingStack:t.handlingStack};return"xhr"===t.type?{xhr:t.xhr,...r}:{requestInput:t.input,requestInit:t.init,response:t.response,error:t.error,...r}}return{performanceEntry:e}}(e,t)}}var r1=b;let r2=10*b.ONE_MINUTE,r4=10*b.ONE_MINUTE;function r6(e,t,r=window){if("hidden"===document.visibilityState)return{timeStamp:0,stop:D.noop};if(tq(p.VISIBILITY_STATE)){let e=performance.getEntriesByType(p.VISIBILITY_STATE).filter(e=>"hidden"===e.name).find(e=>e.startTime>=t.relative);if(e)return{timeStamp:e.startTime,stop:D.noop}}let n=1/0,{stop:i}=(0,B.addEventListeners)(e,r,["pagehide","visibilitychange"],e=>{("pagehide"===e.type||"hidden"===document.visibilityState)&&(n=e.timeStamp,i())},{capture:!0});return{get timeStamp(){return n},stop:i}}let r3=e=>{var t,r;let n,i,o,a;return e.previousRect.width*e.previousRect.height+e.currentRect.width*e.currentRect.height-(t=e.previousRect,r=e.currentRect,n=Math.max(t.left,r.left),i=Math.max(t.top,r.top),o=Math.min(t.right,r.right),a=Math.min(t.bottom,r.bottom),n>=o||i>=a?0:(o-n)*(a-i))};function r8({x:e,y:t,width:r,height:n}){return{x:e,y:t,width:r,height:n}}let r7=5*b.ONE_SECOND,r5=b.ONE_SECOND,r9=0,ne=1/0,nt=0,nr=()=>a?r9:window.performance.interactionCount||0,nn=+b.ONE_MINUTE;function ni(){let e=window.visualViewport;return Math.round(e?e.pageLeft-e.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0)}function no(){let e=window.visualViewport;return Math.round(e?e.pageTop-e.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0)}function na(e){var t;return s||(t=e,s=new U.Observable(e=>{let{throttled:r}=(0,D.throttle)(()=>{e.notify(ns())},200);return(0,B.addEventListener)(t,window,"resize",r,{capture:!0,passive:!0}).stop})),s}function ns(){let e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}e.s(["getScrollX",()=>ni,"getScrollY",()=>no],296538),e.s(["getViewportDimension",()=>ns,"initViewportObservable",()=>na],135549);let nl=b.ONE_SECOND,nu=5*r1.ONE_MINUTE,nc=5*r1.ONE_MINUTE;function nd(e){let t=e.indexOf("?");return t<0?e:e.slice(0,t)}let np=b.ONE_MINUTE,nf=[];async function nm(){let e=eC();(0,m.addTelemetryDebug)("Unexpected session state",{session:e,isSyntheticsTest:(0,k.isSyntheticsTest)(),createdTimestamp:null==e?void 0:e.created,expireTimestamp:null==e?void 0:e.expire,cookie:await ng(),currentDomain:`${window.location.protocol}//${window.location.hostname}`})}async function ng(){let e;return{count:(e="cookieStore"in window?await window.cookieStore.getAll(eu):document.cookie.split(/\s*;\s*/).filter(e=>e.startsWith(eu))).length,domain:(0,el.getCurrentSite)(),...e}}var ny=e.i(294941),nv=e.i(998361),nb=e.i(990595);function nh(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}let nE=10*b.ONE_SECOND;function nS(){0!==l.batchCount&&((0,m.addTelemetryMetrics)("Customer data measures",l),nw())}function nT(){return{min:1/0,max:0,sum:0}}function n_(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function nw(){l={batchCount:0,batchBytesCount:nT(),batchMessagesCount:nT()}}function nC(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}let nI=b.ONE_SECOND;function nA(e,t){let r=(0,ei.findCommaSeparatedValue)(document.cookie,e),n=(0,en.setInterval)(()=>{let n=(0,ei.findCommaSeparatedValue)(document.cookie,e);n!==r&&t(n)},nI);return()=>{(0,en.clearInterval)(n)}}let nR="datadog-ci-visibility-test-execution-id";function nO(e,t,r){let n=0,i=!1;return{isLimitReached(){if(0===n&&(0,en.setTimeout)(()=>{n=0},b.ONE_MINUTE),(n+=1)<=t||i)return i=!1,!1;if(n===t+1){i=!0;try{r({message:`Reached max number of ${e}s by minute: ${t}`,source:rM.ErrorSource.AGENT,startClocks:(0,b.clocksNow)()})}finally{i=!1}}return!0}}}function nN(e){let{env:t,service:r,version:n,datacenter:i,sdkVersion:o,variant:a}=e,s=[nx("sdk_version",null!=o?o:"6.21.0")];return t&&s.push(nx("env",t)),r&&s.push(nx("service",r)),n&&s.push(nx("version",n)),i&&s.push(nx("datacenter",i)),a&&s.push(nx("variant",a)),s}function nx(e,t){var r;let n=t?`${e}:${t}`:e;return(n.length>200||(r=n,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(r)))&&N.display.warn(`Tag ${n} doesn't meet tag requirements and will be sanitized. ${N.MORE_DETAILS} ${N.DOCS_ORIGIN}/getting_started/tagging/#defining-tags`),n.replace(/,/g,"_")}function nk(e){return"object"===(0,G.getType)(e)}e.s(["buildTags",()=>nN],142445);let nD={"view.name":"string","view.url":"string","view.referrer":"string"},nM={context:"object"},nL={service:"string",version:"string"};var nU=e.i(27522);let nP=K.abstractHooks,nV=[I.RumEventType.ACTION,I.RumEventType.ERROR,I.RumEventType.LONG_TASK,I.RumEventType.RESOURCE,I.RumEventType.VITAL];function n$(e,t,r,n,o,s,d,f,y){var S,T,_,w,C,R,O,P,V,j,z,H;let Z,Q,ee,er,ea,es,ef,eg,ey,eS,e_,eI,eO,eN=[],ek=new tc,eD=nP();ek.subscribe(13,e=>(0,to.sendToExtension)("rum",e));let eL=e=>{ek.notify(14,{error:e}),(0,m.addTelemetryDebug)("Error reported to customer",{"error.message":e.message})},eU=(0,ta.createPageMayExitObservable)(e),eP=eU.subscribe(e=>{ek.notify(11,e)});eN.push(()=>eP.unsubscribe());let eV=(0,m.startTelemetry)("browser-rum-sdk",e,eD,eL,eU,o);eN.push(eV.stop);let e$=(0,x.canUseEventBridge)()?(Q={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:+!!(0,x.bridgeSupports)("records")},{findTrackedSession:()=>Q,expire:D.noop,expireObservable:new U.Observable,setForcedReplay:D.noop}):((ee=function(e,t,r,n){let i=new U.Observable,o=new U.Observable,a=function(e,t,r,n,i=function(e,t){return e.type===em?function(e,t){let r={isLockEnabled:eo(),persistSession:r=>ew(t,e,r,ep),retrieveSession:eC,expireSession:r=>ew(t,e,ev(r,e),ed)};if(!(0,el.getInitCookie)(eu)){let e=(0,el.getInitCookie)("_dd"),t=(0,el.getInitCookie)("_dd_r"),n=(0,el.getInitCookie)("_dd_l"),i={};e&&(i.id=e),n&&/^[01]$/.test(n)&&(i.logs=n),t&&/^[012]$/.test(t)&&(i.rum=t),eb(i)||(eE(i),r.persistSession(i))}return r}(t,e.cookieOptions):{isLockEnabled:!1,persistSession:eA,retrieveSession:eR,expireSession:e=>(function(e,t){eA(ev(e,t))})(e,t)}}(e,t)){let o,a=new U.Observable,s=new U.Observable,l=new U.Observable,u=(0,en.setInterval)(function(){let e=i.retrieveSession();eh(e)?ex({process:e=>eh(e)?ev(e,t):void 0,after:p},i):p(e)},eM);f();let{throttled:c,cancel:d}=(0,D.throttle)(()=>{ex({process:e=>{if(eb(e))return;let t=p(e);return function(e){if(eb(e))return;let t=n(e.rum);e.rum=t,delete e.isExpired,"0"===t||e.id||(e.id=(0,ei.generateUUID)(),e.created=String((0,b.dateNow)()))}(t),t},after:e=>{eb(e)||m()||(o=e,a.notify()),o=e}},i)},eM);function p(e){var r;return eh(e)&&(e=ev(e,t)),m()&&((r=e,o.id!==r.id||o.rum!==r.rum)?(o=ev(o,t),s.notify()):(l.notify({previousState:o,newState:e}),o=e)),e}function f(){ex({process:e=>{if(eb(e))return ev(e,t)},after:e=>{o=e}},i)}function m(){return(null==o?void 0:o.rum)!==void 0}return{expandOrRenewSession:c,expandSession:function(){ex({process:e=>m()?p(e):void 0},i)},getSession:()=>o,renewObservable:a,expireObservable:s,sessionStateUpdateObservable:l,restartSession:f,expire:()=>{d(),i.expireSession(o),p(ev(o,t))},stop:()=>{(0,en.clearInterval)(u)},updateSessionState:function(e){ex({process:t=>({...t,...e}),after:p},i)}}}(e.sessionStoreStrategyType,e,"rum",r);nf.push(()=>a.stop());let s=tg({expireDelay:ed});if(nf.push(()=>s.stop()),a.renewObservable.subscribe(()=>{s.add(l(),(0,b.relativeNow)()),i.notify()}),a.expireObservable.subscribe(()=>{o.notify(),s.closeActive((0,b.relativeNow)())}),a.expandOrRenewSession(),s.add(l(),(0,b.clocksOrigin)().relative),(0,M.isExperimentalFeatureEnabled)(M.ExperimentalFeature.SHORT_SESSION_INVESTIGATION)){let t=a.getSession();t&&function(e,t){if(!window.cookieStore||!t.created)return;let r=Number(t.created),n=(0,b.dateNow)(),{stop:i}=(0,B.addEventListener)(e,cookieStore,"change",function(e){let o=(0,ec.findLast)(e.changed,e=>e.name===eu);if(!o)return;let a=(0,b.dateNow)()-r;if(a>14*b.ONE_MINUTE)i();else{let e=eT(o.value);if(e.id&&e.id!==t.id){i();let r=(0,b.dateNow)()-n;ng().then(n=>{(0,m.addTelemetryDebug)("Session cookie changed",{time:r,session_age:a,old:t,new:e,cookie:n})}).catch(v.monitorError)}}});nf.push(i)}(e,t)}function l(){let e=a.getSession();return e?{id:e.id,trackingType:e.rum,isReplayForced:!!e.forcedReplay,anonymousId:e.anonymousId}:(nm().catch(()=>void 0),{id:"invalid",trackingType:"0",isReplayForced:!1,anonymousId:void 0})}return n.observable.subscribe(()=>{n.isGranted()?a.expandOrRenewSession():a.expire()}),function(e,t){let{stop:r}=(0,B.addEventListeners)(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});nf.push(r)}(e,()=>{n.isGranted()&&a.expandOrRenewSession()}),function(e,t){let r=()=>{"visible"===document.visibilityState&&t()},{stop:n}=(0,B.addEventListener)(e,document,"visibilitychange",r);nf.push(n);let i=(0,en.setInterval)(r,np);nf.push(()=>{(0,en.clearInterval)(i)})}(e,()=>a.expandSession()),function(e,t){let{stop:r}=(0,B.addEventListener)(e,window,"resume",t,{capture:!0});nf.push(r)}(e,()=>a.restartSession()),{findSession:(e,t)=>s.find(e,t),renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a.sessionStateUpdateObservable,expire:a.expire,updateSessionState:a.updateSessionState}}(e,0,t=>{var r,n,i;return r=e,"0"===(i=n=t)||"1"===i||"2"===i?n:(0,et.performDraw)(r.sessionSampleRate)?(0,et.performDraw)(r.sessionReplaySampleRate)?"1":"2":"0"},s)).expireObservable.subscribe(()=>{ek.notify(9)}),ee.renewObservable.subscribe(()=>{ek.notify(10)}),ee.sessionStateUpdateObservable.subscribe(({previousState:e,newState:t})=>{if(!e.forcedReplay&&t.forcedReplay){let e=ee.findSession();e&&(e.isReplayForced=!0)}}),{findTrackedSession:e=>{let t=ee.findSession(e);if(t&&"0"!==t.trackingType)return{id:t.id,sessionReplay:"1"===t.trackingType?1:2*!!t.isReplayForced,anonymousId:t.anonymousId}},expire:ee.expire,expireObservable:ee.expireObservable,setForcedReplay:()=>ee.updateSessionState({forcedReplay:"1"})});if((0,x.canUseEventBridge)()){let e;e=(0,x.getEventBridge)(),ek.subscribe(13,t=>{e.send("rum",t)})}else{let t,r,n=(S=e$.expireObservable,t=[e.rumEndpointBuilder],e.replica&&t.push(e.replica.rumEndpointBuilder),r=(0,ny.createBatch)({encoder:o(2),request:(0,nb.createHttpRequest)(t,e.batchBytesLimit,eL),flushController:(0,nv.createFlushController)({messagesLimit:e.batchMessagesLimit,bytesLimit:e.batchBytesLimit,durationLimit:e.flushTimeout,pageMayExitObservable:eU,sessionExpireObservable:S}),messageBytesLimit:e.messageBytesLimit}),ek.subscribe(13,e=>{e.type===I.RumEventType.VIEW?r.upsert(e,e.view.id):r.add(e)}),r);eN.push(()=>n.stop()),T=n.flushController.flushObservable,eV.enabled&&(0,et.performDraw)(e.customerDataTelemetrySampleRate)&&(nw(),u=!1,ek.subscribe(13,()=>{u=!0}),T.subscribe(({bytesCount:e,messagesCount:t})=>{u&&(u=!1,l.batchCount+=1,n_(l.batchBytesCount,e),n_(l.batchMessagesCount,t))}),(0,en.setInterval)(nS,nE))}let eB=tl(),eF=(_=location,er=(0,F.shallowClone)(_),new U.Observable(t=>{var r,n;let{stop:i}=function(e,t){let{stop:r}=(0,L.instrumentMethod)(nh("pushState"),"pushState",({onPostCall:e})=>{e(t)}),{stop:n}=(0,L.instrumentMethod)(nh("replaceState"),"replaceState",({onPostCall:e})=>{e(t)}),{stop:i}=(0,B.addEventListener)(e,window,"popstate",t);return{stop:()=>{r(),n(),i()}}}(e,a),{stop:o}=(r=e,n=a,(0,B.addEventListener)(r,window,"hashchange",n));function a(){if(er.href===_.href)return;let e=(0,F.shallowClone)(_);t.notify({newLocation:e,oldLocation:er}),er=e}return()=>{i(),o()}})),{observable:ej,stop:eq}=function(){let e=new U.Observable,{stop:t}=(0,L.instrumentMethod)(window,"open",()=>e.notify());return{observable:e,stop:t}}();eN.push(eq),eD.register(0,({eventType:t})=>{let r=e.source;return{type:t,_dd:{format_version:2,drift:(0,b.currentDrift)(),configuration:{session_sample_rate:(0,et.round)(e.sessionSampleRate,3),session_replay_sample_rate:(0,et.round)(e.sessionReplaySampleRate,3),profiling_sample_rate:(0,et.round)(e.profilingSampleRate,3)},browser_sdk_version:(0,x.canUseEventBridge)()?"6.21.0":void 0,sdk_name:y},application:{id:e.applicationId},date:(0,b.timeStampNow)(),source:r}}),eD.register(1,()=>({application:{id:e.applicationId}}));let eK=function(e,t,r=500){let n,i=tg({expireDelay:ed,maxEntries:4e3});tq(p.VISIBILITY_STATE)&&performance.getEntriesByType(p.VISIBILITY_STATE).forEach(e=>{a("hidden"===e.name?"hidden":"active",e.startTime)}),a(nC(),(0,b.relativeNow)());let{stop:o}=(0,B.addEventListeners)(t,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],e=>{var t;a("freeze"===(t=e).type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":nC(),e.timeStamp)},{capture:!0});function a(e,t=(0,b.relativeNow)()){e!==n&&(n=e,i.closeActive(t),i.add({state:n,startTime:t},t))}function s(e,t,r){return i.findAll(t,r).some(t=>t.state===e)}return e.register(0,({startTime:e,duration:t=0,eventType:n})=>n===I.RumEventType.VIEW?{type:n,_dd:{page_states:function(e,t,r){if(0!==e.length)return e.slice(-r).reverse().map(({state:e,startTime:r})=>({state:e,start:(0,b.toServerDuration)((0,b.elapsed)(t,r))}))}(i.findAll(e,t),e,r)}}:n===I.RumEventType.ACTION||n===I.RumEventType.ERROR?{type:n,view:{in_foreground:s("active",e,0)}}:K.SKIPPED),{wasInPageStateDuringPeriod:s,addPageState:a,stop:()=>{o(),i.stop()}}}(eD,e),eG=(ea=tg({expireDelay:ed}),ek.subscribe(1,e=>{var t;ea.add({service:(t=e).service,version:t.version,context:t.context,id:t.id,name:t.name,startClocks:t.startClocks},e.startClocks.relative)}),ek.subscribe(6,({endClocks:e})=>{ea.closeActive(e.relative)}),ek.subscribe(3,e=>{let t=ea.find(e.startClocks.relative);t&&(e.name&&(t.name=e.name),e.context&&(t.context=e.context),t.sessionIsActive=e.sessionIsActive)}),ek.subscribe(10,()=>{ea.reset()}),{findView:e=>ea.find(e),stop:()=>{ea.stop()}});eN.push(()=>eG.stop());let ez=function(e,t,r,n){let i,o=tg({expireDelay:ed});e.subscribe(1,({startClocks:e})=>{let t=n.href;o.add(s({url:t,referrer:i||document.referrer}),e.relative),i=t}),e.subscribe(6,({endClocks:e})=>{o.closeActive(e.relative)});let a=r.subscribe(({newLocation:e})=>{let t=o.find();if(t){let r=(0,b.relativeNow)();o.closeActive(r),o.add(s({url:e.href,referrer:t.referrer}),r)}});function s({url:e,referrer:t}){return{url:e,referrer:t}}return t.register(0,({startTime:e,eventType:t})=>{let r=o.find(e);return r?{type:t,view:{url:r.url,referrer:r.referrer}}:K.DISCARDED}),{findUrl:e=>o.find(e),stop:()=>{a.unsubscribe(),o.stop()}}}(ek,eD,eF,location);eN.push(()=>ez.stop());let eH=(es=tg({expireDelay:ed}),ek.subscribe(1,({startClocks:e})=>{es.add({},e.relative)}),ek.subscribe(6,({endClocks:e})=>{es.closeActive(e.relative)}),eD.register(0,({startTime:t,eventType:r})=>{if(!e.trackFeatureFlagsForEvents.concat([I.RumEventType.VIEW,I.RumEventType.ERROR]).includes(r))return K.SKIPPED;let n=es.find(t);return!n||(0,F.isEmptyObject)(n)?K.SKIPPED:{type:r,feature_flags:n}}),{addFeatureFlagEvaluation:(e,t)=>{let r=es.find();r&&(r[e]=t)}});eD.register(0,({eventType:e,startTime:r})=>{let n,i,o,a=e$.findTrackedSession(r),s=eG.findView(r);return a&&s?(e===I.RumEventType.VIEW?(n=!!t.getReplayStats(s.id)||void 0,i=1===a.sessionReplay,o=!!s.sessionIsActive&&void 0):n=!!t.isRecording()||void 0,{type:e,session:{id:a.id,type:"user",has_replay:n,sampled_for_replay:i,is_active:o}}):K.DISCARDED}),eD.register(1,({startTime:e})=>{let t=e$.findTrackedSession(e);return t?{session:{id:t.id}}:K.SKIPPED}),eD.register(0,({eventType:e})=>({type:e,connectivity:(0,nU.getConnectivity)()})),eD.register(1,()=>s.isGranted()?K.SKIPPED:K.DISCARDED);let eW=(ef=Y(),e.storeContextsAcrossPages&&q(e,ef,"rum",2),eD.register(0,()=>{let e=ef.getContext();return{context:e}}),ef),eJ=(eg=X(),e.storeContextsAcrossPages&&q(e,eg,"rum",1),eD.register(0,({eventType:t,startTime:r})=>{let n=eg.getContext(),i=e$.findTrackedSession(r);return(i&&i.anonymousId&&!n.anonymous_id&&e.trackAnonymousUser&&(n.anonymous_id=i.anonymousId),(0,F.isEmptyObject)(n))?K.SKIPPED:{type:t,usr:n}}),eD.register(1,({startTime:e})=>{var t;return{anonymous_id:null==(t=e$.findTrackedSession(e))?void 0:t.anonymousId}}),eg),eZ=(ey=J(),e.storeContextsAcrossPages&&q(e,ey,"rum",4),eD.register(0,()=>{let e=ey.getContext();return(0,F.isEmptyObject)(e)||!e.id?K.SKIPPED:{account:e}}),ey),{actionContexts:eQ,addAction:e0,addEvent:e1,stop:e2}=function(e,t,r,n,i,o,a){let s,l,u,d,p=function(e,t,r,n,i){let{unsubscribe:o}=e.subscribe(0,t=>{e.notify(12,rk(t))});t.register(0,({startTime:e,eventType:t})=>{if(t!==I.RumEventType.ERROR&&t!==I.RumEventType.RESOURCE&&t!==I.RumEventType.LONG_TASK)return K.SKIPPED;let r=a.findActionId(e);return r?{type:t,action:{id:r}}:K.SKIPPED}),t.register(1,({startTime:e})=>({action:{id:a.findActionId(e)}}));let a={findActionId:D.noop},s=D.noop;return i.trackUserInteractions&&({actionContexts:a,stop:s}=function(e,t,r,n){let i,o=tg({expireDelay:rx}),a=new U.Observable;e.subscribe(10,()=>{o.reset()}),e.subscribe(5,u),e.subscribe(11,e=>{e.reason===ta.PageExitReason.UNLOADING&&u()});let{stop:s}=function(e,{onPointerDown:t,onPointerUp:r}){let n,i,o={selection:!1,input:!1,scroll:!1},a=[(0,B.addEventListener)(e,window,"pointerdown",e=>{rI(e)&&(n=rC(),o={selection:!1,input:!1,scroll:!1},i=t(e))},{capture:!0}),(0,B.addEventListener)(e,window,"selectionchange",()=>{n&&rC()||(o.selection=!0)},{capture:!0}),(0,B.addEventListener)(e,window,"scroll",()=>{o.scroll=!0},{capture:!0,passive:!0}),(0,B.addEventListener)(e,window,"pointerup",e=>{if(rI(e)&&i){let t=o;r(i,e,()=>t),i=void 0}},{capture:!0}),(0,B.addEventListener)(e,window,"input",()=>{o.input=!0},{capture:!0})];return{stop:()=>{a.forEach(e=>e.stop())}}}(n,{onPointerDown:i=>(function(e,t,r,n,i){var o;let a;if((a=e.enablePrivacyForActionName?rl(n.target,e.defaultPrivacyLevel):ri.ALLOW)===ri.HIDDEN)return;let s=function(e,t,r){let n=e.target.getBoundingClientRect(),i=t7(e.target,r.actionNameAttribute);i&&rN(e.timeStamp,i);let{name:o,nameSource:a}=function(e,t,r=ri.ALLOW){let{actionNameAttribute:n}=t,i=ry(e,t4)||n&&ry(e,n);return i?{name:i,nameSource:"custom_attribute"}:r===ri.MASK?{name:"Masked Element",nameSource:"mask_placeholder"}:rh(e,rv,t)||rh(e,rb,t)||{name:"",nameSource:"blank"}}(e.target,r,t);return{type:I.ActionType.CLICK,target:{width:Math.round(n.width),height:Math.round(n.height),selector:i},position:{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)},name:o,nameSource:a}}(n,a,e),l=!1;return o=e=>{l=e.hadActivity},tQ(t0(t,r,i,e),o,100),{clickActionBase:s,hadActivityOnPointerDown:()=>l}})(n,e,t,i,r),onPointerUp:({clickActionBase:i,hadActivityOnPointerDown:s},u,c)=>{!function(e,t,r,n,i,o,a,s,l,u,c){var d,p;let f=function e(t,r,n,i,o){let a,s=(0,ei.generateUUID)(),l=(0,b.clocksNow)(),u=r.add(s,l.relative),c=tF({lifeCycle:t,isChildEvent:e=>void 0!==e.action&&(Array.isArray(e.action.id)?e.action.id.includes(s):e.action.id===s)}),d=0,p=[],f=new U.Observable;function m(e){0===d&&(d=1,(a=e)?u.close((0,b.getRelativeTime)(a)):u.remove(),c.stop(),f.notify())}return{event:o,stop:m,stopObservable:f,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:n,addFrustration:e=>{p.push(e)},startClocks:l,isStopped:()=>1===d||2===d,clone:()=>e(t,r,n,i,o),validate:e=>{if(m(),1!==d)return;let{resourceCount:r,errorCount:n,longTaskCount:u}=c.eventCounts,f={duration:a&&(0,b.elapsed)(l.timeStamp,a),startClocks:l,id:s,frustrationTypes:p,counts:{resourceCount:r,errorCount:n,longTaskCount:u},events:null!=e?e:[o],event:o,...i};t.notify(0,f),d=2},discard:()=>{m(),d=2}}}(t,i,u,s,l);a(f);let m=null==(d=null==s?void 0:s.target)?void 0:d.selector;m&&rN(l.timeStamp,m);let{stop:g}=(p=e=>{e.hadActivity&&e.end<f.startClocks.timeStamp?f.discard():e.hadActivity?f.stop(e.end):c()?f.stop(f.startClocks.timeStamp):f.stop()},tQ(t0(t,r,n,e),p,rR)),y=t.subscribe(5,({endClocks:e})=>{f.stop(e.timeStamp)}),v=o.subscribe(()=>{f.stop()});f.stopObservable.subscribe(()=>{y.unsubscribe(),g(),v.unsubscribe()})}(n,e,t,r,o,a,l,i,u,c,s)}});return{stop:()=>{u(),a.notify(),s()},actionContexts:{findActionId:e=>o.findAll(e)}};function l(e){if(!i||!i.tryAppend(e)){let t=e.clone();i=function(e,t){let r,n=[],i=0;function o(e){e.stopObservable.subscribe(a),n.push(e),(0,en.clearTimeout)(r),r=(0,en.setTimeout)(s,rg)}function a(){1===i&&n.every(e=>e.isStopped())&&(i=2,t(n))}function s(){(0,en.clearTimeout)(r),0===i&&(i=1,a())}return o(e),{tryAppend:e=>{var t,r,a,l;return 0===i&&(!(n.length>0)||(t=n[n.length-1].event,r=e.event,t.target===r.target&&100>=(a=t,l=r,Math.sqrt(Math.pow(a.clientX-l.clientX,2)+Math.pow(a.clientY-l.clientY,2)))&&t.timeStamp-r.timeStamp<=rg)?(o(e),!0):(s(),!1))},stop:()=>{s()}}}(e,e=>{!function(e,t){let{isRage:r}=function(e,t){if(function(e){if(e.some(e=>e.getUserActivity().selection||e.getUserActivity().scroll))return!1;for(let t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=b.ONE_SECOND)return!0;return!1}(e))return t.addFrustration(I.FrustrationType.RAGE_CLICK),e.some(rA)&&t.addFrustration(I.FrustrationType.DEAD_CLICK),t.hasError&&t.addFrustration(I.FrustrationType.ERROR_CLICK),{isRage:!0};let r=e.some(e=>e.getUserActivity().selection);return e.forEach(e=>{e.hasError&&e.addFrustration(I.FrustrationType.ERROR_CLICK),rA(e)&&!r&&e.addFrustration(I.FrustrationType.DEAD_CLICK)}),{isRage:!1}}(e,t);r?(e.forEach(e=>e.discard()),t.stop((0,b.timeStampNow)()),t.validate(e.map(e=>e.event))):(t.discard(),e.forEach(e=>e.validate()))}(e,t)})}}function u(){i&&i.stop()}}(e,r,n,i)),{addAction:t=>{e.notify(12,rk(t))},actionContexts:a,stop:()=>{o(),s()}}}(e,t,i,o,r),f={addEvent:(t,r,n,i)=>{nV.includes(r.type)&&e.notify(12,{startTime:t,rawRumEvent:r,domainContext:n,duration:i})}},m=(l=requestAnimationFrame((0,v.monitor)(()=>{s=ns()})),u=na(r).subscribe(e=>{s=e}).unsubscribe,t.register(0,({eventType:e})=>({type:e,display:s?{viewport:s}:void 0})),{stop:()=>{u(),l&&cancelAnimationFrame(l)}}),y=function(e,t,r=function(e,t){let r=window.cookieStore?function(e){return(t,r)=>(0,B.addEventListener)(e,window.cookieStore,"change",e=>{let n=e.changed.find(e=>e.name===t)||e.deleted.find(e=>e.name===t);n&&r(n.value)}).stop}(e):nA;return new U.Observable(e=>r(t,t=>e.notify(t)))}(e,nR)){var n;let i=(0,el.getInitCookie)(nR)||(null==(n=window.Cypress)?void 0:n.env("traceId")),o=r.subscribe(e=>{i=e});return t.register(0,({eventType:e})=>"string"!=typeof i?K.SKIPPED:{type:e,session:{type:"ci_test"},ci_test:{test_execution_id:i}}),{stop:()=>{o.unsubscribe()}}}(r,t);return t.register(0,({eventType:e})=>(0,k.isSyntheticsTest)()?{type:e,session:{type:"synthetics"},synthetics:{test_id:(0,k.getSyntheticsTestId)(),result_id:(0,k.getSyntheticsResultId)(),injected:(0,k.willSyntheticsInjectRum)()}}:K.SKIPPED),c={[I.RumEventType.VIEW]:{"view.performance.lcp.resource_url":"string",...nM,...nD,...nL},[I.RumEventType.ERROR]:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...nM,...nD,...nL},[I.RumEventType.RESOURCE]:{"resource.url":"string",...(0,M.isExperimentalFeatureEnabled)(M.ExperimentalFeature.WRITABLE_RESOURCE_GRAPHQL)?{"resource.graphql":"object"}:{},...nM,...nD,...nL},[I.RumEventType.ACTION]:{"action.target.name":"string",...nM,...nD,...nL},[I.RumEventType.LONG_TASK]:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...nM,...nD,...nL},[I.RumEventType.VITAL]:{...nM,...nD,...nL}},d={[I.RumEventType.ERROR]:nO(I.RumEventType.ERROR,r.eventRateLimiterThreshold,a),[I.RumEventType.ACTION]:nO(I.RumEventType.ACTION,r.eventRateLimiterThreshold,a),[I.RumEventType.VITAL]:nO(I.RumEventType.VITAL,r.eventRateLimiterThreshold,a)},e.subscribe(12,({startTime:n,duration:i,rawRumEvent:o,domainContext:a})=>{let s=t.triggerHook(0,{eventType:o.type,startTime:n,duration:i});if(s===K.DISCARDED)return;let l=(0,g.combine)(s,o,{ddtags:nN(r).join(",")});(function(e,t,r,n){var i,o;if(t){let n,i,a=(o=c[e.type],i=(e=>t(e,r))(n=(0,g.deepClone)(e)),(0,ec.objectEntries)(o).forEach(([t,r])=>(function e(t,r,n,i){let[o,...a]=n;if("[]"===o){Array.isArray(t)&&Array.isArray(r)&&t.forEach((t,n)=>e(t,r[n],a,i));return}if(nk(t)&&nk(r)){var s,l,u,c;let n;if(a.length>0)return e(t[o],r[o],a,i);s=t,l=o,u=r[o],c=i,(n=(0,G.getType)(u))===c?s[l]=(0,E.sanitize)(u):"object"===c&&("undefined"===n||"null"===n)&&(s[l]={})}})(e,n,t.split(/\.|(?=\[\])/),r)),i);if(!1===a&&e.type!==I.RumEventType.VIEW)return!1;!1===a&&N.display.warn("Can't dismiss view events using beforeSend!")}return!(null==(i=n[e.type])?void 0:i.isLimitReached())})(l,r.beforeSend,a,d)&&((0,F.isEmptyObject)(l.context)&&delete l.context,e.notify(13,l))}),{pageStateHistory:n,addAction:p.addAction,addEvent:f.addEvent,actionContexts:p.actionContexts,stop:()=>{p.stop(),y.stop(),m.stop(),n.stop()}}}(ek,eD,e,eK,eB,ej,eL);eN.push(e2);let{addTiming:e4,startView:e6,setViewName:e3,setViewContext:e8,setViewContextProperty:e7,getViewContext:e5,stop:e9}=(w=location,ek.subscribe(4,r=>{var n,i,o,a,s,l,u,c,d,p,f,m,g,y,v,h,E,S,T,_;let w,C,A;return ek.notify(12,(n=r,i=e,w=t.getReplayStats(n.id),C=null==(a=null==(o=n.commonViewMetrics)?void 0:o.cumulativeLayoutShift)?void 0:a.devicePixelRatio,A={_dd:{document_version:n.documentVersion,replay_stats:w,cls:C?{device_pixel_ratio:C}:void 0,configuration:{start_session_replay_recording_manually:i.startSessionReplayRecordingManually}},date:n.startClocks.timeStamp,type:I.RumEventType.VIEW,view:{action:{count:n.eventCounts.actionCount},frustration:{count:n.eventCounts.frustrationCount},cumulative_layout_shift:null==(s=n.commonViewMetrics.cumulativeLayoutShift)?void 0:s.value,cumulative_layout_shift_time:(0,b.toServerDuration)(null==(l=n.commonViewMetrics.cumulativeLayoutShift)?void 0:l.time),cumulative_layout_shift_target_selector:null==(u=n.commonViewMetrics.cumulativeLayoutShift)?void 0:u.targetSelector,first_byte:(0,b.toServerDuration)(null==(c=n.initialViewMetrics.navigationTimings)?void 0:c.firstByte),dom_complete:(0,b.toServerDuration)(null==(d=n.initialViewMetrics.navigationTimings)?void 0:d.domComplete),dom_content_loaded:(0,b.toServerDuration)(null==(p=n.initialViewMetrics.navigationTimings)?void 0:p.domContentLoaded),dom_interactive:(0,b.toServerDuration)(null==(f=n.initialViewMetrics.navigationTimings)?void 0:f.domInteractive),error:{count:n.eventCounts.errorCount},first_contentful_paint:(0,b.toServerDuration)(n.initialViewMetrics.firstContentfulPaint),first_input_delay:(0,b.toServerDuration)(null==(m=n.initialViewMetrics.firstInput)?void 0:m.delay),first_input_time:(0,b.toServerDuration)(null==(g=n.initialViewMetrics.firstInput)?void 0:g.time),first_input_target_selector:null==(y=n.initialViewMetrics.firstInput)?void 0:y.targetSelector,interaction_to_next_paint:(0,b.toServerDuration)(null==(v=n.commonViewMetrics.interactionToNextPaint)?void 0:v.value),interaction_to_next_paint_time:(0,b.toServerDuration)(null==(h=n.commonViewMetrics.interactionToNextPaint)?void 0:h.time),interaction_to_next_paint_target_selector:null==(E=n.commonViewMetrics.interactionToNextPaint)?void 0:E.targetSelector,is_active:n.isActive,name:n.name,largest_contentful_paint:(0,b.toServerDuration)(null==(S=n.initialViewMetrics.largestContentfulPaint)?void 0:S.value),largest_contentful_paint_target_selector:null==(T=n.initialViewMetrics.largestContentfulPaint)?void 0:T.targetSelector,load_event:(0,b.toServerDuration)(null==(_=n.initialViewMetrics.navigationTimings)?void 0:_.loadEvent),loading_time:tB((0,b.toServerDuration)(n.commonViewMetrics.loadingTime)),loading_type:n.loadingType,long_task:{count:n.eventCounts.longTaskCount},performance:function({cumulativeLayoutShift:e,interactionToNextPaint:t},{firstContentfulPaint:r,firstInput:n,largestContentfulPaint:i}){return{cls:e&&{score:e.value,timestamp:(0,b.toServerDuration)(e.time),target_selector:e.targetSelector,previous_rect:e.previousRect,current_rect:e.currentRect},fcp:r&&{timestamp:(0,b.toServerDuration)(r)},fid:n&&{duration:(0,b.toServerDuration)(n.delay),timestamp:(0,b.toServerDuration)(n.time),target_selector:n.targetSelector},inp:t&&{duration:(0,b.toServerDuration)(t.value),timestamp:(0,b.toServerDuration)(t.time),target_selector:t.targetSelector},lcp:i&&{timestamp:(0,b.toServerDuration)(i.value),target_selector:i.targetSelector,resource_url:i.resourceUrl}}}(n.commonViewMetrics,n.initialViewMetrics),resource:{count:n.eventCounts.resourceCount},time_spent:(0,b.toServerDuration)(n.duration)},display:n.commonViewMetrics.scroll?{scroll:{max_depth:n.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:n.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:n.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:(0,b.toServerDuration)(n.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,privacy:{replay_level:i.defaultPrivacyLevel},device:{locale:navigator.language,locales:navigator.languages,time_zone:function(){try{return new Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}()}},(0,F.isEmptyObject)(n.customTimings)||(A.view.custom_timings=(0,F.mapValues)(n.customTimings,b.toServerDuration)),{rawRumEvent:A,startTime:n.startClocks.relative,duration:n.duration,domainContext:{location:n.location}}))}),eD.register(0,({startTime:e,eventType:t})=>{let r=eG.findView(e);return r?{type:t,service:r.service,version:r.version,context:r.context,view:{id:r.id,name:r.name}}:K.DISCARDED}),eD.register(1,({startTime:e})=>{var t;return{view:{id:null==(t=eG.findView(e))?void 0:t.id}}}),function(e,t,r,n,i,o,s,l){let u,c,d=new Set,f=m(I.ViewLoadingType.INITIAL_LOAD,(0,r1.clocksOrigin)(),l);function m(o,s,l){let u=function(e,t,r,n,i,o,s=(0,r1.clocksNow)(),l){var u;let c,d=(0,ei.generateUUID)(),f=new U.Observable,m={},g=0,y=(0,F.shallowClone)(i),h=W(),E=!0,S=null==l?void 0:l.name,T=(null==l?void 0:l.service)||n.service,_=(null==l?void 0:l.version)||n.version,w=null==l?void 0:l.context;w&&h.setContext(w);let C={id:d,name:S,startClocks:s,service:T,version:_,context:w};e.notify(1,C),e.notify(2,C);let{throttled:A,cancel:R}=(0,D.throttle)(H,3e3,{leading:!1}),{setLoadEvent:O,setViewEnd:x,stop:k,stopINPTracking:M,getCommonViewMetrics:L}=function(e,t,r,n,i,o,s){let l={},{stop:u,setLoadEvent:c}=function(e,t,r,n,i,o,a){var s;let l=i===I.ViewLoadingType.INITIAL_LOAD,u=!0,c=[],d=r6(n,o);function p(){if(!u&&!l&&c.length>0){let e=Math.max(...c);e<d.timeStamp-o.relative&&a(e)}}let{stop:f}=(s=e=>{u&&(u=!1,e.hadActivity&&c.push((0,b.elapsed)(o.timeStamp,e.end)),p())},tQ(t0(e,t,r,n),s,void 0));return{stop:()=>{f(),d.stop()},setLoadEvent:e=>{l&&(l=!1,c.push(e),p())}}}(e,t,r,n,o,s,e=>{l.loadingTime=e,i()}),{stop:d}=function(e,t,r,n=function(e,t=nl){return new U.Observable(r=>{if(window.ResizeObserver){let n=(0,D.throttle)(function(){r.notify(function(){let e=no(),{height:t}=ns();return{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(t+e),scrollTop:e}}())},t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver((0,v.monitor)(n.throttled));i&&o.observe(i);let a=(0,B.addEventListener)(e,window,"scroll",n.throttled,{passive:!0});return()=>{n.cancel(),o.disconnect(),a.stop()}}})}(e)){let i=0,o=0,a=0,s=n.subscribe(({scrollDepth:e,scrollTop:n,scrollHeight:s})=>{let l=!1;if(e>i&&(i=e,l=!0),s>o){o=s;let e=(0,b.relativeNow)();a=(0,b.elapsed)(t.relative,e),l=!0}l&&r({maxDepth:Math.min(i,o),maxDepthScrollTop:n,maxScrollHeight:o,maxScrollHeightTime:a})});return{stop:()=>s.unsubscribe()}}(n,s,e=>{l.scroll=e}),{stop:f}=function(e,t,r){let n,i,o,a,s;if(!(tq(p.LAYOUT_SHIFT)&&"WeakRef"in window))return{stop:D.noop};let l=0;r({value:0});let u=(a=0,s=0,{update:e=>{let t;return void 0===i||e.startTime-o>=r5||e.startTime-i>=r7?(i=o=e.startTime,s=a=e.value,t=!0):(a+=e.value,o=e.startTime,(t=e.value>s)&&(s=e.value)),{cumulatedValue:a,isMaxValue:t}}}),c=tj(e,{type:p.LAYOUT_SHIFT,buffered:!0}).subscribe(i=>{var o;for(let a of i){if(a.hadRecentInput||a.startTime<t)continue;let{cumulatedValue:i,isMaxValue:s}=u.update(a);if(s){let e=function(e){let t;for(let r of e)if(r.node&&tz(r.node)){let e=r3(r);(!t||r3(t)<e)&&(t=r)}return t}(a.sources);n={target:(null==e?void 0:e.node)?new WeakRef(e.node):void 0,time:(0,b.elapsed)(t,a.startTime),previousRect:null==e?void 0:e.previousRect,currentRect:null==e?void 0:e.currentRect,devicePixelRatio:window.devicePixelRatio}}if(i>l){l=i;let t=null==(o=null==n?void 0:n.target)?void 0:o.deref();r({value:(0,et.round)(l,4),targetSelector:t&&t7(t,e.actionNameAttribute),time:null==n?void 0:n.time,previousRect:(null==n?void 0:n.previousRect)?r8(n.previousRect):void 0,currentRect:(null==n?void 0:n.currentRect)?r8(n.currentRect):void 0,devicePixelRatio:null==n?void 0:n.devicePixelRatio})}}});return{stop:()=>{c.unsubscribe()}}}(n,s.relative,e=>{l.cumulativeLayoutShift=e,i()}),{stop:m,getInteractionToNextPaint:g,setViewEnd:y}=function(e,t,r){var n;let i,o,s,l;if(!(tq(p.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:()=>void 0,setViewEnd:D.noop,stop:D.noop};let{getViewInteractionCount:u,stopViewInteractionCount:c}=(n=r,"interactionCount"in performance||a||(a=new window.PerformanceObserver((0,v.monitor)(e=>{e.getEntries().forEach(e=>{e.interactionId&&(ne=Math.min(ne,e.interactionId),r9=((nt=Math.max(nt,e.interactionId))-ne)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0}),s=n===I.ViewLoadingType.INITIAL_LOAD?0:nr(),l={stopped:!1},{getViewInteractionCount:()=>l.stopped?l.interactionCount:nr()-s,stopViewInteractionCount:()=>{l={stopped:!0,interactionCount:nr()-s}}}),d=1/0,f=function(e){let t=[];function r(){t.sort((e,t)=>t.duration-e.duration).splice(10)}return{process(e){let n=t.findIndex(t=>e.interactionId===t.interactionId),i=t[t.length-1];-1!==n?e.duration>t[n].duration&&(t[n]=e,r()):(t.length<10||e.duration>i.duration)&&(t.push(e),r())},estimateP98Interaction(){let r=Math.min(t.length-1,Math.floor(e()/50));return t[r]}}}(u),m=-1;function g(r){for(let e of r)e.interactionId&&e.startTime>=t&&e.startTime<=d&&f.process(e);let n=f.estimateP98Interaction();if(n&&n.duration!==m){var a;let r;m=n.duration,o=(0,b.elapsed)(t,n.startTime),a=n.startTime,r=rO.get(a),rO.delete(a),!(i=r)&&n.target&&tz(n.target)&&(i=t7(n.target,e.actionNameAttribute))}}let y=tj(e,{type:p.FIRST_INPUT,buffered:!0}).subscribe(g),h=tj(e,{type:p.EVENT,durationThreshold:40,buffered:!0}).subscribe(g);return{getInteractionToNextPaint:()=>m>=0?{value:Math.min(m,nn),targetSelector:i,time:o}:u()?{value:0}:void 0,setViewEnd:e=>{d=e,c()},stop:()=>{h.unsubscribe(),y.unsubscribe()}}}(n,s.relative,o);return{stop:()=>{u(),f(),d()},stopINPTracking:m,setLoadEvent:c,setViewEnd:y,getCommonViewMetrics:()=>(l.interactionToNextPaint=g(),l)}}(e,t,r,n,z,o,s),{stop:P,initialViewMetrics:V}=o===I.ViewLoadingType.INITIAL_LOAD?function(e,t,r,n){var i,o;let a,s={},{stop:l}=function(e,t,r=rX){return function(e,t){let r,{stop:n}=rz(e,"complete",()=>{r=(0,en.setTimeout)(()=>t())});return{stop:()=>{n(),(0,en.clearTimeout)(r)}}}(e,()=>{var e;let n=r();n.loadEventEnd<=0||t({domComplete:(e=n).domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=(0,b.relativeNow)()?e.responseStart:void 0})})}(e,e=>{r(e.loadEvent),s.navigationTimings=e,n()}),u=r6(e,t),{stop:c}=(i=e=>{s.firstContentfulPaint=e,n()},{stop:tj(e,{type:p.PAINT,buffered:!0}).subscribe(e=>{let t=e.find(e=>"first-contentful-paint"===e.name&&e.startTime<u.timeStamp&&e.startTime<r2);t&&i(t.startTime)}).unsubscribe}),{stop:d}=function(e,t,r,n){let i=1/0,{stop:o}=(0,B.addEventListeners)(e,r,["pointerdown","keydown"],e=>{i=e.timeStamp},{capture:!0,once:!0}),a=0,s=tj(e,{type:p.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(r=>{let o=(0,ec.findLast)(r,e=>e.entryType===p.LARGEST_CONTENTFUL_PAINT&&e.startTime<i&&e.startTime<t.timeStamp&&e.startTime<r4&&e.size>a);if(o){var s;let t;o.element&&(t=t7(o.element,e.actionNameAttribute)),n({value:o.startTime,targetSelector:t,resourceUrl:""===(s=o).url?void 0:s.url}),a=o.size}});return{stop:()=>{o(),s.unsubscribe()}}}(e,u,window,e=>{s.largestContentfulPaint=e,n()}),{stop:f}=(o=e=>{s.firstInput=e,n()},a=tj(e,{type:p.FIRST_INPUT,buffered:!0}).subscribe(t=>{let r=t.find(e=>e.startTime<u.timeStamp);if(r){let t,n=(0,b.elapsed)(r.startTime,r.processingStart);r.target&&tz(r.target)&&(t=t7(r.target,e.actionNameAttribute)),o({delay:n>=0?n:0,time:r.startTime,targetSelector:t})}}),{stop:()=>{a.unsubscribe()}});return{stop:function(){l(),c(),d(),f(),u.stop()},initialViewMetrics:s}}(n,s,O,z):{stop:D.noop,initialViewMetrics:{}};o===I.ViewLoadingType.BF_CACHE&&(u=s.relative,requestAnimationFrame(()=>{requestAnimationFrame(()=>{(e=>{V.firstContentfulPaint=e,V.largestContentfulPaint={value:e},z()})((0,b.elapsed)(u,(0,b.relativeNow)()))})}));let{stop:$,eventCounts:j}=function(e,t,r){let{stop:n,eventCounts:i}=tF({lifeCycle:e,isChildEvent:e=>e.view.id===t,onChange:r});return{stop:n,eventCounts:i}}(e,d,z),q=(0,en.setInterval)(H,nu),K=e.subscribe(11,e=>{e.reason===ta.PageExitReason.UNLOADING&&H()});function G(){e.notify(3,{id:d,name:S,context:h.getContext(),startClocks:s,sessionIsActive:E})}function z(){G(),A()}function H(){R(),G(),g+=1;let t=void 0===c?(0,r1.timeStampNow)():c.timeStamp;e.notify(4,{customTimings:m,documentVersion:g,id:d,name:S,service:T,version:_,context:h.getContext(),loadingType:o,location:y,startClocks:s,commonViewMetrics:L(),initialViewMetrics:V,duration:(0,r1.elapsed)(s.timeStamp,t),isActive:void 0===c,sessionIsActive:E,eventCounts:j})}return H(),h.changeObservable.subscribe(z),{get name(){return S},service:T,version:_,contextManager:h,stopObservable:f,end(t={}){var r,n;c||(c=null!=(r=t.endClocks)?r:(0,r1.clocksNow)(),E=null==(n=t.sessionIsActive)||n,e.notify(5,{endClocks:c}),e.notify(6,{endClocks:c}),(0,en.clearInterval)(q),x(c.relative),k(),K.unsubscribe(),H(),(0,en.setTimeout)(()=>{this.stop()},nc))},stop(){P(),$(),M(),f.notify()},addTiming(e,t){var r;let n;if(c)return;let i=(0,r1.looksLikeRelativeTime)(t)?t:(0,r1.elapsed)(s.timeStamp,t);m[(n=(r=e).replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==r&&N.display.warn(`Invalid timing name: ${r}, sanitized to: ${n}`),n]=i,z()},setViewName(e){S=e,H()}}}(t,r,n,i,e,o,s,l);return d.add(u),u.stopObservable.subscribe(()=>{d.delete(u)}),u}return t.subscribe(10,()=>{f=m(I.ViewLoadingType.ROUTE_CHANGE,void 0,{name:f.name,service:f.service,version:f.version,context:f.contextManager.getContext()})}),t.subscribe(9,()=>{f.end({sessionIsActive:!1})}),s&&(c=o.subscribe(({oldLocation:e,newLocation:t})=>{var r,n;let i;r=e,n=t,r.pathname===n.pathname&&(""!==(i=n.hash.substring(1))&&document.getElementById(i)||nd(n.hash)===nd(r.hash))||(f.end(),f=m(I.ViewLoadingType.ROUTE_CHANGE))}),i.trackBfcacheViews&&(u=function(e,t){let{stop:r}=(0,B.addEventListener)(e,window,"pageshow",e=>{e.persisted&&t(e)},{capture:!0});return r}(i,e=>{f.end();let t=(0,r1.relativeToClocks)(e.timeStamp);f=m(I.ViewLoadingType.BF_CACHE,t,void 0)}))),{addTiming:(e,t=(0,r1.timeStampNow)())=>{f.addTiming(e,t)},startView:(e,t)=>{f.end({endClocks:t}),f=m(I.ViewLoadingType.ROUTE_CHANGE,t,e)},setViewContext:e=>{f.contextManager.setContext(e)},setViewContextProperty:(e,t)=>{f.contextManager.setContextProperty(e,t)},setViewName:e=>{f.setViewName(e)},getViewContext:()=>f.contextManager.getContext(),stop:()=>{c&&c.unsubscribe(),u&&u(),f.end(),d.forEach(e=>e.stop())}}}(w,ek,eB,ej,e,eF,!e.trackViewsManually,n));eN.push(e9);let{stop:te}=function(e,t,r){if(!(r.enabled&&(0,et.performDraw)(e.initialViewMetricsTelemetrySampleRate)))return{stop:D.noop};let{unsubscribe:n}=t.subscribe(4,({initialViewMetrics:e})=>{var t,r;e.largestContentfulPaint&&e.navigationTimings&&((0,m.addTelemetryMetrics)("Initial view metrics",{metrics:(t=e.largestContentfulPaint,r=e.navigationTimings,{lcp:{value:t.value},navigation:{domComplete:r.domComplete,domContentLoaded:r.domContentLoaded,domInteractive:r.domInteractive,firstByte:r.firstByte,loadEvent:r.loadEvent}})}),n())});return{stop:n}}(e,ek,eV);eN.push(te);let{stop:tt}=function(e,t,r,n=function(){let e=[];function t(t){let n;if(t.didTimeout){let e=performance.now();n=()=>30-(performance.now()-e)}else n=t.timeRemaining.bind(t);for(;n()>0&&e.length;)e.shift()();e.length&&r()}function r(){rj(t,{timeout:rq})}return{push(t){1===e.push(t)&&r()},stop(){e.length=0}}}(),i=function(e,t,r=rX){rz(e,"interactive",()=>{let e=r(),n=Object.assign(e.toJSON(),{entryType:p.RESOURCE,initiatorType:tT,duration:e.responseEnd,traceId:function(e){var t;let r,n,i=(r=(t=e).querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]"),rJ(r&&r.content,n&&n.content)||function(e){let t=function(e){for(let t=0;t<e.childNodes.length;t+=1){let r=rY(e.childNodes[t]);if(r)return r}if(e.body)for(let t=e.body.childNodes.length-1;t>=0;t-=1){let r=e.body.childNodes[t],n=rY(r);if(n)return n;if(!tK(r))break}}(e);if(t)return rJ((0,ei.findCommaSeparatedValue)(t,"trace-id"),(0,ei.findCommaSeparatedValue)(t,"trace-time"))}(e));if(!(!i||i.traceTime<=(0,b.dateNow)()-rW))return i.traceId}(document),toJSON:()=>({...n,toJSON:void 0})});t(n)})}){let o,a=t.trackEarlyRequests;if(a){let t,r;t=new Set,r=e.subscribe(8,e=>{t.add(e),t.size>1e3&&((0,m.addTelemetryDebug)("Too many requests"),t.delete(t.values().next().value))}),o={getMatchingRequest(e){let r,n=1/0;for(let i of t){let t=e.startTime-i.startClocks.relative;0<=t&&t<n&&i.url===e.name&&(n=Math.abs(t),r=i)}return r&&t.delete(r),r},stop(){r.unsubscribe()}}}else e.subscribe(8,e=>{l(()=>{var n,i,o;return n=e,i=t,o=r,r0(function(e){if(!performance||!("getEntriesByName"in performance))return;let t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;let r=t.filter(e=>!rK.has(e)).filter(e=>tO(e)&&tN(e)).filter(t=>{var r,n,i;return r=t,n=e.startClocks.relative,i=rG({startTime:e.startClocks.relative,duration:e.duration}),r.startTime>=n-1&&rG(r)<=(0,b.addDuration)(i,1)});if(1===r.length)return rK.add(r[0]),r[0].toJSON()}(n),n,o,i)})});let s=tj(t,{type:p.RESOURCE,buffered:!0}).subscribe(e=>{for(let n of e)(a||!tI(n))&&l(()=>rQ(n,t,r,o))});function l(t){n.push(()=>{let r=t();r&&e.notify(12,r)})}return i(t,e=>{l(()=>rQ(e,t,r,o))}),{stop:()=>{n.stop(),s.unsubscribe()}}}(ek,e,eK);if(eN.push(tt),e.trackLongTasks)if(tq(p.LONG_ANIMATION_FRAME)){let t,{stop:r}=(t=tj(e,{type:p.LONG_ANIMATION_FRAME,buffered:!0}).subscribe(e=>{for(let t of e){let e=(0,b.relativeToClocks)(t.startTime),r={date:e.timeStamp,long_task:{id:(0,ei.generateUUID)(),entry_type:I.RumLongTaskEntryType.LONG_ANIMATION_FRAME,duration:(0,b.toServerDuration)(t.duration),blocking_duration:(0,b.toServerDuration)(t.blockingDuration),first_ui_event_timestamp:(0,b.toServerDuration)(t.firstUIEventTimestamp),render_start:(0,b.toServerDuration)(t.renderStart),style_and_layout_start:(0,b.toServerDuration)(t.styleAndLayoutStart),start_time:(0,b.toServerDuration)(t.startTime),scripts:t.scripts.map(e=>({duration:(0,b.toServerDuration)(e.duration),pause_duration:(0,b.toServerDuration)(e.pauseDuration),forced_style_and_layout_duration:(0,b.toServerDuration)(e.forcedStyleAndLayoutDuration),start_time:(0,b.toServerDuration)(e.startTime),execution_start:(0,b.toServerDuration)(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}))},type:I.RumEventType.LONG_TASK,_dd:{discarded:!1}};ek.notify(12,{rawRumEvent:r,startTime:e.relative,duration:t.duration,domainContext:{performanceEntry:t}})}}),{stop:()=>t.unsubscribe()});eN.push(r)}else tj(e,{type:p.LONG_TASK,buffered:!0}).subscribe(t=>{for(let r of t){if(r.entryType!==p.LONG_TASK||!e.trackLongTasks)break;let t=(0,b.relativeToClocks)(r.startTime),n={date:t.timeStamp,long_task:{id:(0,ei.generateUUID)(),entry_type:I.RumLongTaskEntryType.LONG_TASK,duration:(0,b.toServerDuration)(r.duration)},type:I.RumEventType.LONG_TASK,_dd:{discarded:!1}};ek.notify(12,{rawRumEvent:n,startTime:t.relative,duration:r.duration,domainContext:{performanceEntry:r}})}});let{addError:tr}=(eS=new U.Observable,f.subscribe(e=>{0===e.type&&eS.notify(e.error)}),O=eS,(Z=[N.ConsoleApiName.error].map(e=>{var t;return rV[e]||(rV[e]=(t=e,new U.Observable(e=>{let r=N.globalConsole[t];return N.globalConsole[t]=(...n)=>{r.apply(console,n);let i=(0,h.createHandlingStack)("console error");(0,v.callMonitored)(()=>{e.notify(function(e,t,r){let n=e.map(e=>{var t;return"string"==typeof(t=e)?(0,E.sanitize)(t):(0,rL.isError)(t)?(0,h.formatErrorMessage)((0,rP.computeStackTrace)(t)):(0,rU.jsonStringify)((0,E.sanitize)(t),void 0,2)}).join(" ");if(t===N.ConsoleApiName.error){let i=e.find(rL.isError),o=(0,rL.computeRawError)({originalError:i,handlingStack:r,startClocks:(0,b.clocksNow)(),source:rM.ErrorSource.CONSOLE,handling:"handled",nonErrorPrefix:"Provided",useFallbackStack:!1});return o.message=n,{api:t,message:n,handlingStack:r,error:o}}return{api:t,message:n,error:void 0,handlingStack:r}}(n,t,i))})},()=>{N.globalConsole[t]=r}}))),rV[e]}),(0,U.mergeObservables)(...Z)).subscribe(e=>O.notify(e.error)),(e_=[],(C=[r$,"intervention"]).includes(r$)&&e_.push((P=e,new U.Observable(e=>{let{stop:t}=(0,B.addEventListener)(P,document,"securitypolicyviolation",t=>{var r;let n;e.notify((r=t,n=`'${r.blockedURI}' blocked by '${r.effectiveDirective}' directive`,rB({type:r.effectiveDirective,message:`${r$}: ${n}`,originalError:r,csp:{disposition:r.disposition},stack:rF(r.effectiveDirective,r.originalPolicy?`${n} of the policy "${(0,ei.safeTruncate)(r.originalPolicy,100,"...")}"`:"no policy",r.sourceFile,r.lineNumber,r.columnNumber)})))});return t}))),(eI=C.filter(e=>e!==r$)).length&&e_.push((V=eI,new U.Observable(e=>{if(!window.ReportingObserver)return;let t=(0,v.monitor)((t,r)=>t.forEach(t=>e.notify(function(e){let{type:t,body:r}=e;return rB({type:r.id,message:`${t}: ${r.message}`,originalError:e,stack:rF(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}(t)))),r=new window.ReportingObserver(t,{types:V,buffered:!0});return r.observe(),()=>{r.disconnect()}}))),(0,U.mergeObservables)(...e_)).subscribe(e=>eS.notify(e)),eS.subscribe(e=>ek.notify(14,{error:e})),(j=ek).subscribe(14,({error:e})=>{var t;let r,n;j.notify(12,(r={date:(t=e).startClocks.timeStamp,error:{id:(0,ei.generateUUID)(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,component_stack:t.componentStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:I.RumEventType.ERROR,context:t.context},n={error:t.originalError,handlingStack:t.handlingStack},{rawRumEvent:r,startTime:t.startClocks.relative,domainContext:n}))}),{addError:({error:e,handlingStack:t,componentStack:r,startClocks:n,context:i})=>{let o=(0,rL.computeRawError)({originalError:e,handlingStack:t,componentStack:r,startClocks:n,nonErrorPrefix:"Provided",source:rM.ErrorSource.CUSTOM,handling:"handled"});o.context=(0,g.combine)(o.context,i),j.notify(14,{error:o})}});f.unbuffer(),eO={clearTracingIfNeeded:eY,traceFetch:t=>eX(e,t,e$,eJ,eZ,e=>{var r;if(t.input instanceof Request&&!(null==(r=t.init)?void 0:r.headers))t.input=new Request(t.input),Object.keys(e).forEach(r=>{t.input.headers.append(r,e[r])});else{t.init=(0,F.shallowClone)(t.init);let r=[];t.init.headers instanceof Headers?t.init.headers.forEach((e,t)=>{r.push([t,e])}):Array.isArray(t.init.headers)?t.init.headers.forEach(e=>{r.push(e)}):t.init.headers&&Object.keys(t.init.headers).forEach(e=>{r.push([e,t.init.headers[e]])}),t.init.headers=r.concat((0,ec.objectEntries)(e))}}),traceXhr:(t,r)=>eX(e,t,e$,eJ,eZ,e=>{Object.keys(e).forEach(t=>{r.setRequestHeader(t,e[t])})})},function(e,t,r){var n;(!i&&(n=t,i=new U.Observable(e=>{let{stop:t}=(0,L.instrumentMethod)(XMLHttpRequest.prototype,"open",th),{stop:r}=(0,L.instrumentMethod)(XMLHttpRequest.prototype,"send",t=>{!function({target:e,parameters:[t],handlingStack:r},n,i){let o=tb.get(e);if(!o)return;o.state="start",o.startClocks=(0,b.clocksNow)(),o.isAborted=!1,o.xhr=e,o.handlingStack=r,o.body=t;let a=!1,{stop:s}=(0,L.instrumentMethod)(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&l()}),l=()=>{u(),s(),a||(a=!0,o.state="complete",o.duration=(0,b.elapsed)(o.startClocks.timeStamp,(0,b.timeStampNow)()),o.status=e.status,i.notify((0,F.shallowClone)(o)))},{stop:u}=(0,B.addEventListener)(n,e,"loadend",l);i.notify(o)}(t,n,e)},{computeHandlingStack:!0}),{stop:i}=(0,L.instrumentMethod)(XMLHttpRequest.prototype,"abort",tE);return()=>{t(),r(),i()}})),i).subscribe(t=>{if(tL(t.url))switch(t.state){case"start":r.traceXhr(t,t.xhr),t.requestIndex=t$(),e.notify(7,{requestIndex:t.requestIndex,url:t.url});break;case"complete":r.clearTracingIfNeeded(t),e.notify(8,{duration:t.duration,method:t.method,requestIndex:t.requestIndex,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"xhr",url:t.url,xhr:t.xhr,isAborted:t.isAborted,handlingStack:t.handlingStack,body:t.body})}})}(ek,e,eO),z=ek,H=eO,$().subscribe(e=>{if(tL(e.url))switch(e.state){case"start":H.traceFetch(e),e.requestIndex=t$(),z.notify(7,{requestIndex:e.requestIndex,url:e.url});break;case"resolve":var t,r;let n;t=e,r=t=>{var r;H.clearTracingIfNeeded(e),z.notify(8,{duration:t,method:e.method,requestIndex:e.requestIndex,responseType:e.responseType,spanId:e.spanId,startClocks:e.startClocks,status:e.status,traceId:e.traceId,traceSampled:e.traceSampled,type:ty,url:e.url,response:e.response,init:e.init,input:e.input,isAborted:e.isAborted,handlingStack:e.handlingStack,body:null==(r=e.init)?void 0:r.body})},(n=t.response&&(0,tS.tryToClone)(t.response))&&n.body?function(e,t,r){let n=e.getReader(),i=[],o=0;function a(){let e,a;if(n.cancel().catch(D.noop),r.collectStreamBody){let t;if(1===i.length)t=i[0];else{t=new Uint8Array(o);let e=0;i.forEach(r=>{t.set(r,e),e+=r.length})}e=t.slice(0,r.bytesLimit),a=t.length>r.bytesLimit}t(void 0,e,a)}!function e(){n.read().then((0,v.monitor)(t=>{t.done?a():(r.collectStreamBody&&i.push(t.value),(o+=t.value.length)>r.bytesLimit?a():e())}),(0,v.monitor)(e=>t(e)))}()}(n.body,()=>{r((0,b.elapsed)(t.startClocks.timeStamp,(0,b.timeStampNow)()))},{bytesLimit:1/0,collectStreamBody:!1}):r((0,b.elapsed)(t.startClocks.timeStamp,(0,b.timeStampNow)()))}});let tn=(0,A.startVitalCollection)(ek,eK,d),ti=(R=e.applicationId,{get:e=>{let t=eG.findView(e),r=ez.findUrl(e),n=e$.findTrackedSession(e);if(n&&t&&r){let i=eQ.findActionId(e);return{application_id:R,session_id:n.id,user_action:i?{id:i}:void 0,view:{id:t.id,name:t.name,referrer:r.referrer,url:r.url}}}}});return eN.push(()=>r.stop()),{addAction:e0,addEvent:e1,addError:tr,addTiming:e4,addFeatureFlagEvaluation:eH.addFeatureFlagEvaluation,startView:e6,setViewContext:e8,setViewContextProperty:e7,getViewContext:e5,setViewName:e3,lifeCycle:ek,viewHistory:eG,session:e$,stopSession:()=>e$.expire(),getInternalContext:ti.get,startDurationVital:tn.startDurationVital,stopDurationVital:tn.stopDurationVital,addDurationVital:tn.addDurationVital,addOperationStepVital:tn.addOperationStepVital,globalContext:eW,userContext:eJ,accountContext:eZ,telemetry:eV,stop:()=>{eN.forEach(e=>e())},hooks:eD}}function nB(e,{session:t,viewContext:r,errorType:n}){var i;let o,a,s=t?t.id:"no-session-id",l=[];void 0!==n&&l.push(`error-type=${n}`),r&&(l.push(`seed=${r.id}`),l.push(`from=${r.startClocks.timeStamp}`));let u=(o=(i=e).site,a=i.subdomain||function(e){switch(e.site){case eV.INTAKE_SITE_US1:case eV.INTAKE_SITE_EU1:return"app";case eV.INTAKE_SITE_STAGING:return"dd";default:return}}(i),`https://${a?`${a}.`:""}${o}`),c=`/rum/replay/sessions/${s}`;return`${u}${c}?${l.join("&")}`}e.s(["startRum",()=>n$],636888),e.s(["getSessionReplayUrl",()=>nB],455221),e.s([],643004)}]);