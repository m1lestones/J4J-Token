(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,82042,e=>{"use strict";let t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},r=console,n={};Object.keys(t).forEach(e=>{n[e]=r[e]});let i="Datadog Browser SDK:",o={debug:n.debug.bind(r,i),log:n.log.bind(r,i),info:n.info.bind(r,i),warn:n.warn.bind(r,i),error:n.error.bind(r,i)},a="https://docs.datadoghq.com",s=`${a}/real_user_monitoring/browser/troubleshooting`;e.s(["ConsoleApiName",0,t,"DOCS_ORIGIN",0,a,"DOCS_TROUBLESHOOTING",0,s,"MORE_DETAILS",0,"More details:","display",0,o,"globalConsole",0,r])},170664,e=>{"use strict";var t=e.i(82042);function r(e,r){return(...n)=>{try{return e(...n)}catch(e){t.display.error(r,e)}}}e.s(["catchUserErrors",()=>r])},927652,e=>{"use strict";let t;var r=e.i(82042);let n=!1;function i(e){t=e}function o(e){n=e}function a(e){return function(...t){return s(e,this,t)}}function s(e,t,r){try{return e.apply(t,r)}catch(e){l(e)}}function l(e){if(u(e),t)try{t(e)}catch(e){u(e)}}function u(...e){n&&r.display.error("[MONITOR]",...e)}e.s(["callMonitored",()=>s,"displayIfDebugEnabled",()=>u,"monitor",()=>a,"monitorError",()=>l,"setDebugMode",()=>o,"startMonitorErrorCollection",()=>i])},897972,e=>{"use strict";var t=e.i(170664),r=e.i(927652),n=e.i(82042);function i(e){let t={version:"6.25.1",onReady(e){e()},...e};return Object.defineProperty(t,"_setDebug",{get:()=>r.setDebugMode,enumerable:!1}),t}function o(e,r,i){let o=e[r];o&&!o.q&&o.version&&n.display.warn("SDK is loaded more than once. This is unsupported and might have unexpected behavior."),e[r]=i,o&&o.q&&o.q.forEach(e=>(0,t.catchUserErrors)(e,"onReady callback threw an error:")())}e.s(["defineGlobal",()=>o,"makePublicApi",()=>i])},910528,e=>{"use strict";function t(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get(){return this},configurable:!0});let e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}let r=t();e.s(["getGlobalObject",()=>t,"globalObject",0,r,"isWorkerEnvironment",0,"WorkerGlobalScope"in r])},363613,e=>{"use strict";e.s(["ContextManagerMethod",0,{getContext:"getContext",setContext:"setContext",setContextProperty:"setContextProperty",removeContextProperty:"removeContextProperty",clearContext:"clearContext"},"CustomerContextKey",0,{userContext:"userContext",globalContext:"globalContext",accountContext:"accountContext"}])},179889,e=>{"use strict";let t=/[^\u0000-\u007F]/;function r(e){return t.test(e)?void 0!==window.TextEncoder?new TextEncoder().encode(e).length:new Blob([e]).size:e.length}function n(e){if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}e.s(["ONE_KIBI_BYTE",0,1024,"ONE_MEBI_BYTE",0,1048576,"computeBytesCount",()=>r,"concatBuffers",()=>n])},918556,e=>{"use strict";var t=e.i(910528);function r(e,r){let n,i=(0,t.getGlobalObject)();return i.Zone&&"function"==typeof i.Zone.__symbol__&&(n=e[i.Zone.__symbol__(r)]),n||(n=e[r]),n}e.s(["getZoneJsOriginalValue",()=>r])},49223,e=>{"use strict";var t=e.i(918556),r=e.i(927652),n=e.i(910528);function i(e,i){return(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"setTimeout")((0,r.monitor)(e),i)}function o(e){(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"clearTimeout")(e)}function a(e,i){return(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"setInterval")((0,r.monitor)(e),i)}function s(e){(0,t.getZoneJsOriginalValue)((0,n.getGlobalObject)(),"clearInterval")(e)}e.s(["clearInterval",()=>s,"clearTimeout",()=>o,"setInterval",()=>a,"setTimeout",()=>i])},584818,373200,98951,640354,330842,638310,e=>{"use strict";let t;var r=e.i(82042),n=e.i(179889),i=e.i(49223);function o(e,t,r){let n,o,a=!r||void 0===r.leading||r.leading,s=!r||void 0===r.trailing||r.trailing,l=!1;return{throttled:(...r)=>{if(l){n=r;return}a?e(...r):n=r,l=!0,o=(0,i.setTimeout)(()=>{s&&n&&e(...n),l=!1,n=void 0},t)},cancel:()=>{(0,i.clearTimeout)(o),l=!1,n=void 0}}}function a(){}function s(e,t,r){if("object"!=typeof e||null===e)return JSON.stringify(e);let n=l(Object.prototype),i=l(Array.prototype),o=l(Object.getPrototypeOf(e)),a=l(e);try{return JSON.stringify(e,t,r)}catch(e){return"<error: unable to serialize object>"}finally{n(),i(),o(),a()}}function l(e){let t=e.toJSON;return t?(delete e.toJSON,()=>{e.toJSON=t}):a}e.s(["noop",()=>a,"throttle",()=>o],373200),e.s(["detachToJsonMethod",()=>l,"jsonStringify",()=>s],98951);let u=220*n.ONE_KIBI_BYTE;function c(e,t=u){let r=l(Object.prototype),n=l(Array.prototype),i=[],o=new WeakMap,a=d(e,"$",void 0,i,o),s=JSON.stringify(a),f=s?s.length:0;if(f>t)return void p(t,"discarded",e);for(;i.length>0&&f<t;){let r=i.shift(),n=0;if(Array.isArray(r.source))for(let a=0;a<r.source.length;a++){let s=d(r.source[a],r.path,a,i,o);if(void 0!==s?f+=JSON.stringify(s).length:f+=4,f+=n,n=1,f>t){p(t,"truncated",e);break}r.target[a]=s}else for(let a in r.source)if(Object.prototype.hasOwnProperty.call(r.source,a)){let s=d(r.source[a],r.path,a,i,o);if(void 0!==s&&(f+=JSON.stringify(s).length+n+a.length+3,n=1),f>t){p(t,"truncated",e);break}r.target[a]=s}}return r(),n(),a}function d(e,t,r,n,i){let o=function(e){if(e&&"function"==typeof e.toJSON)try{return e.toJSON()}catch(e){}return e}(e);if(!o||"object"!=typeof o){var a;return"bigint"==typeof(a=o)?`[BigInt] ${a.toString()}`:"function"==typeof a?`[Function] ${a.name||"unknown"}`:"symbol"==typeof a?`[Symbol] ${a.description||a.toString()}`:a}let s=function e(t){try{if(t instanceof Event){var r;return{type:(r=t).type,isTrusted:r.isTrusted,currentTarget:r.currentTarget?e(r.currentTarget):null,target:r.target?e(r.target):null}}if(t instanceof RegExp)return`[RegExp] ${t.toString()}`;let n=Object.prototype.toString.call(t).match(/\[object (.*)\]/);if(n&&n[1])return`[${n[1]}]`}catch(e){}return"[Unserializable]"}(o);if("[Object]"!==s&&"[Array]"!==s&&"[Error]"!==s)return s;if(i.has(e))return`[Reference seen at ${i.get(e)}]`;let l=void 0!==r?`${t}.${r}`:t,u=Array.isArray(o)?[]:{};return i.set(e,l),n.push({source:o,target:u,path:l}),u}function p(e,t,n){r.display.warn(`The data provided has been ${t} as it is over the limit of ${e} characters:`,n)}function f(e){var r,n;let i=[],o=_(e,"stack"),a=String(e);if(o&&o.startsWith(a)&&(o=o.slice(a.length)),o&&o.split("\n").forEach(e=>{let t=function(e){let t=v.exec(e);if(!t)return;let r=t[2]&&0===t[2].indexOf("native"),n=t[2]&&0===t[2].indexOf("eval"),i=y.exec(t[2]);return n&&i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3]),{args:r?[t[2]]:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:t[3]?+t[3]:void 0,url:r?void 0:t[2]}}(e)||function(e){let t=b.exec(e);if(t)return{args:[],column:t[3]?+t[3]:void 0,func:"?",line:t[2]?+t[2]:void 0,url:t[1]}}(e)||function(e){let t=h.exec(e);if(t)return{args:[],column:t[4]?+t[4]:void 0,func:t[1]||"?",line:+t[3],url:t[2]}}(e)||function(e){let t=E.exec(e);if(!t)return;let r=t[3]&&t[3].indexOf(" > eval")>-1,n=S.exec(t[3]);return r&&n&&(t[3]=n[1],t[4]=n[2],t[5]=void 0),{args:t[2]?t[2].split(","):[],column:t[5]?+t[5]:void 0,func:t[1]||"?",line:t[4]?+t[4]:void 0,url:t[3]}}(e);t&&(!t.func&&t.line&&(t.func="?"),i.push(t))}),i.length>0&&function(){if(void 0!==t)return t;let[e,r]=[class extends Error{constructor(){super(),this.name="Error"}},Error].map(e=>new e);return t=C(Object.getPrototypeOf(e))&&r.stack!==e.stack}()&&e instanceof Error){let t=[],o=e;for(;(o=Object.getPrototypeOf(o))&&C(o);){let e=(null==(r=o.constructor)?void 0:r.name)||"?";t.push(e)}for(let e=t.length-1;e>=0&&(null==(n=i[0])?void 0:n.func)===t[e];e--)i.shift()}return{message:_(e,"message"),name:_(e,"name"),stack:i}}e.s(["sanitize",()=>c],640354);let m="((?:file|https?|blob|chrome-extension|electron|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)",g="(?::(\\d+))",v=RegExp(`^\\s*at (.*?) ?\\(${m}${g}?${g}?\\)?\\s*$`,"i"),y=RegExp(`\\((\\S*)${g}${g}\\)`),b=RegExp(`^\\s*at ?${m}${g}?${g}??\\s*$`,"i"),h=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,E=/^\s*(.*?)(?:\((.*?)\))?(?:(?:(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle|\[wasm code\])(?::(\d+))?(?::(\d+))?)|@)\s*$/i,S=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function _(e,t){if("object"!=typeof e||!e||!(t in e))return;let r=e[t];return"string"==typeof r?r:void 0}function T(e,t,r,n){var i;let o,a;if(void 0===t)return;let{name:s,message:l}=(i=e,"[object String]"===({}).toString.call(i)&&([,o,a]=w.exec(i)),{name:o,message:a});return{name:s,message:l,stack:[{url:t,column:n,line:r}]}}let w=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function C(e){return String(e.constructor).startsWith("class ")}e.s(["computeStackTrace",()=>f,"computeStackTraceFromOnErrorMessage",()=>T],330842);var O=e.i(927652);function A(e){let t,r=Error(e);return r.name="HandlingStack",(0,O.callMonitored)(()=>{let e=f(r);e.stack=e.stack.slice(2),t=I(e)}),t}function I(e){let t=N(e);return e.stack.forEach(e=>{let r="?"===e.func?"<anonymous>":e.func,n=e.args&&e.args.length>0?`(${e.args.join(", ")})`:"",i=e.line?`:${e.line}`:"",o=e.line&&e.column?`:${e.column}`:"";t+=`
  at ${r}${n} @ ${e.url}${i}${o}`}),t}function N(e){return`${e.name||"Error"}: ${e.message}`}e.s(["createHandlingStack",()=>A,"formatErrorMessage",()=>N,"toStackTraceString",()=>I],638310);let x="No stack, consider using an instance of Error";function R({originalError:e,stackTrace:t,source:r,useFallbackStack:n=!0,nonErrorPrefix:i}){var o,a,l,u;let d=D(e);return!t&&d&&(t=f(e)),{source:r,type:t?t.name:void 0,message:(o=t,a=d,l=i,u=e,(null==o?void 0:o.message)&&(null==o?void 0:o.name)?o.message:a?"Empty message":l?`${l} ${s(c(u))}`:s(c(u))),stack:t?I(t):n?x:void 0}}function k({stackTrace:e,originalError:t,handlingStack:r,componentStack:n,startClocks:i,nonErrorPrefix:o,useFallbackStack:a=!0,source:s,handling:l}){var u;let c=R({originalError:t,stackTrace:e,source:s,useFallbackStack:a,nonErrorPrefix:o});return{startClocks:i,handling:l,handlingStack:r,componentStack:n,originalError:t,...c,causes:D(t)?function(e,t){let r=[],n=e.cause;for(;null!=n&&r.length<10;){let e=R({originalError:n,source:t,useFallbackStack:!1});r.push(e),n=D(n)?n.cause:void 0}return r.length?r:void 0}(t,s):void 0,fingerprint:D(u=t)&&"dd_fingerprint"in u?String(u.dd_fingerprint):void 0,context:function(e){if(null!==e&&"object"==typeof e&&"dd_context"in e)return e.dd_context}(t)}}function D(e){return e instanceof Error||"[object Error]"===Object.prototype.toString.call(e)}e.s(["NO_ERROR_STACK_PRESENT_MESSAGE",0,x,"computeRawError",()=>k,"isError",()=>D],584818)},130050,922924,e=>{"use strict";var t,r;function n(e){return{...e}}function i(e,t){return Object.keys(e).some(r=>e[r]===t)}function o(e){return 0===Object.keys(e).length}function a(e,t){let r={};for(let n of Object.keys(e))r[n]=t(e[n]);return r}e.s(["isEmptyObject",()=>o,"mapValues",()=>a,"objectHasValue",()=>i,"shallowClone",()=>n],922924),(r=t||(t={})).TRACK_INTAKE_REQUESTS="track_intake_requests",r.USE_TREE_WALKER_FOR_ACTION_NAME="use_tree_walker_for_action_name",r.FEATURE_OPERATION_VITAL="feature_operation_vital",r.SHORT_SESSION_INVESTIGATION="short_session_investigation",r.AVOID_FETCH_KEEPALIVE="avoid_fetch_keepalive";let s=new Set;function l(e){Array.isArray(e)&&e.filter(e=>i(t,e)).forEach(e=>{s.add(e)})}function u(e){return s.has(e)}function c(){return s}e.s(["ExperimentalFeature",()=>t,"getExperimentalFeatures",()=>c,"initFeatureFlags",()=>l,"isExperimentalFeatureEnabled",()=>u],130050)},848444,29757,e=>{"use strict";var t=e.i(82042);function r(e){let{env:t,service:r,version:i,datacenter:o,sdkVersion:a,variant:s}=e,l=[n("sdk_version",null!=a?a:"6.25.1")];return t&&l.push(n("env",t)),r&&l.push(n("service",r)),i&&l.push(n("version",i)),o&&l.push(n("datacenter",o)),s&&l.push(n("variant",s)),l}function n(e,r){var n;let i=r?`${e}:${r}`:e;return(i.length>200||(n=i,function(){try{return RegExp("[\\p{Ll}]","u"),!0}catch(e){return!1}}()&&RegExp("[^\\p{Ll}\\p{Lo}0-9_:./-]","u").test(n)))&&t.display.warn(`Tag ${i} doesn't meet tag requirements and will be sanitized. ${t.MORE_DETAILS} ${t.DOCS_ORIGIN}/getting_started/tagging/#defining-tags`),i.replace(/,/g,"_")}e.s(["buildTags",()=>r],848444),e.s(["INTAKE_SITE_EU1",0,"datadoghq.eu","INTAKE_SITE_FED_STAGING",0,"dd0g-gov.com","INTAKE_SITE_STAGING",0,"datad0g.com","INTAKE_SITE_US1",0,"datadoghq.com","INTAKE_SITE_US1_FED",0,"ddog-gov.com","INTAKE_URL_PARAMETERS",0,["ddsource","dd-api-key","dd-request-id"],"PCI_INTAKE_HOST_US1",0,"pci.browser-intake-datadoghq.com"],29757)},655207,e=>{"use strict";var t=e.i(927652),r=e.i(910528);function n(e){var n;let i=null==(n=r.globalObject.queueMicrotask)?void 0:n.bind(r.globalObject);"function"==typeof i?i((0,t.monitor)(e)):Promise.resolve().then((0,t.monitor)(e))}class i{constructor(e){this.onFirstSubscribe=e,this.observers=[]}subscribe(e){return this.addObserver(e),{unsubscribe:()=>this.removeObserver(e)}}notify(e){this.observers.forEach(t=>t(e))}addObserver(e){this.observers.push(e),1===this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe(this)||void 0)}removeObserver(e){this.observers=this.observers.filter(t=>e!==t),!this.observers.length&&this.onLastUnsubscribe&&this.onLastUnsubscribe()}}function o(...e){return new i(t=>{let r=e.map(e=>e.subscribe(e=>t.notify(e)));return()=>r.forEach(e=>e.unsubscribe())})}class a extends i{constructor(e){super(),this.maxBufferSize=e,this.buffer=[]}notify(e){this.buffer.push(e),this.buffer.length>this.maxBufferSize&&this.buffer.shift(),super.notify(e)}subscribe(e){let t=!1;return n(()=>{for(let r of this.buffer){if(t)return;e(r)}t||this.addObserver(e)}),{unsubscribe:()=>{t=!0,this.removeObserver(e)}}}unbuffer(){n(()=>{this.maxBufferSize=this.buffer.length=0})}}e.s(["BufferedObservable",()=>a,"Observable",()=>i,"mergeObservables",()=>o],655207)},175776,28211,e=>{"use strict";let t;function r(e){return 0!==e&&100*Math.random()<=e}function n(e,t){return+e.toFixed(t)}function i(e){return o(e)&&e>=0&&e<=100}function o(e){return"number"==typeof e}e.s(["isNumber",()=>o,"isPercentage",()=>i,"performDraw",()=>r,"round",()=>n],28211);function a(e){var t,r;let n;return{relative:e,timeStamp:(t=e,(n=c()-performance.now())>h()?Math.round(function(e,t){return e+t}(n,t)):(r=t,Math.round(h()+r)))}}function s(e){return{relative:y(e),timeStamp:e}}function l(){var e;return Math.round(c()-(e=h(),e+performance.now()))}function u(e){return o(e)?n(1e6*e,0):e}function c(){return new Date().getTime()}function d(){return c()}function p(){return performance.now()}function f(){return{relative:p(),timeStamp:d()}}function m(){return{relative:0,timeStamp:h()}}function g(e,t){return t-e}function v(e,t){return e+t}function y(e){return e-h()}function b(e){return e<31536e6}function h(){var e,r;return void 0===t&&(t=null!=(r=null==(e=performance.timing)?void 0:e.navigationStart)?r:performance.timeOrigin),t}e.s(["ONE_HOUR",0,36e5,"ONE_MINUTE",0,6e4,"ONE_SECOND",0,1e3,"ONE_YEAR",0,31536e6,"addDuration",()=>v,"clocksNow",()=>f,"clocksOrigin",()=>m,"currentDrift",()=>l,"dateNow",()=>c,"elapsed",()=>g,"getRelativeTime",()=>y,"looksLikeRelativeTime",()=>b,"relativeNow",()=>p,"relativeToClocks",()=>a,"timeStampNow",()=>d,"timeStampToClocks",()=>s,"toServerDuration",()=>u],175776)},466556,295865,931872,164419,162179,e=>{"use strict";var t=e.i(910528);function r(e,r){let n=t.globalObject.__ddBrowserSdkExtensionCallback;n&&n({type:e,payload:r})}function n(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function i(e,t,r=function(){if("undefined"!=typeof WeakSet){let e=new WeakSet;return{hasAlreadyBeenSeen(t){let r=e.has(t);return r||e.add(t),r}}}let e=[];return{hasAlreadyBeenSeen(t){let r=e.indexOf(t)>=0;return r||e.push(t),r}}}()){if(void 0===t)return e;if("object"!=typeof t||null===t)return t;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let e=t.flags||[t.global?"g":"",t.ignoreCase?"i":"",t.multiline?"m":"",t.sticky?"y":"",t.unicode?"u":""].join("");return new RegExp(t.source,e)}if(r.hasAlreadyBeenSeen(t))return;if(Array.isArray(t)){let n=Array.isArray(e)?e:[];for(let e=0;e<t.length;++e)n[e]=i(n[e],t[e],r);return n}let o="object"===n(e)?e:{};for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=i(o[e],t[e],r));return o}function o(e){return i(void 0,e)}function a(...e){let t;for(let r of e)null!=r&&(t=i(t,r));return t}function s(){var e;let r=t.globalObject.navigator;return{status:r.onLine?"connected":"not_connected",interfaces:r.connection&&r.connection.type?[r.connection.type]:void 0,effective_type:null==(e=r.connection)?void 0:e.effectiveType}}function l(){let e=(0,t.getGlobalObject)().DatadogEventBridge;if(e)return{getCapabilities(){var t;return JSON.parse((null==(t=e.getCapabilities)?void 0:t.call(e))||"[]")},getPrivacyLevel(){var t;return null==(t=e.getPrivacyLevel)?void 0:t.call(e)},getAllowedWebViewHosts:()=>JSON.parse(e.getAllowedWebViewHosts()),send(t,r,n){e.send(JSON.stringify({eventType:t,event:r,view:n?{id:n}:void 0}))}}}function u(e){let t=l();return!!t&&t.getCapabilities().includes(e)}function c(e){var r;void 0===e&&(e=null==(r=(0,t.getGlobalObject)().location)?void 0:r.hostname);let n=l();return!!n&&n.getAllowedWebViewHosts().some(t=>e===t||e.endsWith(`.${t}`))}e.s(["sendToExtension",()=>r],466556),e.s(["getType",()=>n],295865),e.s(["combine",()=>a,"deepClone",()=>o],931872),e.s(["getConnectivity",()=>s],164419),e.s(["bridgeSupports",()=>u,"canUseEventBridge",()=>c,"getEventBridge",()=>l],162179)},238733,925475,274439,e=>{"use strict";var t=e.i(927652),r=e.i(130050),n=e.i(655207),i=e.i(179889),o=e.i(49223),a=e.i(175776);function s(e){return e>=500}function l(e){try{return e.clone()}catch(e){return}}e.s(["isServerError",()=>s,"tryToClone",()=>l],925475);let u={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};e.s(["ErrorSource",0,u],274439);let c=80*i.ONE_KIBI_BYTE,d=20*i.ONE_MEBI_BYTE,p=a.ONE_MINUTE,f=a.ONE_SECOND;function m(e,t,r,n,i,a){0===t.transportStatus&&0===t.queuedPayloads.size()&&t.bandwidthMonitor.canHandle(e)?g(e,t,r,a,{onSuccess:()=>v(0,t,r,n,i,a),onFailure:()=>{t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e}),function e(t,r,n,i,a){2===t.transportStatus&&(0,o.setTimeout)(()=>{g(t.queuedPayloads.first(),t,r,a,{onSuccess:()=>{t.queuedPayloads.dequeue(),t.currentBackoffTime=f,v(1,t,r,n,i,a)},onFailure:()=>{t.currentBackoffTime=Math.min(p,2*t.currentBackoffTime),e(t,r,n,i,a)}})},t.currentBackoffTime)}(t,r,n,i,a)}}):t.queuedPayloads.enqueue(e)||a.notify({type:"queue-full",bandwidth:t.bandwidthMonitor.stats(),payload:e})}function g(e,t,r,n,{onSuccess:i,onFailure:o}){t.bandwidthMonitor.add(e),r(e,r=>{var a;t.bandwidthMonitor.remove(e),"opaque"!==(a=r).type&&(0===a.status&&!navigator.onLine||408===a.status||429===a.status||s(a.status))?(t.transportStatus=t.bandwidthMonitor.ongoingRequestCount>0?1:2,e.retry={count:e.retry?e.retry.count+1:1,lastFailureStatus:r.status},n.notify({type:"failure",bandwidth:t.bandwidthMonitor.stats(),payload:e}),o()):(t.transportStatus=0,n.notify({type:"success",bandwidth:t.bandwidthMonitor.stats(),payload:e}),i())})}function v(e,t,r,n,o,s){0===e&&t.queuedPayloads.isFull()&&!t.queueFullReported&&(o({message:`Reached max ${n} events size queued for upload: ${d/i.ONE_MEBI_BYTE}MiB`,source:u.AGENT,startClocks:(0,a.clocksNow)()}),t.queueFullReported=!0);let l=t.queuedPayloads;for(t.queuedPayloads=y();l.size()>0;)m(l.dequeue(),t,r,n,o,s)}function y(){let e=[];return{bytesCount:0,enqueue(t){return!this.isFull()&&(e.push(t),this.bytesCount+=t.bytesCount,!0)},first:()=>e[0],dequeue(){let t=e.shift();return t&&(this.bytesCount-=t.bytesCount),t},size:()=>e.length,isFull(){return this.bytesCount>=d}}}let b=16*i.ONE_KIBI_BYTE;function h(e,i,o=b){let a=new n.Observable,s={transportStatus:0,currentBackoffTime:f,bandwidthMonitor:{ongoingRequestCount:0,ongoingByteCount:0,canHandle(e){return 0===this.ongoingRequestCount||this.ongoingByteCount+e.bytesCount<=c&&this.ongoingRequestCount<32},add(e){this.ongoingRequestCount+=1,this.ongoingByteCount+=e.bytesCount},remove(e){this.ongoingRequestCount-=1,this.ongoingByteCount-=e.bytesCount},stats(){return{ongoingByteCount:this.ongoingByteCount,ongoingRequestCount:this.ongoingRequestCount}}},queuedPayloads:y(),queueFullReported:!1};return{observable:a,send:n=>{for(let l of e)m(n,s,(e,n)=>{(0,r.isExperimentalFeatureEnabled)(r.ExperimentalFeature.AVOID_FETCH_KEEPALIVE)?S(l,e,n):function(e,r,n,i){(function(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(e){return!1}})()&&n.bytesCount<r?fetch(e.build("fetch-keepalive",n),{method:"POST",body:n.data,keepalive:!0,mode:"cors"}).then((0,t.monitor)(e=>null==i?void 0:i({status:e.status,type:e.type}))).catch((0,t.monitor)(()=>S(e,n,i))):S(e,n,i)}(l,o,e,n)},l.trackType,i,a)},sendOnExit:r=>{for(let n of e)!function(e,r,n){if(navigator.sendBeacon&&n.bytesCount<r)try{let t=e.build("beacon",n);if(navigator.sendBeacon(t,n.data))return}catch(e){var i;i=e,E||(E=!0,(0,t.monitorError)(i))}S(e,n)}(n,o,r)}}}let E=!1;function S(e,r,n){fetch(e.build("fetch",r),{method:"POST",body:r.data,mode:"cors"}).then((0,t.monitor)(e=>null==n?void 0:n({status:e.status,type:e.type}))).catch((0,t.monitor)(()=>null==n?void 0:n({status:0})))}e.s(["RECOMMENDED_REQUEST_BYTES_LIMIT",0,b,"createHttpRequest",()=>h],238733)},236933,233673,e=>{"use strict";var t=e.i(910528),r=e.i(655207),n=e.i(49223),i=e.i(175776),o=e.i(238733);let a=30*i.ONE_SECOND,s=t.isWorkerEnvironment?1:50;function l({pageMayExitObservable:e,sessionExpireObservable:t}){let i,l=e.subscribe(e=>f(e.reason)),u=t.subscribe(()=>f("session_expire")),c=new r.Observable(()=>()=>{l.unsubscribe(),u.unsubscribe()}),d=0,p=0;function f(e){if(0===p)return;let t=p,r=d;p=0,d=0,m(),c.notify({reason:e,messagesCount:t,bytesCount:r})}function m(){(0,n.clearTimeout)(i),i=void 0}return{flushObservable:c,get messagesCount(){return p},notifyBeforeAddMessage(e){d+e>=o.RECOMMENDED_REQUEST_BYTES_LIMIT&&f("bytes_limit"),p+=1,d+=e,void 0===i&&(i=(0,n.setTimeout)(()=>{f("duration_limit")},a))},notifyAfterAddMessage(e=0){d+=e,p>=s?f("messages_limit"):d>=o.RECOMMENDED_REQUEST_BYTES_LIMIT&&f("bytes_limit")},notifyAfterRemoveMessage(e){d-=e,0==(p-=1)&&m()}}}function u(e,t){for(let r=e.length-1;r>=0;r-=1){let n=e[r];if(t(n,r,e))return n}}function c(e){return Object.values(e)}function d(e){return Object.entries(e)}e.s(["createFlushController",()=>l],236933),e.s(["findLast",()=>u,"objectEntries",()=>d,"objectValues",()=>c],233673)},316658,e=>{"use strict";var t=e.i(927652),r=e.i(918556);function n(e,t,r,n,o){return i(e,t,[r],n,o)}function i(e,n,o,a,{once:s,capture:l,passive:u}={}){let c=(0,t.monitor)(t=>{(t.isTrusted||t.__ddIsTrusted||e.allowUntrustedEvents)&&(s&&m(),a(t))}),d=u?{capture:l,passive:u}:l,p=window.EventTarget&&n instanceof EventTarget?window.EventTarget.prototype:n,f=(0,r.getZoneJsOriginalValue)(p,"addEventListener");function m(){let e=(0,r.getZoneJsOriginalValue)(p,"removeEventListener");o.forEach(t=>e.call(n,t,c,d))}return o.forEach(e=>f.call(n,e,c,d)),{stop:m}}e.s(["addEventListener",()=>n,"addEventListeners",()=>i])},512535,725771,718097,192096,e=>{"use strict";let t;var r=e.i(82042),n=e.i(584818),i=e.i(638310),o=e.i(130050),a=e.i(848444),s=e.i(29757),l=e.i(655207),u=e.i(175776),c=e.i(927652),d=e.i(466556),p=e.i(28211),f=e.i(98951),m=e.i(931872),g=e.i(330842),v=e.i(164419),y=e.i(162179),b=e.i(236933),h=e.i(238733),E=e.i(233673),S=e.i(316658);let _={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function T(e){return new l.Observable(t=>{let{stop:r}=(0,S.addEventListeners)(e,window,["visibilitychange","freeze"],e=>{"visibilitychange"===e.type&&"hidden"===document.visibilityState?t.notify({reason:_.HIDDEN}):"freeze"===e.type&&t.notify({reason:_.FROZEN})},{capture:!0}),n=(0,S.addEventListener)(e,window,"beforeunload",()=>{t.notify({reason:_.UNLOADING})}).stop;return()=>{r(),n()}})}function w(e){return(0,E.objectValues)(_).includes(e)}e.s(["PageExitReason",0,_,"createPageMayExitObservable",()=>T,"isPageExitReason",()=>w],725771);var C=e.i(179889);let O=256*C.ONE_KIBI_BYTE;function A({encoder:e,request:t,flushController:n}){let i={},o=n.flushObservable.subscribe(r=>(function(r){let n=(0,E.objectValues)(i).join("\n");i={};let o=w(r.reason),a=o?t.sendOnExit:t.send;if(o&&e.isAsync){let t=e.finishSync();t.outputBytesCount&&a(I(t));let r=[t.pendingData,n].filter(Boolean).join("\n");r&&a({data:r,bytesCount:(0,C.computeBytesCount)(r)})}else n&&e.write(e.isEmpty?n:`
${n}`),e.finish(e=>{a(I(e))})})(r));function a(t,o){let a,s,l=(0,f.jsonStringify)(t),u=e.estimateEncodedBytesCount(l);u>=O?r.display.warn(`Discarded a message whose size was bigger than the maximum allowed size ${O/C.ONE_KIBI_BYTE}KiB. ${r.MORE_DETAILS} ${r.DOCS_TROUBLESHOOTING}/#technical-limitations`):(void 0!==o&&void 0!==i[o]&&(a=i[o],delete i[o],s=e.estimateEncodedBytesCount(a),n.notifyAfterRemoveMessage(s)),n.notifyBeforeAddMessage(u),void 0!==o?(i[o]=l,n.notifyAfterAddMessage()):e.write(e.isEmpty?l:`
${l}`,e=>{n.notifyAfterAddMessage(e-u)}))}return{flushController:n,add:a,upsert:a,stop:o.unsubscribe}}function I(e){return{data:"string"==typeof e.output?e.output:new Blob([e.output],{type:"text/plain"}),bytesCount:e.outputBytesCount,encoding:e.encoding}}e.s(["createBatch",()=>A],718097);let N="DISCARDED",x="SKIPPED";function R(){let e={};return{register:(t,r)=>(e[t]||(e[t]=[]),e[t].push(r),{unregister:()=>{e[t]=e[t].filter(e=>e!==r)}}),triggerHook(t,r){let n=e[t]||[],i=[];for(let e of n){let t=e(r);if(t===N)return N;t!==x&&i.push(t)}return(0,m.combine)(...i)}}}e.s(["DISCARDED",0,N,"SKIPPED",0,x,"abstractHooks",()=>R],192096);var k=e.i(910528);let D="configuration",M="usage",L=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"],U=[s.INTAKE_SITE_US1_FED];function P(){return t||(t=new l.BufferedObservable(100)),t}function $(e,t,r,n,i,g){let E=new l.Observable,{stop:S}=function(e,t,r,n,i){let o=[];if((0,y.canUseEventBridge)()){let e=(0,y.getEventBridge)(),t=i.subscribe(t=>e.send("internal_telemetry",t));o.push(t.unsubscribe)}else{let a=[e.rumEndpointBuilder];e.replica&&e.site===s.INTAKE_SITE_STAGING&&a.push(e.replica.rumEndpointBuilder);let u=A({encoder:n(4),request:(0,h.createHttpRequest)(a,t),flushController:(0,b.createFlushController)({pageMayExitObservable:r,sessionExpireObservable:new l.Observable})});o.push(u.stop);let c=i.subscribe(u.add);o.push(c.unsubscribe)}return{stop:()=>o.forEach(e=>e())}}(t,n,i,g,E),{enabled:_,metricsEnabled:T}=function(e,t,r,n,i=1,s=15){var l;let g={},y=!U.includes(t.site)&&(0,p.performDraw)(t.telemetrySampleRate),b={log:y,[D]:y&&(0,p.performDraw)(t.telemetryConfigurationSampleRate),[M]:y&&(0,p.performDraw)(t.telemetryUsageSampleRate),metric:y&&(0,p.performDraw)(i)},h={is_local_file:(null==(l=k.globalObject.location)?void 0:l.protocol)==="file:",is_worker:k.isWorkerEnvironment},E=P();return E.subscribe(({rawEvent:i,metricName:l})=>{var c,p,y,E;let S;if(l&&!b.metric||!b[i.type])return;let _=l||i.status||i.type,T=g[_];if(T||(T=g[_]=new Set),T.size>=s)return;let w=(0,f.jsonStringify)(i);if(T.has(w))return;let C=r.triggerHook(1,{startTime:(0,u.clocksNow)().relative});if(C===N)return;let O=(c=C,p=e,y=i,E=h,S={type:"telemetry",date:(0,u.clocksNow)().timeStamp,service:p,version:"6.25.1",source:"browser",_dd:{format_version:2},telemetry:(0,m.combine)(y,{runtime_env:E,connectivity:(0,v.getConnectivity)(),sdk_setup:"npm"}),ddtags:(0,a.buildTags)(t).join(","),experimental_features:Array.from((0,o.getExperimentalFeatures)())},(0,m.combine)(S,c));n.notify(O),(0,d.sendToExtension)("telemetry",O),T.add(w)}),E.unbuffer(),(0,c.startMonitorErrorCollection)(B),{enabled:y,metricsEnabled:b.metric}}(e,t,r,E);return{stop:S,enabled:_,metricsEnabled:T}}function V(e,t){(0,c.displayIfDebugEnabled)(r.ConsoleApiName.debug,e,t),P().notify({rawEvent:{type:"log",message:e,status:"debug",...t}})}function B(e,t){P().notify({rawEvent:{type:"log",status:"error",...function(e){if((0,n.isError)(e)){var t;let r=(0,g.computeStackTrace)(e);return{error:{kind:r.name,stack:(0,i.toStackTraceString)(((t=r).stack=t.stack.filter(e=>!e.url||L.some(t=>e.url.startsWith(t))),t))},message:r.message}}return{error:{stack:n.NO_ERROR_STACK_PRESENT_MESSAGE},message:`Uncaught ${(0,f.jsonStringify)(e)}`}}(e),...t}})}function F(e){P().notify({rawEvent:{type:D,configuration:e}})}function j(e,t){P().notify({rawEvent:{type:"log",message:e,status:"debug",...t},metricName:e})}function q(e){P().notify({rawEvent:{type:M,usage:e}})}e.s(["addTelemetryConfiguration",()=>F,"addTelemetryDebug",()=>V,"addTelemetryError",()=>B,"addTelemetryMetrics",()=>j,"addTelemetryUsage",()=>q,"startTelemetry",()=>$],512535)},346243,443947,591056,932277,222346,240820,838644,323038,813693,835158,66311,124833,657578,302332,14092,855355,747868,919214,620091,e=>{"use strict";let t,r,n,i,o,a,s,l,u,c,d,p,f;var m,g,v=e.i(363613),y=e.i(512535),b=e.i(931872),h=e.i(897972),E=e.i(927652),S=e.i(175776),_=e.i(638310),T=e.i(640354),w=e.i(179889);function C(){let e="",t=0;return{isAsync:!1,get isEmpty(){return!e},write(r,n){let i=(0,w.computeBytesCount)(r);t+=i,e+=r,n&&n(i)},finish(e){e(this.finishSync())},finishSync(){let r={output:e,outputBytesCount:t,rawBytesCount:t,pendingData:""};return e="",t=0,r},estimateEncodedBytesCount:e=>e.length}}var O=e.i(82042);function A(e,t){t.silentMultipleInit||O.display.error(`${e} is already initialized.`)}var I=e.i(655207);let N={GRANTED:"granted",NOT_GRANTED:"not-granted"};function x(e,t,r,n){return(0,E.monitor)((...i)=>(n&&(0,y.addTelemetryUsage)({feature:n}),e()[t][r](...i)))}var R=e.i(49223),k=e.i(373200);function D(e,t,r,{computeHandlingStack:n}={}){let i=e[t];if("function"!=typeof i)if(!(t in e&&"string"==typeof t&&t.startsWith("on")))return{stop:k.noop};else i=k.noop;let o=!1,a=function(){let e;if(o)return i.apply(this,arguments);let t=Array.from(arguments);(0,E.callMonitored)(r,null,[{target:this,parameters:t,onPostCall:t=>{e=t},handlingStack:n?(0,_.createHandlingStack)("instrumented method"):void 0}]);let a=i.apply(this,t);return e&&(0,E.callMonitored)(e,null,[a]),a};return e[t]=a,{stop:()=>{o=!0,e[t]===a&&(e[t]=i)}}}function M(e,t,r){let n=Object.getOwnPropertyDescriptor(e,t);if(!n||!n.set||!n.configurable)return{stop:k.noop};let i=k.noop,o=(e,t)=>{(0,R.setTimeout)(()=>{o!==i&&r(e,t)},0)},a=function(e){n.set.call(this,e),o(this,e)};return Object.defineProperty(e,t,{set:a}),{stop:()=>{var r;(null==(r=Object.getOwnPropertyDescriptor(e,t))?void 0:r.set)===a&&Object.defineProperty(e,t,n),o=i}}}e.s(["instrumentMethod",()=>D,"instrumentSetter",()=>M],443947);var L=e.i(330842),U=e.i(910528),P=e.i(584818),$=e.i(274439);let V={ACTION:"action",ERROR:"error",LONG_TASK:"long_task",VIEW:"view",RESOURCE:"resource",VITAL:"vital"},B={LONG_TASK:"long-task",LONG_ANIMATION_FRAME:"long-animation-frame"},F={INITIAL_LOAD:"initial_load",ROUTE_CHANGE:"route_change",BF_CACHE:"bf_cache"},j={CLICK:"click",CUSTOM:"custom"},q={RAGE_CLICK:"rage_click",ERROR_CLICK:"error_click",DEAD_CLICK:"dead_click"},K={DURATION:"duration",OPERATION_STEP:"operation_step"};e.s(["ActionType",0,j,"FrustrationType",0,q,"RumEventType",0,V,"RumLongTaskEntryType",0,B,"ViewLoadingType",0,F,"VitalType",0,K],591056);var G=e.i(130050);function H(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,H)}let z=/([\w-]+)\s*=\s*([^;]+)/g;function W(e,t){for(z.lastIndex=0;;){let r=z.exec(e);if(r){if(r[1]===t)return r[2]}else break}}function J(e,t,r=""){let n=e.charCodeAt(t-1),i=n>=55296&&n<=56319?t+1:t;return e.length<=i?e:`${e.slice(0,i)}${r}`}function Y({vitalsByName:e,vitalsByReference:t},r,n={}){let i={name:r,startClocks:(0,S.clocksNow)(),...n},o={__dd_vital_reference:!0};return e.set(r,i),t.set(o,i),o}function X(e,{vitalsByName:t,vitalsByReference:r},n,i={}){var o,a,s,l,u;let c="string"==typeof n?t.get(n):r.get(n);c&&(e((o=c,a=c.startClocks,s=i,l=(0,S.clocksNow)(),{name:o.name,type:K.DURATION,startClocks:a,duration:(0,S.elapsed)(a.timeStamp,l.timeStamp),context:(0,b.combine)(o.context,s.context),description:null!=(u=s.description)?u:o.description})),"string"==typeof n?t.delete(n):r.delete(n))}function Z(e){let{startClocks:t,type:r,name:n,description:i,context:o}=e,a={id:H(),type:r,name:n,description:i,...r===K.DURATION?{duration:(0,S.toServerDuration)(e.duration)}:{step_type:e.stepType,operation_key:e.operationKey,failure_reason:e.failureReason}};return{rawRumEvent:{date:t.timeStamp,vital:a,type:V.VITAL,context:o},startTime:t.relative,duration:r===K.DURATION?e.duration:void 0,domainContext:{}}}function Q(e,t,r){if(e)for(let n of e){let e=n[t];e&&e(r)}}function ee(e,t){let r=e.indexOf(t);r>=0&&e.splice(r,1)}function et(e){return Array.isArray(e)&&e.length>0}var er=e.i(162179);function en(e){return ea(e,location.href).href}function ei(e){try{return!!ea(e)}catch(e){return!1}}function eo(e){let t=ea(e).pathname;return"/"===t[0]?t:`/${t}`}function ea(e,r){let{URL:n}=function(){if(!t){let e,r;try{(e=document.createElement("iframe")).style.display="none",document.body.appendChild(e),r=e.contentWindow}catch(e){r=U.globalObject}t={URL:r.URL},null==e||e.remove()}return t}();try{return void 0!==r?new n(e,r):new n(e)}catch(e){throw Error(`Failed to construct URL: ${String(e)}`)}}function es(e,t,r=0,n){let i=new Date;i.setTime(i.getTime()+r);let o=`expires=${i.toUTCString()}`,a=n&&n.crossSite?"none":"strict",s=n&&n.domain?`;domain=${n.domain}`:"",l=n&&n.secure?";secure":"",u=n&&n.partitioned?";partitioned":"";document.cookie=`${e}=${t};${o};path=/;samesite=${a}${s}${l}${u}`}function el(e){return W(document.cookie,e)}function eu(e){return r||(r=function(e){let t=new Map;for(z.lastIndex=0;;){let r=z.exec(e);if(r)t.set(r[1],r[2]);else break}return t}(document.cookie)),r.get(e)}e.s(["buildUrl",()=>ea,"getPathName",()=>eo,"isValidUrl",()=>ei,"normalizeUrl",()=>en],932277);function ec(e=location.hostname,t=document.referrer){if(void 0===n){let r=function(e,t){try{return e||ea(t).hostname}catch(e){}}(e,t);if(r){let e=`dd_site_test_${H()}`,t=r.split("."),i=t.pop();for(;t.length&&!el(e);)i=`${t.pop()}.${i}`,es(e,"test",S.ONE_SECOND,{domain:i});es(e,"",0,{domain:i}),n=i}}return n}function ed(){return!U.isWorkerEnvironment&&!!(U.globalObject._DATADOG_SYNTHETICS_INJECTS_RUM||eu("datadog-synthetics-injects-rum"))}function ep(){let e=window._DATADOG_SYNTHETICS_PUBLIC_ID||eu("datadog-synthetics-public-id");return"string"==typeof e?e:void 0}function ef(){let e=window._DATADOG_SYNTHETICS_RESULT_ID||eu("datadog-synthetics-result-id");return"string"==typeof e?e:void 0}function em(){return!!(ep()&&ef())}async function eg(e,t){let r=e.getReader(),n=[];for(;;){let e=await r.read();if(e.done)break;t.collectStreamBody&&n.push(e.value)}return r.cancel().catch(k.noop),t.collectStreamBody?(0,w.concatBuffers)(n):void 0}var ev=e.i(925475);let ey=[];function eb({responseBodyAction:e}={}){return e&&ey.push(e),i||(i=new I.Observable(e=>{if(!U.globalObject.fetch)return;let{stop:t}=D(U.globalObject,"fetch",t=>(function({parameters:e,onPostCall:t,handlingStack:r},n){let[i,o]=e,a=o&&o.method;void 0===a&&i instanceof Request&&(a=i.method);let s=void 0!==a?String(a).toUpperCase():"GET",l=i instanceof Request?i.url:en(String(i)),u={state:"start",init:o,input:i,method:s,startClocks:(0,S.clocksNow)(),url:l,handlingStack:r};n.notify(u),e[0]=u.input,e[1]=u.init,t(e=>{eh(n,e,u).catch(E.monitorError)})})(t,e),{computeHandlingStack:!0});return t})),i}async function eh(e,t,r){var n,i;let o;r.state="resolve";try{o=await t}catch(t){r.status=0,r.isAborted=(null==(i=null==(n=r.init)?void 0:n.signal)?void 0:i.aborted)||t instanceof DOMException&&t.code===DOMException.ABORT_ERR,r.error=t,e.notify(r);return}r.response=o,r.status=o.status,r.responseType=o.type,r.isAborted=!1;let a=ey.reduce((e,t)=>Math.max(e,t(r)),0);if(0!==a){let e=(0,ev.tryToClone)(o);if(e&&e.body)try{let t=await eg(e.body,{collectStreamBody:2===a});r.responseBody=t&&new TextDecoder().decode(t)}catch(e){}}e.notify(r)}var eE=e.i(316658),eS=e.i(922924);let e_=[];function eT(e,t,r,n){var i,o;let a=(i=r,o=n,`_dd_c_${i}_${o}`);e_.push((0,eE.addEventListener)(e,window,"storage",({key:e})=>{a===e&&t.setContext(l())})),t.changeObservable.subscribe(function(){localStorage.setItem(a,JSON.stringify(t.getContext()))});let s=(0,b.combine)(l(),t.getContext());function l(){let e=localStorage.getItem(a);return e?JSON.parse(e):{}}(0,eS.isEmptyObject)(s)||t.setContext(s)}var ew=e.i(192096),eC=e.i(295865);function eO(e,t,r){let n={...e};for(let[e,{required:i,type:o}]of Object.entries(t))"string"!==o||eA(n[e])||(n[e]=String(n[e])),i&&eA(n[e])&&O.display.warn(`The property ${e} of ${r} is required; context will not be sent to the intake.`);return n}function eA(e){return null==e||""===e}function eI(e="",{propertiesConfig:t={}}={}){let r={},n=new I.Observable,i={getContext:()=>(0,b.deepClone)(r),setContext:o=>{let a;((a="object"===(0,eC.getType)(o))||O.display.error("Unsupported context:",o),a)?r=(0,T.sanitize)(eO(o,t,e)):i.clearContext(),n.notify()},setContextProperty:(i,o)=>{r=(0,T.sanitize)(eO({...r,[i]:o},t,e)),n.notify()},removeContextProperty:i=>{delete r[i],eO(r,t,e),n.notify()},clearContext:()=>{r={},n.notify()},changeObservable:n};return i}function eN(){return eI("account",{propertiesConfig:{id:{type:"string",required:!0},name:{type:"string"}}})}function ex(){return eI("global context")}function eR(){return eI("user",{propertiesConfig:{id:{type:"string"},name:{type:"string"},email:{type:"string"}}})}function ek(e){let t=(0,eC.getType)(e);return"string"===t||"function"===t||e instanceof RegExp}function eD(e,t,r=!1){return e.some(e=>{try{if("function"==typeof e)return e(t);if(e instanceof RegExp)return e.test(t);if("string"==typeof e)return r?t.startsWith(e):e===t}catch(e){O.display.error(e)}return!1})}var eM=e.i(170664),eL=e.i(28211);function eU(){return 0===e$()}function eP(){return 1===e$()}function e$(){return null!=o?o:o=function(e=window){var t;let r=e.navigator.userAgent;return e.chrome||/HeadlessChrome/.test(r)?0:(null==(t=e.navigator.vendor)?void 0:t.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)?1:2}()}e.s(["isChromium",()=>eU,"isSafari",()=>eP],222346);let eV="_dd_s";var eB=e.i(233673);let eF=4*S.ONE_HOUR,ej=15*S.ONE_MINUTE,eq=S.ONE_YEAR,eK="cookie",eG="local-storage",eH=/^([a-zA-Z]+)=([a-z0-9-]+)$/;function ez(e,t){let r={isExpired:"1"};return t.trackAnonymousUser&&(null==e?void 0:e.anonymousId)&&(r.anonymousId=null==e?void 0:e.anonymousId),r}function eW(e){return(0,eS.isEmptyObject)(e)}function eJ(e){var t;return void 0!==e.isExpired||!((void 0===(t=e).created||(0,S.dateNow)()-Number(t.created)<eF)&&(void 0===t.expire||(0,S.dateNow)()<Number(t.expire)))}function eY(e){e.expire=String((0,S.dateNow)()+ej)}function eX(e){return(0,eB.objectEntries)(e).map(([e,t])=>"anonymousId"===e?`aid=${t}`:`${e}=${t}`).join("&")}function eZ(e){let t={};return e&&(-1!==e.indexOf("&")||eH.test(e))&&e.split("&").forEach(e=>{let r=eH.exec(e);if(null!==r){let[,e,n]=r;"aid"===e?t.anonymousId=n:t[e]=n}}),t}function eQ(e){let t=function(e){let t={};if(t.secure=!!e.useSecureSessionCookie||!!e.usePartitionedCrossSiteSessionCookie,t.crossSite=!!e.usePartitionedCrossSiteSessionCookie,t.partitioned=!!e.usePartitionedCrossSiteSessionCookie,e.trackSessionAcrossSubdomains){let e=ec();if(!e)return;t.domain=e}return t}(e);return t&&function(e){if(void 0===document.cookie||null===document.cookie)return!1;try{let t=`dd_cookie_test_${H()}`,r="test";es(t,r,S.ONE_MINUTE,e);let n=el(t)===r;return es(t,"",0,e),n}catch(e){return O.display.error(e),!1}}(t)?{type:eK,cookieOptions:t}:void 0}function e0(e,t,r,n){let i=eX(r);t.betaEncodeCookieOptions&&(i=eX({...r,...!(0,eS.isEmptyObject)(r)?{c:e2(e)}:{}})),es(eV,i,t.trackAnonymousUser?eq:n,e)}function e1(e,t){return t.betaEncodeCookieOptions?function(e){let t,r=(function(e){let t=new Map;for(z.lastIndex=0;;){let r=z.exec(e);if(r){let e=r[1],n=r[2];t.has(e)?t.get(e).push(n):t.set(e,[n])}else break}return t})(document.cookie).get(eV)||[],n=e2(e);for(let e of r.reverse())if((t=eZ(e)).c===n)break;return null==t||delete t.c,null!=t?t:{}}(e):eZ(el(eV))}function e2(e){return((e.domain?e.domain.split(".").length-1:0)<<1|!!e.crossSite).toString(16)}function e3(){try{let e=H(),t=`_dd_test_${e}`;localStorage.setItem(t,e);let r=localStorage.getItem(t);return localStorage.removeItem(t),e===r?{type:eG}:void 0}catch(e){return}}function e5(e){localStorage.setItem(eV,eX(e))}function e6(){return eZ(localStorage.getItem(eV))}let e4=S.ONE_SECOND,e9=[];function e8(e,t,r=0){var n;let i,{isLockEnabled:o,persistSession:s,expireSession:l}=t,u=e=>s({...e,lock:i}),c=()=>{let{lock:e,...r}=t.retrieveSession();return{session:r,lock:e&&!function(e){let[,t]=e.split("--");return!t||(0,S.elapsed)(Number(t),(0,S.timeStampNow)())>e4}(e)?e:void 0}};if(a||(a=e),e!==a)return void e9.push(e);if(o&&r>=100)return void te(t);let d=c();if(o&&(d.lock||(i=H()+"--"+(0,S.timeStampNow)(),u(d.session),(d=c()).lock!==i)))return void e7(e,t,r);let p=e.process(d.session);if(o&&(d=c()).lock!==i)return void e7(e,t,r);if(p&&(eJ(p)?l(p):(eY(p),o?u(p):s(p))),o&&!(p&&eJ(p))){if((d=c()).lock!==i)return void e7(e,t,r);s(d.session),p=d.session}null==(n=e.after)||n.call(e,p||d.session),te(t)}function e7(e,t,r){(0,R.setTimeout)(()=>{e8(e,t,r+1)},10)}function te(e){a=void 0;let t=e9.shift();t&&e8(t,e)}let tt=S.ONE_SECOND,tr=["chrome-extension://","moz-extension://"];function tn(e){return tr.some(t=>e.includes(t))}var ti=e.i(29757);function to(e,t,r){let n=function(e,t){let r=`/api/v2/${t}`,n=e.proxy;if("string"==typeof n){let e=en(n);return t=>`${e}?ddforward=${encodeURIComponent(`${r}?${t}`)}`}if("function"==typeof n)return e=>n({path:r,parameters:e});let i=ta(t,e);return e=>`https://${i}${r}?${e}`}(e,t);return{build:(i,o)=>n(function({clientToken:e,internalAnalyticsSubdomain:t,source:r="browser"},n,i,{retry:o,encoding:a},s=[]){let l=[`ddsource=${r}`,`dd-api-key=${e}`,`dd-evp-origin-version=${encodeURIComponent("6.25.1")}`,"dd-evp-origin=browser",`dd-request-id=${H()}`].concat(s);return a&&l.push(`dd-evp-encoding=${a}`),"rum"===n&&(l.push(`batch_time=${(0,S.timeStampNow)()}`,`_dd.api=${i}`),o&&l.push(`_dd.retry_count=${o.count}`,`_dd.retry_after=${o.lastFailureStatus}`)),t&&l.reverse(),l.join("&")}(e,t,i,o,r)),trackType:t}}function ta(e,t){let{site:r=ti.INTAKE_SITE_US1,internalAnalyticsSubdomain:n}=t;if("logs"===e&&t.usePciIntake&&r===ti.INTAKE_SITE_US1)return ti.PCI_INTAKE_HOST_US1;if(n&&r===ti.INTAKE_SITE_US1)return`${n}.${ti.INTAKE_SITE_US1}`;if(r===ti.INTAKE_SITE_FED_STAGING)return`http-intake.logs.${r}`;let i=r.split("."),o=i.pop();return`browser-intake-${i.join("-")}.${o}`}let ts={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input",MASK_UNLESS_ALLOWLISTED:"mask-unless-allowlisted"},tl={ALL:"all",SAMPLED:"sampled"};function tu(e,t){return null==e||"string"==typeof e||(O.display.error(`${t} must be defined as a string`),!1)}function tc(e,t){return void 0===e||!!(0,eL.isPercentage)(e)||(O.display.error(`${t} Sample Rate should be a number between 0 and 100`),!1)}let td=new Map;function tp(e,t){var r,n;let i,o,a;if(100===t)return!0;if(0===t)return!1;let s=td.get(t);return s&&e===s.sessionId?s.decision:(i=window.BigInt?(r=BigInt(`0x${e.split("-")[4]}`),n=t,o=BigInt("1111111111111111111"),Number(r*o%(a=BigInt("0x10000000000000000")))<=n/100*Number(a)):(0,eL.performDraw)(t),td.set(t,{sessionId:e,decision:i}),i)}e.s(["isSampled",()=>tp],240820);function tf(e){let t=crypto.getRandomValues(new Uint32Array(2));return 63===e&&(t[t.length-1]>>>=1),{toString(e=10){let r=t[1],n=t[0],i="";do{let t=r%e*0x100000000+n;r=Math.floor(r/e),n=Math.floor(t/e),i=(t%e).toString(e)+i}while(r||n)return i}}}function tm(e){return e.toString(16).padStart(16,"0")}function tg(e){0!==e.status||e.isAborted||(e.traceId=void 0,e.spanId=void 0,e.traceSampled=void 0)}function tv(e,t,r,n,i,o){let a=r.findTrackedSession();if(!a)return;let s=e.allowedTracingUrls.find(e=>eD([e.match],t.url,!0));if(!s)return;let l=tp(a.id,e.traceSampleRate);(l||e.traceContextInjection===tl.ALL)&&(t.traceSampled=l,t.traceId=tf(64),t.spanId=tf(63),o(function(e,t,r,n,i,o,a,s){let l={};if(i.forEach(n=>{switch(n){case"datadog":Object.assign(l,{"x-datadog-origin":"rum","x-datadog-parent-id":t.toString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":e.toString()});break;case"tracecontext":Object.assign(l,{traceparent:`00-0000000000000000${tm(e)}-${tm(t)}-0${r?"1":"0"}`,tracestate:`dd=s:${r?"1":"0"};o:rum`});break;case"b3":Object.assign(l,{b3:`${tm(e)}-${tm(t)}-${r?"1":"0"}`});break;case"b3multi":Object.assign(l,{"X-B3-TraceId":tm(e),"X-B3-SpanId":tm(t),"X-B3-Sampled":r?"1":"0"})}}),s.propagateTraceBaggage){let e={"session.id":n},t=o.getContext().id;"string"==typeof t&&(e["user.id"]=t);let r=a.getContext().id;"string"==typeof r&&(e["account.id"]=r);let i=Object.entries(e).map(([e,t])=>`${e}=${encodeURIComponent(t)}`).join(",");i&&(l.baggage=i)}return l}(t.traceId,t.spanId,t.traceSampled,a.id,s.propagatorTypes,n,i,e)))}let ty=["tracecontext","datadog"],tb=/[a-zA-Z_$]/,th=/[a-zA-Z0-9_$]/,tE=/[0-9]/,tS=/[a-fA-F0-9]/,t_={0:()=>!1,1:()=>!1,2:e=>tb.test(e),3:e=>th.test(e),4:e=>"."===e,5:e=>"["===e,6:e=>"]"===e,7:e=>tE.test(e),8:e=>"'\"".includes(e),9:(e,t)=>e===t.quote,10:()=>!0,11:e=>"\\"===e,12:(e,t)=>void 0===t.escapeSequence?`${t.quote}/\\bfnrtu`.includes(e):!!t.escapeSequence.startsWith("u")&&t.escapeSequence.length<5&&tS.test(e)},tT={0:[2,5],1:[],2:[3,4,5,1],3:[3,4,5,1],4:[2],5:[8,7],6:[4,5,1],7:[7,6],8:[11,9,10],9:[6],10:[11,9,10],11:[12],12:[12,11,9,10]},tw=[2,3,7,10],tC=[4,5,6],tO={'"':'"',"'":"'","/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},tA=["applicationId","service","env","version","sessionSampleRate","sessionReplaySampleRate","defaultPrivacyLevel","enablePrivacyForActionName","traceSampleRate","trackSessionAcrossSubdomains","allowedTracingUrls","allowedTrackingOrigins"];async function tI(e,t){let r,n,i=(r={fetch:{}},{get:()=>r,increment:(e,t)=>{r[e]||(r[e]={}),r[e][t]||(r[e][t]=0),r[e][t]=r[e][t]+1}}),o=await tx(e);return o.ok?(i.increment("fetch","success"),n=function(e,t,r,n){let i={...e};return tA.forEach(e=>{e in t&&(i[e]=o(t[e]))}),Object.keys(r).forEach(e=>{var n;void 0!==t[e]&&(n=r[e],t[e].forEach(({key:e,value:t})=>{n.setContextProperty(e,o(t))}))}),i;function o(e){if(Array.isArray(e))return e.map(o);if("object"==typeof(t=e)&&null!==t){if("rcSerializedType"in e){let i=e.rcSerializedType;switch(i){case"string":return e.value;case"regex":return tN(e.value);case"dynamic":var t,r=e;let o,a=r.strategy;switch(a){case"cookie":o=function({name:e}){let t=el(e);return n.increment("cookie",void 0!==t?"success":"missing"),t}(r);break;case"dom":o=function({selector:e,attribute:t}){var r,i;let o;try{o=document.querySelector(e)}catch(t){O.display.error(`Invalid selector in the remote configuration: '${e}'`),n.increment("dom","failure");return}if(!o)return void n.increment("dom","missing");if(r=o,i=t,"password"===r.getAttribute("type")&&"value"===i){O.display.error(`Forbidden element selected by the remote configuration: '${e}'`),n.increment("dom","failure");return}let a=void 0!==t?o.getAttribute(t):o.textContent;return null===a?void n.increment("dom","missing"):(n.increment("dom","success"),a)}(r);break;case"js":o=function({path:e}){let t=window,r=function(e){let t,r=[],n=0,i={quote:void 0,escapeSequence:void 0},o="";for(let l of e){if(!(t=tT[n].find(e=>t_[e](l,i))))return[];if(void 0!==i.escapeSequence&&12!==t){var a,s;if(a=i.escapeSequence,!("\"'/\\bfnrt".includes(a)||a.startsWith("u")&&5===a.length))return[];o+=(s=i.escapeSequence).startsWith("u")?String.fromCharCode(parseInt(s.slice(1),16)):tO[s],i.escapeSequence=void 0}tw.includes(t)?o+=l:tC.includes(t)&&""!==o?(r.push(o),o=""):12===t?i.escapeSequence=i.escapeSequence?`${i.escapeSequence}${l}`:l:8===t?i.quote=l:9===t&&(i.quote=void 0),n=t}return tT[n].includes(1)?(""!==o&&r.push(o),r):[]}(e);if(0===r.length){O.display.error(`Invalid JSON path in the remote configuration: '${e}'`),n.increment("js","failure");return}for(let i of r){if(!(i in t))return void n.increment("js","missing");try{t=t[i]}catch(t){O.display.error(`Error accessing: '${e}'`,t),n.increment("js","failure");return}}return n.increment("js","success"),t}(r);break;default:O.display.error(`Unsupported remote configuration: "strategy": "${a}"`);return}let s=r.extractor;return void 0!==s&&"string"==typeof o?function(e,t){let r=tN(e.value);if(void 0===r)return;let n=r.exec(t);if(null===n)return;let[i,o]=n;return o||i}(s,o):o;default:O.display.error(`Unsupported remote configuration: "rcSerializedType": "${i}"`);return}}return(0,eS.mapValues)(e,o)}return e}}(e,o.value,t,i)):(i.increment("fetch","failure"),O.display.error(o.error)),(0,y.addTelemetryMetrics)("remote configuration metrics",{metrics:i.get()}),n}function tN(e){try{return new RegExp(e)}catch(t){O.display.error(`Invalid regex in the remote configuration: '${e}'`)}}async function tx(e){let t;try{var r;t=await fetch((r=e).remoteConfigurationProxy?r.remoteConfigurationProxy:`https://sdk-configuration.${ta("rum",r)}/v1/${encodeURIComponent(r.remoteConfigurationId)}.json`)}catch(e){t=void 0}if(!t||!t.ok)return{ok:!1,error:Error("Error fetching the remote configuration.")};let n=await t.json();return n.rum?{ok:!0,value:n.rum}:{ok:!1,error:Error("No remote configuration for RUM.")}}function tR(e,t,r){e.changeObservable.subscribe(()=>{let n=e.getContext();r.add(e=>e[t].setContext(n))})}function tk(e,t,r,n={}){var i;let o,a={tryToInit(e){i||(i=e)},update(e){i=e,o.notify()},isGranted:()=>i===N.GRANTED,observable:o=new I.Observable},s={vitalsByName:new Map,vitalsByReference:new WeakMap},l=function(e=function(){return new I.Observable(e=>{var t,r;let n=(t,r)=>{let n=(0,P.computeRawError)({stackTrace:r,originalError:t,startClocks:(0,S.clocksNow)(),nonErrorPrefix:"Uncaught",source:$.ErrorSource.SOURCE,handling:"unhandled"});e.notify(n)},{stop:i}=(t=n,D((0,U.getGlobalObject)(),"onerror",({parameters:[e,r,n,i,o]})=>{let a;(0,P.isError)(o)||(a=(0,L.computeStackTraceFromOnErrorMessage)(e,r,n,i)),t(null!=o?o:e,a)})),{stop:o}=(r=n,D((0,U.getGlobalObject)(),"onunhandledrejection",({parameters:[e]})=>{r(e.reason||"Empty reason")}));return()=>{i(),o()}})}){let t=new I.BufferedObservable(500),r=e().subscribe(e=>{t.notify({type:0,error:e})});return{observable:t,stop:()=>{r.unsubscribe()}}}().observable,u=function({ignoreInitIfSyntheticsWillInjectRum:e=!0,startDeflateWorker:t},r,n,i){let o,a,s,l,u,c=(u=[],{add:e=>{u.push(e)>500&&u.splice(0,1)},remove:e=>{ee(u,e)},drain:e=>{u.forEach(t=>t(e)),u.length=0}}),d=ex();tR(d,v.CustomerContextKey.globalContext,c);let p=eR();tR(p,v.CustomerContextKey.userContext,c);let f=eN();tR(f,v.CustomerContextKey.accountContext,c);let m=r.observable.subscribe(b),g={};function b(){let e;if(!s||!l||!r.isGranted())return;if(m.unsubscribe(),l.trackViewsManually){if(!o)return;c.remove(o.callback),e=o.options}let t=i(l,a,e);c.drain(t)}function h(e,n){var i,o,u,c,d,p,f,m;let g,v,h=(0,er.canUseEventBridge)();if(h&&(e={...p=e,applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:null!=(f=p.defaultPrivacyLevel)?f:null==(m=(0,er.getEventBridge)())?void 0:m.getPrivacyLevel()}),s=e,(0,y.addTelemetryConfiguration)((g={session_sample_rate:(u=i=e).sessionSampleRate,telemetry_sample_rate:u.telemetrySampleRate,telemetry_configuration_sample_rate:u.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:u.telemetryUsageSampleRate,use_before_send:!!u.beforeSend,use_partitioned_cross_site_session_cookie:u.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:u.useSecureSessionCookie,use_proxy:!!u.proxy,silent_multiple_init:u.silentMultipleInit,track_session_across_subdomains:u.trackSessionAcrossSubdomains,track_anonymous_user:u.trackAnonymousUser,session_persistence:u.sessionPersistence,allow_fallback_to_local_storage:!!u.allowFallbackToLocalStorage,store_contexts_across_pages:!!u.storeContextsAcrossPages,allow_untrusted_events:!!u.allowUntrustedEvents,tracking_consent:u.trackingConsent,use_allowed_tracking_origins:Array.isArray(u.allowedTrackingOrigins),beta_encode_cookie_options:u.betaEncodeCookieOptions,source:u.source,sdk_version:u.sdkVersion,variant:u.variant},{session_replay_sample_rate:i.sessionReplaySampleRate,start_session_replay_recording_manually:i.startSessionReplayRecordingManually,trace_sample_rate:i.traceSampleRate,trace_context_injection:i.traceContextInjection,propagate_trace_baggage:i.propagateTraceBaggage,action_name_attribute:i.actionNameAttribute,use_allowed_tracing_urls:et(i.allowedTracingUrls),use_allowed_graph_ql_urls:et(i.allowedGraphQlUrls),use_track_graph_ql_payload:et(c=i.allowedGraphQlUrls)&&c.some(e=>"object"==typeof e&&"trackPayload"in e&&!!e.trackPayload),use_track_graph_ql_response_errors:et(d=i.allowedGraphQlUrls)&&d.some(e=>"object"==typeof e&&"trackResponseErrors"in e&&!!e.trackResponseErrors),selected_tracing_propagators:(v=new Set,et(i.allowedTracingUrls)&&i.allowedTracingUrls.forEach(e=>{ek(e)?ty.forEach(e=>v.add(e)):"object"===(0,eC.getType)(e)&&Array.isArray(e.propagatorTypes)&&e.propagatorTypes.forEach(e=>v.add(e))}),Array.from(v)),default_privacy_level:i.defaultPrivacyLevel,enable_privacy_for_action_name:i.enablePrivacyForActionName,use_excluded_activity_urls:et(i.excludedActivityUrls),use_worker_url:!!i.workerUrl,compress_intake_requests:i.compressIntakeRequests,track_views_manually:i.trackViewsManually,track_user_interactions:i.trackUserInteractions,track_resources:i.trackResources,track_long_task:i.trackLongTasks,track_bfcache_views:i.trackBfcacheViews,track_early_requests:i.trackEarlyRequests,plugins:null==(o=i.plugins)?void 0:o.map(e=>{var t;return{name:e.name,...null==(t=e.getConfigurationTelemetry)?void 0:t.call(e)}}),track_feature_flags_for_events:i.trackFeatureFlagsForEvents,remote_configuration_id:i.remoteConfigurationId,profiling_sample_rate:i.profilingSampleRate,use_remote_configuration_proxy:!!i.remoteConfigurationProxy,...g})),l)return void A("DD_RUM",e);let E=function(e,t){var r,n,i,o,a,s,l;if(void 0===e.trackFeatureFlagsForEvents||Array.isArray(e.trackFeatureFlagsForEvents)||O.display.warn("trackFeatureFlagsForEvents should be an array"),!e.applicationId)return void O.display.error("Application ID is not configured, no RUM data will be collected.");if(!tc(e.sessionReplaySampleRate,"Session Replay")||!tc(e.traceSampleRate,"Trace"))return;if(void 0!==e.excludedActivityUrls&&!Array.isArray(e.excludedActivityUrls))return void O.display.error("Excluded Activity Urls should be an array");let u=function(e){if(void 0===e.allowedTracingUrls)return[];if(!Array.isArray(e.allowedTracingUrls))return void O.display.error("Allowed Tracing URLs should be an array");if(0!==e.allowedTracingUrls.length&&void 0===e.service)return void O.display.error("Service needs to be configured when tracing is enabled");let t=[];return e.allowedTracingUrls.forEach(e=>{if(ek(e))t.push({match:e,propagatorTypes:ty});else"object"===(0,eC.getType)(e)&&ek(e.match)&&Array.isArray(e.propagatorTypes)?t.push(e):O.display.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",e)}),t}(e);if(!u)return;let c=function(e,t){var r,n,i,o,a,s,l,u,c,d,p,f,m;if(!e||!e.clientToken)return void O.display.error("Client Token is not configured, we will not send any data.");if(void 0!==e.allowedTrackingOrigins&&!Array.isArray(e.allowedTrackingOrigins))return void O.display.error("Allowed Tracking Origins must be an array");if((!(p=e.site)||"string"!=typeof p||/(datadog|ddog|datad0g|dd0g)/.test(p)||(O.display.error(`Site should be a valid Datadog site. ${O.MORE_DETAILS} ${O.DOCS_ORIGIN}/getting_started/site/.`),0))&&tc(e.sessionSampleRate,"Session")&&tc(e.telemetrySampleRate,"Telemetry")&&tc(e.telemetryConfigurationSampleRate,"Telemetry Configuration")&&tc(e.telemetryUsageSampleRate,"Telemetry Usage")&&tu(e.version,"Version")&&tu(e.env,"Env")&&tu(e.service,"Service")&&function(e,t,r="undefined"!=typeof location?location.origin:""){let n=e.allowedTrackingOrigins;if(!n)return!function(e,t=""){return!tn(e)&&tn(t.split("\n").filter(e=>{let t=e.trim();return t.length&&/^at\s+|@/.test(t)})[1]||"")}(r,t)||(O.display.error("Running the Browser SDK in a Web extension content script is forbidden unless the `allowedTrackingOrigins` option is provided."),!1);let i=eD(n,r);return i||O.display.error("SDK initialized on a non-allowed domain."),i}(e,null!=t?t:"")){let t,p,g;if(void 0!==e.trackingConsent&&!(0,eS.objectHasValue)(N,e.trackingConsent))return void O.display.error('Tracking Consent should be either "granted" or "not-granted"');return{beforeSend:e.beforeSend&&(0,eM.catchUserErrors)(e.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:U.isWorkerEnvironment?void 0:function(e){switch(e.sessionPersistence){case eK:return eQ(e);case eG:return e3();case void 0:{let t=eQ(e);return!t&&e.allowFallbackToLocalStorage&&(t=e3()),t}default:O.display.error(`Invalid session persistence '${String(e.sessionPersistence)}'`)}}(e),sessionSampleRate:null!=(r=e.sessionSampleRate)?r:100,telemetrySampleRate:null!=(n=e.telemetrySampleRate)?n:20,telemetryConfigurationSampleRate:null!=(i=e.telemetryConfigurationSampleRate)?i:5,telemetryUsageSampleRate:null!=(o=e.telemetryUsageSampleRate)?o:5,service:null!=(a=e.service)?a:void 0,env:null!=(s=e.env)?s:void 0,version:null!=(l=e.version)?l:void 0,datacenter:null!=(u=e.datacenter)?u:void 0,silentMultipleInit:!!e.silentMultipleInit,allowUntrustedEvents:!!e.allowUntrustedEvents,trackingConsent:null!=(c=e.trackingConsent)?c:N.GRANTED,trackAnonymousUser:null==(d=e.trackAnonymousUser)||d,storeContextsAcrossPages:!!e.storeContextsAcrossPages,betaEncodeCookieOptions:!!e.betaEncodeCookieOptions,variant:e.variant,sdkVersion:e.sdkVersion,...(t=e.site||ti.INTAKE_SITE_US1,p="flutter"===(f=e.source)||"unity"===f?f:"browser",g={logsEndpointBuilder:to(m={...e,site:t,source:p},"logs"),rumEndpointBuilder:to(m,"rum"),profilingEndpointBuilder:to(m,"profile"),sessionReplayEndpointBuilder:to(m,"replay"),exposuresEndpointBuilder:to(m,"exposures"),flagEvaluationEndpointBuilder:to(m,"flagevaluation")},{replica:function(e){if(!e.replica)return;let t={...e,site:ti.INTAKE_SITE_US1,clientToken:e.replica.clientToken};return{logsEndpointBuilder:to(t,"logs"),rumEndpointBuilder:to(t,"rum",[`application.id=${e.replica.applicationId}`])}}({...e,site:t,source:p}),site:t,source:p,...g})}}}(e,t),d=function(e){if(!e.allowedGraphQlUrls)return[];if(!Array.isArray(e.allowedGraphQlUrls))return O.display.warn("allowedGraphQlUrls should be an array"),[];let t=[];return e.allowedGraphQlUrls.forEach(e=>{ek(e)?t.push({match:e,trackPayload:!1,trackResponseErrors:!1}):e&&"object"==typeof e&&"match"in e&&ek(e.match)&&t.push({match:e.match,trackPayload:!!e.trackPayload,trackResponseErrors:!!e.trackResponseErrors})}),t}(e);if(!c)return;let p=null!=(r=e.sessionReplaySampleRate)?r:0;return{applicationId:e.applicationId,actionNameAttribute:e.actionNameAttribute,sessionReplaySampleRate:p,startSessionReplayRecordingManually:void 0!==e.startSessionReplayRecordingManually?!!e.startSessionReplayRecordingManually:0===p,traceSampleRate:null!=(n=e.traceSampleRate)?n:100,rulePsr:(0,eL.isNumber)(e.traceSampleRate)?e.traceSampleRate/100:void 0,allowedTracingUrls:u,excludedActivityUrls:null!=(i=e.excludedActivityUrls)?i:[],workerUrl:e.workerUrl,compressIntakeRequests:!!e.compressIntakeRequests,trackUserInteractions:!!(null==(o=e.trackUserInteractions)||o),trackViewsManually:!!e.trackViewsManually,trackResources:!!(null==(a=e.trackResources)||a),trackLongTasks:!!(null==(s=e.trackLongTasks)||s),trackBfcacheViews:!!e.trackBfcacheViews,trackEarlyRequests:!!e.trackEarlyRequests,subdomain:e.subdomain,defaultPrivacyLevel:(0,eS.objectHasValue)(ts,e.defaultPrivacyLevel)?e.defaultPrivacyLevel:ts.MASK,enablePrivacyForActionName:!!e.enablePrivacyForActionName,traceContextInjection:(0,eS.objectHasValue)(tl,e.traceContextInjection)?e.traceContextInjection:tl.SAMPLED,plugins:e.plugins||[],trackFeatureFlagsForEvents:e.trackFeatureFlagsForEvents||[],profilingSampleRate:null!=(l=e.profilingSampleRate)?l:0,propagateTraceBaggage:!!e.propagateTraceBaggage,allowedGraphQlUrls:d,...c}}(e,n);if(E){if(!h&&!E.sessionStoreStrategyType)return void O.display.warn("No storage available for session. We will not send any data.");if(E.compressIntakeRequests&&!h&&t&&!(a=t(E,"Datadog RUM",k.noop)))return;l=E,eb().subscribe(k.noop),r.tryToInit(E.trackingConsent),b()}}let _=e=>{c.add(t=>t.addDurationVital(e))};return{init(t,r,n){t?((0,G.initFeatureFlags)(t.enableExperimentalFeatures),s=t,e&&ed()||(Q(t.plugins,"onInit",{initConfiguration:t,publicApi:r}),t.remoteConfigurationId?tI(t,{user:p,context:d}).then(e=>{e&&h(e,n)}).catch(E.monitorError):h(t,n))):O.display.error("Missing configuration")},get initConfiguration(){return s},getInternalContext:k.noop,stopSession:k.noop,addTiming(e,t=(0,S.timeStampNow)()){c.add(r=>r.addTiming(e,t))},startView(e,t=(0,S.clocksNow)()){let r=r=>{r.startView(e,t)};c.add(r),o||(o={options:e,callback:r},b())},setViewName(e){c.add(t=>t.setViewName(e))},setViewContext(e){c.add(t=>t.setViewContext(e))},setViewContextProperty(e,t){c.add(r=>r.setViewContextProperty(e,t))},getViewContext:()=>g,globalContext:d,userContext:p,accountContext:f,addAction(e){c.add(t=>t.addAction(e))},addError(e){c.add(t=>t.addError(e))},addFeatureFlagEvaluation(e,t){c.add(r=>r.addFeatureFlagEvaluation(e,t))},startDurationVital:(e,t)=>Y(n,e,t),stopDurationVital(e,t){X(_,n,e,t)},addDurationVital:_,addOperationStepVital:(e,t,r,n)=>{c.add(i=>i.addOperationStepVital((0,T.sanitize)(e),t,(0,T.sanitize)(r),(0,T.sanitize)(n)))}}}(n,a,s,(i,o,c)=>{var d,p;let f=o&&n.createDeflateEncoder?e=>n.createDeflateEncoder(i,o,e):C,m=e(i,t,r,c,f,a,s,l,n.sdkName);return t.onRumStart(m.lifeCycle,i,m.session,m.viewHistory,o,m.telemetry),r.onRumStart(m.lifeCycle,m.hooks,i,m.session,m.viewHistory,m.longTaskContexts,f),d=u,p=m,u={init:e=>{A("DD_RUM",e)},initConfiguration:d.initConfiguration,...p},Q(i.plugins,"onRumStart",{strategy:u,addEvent:m.addEvent}),m}),c=()=>u,d=(0,E.monitor)(e=>{u.startView("object"==typeof e?e:{name:e}),(0,y.addTelemetryUsage)({feature:"start-view"})}),p=(0,h.makePublicApi)({init:e=>{let t=Error().stack;(0,E.callMonitored)(()=>u.init(e,p,t))},setTrackingConsent:(0,E.monitor)(e=>{a.update(e),(0,y.addTelemetryUsage)({feature:"set-tracking-consent",tracking_consent:e})}),setViewName:(0,E.monitor)(e=>{u.setViewName(e),(0,y.addTelemetryUsage)({feature:"set-view-name"})}),setViewContext:(0,E.monitor)(e=>{u.setViewContext(e),(0,y.addTelemetryUsage)({feature:"set-view-context"})}),setViewContextProperty:(0,E.monitor)((e,t)=>{u.setViewContextProperty(e,t),(0,y.addTelemetryUsage)({feature:"set-view-context-property"})}),getViewContext:(0,E.monitor)(()=>((0,y.addTelemetryUsage)({feature:"set-view-context-property"}),u.getViewContext())),getInternalContext:(0,E.monitor)(e=>u.getInternalContext(e)),getInitConfiguration:(0,E.monitor)(()=>(0,b.deepClone)(u.initConfiguration)),addAction:(e,t)=>{let r=(0,_.createHandlingStack)("action");(0,E.callMonitored)(()=>{u.addAction({name:(0,T.sanitize)(e),context:(0,T.sanitize)(t),startClocks:(0,S.clocksNow)(),type:j.CUSTOM,handlingStack:r}),(0,y.addTelemetryUsage)({feature:"add-action"})})},addError:(e,t)=>{let r=(0,_.createHandlingStack)("error");(0,E.callMonitored)(()=>{u.addError({error:e,handlingStack:r,context:(0,T.sanitize)(t),startClocks:(0,S.clocksNow)()}),(0,y.addTelemetryUsage)({feature:"add-error"})})},addTiming:(0,E.monitor)((e,t)=>{u.addTiming((0,T.sanitize)(e),t)}),setGlobalContext:x(c,v.CustomerContextKey.globalContext,v.ContextManagerMethod.setContext,"set-global-context"),getGlobalContext:x(c,v.CustomerContextKey.globalContext,v.ContextManagerMethod.getContext,"get-global-context"),setGlobalContextProperty:x(c,v.CustomerContextKey.globalContext,v.ContextManagerMethod.setContextProperty,"set-global-context-property"),removeGlobalContextProperty:x(c,v.CustomerContextKey.globalContext,v.ContextManagerMethod.removeContextProperty,"remove-global-context-property"),clearGlobalContext:x(c,v.CustomerContextKey.globalContext,v.ContextManagerMethod.clearContext,"clear-global-context"),setUser:x(c,v.CustomerContextKey.userContext,v.ContextManagerMethod.setContext,"set-user"),getUser:x(c,v.CustomerContextKey.userContext,v.ContextManagerMethod.getContext,"get-user"),setUserProperty:x(c,v.CustomerContextKey.userContext,v.ContextManagerMethod.setContextProperty,"set-user-property"),removeUserProperty:x(c,v.CustomerContextKey.userContext,v.ContextManagerMethod.removeContextProperty,"remove-user-property"),clearUser:x(c,v.CustomerContextKey.userContext,v.ContextManagerMethod.clearContext,"clear-user"),setAccount:x(c,v.CustomerContextKey.accountContext,v.ContextManagerMethod.setContext,"set-account"),getAccount:x(c,v.CustomerContextKey.accountContext,v.ContextManagerMethod.getContext,"get-account"),setAccountProperty:x(c,v.CustomerContextKey.accountContext,v.ContextManagerMethod.setContextProperty,"set-account-property"),removeAccountProperty:x(c,v.CustomerContextKey.accountContext,v.ContextManagerMethod.removeContextProperty,"remove-account-property"),clearAccount:x(c,v.CustomerContextKey.accountContext,v.ContextManagerMethod.clearContext,"clear-account"),startView:d,stopSession:(0,E.monitor)(()=>{u.stopSession(),(0,y.addTelemetryUsage)({feature:"stop-session"})}),addFeatureFlagEvaluation:(0,E.monitor)((e,t)=>{u.addFeatureFlagEvaluation((0,T.sanitize)(e),(0,T.sanitize)(t)),(0,y.addTelemetryUsage)({feature:"add-feature-flag-evaluation"})}),getSessionReplayLink:(0,E.monitor)(()=>t.getSessionReplayLink()),startSessionReplayRecording:(0,E.monitor)(e=>{t.start(e),(0,y.addTelemetryUsage)({feature:"start-session-replay-recording",force:e&&e.force})}),stopSessionReplayRecording:(0,E.monitor)(()=>t.stop()),addDurationVital:(0,E.monitor)((e,t)=>{(0,y.addTelemetryUsage)({feature:"add-duration-vital"}),u.addDurationVital({name:(0,T.sanitize)(e),type:K.DURATION,startClocks:(0,S.timeStampToClocks)(t.startTime),duration:t.duration,context:(0,T.sanitize)(t&&t.context),description:(0,T.sanitize)(t&&t.description)})}),startDurationVital:(0,E.monitor)((e,t)=>((0,y.addTelemetryUsage)({feature:"start-duration-vital"}),u.startDurationVital((0,T.sanitize)(e),{context:(0,T.sanitize)(t&&t.context),description:(0,T.sanitize)(t&&t.description)}))),stopDurationVital:(0,E.monitor)((e,t)=>{(0,y.addTelemetryUsage)({feature:"stop-duration-vital"}),u.stopDurationVital("string"==typeof e?(0,T.sanitize)(e):e,{context:(0,T.sanitize)(t&&t.context),description:(0,T.sanitize)(t&&t.description)})}),startFeatureOperation:(0,E.monitor)((e,t)=>{(0,y.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"start"}),u.addOperationStepVital(e,"start",t)}),succeedFeatureOperation:(0,E.monitor)((e,t)=>{(0,y.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"succeed"}),u.addOperationStepVital(e,"end",t)}),failFeatureOperation:(0,E.monitor)((e,t,r)=>{(0,y.addTelemetryUsage)({feature:"add-operation-step-vital",action_type:"fail"}),u.addOperationStepVital(e,"end",r,t)})});return p}e.s(["makeRumPublicApi",()=>tk],838644);var tD=e.i(466556),tM=e.i(725771),tL=e.i(918556);function tU(){let e=tP();return new I.Observable(t=>{if(!e)return;let r=new e((0,E.monitor)(e=>t.notify(e)));return r.observe(document,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),()=>r.disconnect()})}function tP(){let e,t=window;if(t.Zone&&(e=(0,tL.getZoneJsOriginalValue)(t,"MutationObserver"),t.MutationObserver&&e===t.MutationObserver)){let r=new t.MutationObserver(k.noop),n=(0,tL.getZoneJsOriginalValue)(r,"originalInstance");e=n&&n.constructor}return e||(e=t.MutationObserver),e}e.s(["createDOMMutationObservable",()=>tU,"getMutationObserverConstructor",()=>tP],323038);let t$=class{constructor(){this.callbacks={}}notify(e,t){let r=this.callbacks[e];r&&r.forEach(e=>e(t))}subscribe(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:()=>{this.callbacks[e]=this.callbacks[e].filter(e=>t!==e)}}}},tV=1/0,tB=S.ONE_MINUTE,tF=null,tj=new Set;function tq({expireDelay:e,maxEntries:t}){let r=[];tF||(tF=(0,R.setInterval)(()=>void tj.forEach(e=>e()),tB));let n=()=>{let t=(0,S.relativeNow)()-e;for(;r.length>0&&r[r.length-1].endTime<t;)r.pop()};return tj.add(n),{add:function(e,n){let i={value:e,startTime:n,endTime:tV,remove:()=>{ee(r,i)},close:e=>{i.endTime=e}};return t&&r.length>=t&&r.pop(),r.unshift(i),i},find:function(e=tV,t={returnInactive:!1}){for(let n of r)if(n.startTime<=e){if(t.returnInactive||e<=n.endTime)return n.value;break}},closeActive:function(e){let t=r[0];t&&t.endTime===tV&&t.close(e)},findAll:function(e=tV,t=0){let n=(0,S.addDuration)(e,t);return r.filter(t=>t.startTime<=n&&e<=t.endTime).map(e=>e.value)},reset:function(){r=[]},stop:function(){tj.delete(n),0===tj.size&&tF&&((0,R.clearInterval)(tF),tF=null)}}}let tK="fetch",tG="other",tH=new WeakMap;function tz({target:e,parameters:[t,r]}){tH.set(e,{state:"open",method:String(t).toUpperCase(),url:en(String(r))})}function tW({target:e}){let t=tH.get(e);t&&(t.isAborted=!0)}let tJ="initial_document",tY=[["document",e=>tJ===e],["xhr",e=>"xmlhttprequest"===e],[tK,e=>"fetch"===e],["beacon",e=>"beacon"===e],["css",(e,t)=>/\.css$/i.test(t)],["js",(e,t)=>/\.js$/i.test(t)],["image",(e,t)=>["image","img","icon"].includes(e)||null!==/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(t)],["font",(e,t)=>null!==/\.(woff|eot|woff2|ttf)$/i.exec(t)],["media",(e,t)=>["audio","video"].includes(e)||null!==/\.(mp3|mp4)$/i.exec(t)]];function tX(e){let t=e.name;if(!ei(t))return tG;let r=eo(t);for(let[t,n]of tY)if(n(e.initiatorType,r))return t;return tG}function tZ(...e){for(let t=1;t<e.length;t+=1)if(e[t-1]>e[t])return!1;return!0}function tQ(e){return"xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType}function t0(e){let{duration:t,startTime:r,responseEnd:n}=e;return 0===t&&r<n?(0,S.elapsed)(r,n):t}function t1(e){if(!t3(e))return;let{startTime:t,fetchStart:r,workerStart:n,redirectStart:i,redirectEnd:o,domainLookupStart:a,domainLookupEnd:s,connectStart:l,secureConnectionStart:u,connectEnd:c,requestStart:d,responseStart:p,responseEnd:f}=e,m={download:t5(t,p,f),first_byte:t5(t,d,p)};return 0<n&&n<r&&(m.worker=t5(t,n,r)),r<c&&(m.connect=t5(t,l,c),l<=u&&u<=c&&(m.ssl=t5(t,u,c))),r<s&&(m.dns=t5(t,a,s)),t<o&&(m.redirect=t5(t,i,o)),m}function t2(e){return e.duration>=0}function t3(e){var t;let r=tZ(e.startTime,e.fetchStart,e.domainLookupStart,e.domainLookupEnd,e.connectStart,e.connectEnd,e.requestStart,e.responseStart,e.responseEnd),n=!((t=e).redirectEnd>t.startTime)||tZ(e.startTime,e.redirectStart,e.redirectEnd,e.fetchStart);return r&&n}function t5(e,t,r){if(e<=t&&t<=r)return{duration:(0,S.toServerDuration)((0,S.elapsed)(t,r)),start:(0,S.toServerDuration)((0,S.elapsed)(e,t))}}function t6(e){return""===e.nextHopProtocol?void 0:e.nextHopProtocol}function t4(e){return""===e.deliveryType?"other":e.deliveryType}function t9(e){if(e.startTime<e.responseStart){let{encodedBodySize:t,decodedBodySize:r,transferSize:n}=e;return{size:r,encoded_body_size:t,decoded_body_size:r,transfer_size:n}}return{size:void 0,encoded_body_size:void 0,decoded_body_size:void 0,transfer_size:void 0}}function t8(e){return e&&(!ti.INTAKE_URL_PARAMETERS.every(t=>e.includes(t))||(0,G.isExperimentalFeatureEnabled)(G.ExperimentalFeature.TRACK_INTAKE_REQUESTS))}let t7=/data:(.+)?(;base64)?,/g;function re(e,t=24e3){if(e.length<=t||!e.startsWith("data:"))return e;let r=e.substring(0,100).match(t7);return r?`${r[0]}[...]`:e}e.s(["FAKE_INITIAL_DOCUMENT",0,tJ,"computeResourceEntryDeliveryType",()=>t4,"computeResourceEntryDetails",()=>t1,"computeResourceEntryDuration",()=>t0,"computeResourceEntryProtocol",()=>t6,"computeResourceEntrySize",()=>t9,"computeResourceEntryType",()=>tX,"hasValidResourceEntryDuration",()=>t2,"hasValidResourceEntryTimings",()=>t3,"isAllowedRequestUrl",()=>t8,"isResourceEntryRequestType",()=>tQ,"sanitizeIfLongDataUrl",()=>re],813693);let rt=32*w.ONE_KIBI_BYTE;function rr(e,t){return t.allowedGraphQlUrls.find(t=>eD([t.match],e))}let rn=1;function ri(){let e=rn;return rn+=1,e}function ro(e){return(0,eL.isNumber)(e)&&e<0?void 0:e}function ra({lifeCycle:e,isChildEvent:t,onChange:r=k.noop}){let n={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0},i=e.subscribe(13,e=>{var i;if("view"!==e.type&&"vital"!==e.type&&t(e))switch(e.type){case V.ERROR:n.errorCount+=1,r();break;case V.ACTION:n.actionCount+=1,e.action.frustration&&(n.frustrationCount+=e.action.frustration.type.length),r();break;case V.LONG_TASK:n.longTaskCount+=1,r();break;case V.RESOURCE:(null==(i=e._dd)?void 0:i.discarded)||(n.resourceCount+=1,r())}});return{stop:()=>{i.unsubscribe()},eventCounts:n}}function rs(e,t){return new I.Observable(r=>{var n;let i,o;if(!window.PerformanceObserver)return;let a=e=>{let t=e.filter(e=>{var t;return!((t=e).entryType===g.RESOURCE&&(!t8(t.name)||!t2(t)))});t.length>0&&r.notify(t)},s=!0,u=new PerformanceObserver((0,E.monitor)(e=>{s?i=(0,R.setTimeout)(()=>a(e.getEntries())):a(e.getEntries())}));try{u.observe(t)}catch(e){if([g.RESOURCE,g.NAVIGATION,g.LONG_TASK,g.PAINT].includes(t.type)){t.buffered&&(i=(0,R.setTimeout)(()=>a(performance.getEntriesByType(t.type))));try{u.observe({entryTypes:[t.type]})}catch(e){return}}}return s=!1,n=e,!l&&void 0!==window.performance&&"getEntries"in performance&&"addEventListener"in performance&&(l=(0,eE.addEventListener)(n,performance,"resourcetimingbufferfull",()=>{performance.clearResourceTimings()})),rl(g.FIRST_INPUT)||t.type!==g.FIRST_INPUT||({stop:o}=function(e,t){let r=(0,S.dateNow)(),n=!1,{stop:i}=(0,eE.addEventListeners)(e,window,["click","mousedown","keydown","touchstart","pointerdown"],t=>{var r,n;if(!t.cancelable)return;let i={entryType:"first-input",processingStart:(0,S.relativeNow)(),processingEnd:(0,S.relativeNow)(),startTime:t.timeStamp,duration:0,name:"",cancelable:!1,target:null,toJSON:()=>({})};"pointerdown"===t.type?(r=e,n=i,(0,eE.addEventListeners)(r,window,["pointerup","pointercancel"],e=>{"pointerup"===e.type&&o(n)},{once:!0})):o(i)},{passive:!0,capture:!0});return{stop:i};function o(e){if(!n){n=!0,i();let o=e.processingStart-e.startTime;o>=0&&o<(0,S.dateNow)()-r&&t(e)}}}(e,e=>{a([e])})),()=>{u.disconnect(),o&&o(),(0,R.clearTimeout)(i)}})}function rl(e){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes(e)}function ru(e){return e.nodeType===Node.TEXT_NODE}function rc(e){return e.nodeType===Node.COMMENT_NODE}function rd(e){return e.nodeType===Node.ELEMENT_NODE}function rp(e){return rd(e)&&!!e.shadowRoot}function rf(e){return!!e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&rd(e.host)}function rm(e){return e.childNodes.length>0||rp(e)}function rg(e,t){let r=e.firstChild;for(;r;)t(r),r=r.nextSibling;rp(e)&&t(e.shadowRoot)}function rv(e){return rf(e)?e.host:e.parentNode}(m=g||(g={})).EVENT="event",m.FIRST_INPUT="first-input",m.LARGEST_CONTENTFUL_PAINT="largest-contentful-paint",m.LAYOUT_SHIFT="layout-shift",m.LONG_TASK="longtask",m.LONG_ANIMATION_FRAME="long-animation-frame",m.NAVIGATION="navigation",m.PAINT="paint",m.RESOURCE="resource",m.VISIBILITY_STATE="visibility-state",e.s(["forEachChildNodes",()=>rg,"getParentNode",()=>rv,"hasChildNodes",()=>rm,"isCommentNode",()=>rc,"isElementNode",()=>rd,"isNodeShadowHost",()=>rp,"isNodeShadowRoot",()=>rf,"isTextNode",()=>ru],835158);let ry="data-dd-excluded-activity-mutations";function rb(e,t,r){let n,i=!1,o=(0,R.setTimeout)((0,E.monitor)(()=>u({hadActivity:!1})),100),a=void 0!==r?(0,R.setTimeout)((0,E.monitor)(()=>u({hadActivity:!0,end:(0,S.timeStampNow)()})),r):void 0,s=e.subscribe(({isBusy:e})=>{(0,R.clearTimeout)(o),(0,R.clearTimeout)(n);let t=(0,S.timeStampNow)();e||(n=(0,R.setTimeout)((0,E.monitor)(()=>u({hadActivity:!0,end:t})),100))}),l=()=>{i=!0,(0,R.clearTimeout)(o),(0,R.clearTimeout)(n),(0,R.clearTimeout)(a),s.unsubscribe()};function u(e){i||(l(),t(e))}return{stop:l}}function rh(e,t,r,n){return new I.Observable(i=>{let o,a=[],s=0;return a.push(t.subscribe(e=>{e.every(rS)||l()}),r.subscribe(l),rs(n,{type:g.RESOURCE}).subscribe(e=>{e.some(e=>!rE(n,e.name))&&l()}),e.subscribe(7,e=>{rE(n,e.url)||(void 0===o&&(o=e.requestIndex),s+=1,l())}),e.subscribe(8,e=>{rE(n,e.url)||void 0===o||e.requestIndex<o||(s-=1,l())})),()=>{a.forEach(e=>e.unsubscribe())};function l(){i.notify({isBusy:s>0})}})}function rE(e,t){return eD(e.excludedActivityUrls,t)}function rS(e){let t="characterData"===e.type?e.target.parentElement:e.target;return!!(t&&rd(t)&&t.matches(`[${ry}], [${ry}] *`))}let r_="data-dd-action-name",rT="Masked Element",rw=[r_,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"],rC=[rN,function(e){if(e.id&&!rI(e.id))return`#${CSS.escape(e.id)}`}],rO=[rN,function(e){if("BODY"===e.tagName)return;let t=e.classList;for(let r=0;r<t.length;r+=1){let n=t[r];if(!rI(n))return`${CSS.escape(e.tagName)}.${CSS.escape(n)}`}},function(e){return CSS.escape(e.tagName)}];function rA(e,t){let r;if(!e.isConnected)return;let n=e;for(;n&&"HTML"!==n.nodeName;){let e=rx(n,rC,rR,t,r);if(e)return e;r=rx(n,rO,rk,t,r)||rD(function(e){let t=e.parentElement.firstElementChild,r=1;for(;t&&t!==e;)t.tagName===e.tagName&&(r+=1),t=t.nextElementSibling;return`${CSS.escape(e.tagName)}:nth-of-type(${r})`}(n),r),n=n.parentElement}return r}function rI(e){return/[0-9]/.test(e)}function rN(e,t){if(t){let e=r(t);if(e)return e}for(let e of rw){let t=r(e);if(t)return t}function r(t){if(e.hasAttribute(t))return`${CSS.escape(e.tagName)}[${t}="${CSS.escape(e.getAttribute(t))}"]`}}function rx(e,t,r,n,i){for(let o of t){let t=o(e,n);if(t&&r(e,t,i))return rD(t,i)}}function rR(e,t,r){return 1===e.ownerDocument.querySelectorAll(rD(t,r)).length}function rk(e,t,r){let n;if(void 0===r)n=e=>e.matches(t);else{let e=rD(`${t}:scope`,r);n=t=>null!==t.querySelector(e)}let i=e.parentElement.firstElementChild;for(;i;){if(i!==e&&n(i))return!1;i=i.nextElementSibling}return!0}function rD(e,t){return t?`${e}>${t}`:e}let rM={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:ts.ALLOW,MASK:ts.MASK,MASK_USER_INPUT:ts.MASK_USER_INPUT,MASK_UNLESS_ALLOWLISTED:ts.MASK_UNLESS_ALLOWLISTED},rL="data-dd-privacy",rU={INPUT:!0,OUTPUT:!0,TEXTAREA:!0,SELECT:!0,OPTION:!0,DATALIST:!0,OPTGROUP:!0};function rP(e){return`[${rL}="${e}"], .dd-privacy-${e}`}function r$(e,t,r){if(r&&r.has(e))return r.get(e);let n=rv(e),i=n?r$(n,t,r):t,o=rV(rB(e),i);return r&&r.set(e,o),o}function rV(e,t){switch(t){case rM.HIDDEN:case rM.IGNORE:return t}switch(e){case rM.ALLOW:case rM.MASK:case rM.MASK_USER_INPUT:case rM.MASK_UNLESS_ALLOWLISTED:case rM.HIDDEN:case rM.IGNORE:return e;default:return t}}function rB(e){if(rd(e)){if("BASE"===e.tagName)return rM.ALLOW;if("INPUT"===e.tagName){if("password"===e.type||"email"===e.type||"tel"===e.type||"hidden"===e.type)return rM.MASK;let t=e.getAttribute("autocomplete");if(t&&(t.startsWith("cc-")||t.endsWith("-password")))return rM.MASK}if(e.matches(rP(rM.HIDDEN)))return rM.HIDDEN;if(e.matches(rP(rM.MASK)))return rM.MASK;if(e.matches(rP(rM.MASK_UNLESS_ALLOWLISTED)))return rM.MASK_UNLESS_ALLOWLISTED;if(e.matches(rP(rM.MASK_USER_INPUT)))return rM.MASK_USER_INPUT;if(e.matches(rP(rM.ALLOW)))return rM.ALLOW;if(function(e){if("SCRIPT"===e.nodeName)return!0;if("LINK"===e.nodeName){let e=t("rel");return/preload|prefetch/i.test(e)&&"script"===t("as")||"shortcut icon"===e||"icon"===e}if("META"===e.nodeName){let r=t("name"),n=t("rel"),i=t("property");return/^msapplication-tile(image|color)$/.test(r)||"application-name"===r||"icon"===n||"apple-touch-icon"===n||"shortcut icon"===n||"keywords"===r||"description"===r||/^(og|twitter|fb):/.test(i)||/^(og|twitter):/.test(r)||"pinterest"===r||"robots"===r||"googlebot"===r||"bingbot"===r||e.hasAttribute("http-equiv")||"author"===r||"generator"===r||"framework"===r||"publisher"===r||"progid"===r||/^article:/.test(i)||/^product:/.test(i)||"google-site-verification"===r||"yandex-verification"===r||"csrf-token"===r||"p:domain_verify"===r||"verify-v1"===r||"verification"===r||"shopify-checkout-api-token"===r}function t(t){return(e.getAttribute(t)||"").toLowerCase()}return!1}(e))return rM.IGNORE}}function rF(e,t){switch(t){case rM.MASK:case rM.HIDDEN:case rM.IGNORE:return!0;case rM.MASK_UNLESS_ALLOWLISTED:if(ru(e))return!!rq(e.parentNode)||!rG(e.textContent||"");return rq(e);case rM.MASK_USER_INPUT:return ru(e)?rq(e.parentNode):rq(e);default:return!1}}function rj(e,t,r,n,i){if(n!==rM.MASK&&n!==rM.MASK_UNLESS_ALLOWLISTED||t===rL||rw.includes(t)||t===i.actionNameAttribute)return!1;switch(t){case"title":case"alt":case"placeholder":case"aria-label":case"name":return!0}return!!("A"===e&&"href"===t||"IFRAME"===e&&"srcdoc"===t||r&&t.startsWith("data-"))||("IMG"===e||"SOURCE"===e)&&("src"===t||"srcset"===t)}function rq(e){if(!e||e.nodeType!==e.ELEMENT_NODE)return!1;if("INPUT"===e.tagName)switch(e.type){case"button":case"color":case"reset":case"submit":return!1}return!!rU[e.tagName]}function rK(e,t){var r;let n=null==(r=e.parentElement)?void 0:r.tagName,i=e.textContent||"";if("HEAD"!==n||i.trim()){if("SCRIPT"===n)i="***";else if(t===rM.HIDDEN)i="***";else if(rF(e,t))if("DATALIST"===n||"SELECT"===n||"OPTGROUP"===n){if(!i.trim())return}else i="OPTION"===n?"***":t===rM.MASK_UNLESS_ALLOWLISTED?rH(i):i.replace(/\S/g,"x");return i}}function rG(e){var t;return!(e&&e.trim())||(null==(t=window.$DD_ALLOW)?void 0:t.has(e.toLocaleLowerCase()))||!1}function rH(e,t){return rG(e)?e:t||e.replace(/\S/g,"x")}e.s(["CENSORED_IMG_MARK",0,"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==","CENSORED_STRING_MARK",0,"***","FORM_PRIVATE_TAG_NAMES",0,rU,"NodePrivacyLevel",0,rM,"PRIVACY_ATTR_NAME",0,rL,"PRIVACY_ATTR_VALUE_HIDDEN",0,"hidden","TEXT_MASKING_CHAR",0,"x","getPrivacySelector",()=>rP],66311),e.s(["getNodePrivacyLevel",()=>r$,"getNodeSelfPrivacyLevel",()=>rB,"getTextContent",()=>rK,"maskDisallowedTextContent",()=>rH,"reducePrivacyLevel",()=>rV,"shouldMaskAttribute",()=>rj,"shouldMaskNode",()=>rF],124833);let rz=S.ONE_SECOND;function rW(e,t){let r=e.closest(`[${t}]`);if(r)return rQ(rZ(r.getAttribute(t).trim()))}let rJ=[(e,t,r)=>{if("labels"in e&&e.labels&&e.labels.length>0)return r1(e.labels[0],t,r)},e=>{if("INPUT"===e.nodeName){let t=e.getAttribute("type");if("button"===t||"submit"===t||"reset"===t)return{name:e.value,nameSource:"text_content"}}},(e,t,r)=>{if("BUTTON"===e.nodeName||"LABEL"===e.nodeName||"button"===e.getAttribute("role"))return r1(e,t,r)},(e,t,r)=>r0(e,"aria-label",t,r),(e,t,r)=>{let n=e.getAttribute("aria-labelledby");if(n)return{name:n.split(/\s+/).map(t=>{var r,n;return r=e,n=t,r.ownerDocument?r.ownerDocument.getElementById(n):null}).filter(e=>!!e).map(e=>r2(e,t,r)).join(" "),nameSource:"text_content"}},(e,t,r)=>r0(e,"alt",t,r),(e,t,r)=>r0(e,"name",t,r),(e,t,r)=>r0(e,"title",t,r),(e,t,r)=>r0(e,"placeholder",t,r),(e,t,r)=>{if("options"in e&&e.options.length>0)return r1(e.options[0],t,r)}],rY=[(e,t,r)=>r1(e,t,r)];function rX(e,t,r,n){let i=e,o=0;for(;o<=10&&i&&"BODY"!==i.nodeName&&"HTML"!==i.nodeName&&"HEAD"!==i.nodeName;){for(let e of t){let t=e(i,r,n);if(t){let{name:e,nameSource:r}=t,n=e&&e.trim();if(n)return{name:rQ(rZ(n)),nameSource:r}}}if("FORM"===i.nodeName)break;i=i.parentElement,o+=1}}function rZ(e){return e.replace(/\s+/g," ")}function rQ(e){return e.length>100?`${J(e,100)} [...]`:e}function r0(e,t,r,n){let{enablePrivacyForActionName:i,defaultPrivacyLevel:o}=r,a=e.getAttribute(t);if(a&&i){let i=r$(e,o,n);rj(e.tagName,t,a,i,r)&&(a=rH(a,rT))}else a||(a="");return{name:a,nameSource:"standard_attribute"}}function r1(e,t,r){return{name:r2(e,t,r)||"",nameSource:"text_content"}}function r2(e,t,r){if(e.isContentEditable)return;let{enablePrivacyForActionName:n,actionNameAttribute:i,defaultPrivacyLevel:o}=t;if((0,G.isExperimentalFeatureEnabled)(G.ExperimentalFeature.USE_TREE_WALKER_FOR_ACTION_NAME)){var a=e,s=i,l=n,u=o,c=r;let t=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,function(e){let t=r$(e,u,c);if(l&&t&&rF(e,t))return NodeFilter.FILTER_REJECT;if(rd(e)){if(e.hasAttribute(r_)||s&&e.hasAttribute(s))return NodeFilter.FILTER_REJECT;let t=getComputedStyle(e);if("visible"!==t.visibility||"none"===t.display||t.contentVisibility&&"visible"!==t.contentVisibility)return NodeFilter.FILTER_REJECT}return NodeFilter.FILTER_ACCEPT}),d="";for(;t.nextNode();){let e=t.currentNode;if(rd(e)){("BR"===e.nodeName||"P"===e.nodeName||["block","flex","grid","list-item","table","table-caption"].includes(getComputedStyle(e).display))&&(d+=" ");continue}d+=e.textContent||""}return d.replace(/\s+/g," ").trim()}if("innerText"in e){let t=e.innerText,r=r=>{let n=e.querySelectorAll(r);for(let e=0;e<n.length;e+=1){let r=n[e];if("innerText"in r){let e=r.innerText;e&&e.trim().length>0&&(t=t.replace(e,""))}}};return r(`[${r_}]`),i&&r(`[${i}]`),n&&r(`${rP(rM.HIDDEN)}, ${rP(rM.MASK)}`),t}return e.textContent}function r3(){let e=window.getSelection();return!e||e.isCollapsed}function r5(e){return e.target instanceof Element&&!1!==e.isPrimary}function r6(e){if(e.hasPageActivity||e.getUserActivity().input||e.getUserActivity().scroll)return!1;let t=e.event.target;return"LABEL"===t.tagName&&t.hasAttribute("for")&&(t=document.getElementById(t.getAttribute("for"))),!t||!t.matches('input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),textarea,select,[contenteditable],[contenteditable] *,canvas,a[href],a[href] *')}let r4=10*S.ONE_SECOND,r9=new Map;function r8(e,t){r9.set(e,t),r9.forEach((e,t)=>{(0,S.elapsed)(t,(0,S.relativeNow)())>r4&&r9.delete(t)})}let r7=5*S.ONE_MINUTE;function ne(e){let t=nt(e)?{action:{id:e.id,loading_time:ro((0,S.toServerDuration)(e.duration)),frustration:{type:e.frustrationTypes},error:{count:e.counts.errorCount},long_task:{count:e.counts.longTaskCount},resource:{count:e.counts.resourceCount}},_dd:{action:{target:e.target,position:e.position,name_source:e.nameSource}}}:{context:e.context},r=(0,b.combine)({action:{id:H(),target:{name:e.name},type:e.type},date:e.startClocks.timeStamp,type:V.ACTION},t),n=nt(e)?e.duration:void 0,i=nt(e)?{events:e.events}:{handlingStack:e.handlingStack};return{rawRumEvent:r,duration:n,startTime:e.startClocks.relative,domainContext:i}}function nt(e){return e.type!==j.CUSTOM}var nr=e.i(98951);let nn={},ni="csp_violation";function no(e){return{startClocks:(0,S.clocksNow)(),source:$.ErrorSource.REPORT,handling:"unhandled",...e}}function na(e,t,r,n,i){return r?(0,_.toStackTraceString)({name:e,message:t,stack:[{func:"?",url:r,line:null!=n?n:void 0,column:null!=i?i:void 0}]}):void 0}function ns(e,t){var r;let n,i;if(window.requestIdleCallback&&window.cancelIdleCallback){let r=window.requestIdleCallback((0,E.monitor)(e),t);return()=>window.cancelIdleCallback(r)}return r=e,n=(0,S.dateNow)(),i=(0,R.setTimeout)(()=>{r({didTimeout:!1,timeRemaining:()=>Math.max(0,50-((0,S.dateNow)()-n))})},0),()=>(0,R.clearTimeout)(i)}e.s(["requestIdleCallback",()=>ns],657578);let nl=S.ONE_SECOND,nu=new WeakSet;function nc(e){return(0,S.addDuration)(e.startTime,e.duration)}function nd(e,t,r){return document.readyState===t||"complete"===document.readyState?(r(),{stop:k.noop}):(0,eE.addEventListener)(e,window,"complete"===t?"load":"DOMContentLoaded",r,{once:!0})}function np(e,t){return new Promise(r=>{nd(e,t,r)})}e.s(["asyncRunOnReadyState",()=>np,"runOnReadyState",()=>nd],302332);let nf=2*S.ONE_MINUTE;function nm(e,t){let r=t&&Number(t);if(e&&r)return{traceId:e,traceTime:r}}function ng(e){if(e&&rc(e)){let t=/^\s*DATADOG;(.*?)\s*$/.exec(e.data);if(t)return t[1]}}function nv(){if(rl(g.NAVIGATION)){let e=performance.getEntriesByType(g.NAVIGATION)[0];if(e)return e}let e=function(){let e={},t=performance.timing;for(let r in t)if((0,eL.isNumber)(t[r])){let n=t[r];e[r]=0===n?0:(0,S.getRelativeTime)(n)}return e}(),t={entryType:g.NAVIGATION,initiatorType:"navigation",name:window.location.href,startTime:0,duration:e.loadEventEnd,decodedBodySize:0,encodedBodySize:0,transferSize:0,workerStart:0,toJSON:()=>({...t,toJSON:void 0}),...e};return t}function ny(e,t,r,n){let i=tQ(e)&&n?n.getMatchingRequest(e):void 0;return nb(e,i,r,t)}function nb(e,t,r,n){var i,o,a,s;if(!e&&!t)return;let l=t?function(e,t){if(e.traceSampled&&e.traceId&&e.spanId)return{_dd:{span_id:e.spanId.toString(),trace_id:e.traceId.toString(),rule_psr:t.rulePsr}}}(t,n):function(e,t){if(e.traceId)return{_dd:{trace_id:e.traceId,span_id:tf(63).toString(),rule_psr:t.rulePsr}}}(e,n);if(!n.trackResources&&!l)return;let u=e?(0,S.relativeToClocks)(e.startTime):t.startClocks,c=e?t0(e):(i=r,o=u,a=t.duration,i.wasInPageStateDuringPeriod("frozen",o.relative,a)?void 0:a),d=t&&function(e,t){let r=rr(e.url,t);if(r){let t=function(e,t=!1){let r,n,i,o;if(!e||"string"!=typeof e)return;try{r=JSON.parse(e)}catch(e){return}if(!r)return;if(r.query){var a;let e=r.query.trim();n=null==(a=e.match(/^\s*(query|mutation|subscription)\b/i))?void 0:a[1],t&&(i=J(e,rt,"..."))}let s=r.operationName;return r.variables&&(o=JSON.stringify(r.variables)),{operationType:n,operationName:s,variables:o,payload:i}}(e.requestBody,r.trackPayload);if(t){if(r.trackResponseErrors&&e.responseBody){let r=function(e){let t;try{t=JSON.parse(e)}catch(e){return}if(!t||"object"!=typeof t)return;let r=t;if(et(r.errors))return r.errors.map(e=>{var t;return{message:e.message,path:e.path,locations:e.locations,code:null==(t=e.extensions)?void 0:t.code}})}(e.responseBody);r&&(t.error_count=r.length,t.errors=r)}return t}return}}(t,n),p=(0,b.combine)({date:u.timeStamp,resource:{id:H(),duration:(0,S.toServerDuration)(c),type:t?"xhr"===t.type?"xhr":tK:tX(e),method:t?t.method:void 0,status_code:t?t.status:0===(s=e.responseStatus)?void 0:s,url:t?re(t.url):e.name,protocol:e&&t6(e),delivery_type:e&&t4(e),graphql:d},type:V.RESOURCE,_dd:{discarded:!n.trackResources}},l,e&&function(e){let{renderBlockingStatus:t}=e;return{resource:{render_blocking_status:t,...t9(e),...t1(e)}}}(e));return{startTime:u.relative,duration:c,rawRumEvent:p,domainContext:function(e,t){if(t){let r={performanceEntry:e,isAborted:t.isAborted,handlingStack:t.handlingStack};return"xhr"===t.type?{xhr:t.xhr,...r}:{requestInput:t.input,requestInit:t.init,response:t.response,error:t.error,...r}}return{performanceEntry:e}}(e,t)}}var nh=S;let nE=10*S.ONE_MINUTE,nS=10*S.ONE_MINUTE;function n_(e,t,r=window){if("hidden"===document.visibilityState)return{timeStamp:0,stop:k.noop};if(rl(g.VISIBILITY_STATE)){let e=performance.getEntriesByType(g.VISIBILITY_STATE).filter(e=>"hidden"===e.name).find(e=>e.startTime>=t.relative);if(e)return{timeStamp:e.startTime,stop:k.noop}}let n=1/0,{stop:i}=(0,eE.addEventListeners)(e,r,["pagehide","visibilitychange"],e=>{("pagehide"===e.type||"hidden"===document.visibilityState)&&(n=e.timeStamp,i())},{capture:!0});return{get timeStamp(){return n},stop:i}}let nT=e=>{var t,r;let n,i,o,a;return e.previousRect.width*e.previousRect.height+e.currentRect.width*e.currentRect.height-(t=e.previousRect,r=e.currentRect,n=Math.max(t.left,r.left),i=Math.max(t.top,r.top),o=Math.min(t.right,r.right),a=Math.min(t.bottom,r.bottom),n>=o||i>=a?0:(o-n)*(a-i))};function nw({x:e,y:t,width:r,height:n}){return{x:e,y:t,width:r,height:n}}let nC=5*S.ONE_SECOND,nO=S.ONE_SECOND,nA=0,nI=1/0,nN=0,nx=()=>u?nA:window.performance.interactionCount||0,nR=+S.ONE_MINUTE;function nk(){let e=window.visualViewport;return Math.round(e?e.pageLeft-e.offsetLeft:void 0!==window.scrollX?window.scrollX:window.pageXOffset||0)}function nD(){let e=window.visualViewport;return Math.round(e?e.pageTop-e.offsetTop:void 0!==window.scrollY?window.scrollY:window.pageYOffset||0)}function nM(e){var t;return c||(t=e,c=new I.Observable(e=>{let{throttled:r}=(0,k.throttle)(()=>{e.notify(nL())},200);return(0,eE.addEventListener)(t,window,"resize",r,{capture:!0,passive:!0}).stop})),c}function nL(){let e=window.visualViewport;return e?{width:Number(e.width*e.scale),height:Number(e.height*e.scale)}:{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}e.s(["getScrollX",()=>nk,"getScrollY",()=>nD],14092),e.s(["getViewportDimension",()=>nL,"initViewportObservable",()=>nM],855355);let nU=S.ONE_SECOND,nP=5*nh.ONE_MINUTE,n$=5*nh.ONE_MINUTE;function nV(e){let t=e.indexOf("?");return t<0?e:e.slice(0,t)}let nB=S.ONE_MINUTE,nF=[];async function nj(e){let t,r,n=e.sessionStoreStrategyType;n&&(n.type===eK?(t=e1(n.cookieOptions,e),r={cookie:await nq(),currentDomain:`${window.location.protocol}//${window.location.hostname}`}):t=e6(),(0,y.addTelemetryDebug)("Unexpected session state",{sessionStoreStrategyType:n.type,session:t,isSyntheticsTest:em(),createdTimestamp:null==t?void 0:t.created,expireTimestamp:null==t?void 0:t.expire,...r}))}async function nq(){let e;return{count:(e="cookieStore"in window?await window.cookieStore.getAll(eV):document.cookie.split(/\s*;\s*/).filter(e=>e.startsWith(eV))).length,domain:ec()||"undefined",...e}}var nK=e.i(718097),nG=e.i(236933),nH=e.i(238733);function nz(e){return Object.prototype.hasOwnProperty.call(history,e)?history:History.prototype}let nW=10*S.ONE_SECOND;function nJ(){0!==d.batchCount&&((0,y.addTelemetryMetrics)("Customer data measures",d),nZ())}function nY(){return{min:1/0,max:0,sum:0}}function nX(e,t){e.sum+=t,e.min=Math.min(e.min,t),e.max=Math.max(e.max,t)}function nZ(){d={batchCount:0,batchBytesCount:nY(),batchMessagesCount:nY()}}function nQ(){return"hidden"===document.visibilityState?"hidden":document.hasFocus()?"active":"passive"}let n0=S.ONE_SECOND;function n1(e,t){let r=W(document.cookie,e),n=(0,R.setInterval)(()=>{let n=W(document.cookie,e);n!==r&&t(n)},n0);return()=>{(0,R.clearInterval)(n)}}let n2="datadog-ci-visibility-test-execution-id";function n3(e,t,r=3e3){let n=0,i=!1;return{isLimitReached(){if(0===n&&(0,R.setTimeout)(()=>{n=0},S.ONE_MINUTE),(n+=1)<=r||i)return i=!1,!1;if(n===r+1){i=!0;try{t({message:`Reached max number of ${e}s by minute: ${r}`,source:$.ErrorSource.AGENT,startClocks:(0,S.clocksNow)()})}finally{i=!1}}return!0}}}var n5=e.i(848444);function n6(e){return"object"===(0,eC.getType)(e)}let n4={"view.name":"string","view.url":"string","view.referrer":"string"},n9={context:"object"},n8={service:"string",version:"string"};var n7=e.i(164419);let ie=ew.abstractHooks,it=[V.ACTION,V.ERROR,V.LONG_TASK,V.RESOURCE,V.VITAL];function ir(e,t,r,n,i,o,a,l,c){var m,v;let h,w,C=[],A=new t$,N=ie();A.subscribe(13,e=>(0,tD.sendToExtension)("rum",e));let x=e=>{A.notify(14,{error:e}),(0,y.addTelemetryDebug)("Error reported to customer",{"error.message":e.message})},M=(0,tM.createPageMayExitObservable)(e),U=M.subscribe(e=>{A.notify(11,e)});C.push(()=>U.unsubscribe());let z=(0,y.startTelemetry)("browser-rum-sdk",e,N,x,M,i);C.push(z.stop);let Q=(0,er.canUseEventBridge)()?(h={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplay:+!!(0,er.bridgeSupports)("records")},{findTrackedSession:()=>h,expire:k.noop,expireObservable:new I.Observable,setForcedReplay:k.noop}):((w=function(e,t,r,n){let i=new I.Observable,o=new I.Observable,a=function(e,t,r,n,i=function(e,t){return e.type===eK?function(e,t){let r={isLockEnabled:eU(),persistSession:r=>e0(t,e,r,ej),retrieveSession:()=>e1(t,e),expireSession:r=>e0(t,e,ez(r,e),eF)};if(!eu(eV)){let e=eu("_dd"),t=eu("_dd_r"),n=eu("_dd_l"),i={};e&&(i.id=e),n&&/^[01]$/.test(n)&&(i.logs=n),t&&/^[012]$/.test(t)&&(i.rum=t),eW(i)||(eY(i),r.persistSession(i))}return r}(t,e.cookieOptions):{isLockEnabled:!1,persistSession:e5,retrieveSession:e6,expireSession:e=>(function(e,t){e5(ez(e,t))})(e,t)}}(e,t)){let o,a=new I.Observable,s=new I.Observable,l=new I.Observable,u=(0,R.setInterval)(function(){let e=i.retrieveSession();eJ(e)?e8({process:e=>eJ(e)?ez(e,t):void 0,after:p},i):p(e)},tt);f();let{throttled:c,cancel:d}=(0,k.throttle)(()=>{e8({process:e=>{if(eW(e))return;let t=p(e);return function(e){if(eW(e))return;let t=n(e.rum);e.rum=t,delete e.isExpired,"0"===t||e.id||(e.id=H(),e.created=String((0,S.dateNow)()))}(t),t},after:e=>{eW(e)||m()||(o=e,a.notify()),o=e}},i)},tt);function p(e){var r;return eJ(e)&&(e=ez(e,t)),m()&&((r=e,o.id!==r.id||o.rum!==r.rum)?(o=ez(o,t),s.notify()):(l.notify({previousState:o,newState:e}),o=e)),e}function f(){e8({process:e=>{if(eW(e))return e.anonymousId=H(),ez(e,t)},after:e=>{o=e}},i)}function m(){return(null==o?void 0:o.rum)!==void 0}return{expandOrRenewSession:c,expandSession:function(){e8({process:e=>m()?p(e):void 0},i)},getSession:()=>o,renewObservable:a,expireObservable:s,sessionStateUpdateObservable:l,restartSession:f,expire:e=>{d(),!1===e&&o&&delete o.anonymousId,i.expireSession(o),p(ez(o,t))},stop:()=>{(0,R.clearInterval)(u)},updateSessionState:function(e){e8({process:t=>({...t,...e}),after:p},i)}}}(e.sessionStoreStrategyType,e,"rum",r);nF.push(()=>a.stop());let s=tq({expireDelay:eF});if(nF.push(()=>s.stop()),a.renewObservable.subscribe(()=>{s.add(l(),(0,S.relativeNow)()),i.notify()}),a.expireObservable.subscribe(()=>{o.notify(),s.closeActive((0,S.relativeNow)())}),a.expandOrRenewSession(),s.add(l(),(0,S.clocksOrigin)().relative),(0,G.isExperimentalFeatureEnabled)(G.ExperimentalFeature.SHORT_SESSION_INVESTIGATION)){let t=a.getSession();t&&function(e,t){if(!window.cookieStore||!t.created)return;let r=Number(t.created),n=(0,S.dateNow)(),{stop:i}=(0,eE.addEventListener)(e,cookieStore,"change",function(e){let o=(0,eB.findLast)(e.changed,e=>e.name===eV);if(!o)return;let a=(0,S.dateNow)()-r;if(a>14*S.ONE_MINUTE)i();else{let e=eZ(o.value);if(e.id&&e.id!==t.id){i();let r=(0,S.dateNow)()-n;nq().then(n=>{(0,y.addTelemetryDebug)("Session cookie changed",{time:r,session_age:a,old:t,new:e,cookie:n})}).catch(E.monitorError)}}});nF.push(i)}(e,t)}function l(){let t=a.getSession();return t?{id:t.id,trackingType:t.rum,isReplayForced:!!t.forcedReplay,anonymousId:t.anonymousId}:(nj(e).catch(()=>void 0),{id:"invalid",trackingType:"0",isReplayForced:!1,anonymousId:void 0})}return n.observable.subscribe(()=>{n.isGranted()?a.expandOrRenewSession():a.expire(!1)}),function(e,t){let{stop:r}=(0,eE.addEventListeners)(e,window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0});nF.push(r)}(e,()=>{n.isGranted()&&a.expandOrRenewSession()}),function(e,t){let r=()=>{"visible"===document.visibilityState&&t()},{stop:n}=(0,eE.addEventListener)(e,document,"visibilitychange",r);nF.push(n);let i=(0,R.setInterval)(r,nB);nF.push(()=>{(0,R.clearInterval)(i)})}(e,()=>a.expandSession()),function(e,t){let{stop:r}=(0,eE.addEventListener)(e,window,"resume",t,{capture:!0});nF.push(r)}(e,()=>a.restartSession()),{findSession:(e,t)=>s.find(e,t),renewObservable:i,expireObservable:o,sessionStateUpdateObservable:a.sessionStateUpdateObservable,expire:a.expire,updateSessionState:a.updateSessionState}}(e,0,t=>{var r,n,i;return r=e,"0"===(i=n=t)||"1"===i||"2"===i?n:(0,eL.performDraw)(r.sessionSampleRate)?(0,eL.performDraw)(r.sessionReplaySampleRate)?"1":"2":"0"},o)).expireObservable.subscribe(()=>{A.notify(9)}),w.renewObservable.subscribe(()=>{A.notify(10)}),w.sessionStateUpdateObservable.subscribe(({previousState:e,newState:t})=>{if(!e.forcedReplay&&t.forcedReplay){let e=w.findSession();e&&(e.isReplayForced=!0)}}),{findTrackedSession:e=>{let t=w.findSession(e);if(t&&"0"!==t.trackingType)return{id:t.id,sessionReplay:"1"===t.trackingType?1:2*!!t.isReplayForced,anonymousId:t.anonymousId}},expire:w.expire,expireObservable:w.expireObservable,setForcedReplay:()=>w.updateSessionState({forcedReplay:"1"})});if((0,er.canUseEventBridge)()){let e;e=(0,er.getEventBridge)(),A.subscribe(13,t=>{e.send("rum",t)})}else{let t,r,n=(m=Q.expireObservable,t=[e.rumEndpointBuilder],e.replica&&t.push(e.replica.rumEndpointBuilder),r=(0,nK.createBatch)({encoder:i(2),request:(0,nH.createHttpRequest)(t,x),flushController:(0,nG.createFlushController)({pageMayExitObservable:M,sessionExpireObservable:m})}),A.subscribe(13,e=>{e.type===V.VIEW?r.upsert(e,e.view.id):r.add(e)}),r);C.push(()=>n.stop()),v=n.flushController.flushObservable,z.metricsEnabled&&(nZ(),p=!1,A.subscribe(13,()=>{p=!0}),v.subscribe(({bytesCount:e,messagesCount:t})=>{p&&(p=!1,d.batchCount+=1,nX(d.batchBytesCount,e),nX(d.batchMessagesCount,t))}),(0,R.setInterval)(nJ,nW))}N.register(1,()=>o.isGranted()?ew.SKIPPED:ew.DISCARDED);let{stop:ee}=function(e,t){if(!t.metricsEnabled)return{stop:k.noop};let{unsubscribe:r}=e.subscribe(4,({initialViewMetrics:e})=>{var t,n;e.largestContentfulPaint&&e.navigationTimings&&((0,y.addTelemetryMetrics)("Initial view metrics",{metrics:(t=e.largestContentfulPaint,n=e.navigationTimings,{lcp:{value:t.value},navigation:{domComplete:n.domComplete,domContentLoaded:n.domContentLoaded,domInteractive:n.domInteractive,firstByte:n.firstByte,loadEvent:n.loadEvent}})}),r())});return{stop:r}}(A,z);C.push(ee);let{stop:et,...en}=function(e,t,r,n,i,o,a,l,c,d){var p,m,v,h,w,C,A,N,x,M,U,z;let Q,ee,et,en,ei,eo,ea,es,el,ec,eg,ev,ey,eh,e_,eO,eA,ek,eD=[],eM=tU(),eU=(p=location,ee=(0,eS.shallowClone)(p),new I.Observable(e=>{var t,n;let{stop:i}=function(e,t){let{stop:r}=D(nz("pushState"),"pushState",({onPostCall:e})=>{e(t)}),{stop:n}=D(nz("replaceState"),"replaceState",({onPostCall:e})=>{e(t)}),{stop:i}=(0,eE.addEventListener)(e,window,"popstate",t);return{stop:()=>{r(),n(),i()}}}(r,a),{stop:o}=(t=r,n=a,(0,eE.addEventListener)(t,window,"hashchange",n));function a(){if(ee.href===p.href)return;let t=(0,eS.shallowClone)(p);e.notify({newLocation:t,oldLocation:ee}),ee=t}return()=>{i(),o()}})),{observable:eP,stop:e$}=function(){let e=new I.Observable,{stop:t}=D(window,"open",()=>e.notify());return{observable:e,stop:t}}();eD.push(e$),t.register(0,({eventType:e})=>{let t=r.source;return{type:e,_dd:{format_version:2,drift:(0,S.currentDrift)(),configuration:{session_sample_rate:(0,eL.round)(r.sessionSampleRate,3),session_replay_sample_rate:(0,eL.round)(r.sessionReplaySampleRate,3),profiling_sample_rate:(0,eL.round)(r.profilingSampleRate,3),trace_sample_rate:(0,eL.round)(r.traceSampleRate,3),beta_encode_cookie_options:r.betaEncodeCookieOptions},browser_sdk_version:(0,er.canUseEventBridge)()?"6.25.1":void 0,sdk_name:c},application:{id:r.applicationId},date:(0,S.timeStampNow)(),source:t}}),t.register(1,()=>({application:{id:r.applicationId}}));let eV=function(e,t,r=500){let n,i=tq({expireDelay:eF,maxEntries:4e3});rl(g.VISIBILITY_STATE)&&performance.getEntriesByType(g.VISIBILITY_STATE).forEach(e=>{a("hidden"===e.name?"hidden":"active",e.startTime)}),a(nQ(),(0,S.relativeNow)());let{stop:o}=(0,eE.addEventListeners)(t,window,["pageshow","focus","blur","visibilitychange","resume","freeze","pagehide"],e=>{var t;a("freeze"===(t=e).type?"frozen":"pagehide"===t.type?t.persisted?"frozen":"terminated":nQ(),e.timeStamp)},{capture:!0});function a(e,t=(0,S.relativeNow)()){e!==n&&(n=e,i.closeActive(t),i.add({state:n,startTime:t},t))}function s(e,t,r){return i.findAll(t,r).some(t=>t.state===e)}return e.register(0,({startTime:e,duration:t=0,eventType:n})=>n===V.VIEW?{type:n,_dd:{page_states:function(e,t,r){if(0!==e.length)return e.slice(-r).reverse().map(({state:e,startTime:r})=>({state:e,start:(0,S.toServerDuration)((0,S.elapsed)(t,r))}))}(i.findAll(e,t),e,r)}}:n===V.ACTION||n===V.ERROR?{type:n,view:{in_foreground:s("active",e,0)}}:ew.SKIPPED),{wasInPageStateDuringPeriod:s,addPageState:a,stop:()=>{o(),i.stop()}}}(t,r);eD.push(()=>eV.stop());let ej=(et=tq({expireDelay:eF}),e.subscribe(1,e=>{var t;et.add({service:(t=e).service,version:t.version,context:t.context,id:t.id,name:t.name,startClocks:t.startClocks},e.startClocks.relative)}),e.subscribe(6,({endClocks:e})=>{et.closeActive(e.relative)}),e.subscribe(3,e=>{let t=et.find(e.startClocks.relative);t&&(e.name&&(t.name=e.name),e.context&&(t.context=e.context),t.sessionIsActive=e.sessionIsActive)}),e.subscribe(10,()=>{et.reset()}),{findView:e=>et.find(e),stop:()=>{et.stop()}});eD.push(()=>ej.stop());let eq=function(e,t,r,n){let i,o=tq({expireDelay:eF});e.subscribe(1,({startClocks:e})=>{let t=n.href;o.add(s({url:t,referrer:i||document.referrer}),e.relative),i=t}),e.subscribe(6,({endClocks:e})=>{o.closeActive(e.relative)});let a=r.subscribe(({newLocation:e})=>{let t=o.find();if(t){let r=(0,S.relativeNow)();o.closeActive(r),o.add(s({url:e.href,referrer:t.referrer}),r)}});function s({url:e,referrer:t}){return{url:e,referrer:t}}return t.register(0,({startTime:e,eventType:t})=>{let r=o.find(e);return r?{type:t,view:{url:r.url,referrer:r.referrer}}:ew.DISCARDED}),{findUrl:e=>o.find(e),stop:()=>{a.unsubscribe(),o.stop()}}}(e,t,eU,location);eD.push(()=>eq.stop());let eK=(en=tq({expireDelay:eF}),e.subscribe(1,({startClocks:e})=>{en.add({},e.relative)}),e.subscribe(6,({endClocks:e})=>{en.closeActive(e.relative)}),t.register(0,({startTime:e,eventType:t})=>{if(!r.trackFeatureFlagsForEvents.concat([V.VIEW,V.ERROR]).includes(t))return ew.SKIPPED;let n=en.find(e);return!n||(0,eS.isEmptyObject)(n)?ew.SKIPPED:{type:t,feature_flags:n}}),{addFeatureFlagEvaluation:(e,t)=>{let r=en.find();r&&(r[e]=t)}});t.register(0,({eventType:e,startTime:t})=>{let r,o,a,s=n.findTrackedSession(t),l=ej.findView(t);return s&&l?(e===V.VIEW?(r=!!i.getReplayStats(l.id)||void 0,o=1===s.sessionReplay,a=!!l.sessionIsActive&&void 0):r=!!i.isRecording()||void 0,{type:e,session:{id:s.id,type:"user",has_replay:r,sampled_for_replay:o,is_active:a}}):ew.DISCARDED}),t.register(1,({startTime:e})=>{let t=n.findTrackedSession(e);return t?{session:{id:t.id}}:ew.SKIPPED}),t.register(0,({eventType:e})=>({type:e,connectivity:(0,n7.getConnectivity)()}));let eG=(ei=ex(),r.storeContextsAcrossPages&&eT(r,ei,"rum",2),t.register(0,()=>{let e=ei.getContext();return{context:e}}),ei),eH=(eo=eR(),r.storeContextsAcrossPages&&eT(r,eo,"rum",1),t.register(0,({eventType:e,startTime:t})=>{let i=eo.getContext(),o=n.findTrackedSession(t);return(o&&o.anonymousId&&!i.anonymous_id&&r.trackAnonymousUser&&(i.anonymous_id=o.anonymousId),(0,eS.isEmptyObject)(i))?ew.SKIPPED:{type:e,usr:i}}),t.register(1,({startTime:e})=>{var t;return{anonymous_id:null==(t=n.findTrackedSession(e))?void 0:t.anonymousId}}),eo),ez=(ea=eN(),r.storeContextsAcrossPages&&eT(r,ea,"rum",4),t.register(0,()=>{let e=ea.getContext();return(0,eS.isEmptyObject)(e)||!e.id?ew.SKIPPED:{account:e}}),ea),eW=function(e,t,r,n,i){let{unsubscribe:o}=e.subscribe(0,t=>{e.notify(12,ne(t))});t.register(0,({startTime:e,eventType:t})=>{if(t!==V.ERROR&&t!==V.RESOURCE&&t!==V.LONG_TASK)return ew.SKIPPED;let r=a.findActionId(e);return r?{type:t,action:{id:r}}:ew.SKIPPED}),t.register(1,({startTime:e})=>({action:{id:a.findActionId(e)}}));let a={findActionId:k.noop},s=k.noop;return i.trackUserInteractions&&({actionContexts:a,stop:s}=function(e,t,r,n){let i,o=tq({expireDelay:r7}),a=new I.Observable;e.subscribe(10,()=>{o.reset()}),e.subscribe(5,u),e.subscribe(11,e=>{e.reason===tM.PageExitReason.UNLOADING&&u()});let{stop:s}=function(e,{onPointerDown:t,onPointerUp:r}){let n,i,o={selection:!1,input:!1,scroll:!1},a=[(0,eE.addEventListener)(e,window,"pointerdown",e=>{r5(e)&&(n=r3(),o={selection:!1,input:!1,scroll:!1},i=t(e))},{capture:!0}),(0,eE.addEventListener)(e,window,"selectionchange",()=>{n&&r3()||(o.selection=!0)},{capture:!0}),(0,eE.addEventListener)(e,window,"scroll",()=>{o.scroll=!0},{capture:!0,passive:!0}),(0,eE.addEventListener)(e,window,"pointerup",e=>{if(r5(e)&&i){let t=o;r(i,e,()=>t),i=void 0}},{capture:!0}),(0,eE.addEventListener)(e,window,"input",()=>{o.input=!0},{capture:!0})];return{stop:()=>{a.forEach(e=>e.stop())}}}(n,{onPointerDown:i=>(function(e,t,r,n,i){var o;let a;if((a=e.enablePrivacyForActionName?r$(n.target,e.defaultPrivacyLevel):rM.ALLOW)===rM.HIDDEN)return;let s=function(e,t,r){let n=e.target.getBoundingClientRect(),i=rA(e.target,r.actionNameAttribute);i&&r8(e.timeStamp,i);let{name:o,nameSource:a}=function(e,t,r=rM.ALLOW){let n=new Map,{actionNameAttribute:i}=t,o=rW(e,r_)||i&&rW(e,i);return o?{name:o,nameSource:"custom_attribute"}:r===rM.MASK?{name:rT,nameSource:"mask_placeholder"}:rX(e,rJ,t,n)||rX(e,rY,t,n)||{name:"",nameSource:"blank"}}(e.target,r,t);return{type:j.CLICK,target:{width:Math.round(n.width),height:Math.round(n.height),selector:i},position:{x:Math.round(e.clientX-n.left),y:Math.round(e.clientY-n.top)},name:o,nameSource:a}}(n,a,e),l=!1;return o=e=>{l=e.hadActivity},rb(rh(t,r,i,e),o,100),{clickActionBase:s,hadActivityOnPointerDown:()=>l}})(n,e,t,i,r),onPointerUp:({clickActionBase:i,hadActivityOnPointerDown:s},u,c)=>{!function(e,t,r,n,i,o,a,s,l,u,c){var d,p;let f=function e(t,r,n,i,o){let a,s=H(),l=(0,S.relativeToClocks)(o.timeStamp),u=r.add(s,l.relative),c=ra({lifeCycle:t,isChildEvent:e=>void 0!==e.action&&(Array.isArray(e.action.id)?e.action.id.includes(s):e.action.id===s)}),d=0,p=[],f=new I.Observable;function m(e){0===d&&(d=1,(a=e)?u.close((0,S.getRelativeTime)(a)):u.remove(),c.stop(),f.notify())}return{event:o,stop:m,stopObservable:f,get hasError(){return c.eventCounts.errorCount>0},get hasPageActivity(){return void 0!==a},getUserActivity:n,addFrustration:e=>{p.push(e)},startClocks:l,isStopped:()=>1===d||2===d,clone:()=>e(t,r,n,i,o),validate:e=>{if(m(),1!==d)return;let{resourceCount:r,errorCount:n,longTaskCount:u}=c.eventCounts,f={duration:a&&(0,S.elapsed)(l.timeStamp,a),startClocks:l,id:s,frustrationTypes:p,counts:{resourceCount:r,errorCount:n,longTaskCount:u},events:null!=e?e:[o],event:o,...i};t.notify(0,f),d=2},discard:()=>{m(),d=2}}}(t,i,u,s,l);a(f);let m=null==(d=null==s?void 0:s.target)?void 0:d.selector;m&&r8(l.timeStamp,m);let{stop:g}=(p=e=>{e.hadActivity&&e.end<f.startClocks.timeStamp?f.discard():e.hadActivity?f.stop(e.end):c()?f.stop(f.startClocks.timeStamp):f.stop()},rb(rh(t,r,n,e),p,r4)),v=t.subscribe(5,({endClocks:e})=>{f.stop(e.timeStamp)}),y=o.subscribe(()=>{f.stop()});f.stopObservable.subscribe(()=>{v.unsubscribe(),g(),y.unsubscribe()})}(n,e,t,r,o,a,l,i,u,c,s)}});return{stop:()=>{u(),a.notify(),s()},actionContexts:{findActionId:e=>o.findAll(e)}};function l(e){if(!i||!i.tryAppend(e)){let t=e.clone();i=function(e,t){let r,n=[],i=0;function o(e){e.stopObservable.subscribe(a),n.push(e),(0,R.clearTimeout)(r),r=(0,R.setTimeout)(s,rz)}function a(){1===i&&n.every(e=>e.isStopped())&&(i=2,t(n))}function s(){(0,R.clearTimeout)(r),0===i&&(i=1,a())}return o(e),{tryAppend:e=>{var t,r,a,l;return 0===i&&(!(n.length>0)||(t=n[n.length-1].event,r=e.event,t.target===r.target&&100>=(a=t,l=r,Math.sqrt(Math.pow(a.clientX-l.clientX,2)+Math.pow(a.clientY-l.clientY,2)))&&t.timeStamp-r.timeStamp<=rz)?(o(e),!0):(s(),!1))},stop:()=>{s()}}}(e,e=>{(function(e,t){let{isRage:r}=function(e,t){if(function(e){if(e.some(e=>e.getUserActivity().selection||e.getUserActivity().scroll))return!1;for(let t=0;t<e.length-2;t+=1)if(e[t+3-1].event.timeStamp-e[t].event.timeStamp<=S.ONE_SECOND)return!0;return!1}(e))return t.addFrustration(q.RAGE_CLICK),e.some(r6)&&t.addFrustration(q.DEAD_CLICK),t.hasError&&t.addFrustration(q.ERROR_CLICK),{isRage:!0};let r=e.some(e=>e.getUserActivity().selection);return e.forEach(e=>{e.hasError&&e.addFrustration(q.ERROR_CLICK),r6(e)&&!r&&e.addFrustration(q.DEAD_CLICK)}),{isRage:!1}}(e,t);r?(e.forEach(e=>e.discard()),t.stop((0,S.timeStampNow)()),t.validate(e.map(e=>e.event))):(t.discard(),e.forEach(e=>e.validate()))})(e,t),i=void 0})}}function u(){i&&i.stop()}}(e,r,n,i)),{addAction:t=>{e.notify(12,ne(t))},actionContexts:a,stop:()=>{o(),s()}}}(e,t,eM,eP,r);eD.push(eW.stop);let eJ={addEvent:(t,r,n,i)=>{it.includes(r.type)&&e.notify(12,{startTime:t,rawRumEvent:r,domainContext:n,duration:i})}},eY=(el=requestAnimationFrame((0,E.monitor)(()=>{es=nL()})),ec=nM(r).subscribe(e=>{es=e}).unsubscribe,t.register(0,({eventType:e})=>({type:e,display:es?{viewport:es}:void 0})),{stop:()=>{ec(),el&&cancelAnimationFrame(el)}});eD.push(eY.stop);let eX=function(e,t,r=function(e,t){let r=window.cookieStore?function(e){return(t,r)=>(0,eE.addEventListener)(e,window.cookieStore,"change",e=>{let n=e.changed.find(e=>e.name===t)||e.deleted.find(e=>e.name===t);n&&r(n.value)}).stop}(e):n1;return new I.Observable(e=>r(t,t=>e.notify(t)))}(e,n2)){var n;let i=eu(n2)||(null==(n=window.Cypress)?void 0:n.env("traceId")),o=r.subscribe(e=>{i=e});return t.register(0,({eventType:e})=>"string"!=typeof i?ew.SKIPPED:{type:e,session:{type:"ci_test"},ci_test:{test_execution_id:i}}),{stop:()=>{o.unsubscribe()}}}(r,t);eD.push(eX.stop),t.register(0,({eventType:e})=>em()?{type:e,session:{type:"synthetics"},synthetics:{test_id:ep(),result_id:ef(),injected:ed()}}:ew.SKIPPED),f={[V.VIEW]:{"view.performance.lcp.resource_url":"string",...n9,...n4,...n8},[V.ERROR]:{"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string",...n9,...n4,...n8},[V.RESOURCE]:{"resource.url":"string","resource.graphql.variables":"string",...n9,...n4,...n8},[V.ACTION]:{"action.target.name":"string",...n9,...n4,...n8},[V.LONG_TASK]:{"long_task.scripts[].source_url":"string","long_task.scripts[].invoker":"string",...n9,...n4,...n8},[V.VITAL]:{...n9,...n4,...n8}},eg={[V.ERROR]:n3(V.ERROR,d,void 0),[V.ACTION]:n3(V.ACTION,d,void 0),[V.VITAL]:n3(V.VITAL,d,void 0)},e.subscribe(12,({startTime:n,duration:i,rawRumEvent:o,domainContext:a})=>{let s=t.triggerHook(0,{eventType:o.type,startTime:n,duration:i});if(s===ew.DISCARDED)return;let l=(0,b.combine)(s,o,{ddtags:(0,n5.buildTags)(r).join(",")});(function(e,t,r,n){var i,o;if(t){let n,i,a=(o=f[e.type],i=(e=>t(e,r))(n=(0,b.deepClone)(e)),(0,eB.objectEntries)(o).forEach(([t,r])=>(function e(t,r,n,i){let[o,...a]=n;if("[]"===o){Array.isArray(t)&&Array.isArray(r)&&t.forEach((t,n)=>e(t,r[n],a,i));return}if(n6(t)&&n6(r)){var s,l,u,c;let n;if(a.length>0)return e(t[o],r[o],a,i);s=t,l=o,u=r[o],c=i,(n=(0,eC.getType)(u))===c?s[l]=(0,T.sanitize)(u):"object"===c&&("undefined"===n||"null"===n)&&(s[l]={})}})(e,n,t.split(/\.|(?=\[\])/),r)),i);if(!1===a&&e.type!==V.VIEW)return!1;!1===a&&O.display.warn("Can't dismiss view events using beforeSend!")}return!(null==(i=n[e.type])?void 0:i.isLimitReached())})(l,r.beforeSend,a,eg)&&((0,eS.isEmptyObject)(l.context)&&delete l.context,e.notify(13,l))});let{addTiming:eZ,startView:eQ,setViewName:e0,setViewContext:e1,setViewContextProperty:e2,getViewContext:e3,stop:e5}=(m=location,e.subscribe(4,t=>{var n,o,a,s,l,u,c,d,p,f,m,g,v,y,b,h,E,_,T,w;let C,O,A;return e.notify(12,(n=t,o=r,C=i.getReplayStats(n.id),O=null==(s=null==(a=n.commonViewMetrics)?void 0:a.cumulativeLayoutShift)?void 0:s.devicePixelRatio,A={_dd:{document_version:n.documentVersion,replay_stats:C,cls:O?{device_pixel_ratio:O}:void 0,configuration:{start_session_replay_recording_manually:o.startSessionReplayRecordingManually}},date:n.startClocks.timeStamp,type:V.VIEW,view:{action:{count:n.eventCounts.actionCount},frustration:{count:n.eventCounts.frustrationCount},cumulative_layout_shift:null==(l=n.commonViewMetrics.cumulativeLayoutShift)?void 0:l.value,cumulative_layout_shift_time:(0,S.toServerDuration)(null==(u=n.commonViewMetrics.cumulativeLayoutShift)?void 0:u.time),cumulative_layout_shift_target_selector:null==(c=n.commonViewMetrics.cumulativeLayoutShift)?void 0:c.targetSelector,first_byte:(0,S.toServerDuration)(null==(d=n.initialViewMetrics.navigationTimings)?void 0:d.firstByte),dom_complete:(0,S.toServerDuration)(null==(p=n.initialViewMetrics.navigationTimings)?void 0:p.domComplete),dom_content_loaded:(0,S.toServerDuration)(null==(f=n.initialViewMetrics.navigationTimings)?void 0:f.domContentLoaded),dom_interactive:(0,S.toServerDuration)(null==(m=n.initialViewMetrics.navigationTimings)?void 0:m.domInteractive),error:{count:n.eventCounts.errorCount},first_contentful_paint:(0,S.toServerDuration)(n.initialViewMetrics.firstContentfulPaint),first_input_delay:(0,S.toServerDuration)(null==(g=n.initialViewMetrics.firstInput)?void 0:g.delay),first_input_time:(0,S.toServerDuration)(null==(v=n.initialViewMetrics.firstInput)?void 0:v.time),first_input_target_selector:null==(y=n.initialViewMetrics.firstInput)?void 0:y.targetSelector,interaction_to_next_paint:(0,S.toServerDuration)(null==(b=n.commonViewMetrics.interactionToNextPaint)?void 0:b.value),interaction_to_next_paint_time:(0,S.toServerDuration)(null==(h=n.commonViewMetrics.interactionToNextPaint)?void 0:h.time),interaction_to_next_paint_target_selector:null==(E=n.commonViewMetrics.interactionToNextPaint)?void 0:E.targetSelector,is_active:n.isActive,name:n.name,largest_contentful_paint:(0,S.toServerDuration)(null==(_=n.initialViewMetrics.largestContentfulPaint)?void 0:_.value),largest_contentful_paint_target_selector:null==(T=n.initialViewMetrics.largestContentfulPaint)?void 0:T.targetSelector,load_event:(0,S.toServerDuration)(null==(w=n.initialViewMetrics.navigationTimings)?void 0:w.loadEvent),loading_time:ro((0,S.toServerDuration)(n.commonViewMetrics.loadingTime)),loading_type:n.loadingType,long_task:{count:n.eventCounts.longTaskCount},performance:function({cumulativeLayoutShift:e,interactionToNextPaint:t},{firstContentfulPaint:r,firstInput:n,largestContentfulPaint:i}){return{cls:e&&{score:e.value,timestamp:(0,S.toServerDuration)(e.time),target_selector:e.targetSelector,previous_rect:e.previousRect,current_rect:e.currentRect},fcp:r&&{timestamp:(0,S.toServerDuration)(r)},fid:n&&{duration:(0,S.toServerDuration)(n.delay),timestamp:(0,S.toServerDuration)(n.time),target_selector:n.targetSelector},inp:t&&{duration:(0,S.toServerDuration)(t.value),timestamp:(0,S.toServerDuration)(t.time),target_selector:t.targetSelector},lcp:i&&{timestamp:(0,S.toServerDuration)(i.value),target_selector:i.targetSelector,resource_url:i.resourceUrl}}}(n.commonViewMetrics,n.initialViewMetrics),resource:{count:n.eventCounts.resourceCount},time_spent:(0,S.toServerDuration)(n.duration)},display:n.commonViewMetrics.scroll?{scroll:{max_depth:n.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:n.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:n.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:(0,S.toServerDuration)(n.commonViewMetrics.scroll.maxScrollHeightTime)}}:void 0,privacy:{replay_level:o.defaultPrivacyLevel},device:{locale:navigator.language,locales:navigator.languages,time_zone:function(){try{return new Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}()}},(0,eS.isEmptyObject)(n.customTimings)||(A.view.custom_timings=(0,eS.mapValues)(n.customTimings,S.toServerDuration)),{rawRumEvent:A,startTime:n.startClocks.relative,duration:n.duration,domainContext:{location:n.location}}))}),t.register(0,({startTime:e,eventType:t})=>{let r=ej.findView(e);return r?{type:t,service:r.service,version:r.version,context:r.context,view:{id:r.id,name:r.name}}:ew.DISCARDED}),t.register(1,({startTime:e})=>{var t;return{view:{id:null==(t=ej.findView(e))?void 0:t.id}}}),function(e,t,r,n,i,o,a,s){let l,c,d=new Set,p=f(F.INITIAL_LOAD,(0,nh.clocksOrigin)(),s);function f(o,a,s){let l=function(e,t,r,n,i,o,a=(0,nh.clocksNow)(),s){var l;let c,d=H(),p=new I.Observable,f={},m=0,v=(0,eS.shallowClone)(i),y=eI(),b=!0,h=null==s?void 0:s.name,_=(null==s?void 0:s.service)||n.service,T=(null==s?void 0:s.version)||n.version,w=null==s?void 0:s.context;w&&y.setContext(w);let C={id:d,name:h,startClocks:a,service:_,version:T,context:w};e.notify(1,C),e.notify(2,C);let{throttled:A,cancel:N}=(0,k.throttle)(z,3e3,{leading:!1}),{setLoadEvent:x,setViewEnd:D,stop:M,stopINPTracking:L,getCommonViewMetrics:U}=function(e,t,r,n,i,o,a){let s={},{stop:l,setLoadEvent:c}=function(e,t,r,n,i,o,a){var s;let l=i===F.INITIAL_LOAD,u=!0,c=[],d=n_(n,o);function p(){if(!u&&!l&&c.length>0){let e=Math.max(...c);e<d.timeStamp-o.relative&&a(e)}}let{stop:f}=(s=e=>{u&&(u=!1,e.hadActivity&&c.push((0,S.elapsed)(o.timeStamp,e.end)),p())},rb(rh(e,t,r,n),s,void 0));return{stop:()=>{f(),d.stop()},setLoadEvent:e=>{l&&(l=!1,c.push(e),p())}}}(e,t,r,n,o,a,e=>{s.loadingTime=e,i()}),{stop:d}=function(e,t,r,n=function(e,t=nU){return new I.Observable(r=>{if(window.ResizeObserver){let n=(0,k.throttle)(function(){r.notify(function(){let e=nD(),{height:t}=nL();return{scrollHeight:Math.round((document.scrollingElement||document.documentElement).scrollHeight),scrollDepth:Math.round(t+e),scrollTop:e}}())},t,{leading:!1,trailing:!0}),i=document.scrollingElement||document.documentElement,o=new ResizeObserver((0,E.monitor)(n.throttled));i&&o.observe(i);let a=(0,eE.addEventListener)(e,window,"scroll",n.throttled,{passive:!0});return()=>{n.cancel(),o.disconnect(),a.stop()}}})}(e)){let i=0,o=0,a=0,s=n.subscribe(({scrollDepth:e,scrollTop:n,scrollHeight:s})=>{let l=!1;if(e>i&&(i=e,l=!0),s>o){o=s;let e=(0,S.relativeNow)();a=(0,S.elapsed)(t.relative,e),l=!0}l&&r({maxDepth:Math.min(i,o),maxDepthScrollTop:n,maxScrollHeight:o,maxScrollHeightTime:a})});return{stop:()=>s.unsubscribe()}}(n,a,e=>{s.scroll=e}),{stop:p}=function(e,t,r){let n,i,o,a,s;if(!(rl(g.LAYOUT_SHIFT)&&"WeakRef"in window))return{stop:k.noop};let l=0;r({value:0});let u=(a=0,s=0,{update:e=>{let t;return void 0===i||e.startTime-o>=nO||e.startTime-i>=nC?(i=o=e.startTime,s=a=e.value,t=!0):(a+=e.value,o=e.startTime,(t=e.value>s)&&(s=e.value)),{cumulatedValue:a,isMaxValue:t}}}),c=rs(e,{type:g.LAYOUT_SHIFT,buffered:!0}).subscribe(i=>{var o;for(let a of i){if(a.hadRecentInput||a.startTime<t)continue;let{cumulatedValue:i,isMaxValue:s}=u.update(a);if(s){let e=function(e){let t;for(let r of e)if(r.node&&rd(r.node)){let e=nT(r);(!t||nT(t)<e)&&(t=r)}return t}(a.sources);n={target:(null==e?void 0:e.node)?new WeakRef(e.node):void 0,time:(0,S.elapsed)(t,a.startTime),previousRect:null==e?void 0:e.previousRect,currentRect:null==e?void 0:e.currentRect,devicePixelRatio:window.devicePixelRatio}}if(i>l){l=i;let t=null==(o=null==n?void 0:n.target)?void 0:o.deref();r({value:(0,eL.round)(l,4),targetSelector:t&&rA(t,e.actionNameAttribute),time:null==n?void 0:n.time,previousRect:(null==n?void 0:n.previousRect)?nw(n.previousRect):void 0,currentRect:(null==n?void 0:n.currentRect)?nw(n.currentRect):void 0,devicePixelRatio:null==n?void 0:n.devicePixelRatio})}}});return{stop:()=>{c.unsubscribe()}}}(n,a.relative,e=>{s.cumulativeLayoutShift=e,i()}),{stop:f,getInteractionToNextPaint:m,setViewEnd:v}=function(e,t,r){var n;let i,o,a,s;if(!(rl(g.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return{getInteractionToNextPaint:()=>void 0,setViewEnd:k.noop,stop:k.noop};let{getViewInteractionCount:l,stopViewInteractionCount:c}=(n=r,"interactionCount"in performance||u||(u=new window.PerformanceObserver((0,E.monitor)(e=>{e.getEntries().forEach(e=>{e.interactionId&&(nI=Math.min(nI,e.interactionId),nA=((nN=Math.max(nN,e.interactionId))-nI)/7+1)})}))).observe({type:"event",buffered:!0,durationThreshold:0}),a=n===F.INITIAL_LOAD?0:nx(),s={stopped:!1},{getViewInteractionCount:()=>s.stopped?s.interactionCount:nx()-a,stopViewInteractionCount:()=>{s={stopped:!0,interactionCount:nx()-a}}}),d=1/0,p=function(e){let t=[];function r(){t.sort((e,t)=>t.duration-e.duration).splice(10)}return{process(e){let n=t.findIndex(t=>e.interactionId===t.interactionId),i=t[t.length-1];-1!==n?e.duration>t[n].duration&&(t[n]=e,r()):(t.length<10||e.duration>i.duration)&&(t.push(e),r())},estimateP98Interaction(){let r=Math.min(t.length-1,Math.floor(e()/50));return t[r]}}}(l),f=-1;function m(r){for(let e of r)e.interactionId&&e.startTime>=t&&e.startTime<=d&&p.process(e);let n=p.estimateP98Interaction();if(n&&n.duration!==f){var a;let r;f=n.duration,o=(0,S.elapsed)(t,n.startTime),a=n.startTime,r=r9.get(a),r9.delete(a),!(i=r)&&n.target&&rd(n.target)&&(i=rA(n.target,e.actionNameAttribute))}}let v=rs(e,{type:g.FIRST_INPUT,buffered:!0}).subscribe(m),y=rs(e,{type:g.EVENT,durationThreshold:40,buffered:!0}).subscribe(m);return{getInteractionToNextPaint:()=>f>=0?{value:Math.min(f,nR),targetSelector:i,time:o}:l()?{value:0}:void 0,setViewEnd:e=>{d=e,c()},stop:()=>{y.unsubscribe(),v.unsubscribe()}}}(n,a.relative,o);return{stop:()=>{l(),p(),d()},stopINPTracking:f,setLoadEvent:c,setViewEnd:v,getCommonViewMetrics:()=>(s.interactionToNextPaint=m(),s)}}(e,t,r,n,G,o,a),{stop:P,initialViewMetrics:$}=o===F.INITIAL_LOAD?function(e,t,r,n){var i,o;let a,s={},{stop:l}=function(e,t,r=nv){return function(e,t){let r,{stop:n}=nd(e,"complete",()=>{r=(0,R.setTimeout)(()=>t())});return{stop:()=>{n(),(0,R.clearTimeout)(r)}}}(e,()=>{var e;let n=r();n.loadEventEnd<=0||t({domComplete:(e=n).domComplete,domContentLoaded:e.domContentLoadedEventEnd,domInteractive:e.domInteractive,loadEvent:e.loadEventEnd,firstByte:e.responseStart>=0&&e.responseStart<=(0,S.relativeNow)()?e.responseStart:void 0})})}(e,e=>{r(e.loadEvent),s.navigationTimings=e,n()}),u=n_(e,t),{stop:c}=(i=e=>{s.firstContentfulPaint=e,n()},{stop:rs(e,{type:g.PAINT,buffered:!0}).subscribe(e=>{let t=e.find(e=>"first-contentful-paint"===e.name&&e.startTime<u.timeStamp&&e.startTime<nE);t&&i(t.startTime)}).unsubscribe}),{stop:d}=function(e,t,r,n){let i=1/0,{stop:o}=(0,eE.addEventListeners)(e,r,["pointerdown","keydown"],e=>{i=e.timeStamp},{capture:!0,once:!0}),a=0,s=rs(e,{type:g.LARGEST_CONTENTFUL_PAINT,buffered:!0}).subscribe(r=>{let o=(0,eB.findLast)(r,e=>e.entryType===g.LARGEST_CONTENTFUL_PAINT&&e.startTime<i&&e.startTime<t.timeStamp&&e.startTime<nS&&e.size>a);if(o){var s;let t;o.element&&(t=rA(o.element,e.actionNameAttribute)),n({value:o.startTime,targetSelector:t,resourceUrl:""===(s=o).url?void 0:s.url}),a=o.size}});return{stop:()=>{o(),s.unsubscribe()}}}(e,u,window,e=>{s.largestContentfulPaint=e,n()}),{stop:p}=(o=e=>{s.firstInput=e,n()},a=rs(e,{type:g.FIRST_INPUT,buffered:!0}).subscribe(t=>{let r=t.find(e=>e.startTime<u.timeStamp);if(r){let t,n=(0,S.elapsed)(r.startTime,r.processingStart);r.target&&rd(r.target)&&(t=rA(r.target,e.actionNameAttribute)),o({delay:n>=0?n:0,time:r.startTime,targetSelector:t})}}),{stop:()=>{a.unsubscribe()}});return{stop:function(){l(),c(),d(),p(),u.stop()},initialViewMetrics:s}}(n,a,x,G):{stop:k.noop,initialViewMetrics:{}};o===F.BF_CACHE&&(l=a.relative,requestAnimationFrame(()=>{requestAnimationFrame(()=>{(e=>{$.firstContentfulPaint=e,$.largestContentfulPaint={value:e},G()})((0,S.elapsed)(l,(0,S.relativeNow)()))})}));let{stop:V,eventCounts:B}=function(e,t,r){let{stop:n,eventCounts:i}=ra({lifeCycle:e,isChildEvent:e=>e.view.id===t,onChange:r});return{stop:n,eventCounts:i}}(e,d,G),j=(0,R.setInterval)(z,nP),q=e.subscribe(11,e=>{e.reason===tM.PageExitReason.UNLOADING&&z()});function K(){e.notify(3,{id:d,name:h,context:y.getContext(),startClocks:a,sessionIsActive:b})}function G(){K(),A()}function z(){N(),K(),m+=1;let t=void 0===c?(0,nh.timeStampNow)():c.timeStamp;e.notify(4,{customTimings:f,documentVersion:m,id:d,name:h,service:_,version:T,context:y.getContext(),loadingType:o,location:v,startClocks:a,commonViewMetrics:U(),initialViewMetrics:$,duration:(0,nh.elapsed)(a.timeStamp,t),isActive:void 0===c,sessionIsActive:b,eventCounts:B})}return z(),y.changeObservable.subscribe(G),{get name(){return h},service:_,version:T,contextManager:y,stopObservable:p,end(t={}){var r,n;c||(c=null!=(r=t.endClocks)?r:(0,nh.clocksNow)(),b=null==(n=t.sessionIsActive)||n,e.notify(5,{endClocks:c}),e.notify(6,{endClocks:c}),(0,R.clearInterval)(j),D(c.relative),M(),q.unsubscribe(),z(),(0,R.setTimeout)(()=>{this.stop()},n$))},stop(){P(),V(),L(),p.notify()},addTiming(e,t){var r;let n;if(c)return;let i=(0,nh.looksLikeRelativeTime)(t)?t:(0,nh.elapsed)(a.timeStamp,t);f[(n=(r=e).replace(/[^a-zA-Z0-9-_.@$]/g,"_"))!==r&&O.display.warn(`Invalid timing name: ${r}, sanitized to: ${n}`),n]=i,G()},setViewName(e){h=e,z()}}}(t,r,n,i,e,o,a,s);return d.add(l),l.stopObservable.subscribe(()=>{d.delete(l)}),l}return t.subscribe(10,()=>{p=f(F.ROUTE_CHANGE,void 0,{name:p.name,service:p.service,version:p.version,context:p.contextManager.getContext()})}),t.subscribe(9,()=>{p.end({sessionIsActive:!1})}),a&&(c=o.subscribe(({oldLocation:e,newLocation:t})=>{var r,n;let i;r=e,n=t,r.pathname===n.pathname&&(""!==(i=n.hash.substring(1))&&document.getElementById(i)||nV(n.hash)===nV(r.hash))||(p.end(),p=f(F.ROUTE_CHANGE))}),i.trackBfcacheViews&&(l=function(e,t){let{stop:r}=(0,eE.addEventListener)(e,window,"pageshow",e=>{e.persisted&&t(e)},{capture:!0});return r}(i,e=>{p.end();let t=(0,nh.relativeToClocks)(e.timeStamp);p=f(F.BF_CACHE,t,void 0)}))),{addTiming:(e,t=(0,nh.timeStampNow)())=>{p.addTiming(e,t)},startView:(e,t)=>{p.end({endClocks:t}),p=f(F.ROUTE_CHANGE,t,e)},setViewContext:e=>{p.contextManager.setContext(e)},setViewContextProperty:(e,t)=>{p.contextManager.setContextProperty(e,t)},setViewName:e=>{p.setViewName(e)},getViewContext:()=>p.contextManager.getContext(),stop:()=>{c&&c.unsubscribe(),l&&l(),p.end(),d.forEach(e=>e.stop())}}}(m,e,eM,eP,r,eU,!r.trackViewsManually,o));eD.push(e5);let{stop:e6}=function(e,t,r,n=function(){let e=[];function t(t){let n;if(t.didTimeout){let e=performance.now();n=()=>30-(performance.now()-e)}else n=t.timeRemaining.bind(t);for(;n()>0&&e.length;)e.shift()();e.length&&r()}function r(){ns(t,{timeout:nl})}return{push(t){1===e.push(t)&&r()},stop(){e.length=0}}}(),i=function(e,t,r=nv){nd(e,"interactive",()=>{let e=r(),n=Object.assign(e.toJSON(),{entryType:g.RESOURCE,initiatorType:tJ,duration:e.responseEnd,traceId:function(e){var t;let r,n,i=(r=(t=e).querySelector("meta[name=dd-trace-id]"),n=t.querySelector("meta[name=dd-trace-time]"),nm(r&&r.content,n&&n.content)||function(e){let t=function(e){for(let t=0;t<e.childNodes.length;t+=1){let r=ng(e.childNodes[t]);if(r)return r}if(e.body)for(let t=e.body.childNodes.length-1;t>=0;t-=1){let r=e.body.childNodes[t],n=ng(r);if(n)return n;if(!ru(r))break}}(e);if(t)return nm(W(t,"trace-id"),W(t,"trace-time"))}(e));if(!(!i||i.traceTime<=(0,S.dateNow)()-nf))return i.traceId}(document),toJSON:()=>({...n,toJSON:void 0})});t(n)})}){let o,a=t.trackEarlyRequests;if(a){let t,r;t=new Set,r=e.subscribe(8,e=>{t.add(e),t.size>1e3&&((0,y.addTelemetryDebug)("Too many requests"),t.delete(t.values().next().value))}),o={getMatchingRequest(e){let r,n=1/0;for(let i of t){let t=e.startTime-i.startClocks.relative;0<=t&&t<n&&i.url===e.name&&(n=Math.abs(t),r=i)}return r&&t.delete(r),r},stop(){r.unsubscribe()}}}else e.subscribe(8,e=>{l(()=>{var n,i,o;return n=e,i=t,o=r,nb(function(e){if(!performance||!("getEntriesByName"in performance))return;let t=performance.getEntriesByName(e.url,"resource");if(!t.length||!("toJSON"in t[0]))return;let r=t.filter(e=>!nu.has(e)).filter(e=>t2(e)&&t3(e)).filter(t=>{var r,n,i;return r=t,n=e.startClocks.relative,i=nc({startTime:e.startClocks.relative,duration:e.duration}),r.startTime>=n-1&&nc(r)<=(0,S.addDuration)(i,1)});if(1===r.length)return nu.add(r[0]),r[0].toJSON()}(n),n,o,i)})});let s=rs(t,{type:g.RESOURCE,buffered:!0}).subscribe(e=>{for(let n of e)(a||!tQ(n))&&l(()=>ny(n,t,r,o))});function l(t){n.push(()=>{let r=t();r&&e.notify(12,r)})}return i(t,e=>{l(()=>ny(e,t,r,o))}),{stop:()=>{n.stop(),s.unsubscribe()}}}(e,r,eV);eD.push(e6);let{stop:e4,longTaskContexts:e9}=(ev=tq({expireDelay:eF}),eh=rs(r,{type:ey=rl(g.LONG_ANIMATION_FRAME)?g.LONG_ANIMATION_FRAME:g.LONG_TASK,buffered:!0}).subscribe(t=>{for(let n of t){if(!r.trackLongTasks)break;let t=(0,S.relativeToClocks)(n.startTime),i=H(),o=function(e,t,r){let n={date:t.timeStamp,type:V.LONG_TASK,_dd:{discarded:!1}};return e.entryType===g.LONG_TASK?{...n,long_task:{id:r,entry_type:B.LONG_TASK,duration:(0,S.toServerDuration)(e.duration)}}:{...n,long_task:{id:r,entry_type:B.LONG_ANIMATION_FRAME,duration:(0,S.toServerDuration)(e.duration),blocking_duration:(0,S.toServerDuration)(e.blockingDuration),first_ui_event_timestamp:(0,S.toServerDuration)(e.firstUIEventTimestamp),render_start:(0,S.toServerDuration)(e.renderStart),style_and_layout_start:(0,S.toServerDuration)(e.styleAndLayoutStart),start_time:(0,S.toServerDuration)(e.startTime),scripts:e.scripts.map(e=>({duration:(0,S.toServerDuration)(e.duration),pause_duration:(0,S.toServerDuration)(e.pauseDuration),forced_style_and_layout_duration:(0,S.toServerDuration)(e.forcedStyleAndLayoutDuration),start_time:(0,S.toServerDuration)(e.startTime),execution_start:(0,S.toServerDuration)(e.executionStart),source_url:e.sourceURL,source_function_name:e.sourceFunctionName,source_char_position:e.sourceCharPosition,invoker:e.invoker,invoker_type:e.invokerType,window_attribution:e.windowAttribution}))}}}(n,t,i);e.notify(12,{rawRumEvent:o,startTime:t.relative,duration:n.duration,domainContext:{performanceEntry:n}}),ev.add({id:i,startClocks:t,duration:n.duration,entryType:ey},t.relative),ev.closeActive((0,S.addDuration)(t.relative,n.duration))}}),{stop:()=>{eh.unsubscribe(),ev.stop()},longTaskContexts:{findLongTasks:e=>ev.findAll(e)}});eD.push(e4);let{addError:e8}=(e_=new I.Observable,l.subscribe(e=>{0===e.type&&e_.notify(e.error)}),C=e_,(Q=[O.ConsoleApiName.error].map(e=>{var t;return nn[e]||(nn[e]=(t=e,new I.Observable(e=>{let r=O.globalConsole[t];return O.globalConsole[t]=(...n)=>{r.apply(console,n);let i=(0,_.createHandlingStack)("console error");(0,E.callMonitored)(()=>{e.notify(function(e,t,r){let n=e.map(e=>{var t;return"string"==typeof(t=e)?(0,T.sanitize)(t):(0,P.isError)(t)?(0,_.formatErrorMessage)((0,L.computeStackTrace)(t)):(0,nr.jsonStringify)((0,T.sanitize)(t),void 0,2)}).join(" ");if(t===O.ConsoleApiName.error){let i=e.find(P.isError),o=(0,P.computeRawError)({originalError:i,handlingStack:r,startClocks:(0,S.clocksNow)(),source:$.ErrorSource.CONSOLE,handling:"handled",nonErrorPrefix:"Provided",useFallbackStack:!1});return o.message=n,{api:t,message:n,handlingStack:r,error:o}}return{api:t,message:n,error:void 0,handlingStack:r}}(n,t,i))})},()=>{O.globalConsole[t]=r}}))),nn[e]}),(0,I.mergeObservables)(...Q)).subscribe(e=>C.notify(e.error)),(eO=[],(v=[ni,"intervention"]).includes(ni)&&eO.push((A=r,new I.Observable(e=>{let{stop:t}=(0,eE.addEventListener)(A,document,"securitypolicyviolation",t=>{var r;let n;e.notify((r=t,n=`'${r.blockedURI}' blocked by '${r.effectiveDirective}' directive`,no({type:r.effectiveDirective,message:`${ni}: ${n}`,originalError:r,csp:{disposition:r.disposition},stack:na(r.effectiveDirective,r.originalPolicy?`${n} of the policy "${J(r.originalPolicy,100,"...")}"`:"no policy",r.sourceFile,r.lineNumber,r.columnNumber)})))});return t}))),(eA=v.filter(e=>e!==ni)).length&&eO.push((N=eA,new I.Observable(e=>{if(!window.ReportingObserver)return;let t=(0,E.monitor)((t,r)=>t.forEach(t=>e.notify(function(e){let{type:t,body:r}=e;return no({type:r.id,message:`${t}: ${r.message}`,originalError:e,stack:na(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)})}(t)))),r=new window.ReportingObserver(t,{types:N,buffered:!0});return r.observe(),()=>{r.disconnect()}}))),(0,I.mergeObservables)(...eO)).subscribe(e=>e_.notify(e)),e_.subscribe(t=>e.notify(14,{error:t})),(x=e).subscribe(14,({error:e})=>{var t;let r,n;x.notify(12,(r={date:(t=e).startClocks.timeStamp,error:{id:H(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,component_stack:t.componentStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:V.ERROR,context:t.context},n={error:t.originalError,handlingStack:t.handlingStack},{rawRumEvent:r,startTime:t.startClocks.relative,domainContext:n}))}),{addError:({error:e,handlingStack:t,componentStack:r,startClocks:n,context:i})=>{let o=(0,P.computeRawError)({originalError:e,handlingStack:t,componentStack:r,startClocks:n,nonErrorPrefix:"Provided",source:$.ErrorSource.CUSTOM,handling:"handled"});o.context=(0,b.combine)(o.context,i),x.notify(14,{error:o})}});ek={clearTracingIfNeeded:tg,traceFetch:e=>tv(r,e,n,eH,ez,t=>{var r;if(e.input instanceof Request&&!(null==(r=e.init)?void 0:r.headers))e.input=new Request(e.input),Object.keys(t).forEach(r=>{e.input.headers.append(r,t[r])});else{e.init=(0,eS.shallowClone)(e.init);let r=[];e.init.headers instanceof Headers?e.init.headers.forEach((e,t)=>{r.push([t,e])}):Array.isArray(e.init.headers)?e.init.headers.forEach(e=>{r.push(e)}):e.init.headers&&Object.keys(e.init.headers).forEach(t=>{r.push([t,e.init.headers[t]])}),e.init.headers=r.concat((0,eB.objectEntries)(t))}}),traceXhr:(e,t)=>tv(r,e,n,eH,ez,e=>{Object.keys(e).forEach(r=>{t.setRequestHeader(r,e[r])})})},function(e,t,r){var n;(!s&&(n=t,s=new I.Observable(e=>{let{stop:t}=D(XMLHttpRequest.prototype,"open",tz),{stop:r}=D(XMLHttpRequest.prototype,"send",t=>{!function({target:e,parameters:[t],handlingStack:r},n,i){let o=tH.get(e);if(!o)return;o.state="start",o.startClocks=(0,S.clocksNow)(),o.isAborted=!1,o.xhr=e,o.handlingStack=r,o.requestBody=t;let a=!1,{stop:s}=D(e,"onreadystatechange",()=>{e.readyState===XMLHttpRequest.DONE&&l()}),l=()=>{u(),s(),a||(a=!0,o.state="complete",o.duration=(0,S.elapsed)(o.startClocks.timeStamp,(0,S.timeStampNow)()),o.status=e.status,"string"==typeof e.response&&(o.responseBody=e.response),i.notify((0,eS.shallowClone)(o)))},{stop:u}=(0,eE.addEventListener)(n,e,"loadend",l);i.notify(o)}(t,n,e)},{computeHandlingStack:!0}),{stop:i}=D(XMLHttpRequest.prototype,"abort",tW);return()=>{t(),r(),i()}})),s).subscribe(t=>{if(t8(t.url))switch(t.state){case"start":r.traceXhr(t,t.xhr),t.requestIndex=ri(),e.notify(7,{requestIndex:t.requestIndex,url:t.url});break;case"complete":r.clearTracingIfNeeded(t),e.notify(8,{duration:t.duration,method:t.method,requestIndex:t.requestIndex,spanId:t.spanId,startClocks:t.startClocks,status:t.status,traceId:t.traceId,traceSampled:t.traceSampled,type:"xhr",url:t.url,xhr:t.xhr,isAborted:t.isAborted,handlingStack:t.handlingStack,requestBody:t.requestBody,responseBody:t.responseBody})}})}(e,r,ek),M=e,U=r,z=ek,eb({responseBodyAction:e=>{var t;return(null==(t=rr(e.url,U))?void 0:t.trackResponseErrors)?2:1}}).subscribe(e=>{var t;if(t8(e.url))switch(e.state){case"start":z.traceFetch(e),e.requestIndex=ri(),M.notify(7,{requestIndex:e.requestIndex,url:e.url});break;case"resolve":z.clearTracingIfNeeded(e),M.notify(8,{duration:(0,S.elapsed)(e.startClocks.timeStamp,(0,S.timeStampNow)()),method:e.method,requestIndex:e.requestIndex,responseType:e.responseType,spanId:e.spanId,startClocks:e.startClocks,status:e.status,traceId:e.traceId,traceSampled:e.traceSampled,type:tK,url:e.url,response:e.response,init:e.init,input:e.input,isAborted:e.isAborted,handlingStack:e.handlingStack,requestBody:null==(t=e.init)?void 0:t.body,responseBody:e.responseBody})}});let e7=function(e,t,r){function n(r){t.wasInPageStateDuringPeriod("frozen",r.startClocks.relative,r.duration)||e.notify(12,Z(r))}return{addOperationStepVital:function(t,r,n,i){if(!(0,G.isExperimentalFeatureEnabled)(G.ExperimentalFeature.FEATURE_OPERATION_VITAL))return;let{operationKey:o,context:a,description:s}=n||{},l={name:t,type:K.OPERATION_STEP,operationKey:o,failureReason:i,stepType:r,startClocks:(0,S.clocksNow)(),context:(0,T.sanitize)(a),description:s};e.notify(12,Z(l))},addDurationVital:n,startDurationVital:(e,t={})=>Y(r,e,t),stopDurationVital:(e,t={})=>{X(n,r,e,t)}}}(e,eV,a),te=(h=r.applicationId,w=eW.actionContexts,{get:e=>{let t=ej.findView(e),r=eq.findUrl(e),i=n.findTrackedSession(e);if(i&&t&&r){let n=w.findActionId(e);return{application_id:h,session_id:i.id,user_action:n?{id:n}:void 0,view:{id:t.id,name:t.name,referrer:r.referrer,url:r.url}}}}});return{addAction:eW.addAction,addEvent:eJ.addEvent,addError:e8,addTiming:eZ,addFeatureFlagEvaluation:eK.addFeatureFlagEvaluation,startView:eQ,setViewContext:e1,setViewContextProperty:e2,getViewContext:e3,setViewName:e0,viewHistory:ej,getInternalContext:te.get,startDurationVital:e7.startDurationVital,stopDurationVital:e7.stopDurationVital,addDurationVital:e7.addDurationVital,addOperationStepVital:e7.addOperationStepVital,globalContext:eG,userContext:eH,accountContext:ez,longTaskContexts:e9,stop:()=>eD.forEach(e=>e())}}(A,N,e,Q,t,n,a,l,c,x);return C.push(et),l.unbuffer(),C.push(()=>r.stop()),{...en,lifeCycle:A,session:Q,stopSession:()=>Q.expire(),telemetry:z,stop:()=>{C.forEach(e=>e())},hooks:N}}function ii(e,{session:t,viewContext:r,errorType:n}){var i;let o,a,s=t?t.id:"no-session-id",l=[];void 0!==n&&l.push(`error-type=${n}`),r&&(l.push(`seed=${r.id}`),l.push(`from=${r.startClocks.timeStamp}`));let u=(o=(i=e).site,a=i.subdomain||function(e){switch(e.site){case ti.INTAKE_SITE_US1:case ti.INTAKE_SITE_EU1:return"app";case ti.INTAKE_SITE_STAGING:return"dd";default:return}}(i),`https://${a?`${a}.`:""}${o}`),c=`/rum/replay/sessions/${s}`;return`${u}${c}?${l.join("&")}`}function io(e,t,r,n){let i=(0,nH.createHttpRequest)([e.profilingEndpointBuilder],e=>{t.notify(14,{error:e}),(0,y.addTelemetryDebug)("Error reported to customer",{"error.message":e.message})}),o=r(n);return{async send({event:e,...t}){let r=new FormData,n=(0,nr.jsonStringify)(e);if(!n)throw Error("Failed to serialize event");r.append("event",new Blob([n],{type:"application/json"}),"event.json");let a=n.length;for(let[e,n]of(0,eB.objectEntries)(t)){let t=(0,nr.jsonStringify)(n);if(!t)throw Error("Failed to serialize attachment");let i=await function(e,t){return new Promise(r=>{e.write(t),e.finish(e=>{r(e)})})}(o,t);a+=i.outputBytesCount,r.append(e,new Blob([i.output]),e)}i.send({data:r,bytesCount:a})}}}e.s(["startRum",()=>ir],747868),e.s(["getSessionReplayUrl",()=>ii],919214),e.s(["createFormDataTransport",()=>io],620091),e.s([],346243)}]);